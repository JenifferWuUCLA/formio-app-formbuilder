/*!
 * jQuery JavaScript Library v2.2.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:23Z
 */
/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=oe.type(e);return"function"===n||oe.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(oe.isFunction(t))return oe.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return oe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(me.test(t))return oe.filter(t,e,n);t=oe.filter(t,e)}return oe.grep(e,function(e){return Q.call(t,e)>-1!==n})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return oe.each(e.match(Ee)||[],function(e,n){t[n]=!0}),t}function a(){Y.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a),oe.ready()}function s(){this.expando=oe.expando+s.uid++}function l(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace($e,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Re.test(n)?oe.parseJSON(n):n}catch(i){}Ie.set(e,t,n)}else n=void 0;return n}function u(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return oe.css(e,t,"")},l=s(),u=n&&n[3]||(oe.cssNumber[t]?"":"px"),c=(oe.cssNumber[t]||"px"!==u&&+l)&&ke.exec(oe.css(e,t));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do o=o||".5",c/=o,oe.style(e,t,c+u);while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}function c(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&oe.nodeName(e,t)?oe.merge([e],n):n}function d(e,t){for(var n=0,r=e.length;r>n;n++)Oe.set(e[n],"globalEval",!t||Oe.get(t[n],"globalEval"))}function p(e,t,n,r,i){for(var o,a,s,l,u,p,f=t.createDocumentFragment(),h=[],m=0,g=e.length;g>m;m++)if(o=e[m],o||0===o)if("object"===oe.type(o))oe.merge(h,o.nodeType?[o]:o);else if(Me.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(Ne.exec(o)||["",""])[1].toLowerCase(),l=Pe[s]||Pe._default,a.innerHTML=l[1]+oe.htmlPrefilter(o)+l[2],p=l[0];p--;)a=a.lastChild;oe.merge(h,a.childNodes),a=f.firstChild,a.textContent=""}else h.push(t.createTextNode(o));for(f.textContent="",m=0;o=h[m++];)if(r&&oe.inArray(o,r)>-1)i&&i.push(o);else if(u=oe.contains(o.ownerDocument,o),a=c(f.appendChild(o),"script"),u&&d(a),n)for(p=0;o=a[p++];)Ke.test(o.type||"")&&n.push(o);return f}function f(){return!0}function h(){return!1}function m(){try{return Y.activeElement}catch(e){}}function g(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)g(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=h;else if(!i)return e;return 1===o&&(a=i,i=function(e){return oe().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=oe.guid++)),e.each(function(){oe.event.add(this,t,i,r,n)})}function v(e,t){return oe.nodeName(e,"table")&&oe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function y(e){var t=He.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){var n,r,i,o,a,s,l,u;if(1===t.nodeType){if(Oe.hasData(e)&&(o=Oe.access(e),a=Oe.set(t,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)oe.event.add(t,i,u[i][n])}Ie.hasData(e)&&(s=Ie.access(e),l=oe.extend({},s),Ie.set(t,l))}}function E(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ae.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function T(e,t,n,r){t=J.apply([],t);var i,o,a,s,l,u,d=0,f=e.length,h=f-1,m=t[0],g=oe.isFunction(m);if(g||f>1&&"string"==typeof m&&!re.checkClone&&Ve.test(m))return e.each(function(i){var o=e.eq(i);g&&(t[0]=m.call(this,i,o.html())),T(o,t,n,r)});if(f&&(i=p(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=oe.map(c(i,"script"),b),s=a.length;f>d;d++)l=i,d!==h&&(l=oe.clone(l,!0,!0),s&&oe.merge(a,c(l,"script"))),n.call(e[d],l,d);if(s)for(u=a[a.length-1].ownerDocument,oe.map(a,y),d=0;s>d;d++)l=a[d],Ke.test(l.type||"")&&!Oe.access(l,"globalEval")&&oe.contains(u,l)&&(l.src?oe._evalUrl&&oe._evalUrl(l.src):oe.globalEval(l.textContent.replace(qe,"")))}return e}function w(e,t,n){for(var r,i=t?oe.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||oe.cleanData(c(r)),r.parentNode&&(n&&oe.contains(r.ownerDocument,r)&&d(c(r,"script")),r.parentNode.removeChild(r));return e}function D(e,t){var n=oe(t.createElement(e)).appendTo(t.body),r=oe.css(n[0],"display");return n.detach(),r}function O(e){var t=Y,n=Ge[e];return n||(n=D(e,t),"none"!==n&&n||(ze=(ze||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=ze[0].contentDocument,t.write(),t.close(),n=D(e,t),ze.detach()),Ge[e]=n),n}function I(e,t,n){var r,i,o,a,s=e.style;return n=n||Xe(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||oe.contains(e.ownerDocument,e)||(a=oe.style(e,t)),n&&!re.pixelMarginRight()&&Ye.test(a)&&We.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0!==a?a+"":a}function R(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function $(e){if(e in rt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if(e=nt[n]+t,e in rt)return e}function x(e,t,n){var r=ke.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function k(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=oe.css(e,n+_e[o],!0,i)),r?("content"===n&&(a-=oe.css(e,"padding"+_e[o],!0,i)),"margin"!==n&&(a-=oe.css(e,"border"+_e[o]+"Width",!0,i))):(a+=oe.css(e,"padding"+_e[o],!0,i),"padding"!==n&&(a+=oe.css(e,"border"+_e[o]+"Width",!0,i)));return a}function _(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Xe(e),a="border-box"===oe.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=I(e,t,o),(0>i||null==i)&&(i=e.style[t]),Ye.test(i))return i;r=a&&(re.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+k(e,t,n||(a?"border":"content"),r,o)+"px"}function S(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=Oe.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Se(r)&&(o[a]=Oe.access(r,"olddisplay",O(r.nodeName)))):(i=Se(r),"none"===n&&i||Oe.set(r,"olddisplay",i?n:oe.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function A(e,t,n,r,i){return new A.prototype.init(e,t,n,r,i)}function N(){return e.setTimeout(function(){it=void 0}),it=oe.now()}function K(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=_e[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function P(e,t,n){for(var r,i=(F.tweeners[t]||[]).concat(F.tweeners["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function M(e,t,n){var r,i,o,a,s,l,u,c,d=this,p={},f=e.style,h=e.nodeType&&Se(e),m=Oe.get(e,"fxshow");n.queue||(s=oe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,oe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=oe.css(e,"display"),c="none"===u?Oe.get(e,"olddisplay")||O(e.nodeName):u,"inline"===c&&"none"===oe.css(e,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],at.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}p[r]=m&&m[r]||oe.style(e,r)}else u=void 0;if(oe.isEmptyObject(p))"inline"===("none"===u?O(e.nodeName):u)&&(f.display=u);else{m?"hidden"in m&&(h=m.hidden):m=Oe.access(e,"fxshow",{}),o&&(m.hidden=!h),h?oe(e).show():d.done(function(){oe(e).hide()}),d.done(function(){var t;Oe.remove(e,"fxshow");for(t in p)oe.style(e,t,p[t])});for(r in p)a=P(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function L(e,t){var n,r,i,o,a;for(n in e)if(r=oe.camelCase(n),i=t[r],o=e[n],oe.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=oe.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function F(e,t,n){var r,i,o=0,a=F.prefilters.length,s=oe.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=it||N(),n=Math.max(0,u.startTime+u.duration-t),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:oe.extend({},t),opts:oe.extend(!0,{specialEasing:{},easing:oe.easing._default},n),originalProperties:t,originalOptions:n,startTime:it||N(),duration:n.duration,tweens:[],createTween:function(t,n){var r=oe.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(L(c,u.opts.specialEasing);a>o;o++)if(r=F.prefilters[o].call(u,e,c,u.opts))return oe.isFunction(r.stop)&&(oe._queueHooks(u.elem,u.opts.queue).stop=oe.proxy(r.stop,r)),r;return oe.map(c,P,u),oe.isFunction(u.opts.start)&&u.opts.start.call(e,u),oe.fx.timer(oe.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function B(e){return e.getAttribute&&e.getAttribute("class")||""}function j(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Ee)||[];if(oe.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function U(e,t,n,r){function i(s){var l;return o[s]=!0,oe.each(e[s]||[],function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=e===It;return i(t.dataTypes[0])||!o["*"]&&i("*")}function V(e,t){var n,r,i=oe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&oe.extend(!0,e,r),e}function H(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function q(e,t,n,r){var i,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function z(e,t,n,r){var i;if(oe.isArray(t))oe.each(t,function(t,i){n||kt.test(e)?r(e,i):z(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==oe.type(t))r(e,t);else for(i in t)z(e+"["+i+"]",t[i],n,r)}function G(e){return oe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var W=[],Y=e.document,X=W.slice,J=W.concat,Z=W.push,Q=W.indexOf,ee={},te=ee.toString,ne=ee.hasOwnProperty,re={},ie="2.2.4",oe=function(e,t){return new oe.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};oe.fn=oe.prototype={jquery:ie,constructor:oe,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=oe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return oe.each(this,e)},map:function(e){return this.pushStack(oe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:Z,sort:W.sort,splice:W.splice},oe.extend=oe.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||oe.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(u&&r&&(oe.isPlainObject(r)||(i=oe.isArray(r)))?(i?(i=!1,o=n&&oe.isArray(n)?n:[]):o=n&&oe.isPlainObject(n)?n:{},a[t]=oe.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},oe.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===oe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!oe.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==oe.type(e)||e.nodeType||oe.isWindow(e))return!1;if(e.constructor&&!ne.call(e,"constructor")&&!ne.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ne.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=oe.trim(e),e&&(1===e.indexOf("use strict")?(t=Y.createElement("script"),t.text=e,Y.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(se,"ms-").replace(le,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var r,i=0;if(n(e))for(r=e.length;r>i&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?oe.merge(r,"string"==typeof e?[e]:e):Z.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:Q.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o,a=0,s=[];if(n(e))for(i=e.length;i>a;a++)o=t(e[a],a,r),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,r),null!=o&&s.push(o);return J.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),oe.isFunction(e)?(r=X.call(arguments,2),i=function(){return e.apply(t||this,r.concat(X.call(arguments)))},i.guid=e.guid=e.guid||oe.guid++,i):void 0},now:Date.now,support:re}),"function"==typeof Symbol&&(oe.fn[Symbol.iterator]=W[Symbol.iterator]),oe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ce=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){function t(e,t,n,r){var i,o,a,s,l,u,d,f,h=t&&t.ownerDocument,m=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return n;if(!r&&((t?t.ownerDocument||t:B)!==S&&_(t),t=t||S,N)){if(11!==m&&(u=ve.exec(e)))if(i=u[1]){if(9===m){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(h&&(a=h.getElementById(i))&&L(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&E.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(i)),n}if(!(!E.qsa||q[e+" "]||K&&K.test(e))){if(1!==m)h=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ye,"\\$&"):t.setAttribute("id",s=F),d=O(e),o=d.length,l=pe.test(s)?"#"+s:"[id='"+s+"']";o--;)d[o]=l+" "+p(d[o]);f=d.join(","),h=be.test(e)&&c(t.parentNode)||t}if(f)try{return Z.apply(n,h.querySelectorAll(f)),n}catch(g){}finally{s===F&&t.removeAttribute("id")}}}return R(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[F]=!0,e}function i(e){var t=S.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=U++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u,c=[j,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[F]||(t[F]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),(s=l[r])&&s[0]===j&&s[1]===o)return c[2]=s[2];if(l[r]=c,c[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[F]&&(i=v(i)),o&&!o[F]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,d,p=[],f=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),b=!e||!r&&t?v:g(v,p,e,s,l),y=n?o||(r?e:h||i)?[]:a:b;if(n&&n(b,y,s,l),i)for(u=g(y,f),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(y[f[c]]=!(b[f[c]]=d));if(r){if(o||e){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(b[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?ee(r,d):p[c])>-1&&(r[u]=!(a[u]=d))}}else y=g(y===a?y.splice(h,y.length):y),o?o(null,a,y,l):Z.apply(a,y)})}function b(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),u=f(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==$)||((t=n).nodeType?l(e,n,r):u(e,n,r));return t=null,i}];i>s;s++)if(n=T.relative[e[s].type])c=[f(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[F]){for(r=++s;i>r&&!T.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,r>s&&b(e.slice(s,r)),i>r&&b(e=e.slice(r)),i>r&&p(e))}c.push(n)}return h(c)}function y(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,l,u){var c,d,p,f=0,h="0",m=r&&[],v=[],b=$,y=r||o&&T.find.TAG("*",u),C=j+=null==b?1:Math.random()||.1,E=y.length;for(u&&($=a===S||a||u);h!==E&&null!=(c=y[h]);h++){if(o&&c){for(d=0,a||c.ownerDocument===S||(_(c),s=!N);p=e[d++];)if(p(c,a||S,s)){l.push(c);break}u&&(j=C)}i&&((c=!p&&c)&&f--,r&&m.push(c))}if(f+=h,i&&h!==f){for(d=0;p=n[d++];)p(m,v,a,s);if(r){if(f>0)for(;h--;)m[h]||v[h]||(v[h]=X.call(l));v=g(v)}Z.apply(l,v),u&&!r&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return u&&(j=C,$=b),m};return i?r(a):a}var C,E,T,w,D,O,I,R,$,x,k,_,S,A,N,K,P,M,L,F="sizzle"+1*new Date,B=e.document,j=0,U=0,V=n(),H=n(),q=n(),z=function(e,t){return e===t&&(k=!0),0},G=1<<31,W={}.hasOwnProperty,Y=[],X=Y.pop,J=Y.push,Z=Y.push,Q=Y.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),pe=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,ye=/'|\\/g,Ce=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Te=function(){_()};try{Z.apply(Y=Q.call(B.childNodes),B.childNodes),Y[B.childNodes.length].nodeType}catch(we){Z={apply:Y.length?function(e,t){J.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}E=t.support={},D=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},_=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!==S&&9===r.nodeType&&r.documentElement?(S=r,A=S.documentElement,N=!D(S),(n=S.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Te,!1):n.attachEvent&&n.attachEvent("onunload",Te)),E.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),E.getElementsByTagName=i(function(e){return e.appendChild(S.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=ge.test(S.getElementsByClassName),E.getById=i(function(e){return A.appendChild(e).id=F,!S.getElementsByName||!S.getElementsByName(F).length}),E.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&N){var n=t.getElementById(e);return n?[n]:[]}},T.filter.ID=function(e){var t=e.replace(Ce,Ee);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(Ce,Ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=E.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):E.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=E.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&N?t.getElementsByClassName(e):void 0},P=[],K=[],(E.qsa=ge.test(S.querySelectorAll))&&(i(function(e){A.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&K.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||K.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||K.push("~="),e.querySelectorAll(":checked").length||K.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||K.push(".#.+[+~]")}),i(function(e){var t=S.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&K.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||K.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),K.push(",.*:")})),(E.matchesSelector=ge.test(M=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&i(function(e){E.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),P.push("!=",oe)}),K=K.length&&new RegExp(K.join("|")),P=P.length&&new RegExp(P.join("|")),t=ge.test(A.compareDocumentPosition),L=t||ge.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=t?function(e,t){if(e===t)return k=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!E.sortDetached&&t.compareDocumentPosition(e)===n?e===S||e.ownerDocument===B&&L(B,e)?-1:t===S||t.ownerDocument===B&&L(B,t)?1:x?ee(x,e)-ee(x,t):0:4&n?-1:1)}:function(e,t){if(e===t)return k=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!i||!o)return e===S?-1:t===S?1:i?-1:o?1:x?ee(x,e)-ee(x,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?a(s[r],l[r]):s[r]===B?-1:l[r]===B?1:0},S):S},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==S&&_(e),n=n.replace(ce,"='$1']"),!(!E.matchesSelector||!N||q[n+" "]||P&&P.test(n)||K&&K.test(n)))try{var r=M.call(e,n);if(r||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,S,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==S&&_(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==S&&_(e);var n=T.attrHandle[t.toLowerCase()],r=n&&W.call(T.attrHandle,t.toLowerCase())?n(e,t,!N):void 0;return void 0!==r?r:E.attributes||!N?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(k=!E.detectDuplicates,x=!E.sortStable&&e.slice(0),e.sort(z),k){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return x=null,e},w=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=w(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ce,Ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Ce,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=O(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ce,Ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&V(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,p,f,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s,y=!1;if(g){if(o){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&b){for(p=g,d=p[F]||(p[F]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),u=c[e]||[],f=u[0]===j&&u[1],y=f&&u[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(y=f=0)||h.pop();)if(1===p.nodeType&&++y&&p===t){c[e]=[j,f,y];break}}else if(b&&(p=t,d=p[F]||(p[F]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),u=c[e]||[],f=u[0]===j&&u[1],y=f),y===!1)for(;(p=++f&&p&&p[m]||(y=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++y||(b&&(d=p[F]||(p[F]={}),c=d[p.uniqueID]||(d[p.uniqueID]={}),c[e]=[j,y]),p!==t)););return y-=i,y===r||y%r===0&&y/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[F]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=I(e.replace(se,"$1"));return i[F]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(Ce,Ee),function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Ce,Ee).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(C in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[C]=s(C);for(C in{submit:!0,reset:!0})T.pseudos[C]=l(C);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,O=t.tokenize=function(e,n){var r,i,o,a,s,l,u,c=H[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=T.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ue.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in T.filter)!(i=fe[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):H(e,l).slice(0)},I=t.compile=function(e,t){var n,r=[],i=[],o=q[e+" "];if(!o){for(t||(t=O(e)),n=t.length;n--;)o=b(t[n]),o[F]?r.push(o):i.push(o);o=q(e,y(i,r)),o.selector=e}return o},R=t.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,d=!r&&O(e=u.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&E.getById&&9===t.nodeType&&N&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(Ce,Ee),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((l=T.find[s])&&(r=l(a.matches[0].replace(Ce,Ee),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&p(o),!e)return Z.apply(n,r),n;break}}return(u||I(e,d))(r,t,!N,n,!t||be.test(e)&&c(t.parentNode)||t),n},E.sortStable=F.split("").sort(z).join("")===F,E.detectDuplicates=!!k,_(),E.sortDetached=i(function(e){return 1&e.compareDocumentPosition(S.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),E.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);oe.find=ce,oe.expr=ce.selectors,oe.expr[":"]=oe.expr.pseudos,oe.uniqueSort=oe.unique=ce.uniqueSort,oe.text=ce.getText,oe.isXMLDoc=ce.isXML,oe.contains=ce.contains;var de=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&oe(e).is(n))break;r.push(e)}return r},pe=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},fe=oe.expr.match.needsContext,he=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;oe.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?oe.find.matchesSelector(r,e)?[r]:[]:oe.find.matches(e,oe.grep(t,function(e){return 1===e.nodeType}))},oe.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(oe(e).filter(function(){for(t=0;n>t;t++)if(oe.contains(i[t],this))return!0}));for(t=0;n>t;t++)oe.find(e,i[t],r);return r=this.pushStack(n>1?oe.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&fe.test(e)?oe(e):e||[],!1).length}});var ge,ve=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,be=oe.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||ge,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ve.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof oe?t[0]:t,oe.merge(this,oe.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:Y,!0)),he.test(r[1])&&oe.isPlainObject(t))for(r in t)oe.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=Y.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=Y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):oe.isFunction(e)?void 0!==n.ready?n.ready(e):e(oe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),oe.makeArray(e,this))};be.prototype=oe.fn,ge=oe(Y);var ye=/^(?:parents|prev(?:Until|All))/,Ce={children:!0,contents:!0,next:!0,prev:!0};oe.fn.extend({has:function(e){var t=oe(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(oe.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=fe.test(e)||"string"!=typeof e?oe(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?oe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?Q.call(oe(e),this[0]):Q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(oe.uniqueSort(oe.merge(this.get(),oe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),oe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return de(e,"parentNode")},parentsUntil:function(e,t,n){return de(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return de(e,"nextSibling")},prevAll:function(e){return de(e,"previousSibling")},nextUntil:function(e,t,n){return de(e,"nextSibling",n)},prevUntil:function(e,t,n){return de(e,"previousSibling",n)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return e.contentDocument||oe.merge([],e.childNodes)}},function(e,t){oe.fn[e]=function(n,r){var i=oe.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=oe.filter(r,i)),this.length>1&&(Ce[e]||oe.uniqueSort(i),ye.test(e)&&i.reverse()),this.pushStack(i)}});var Ee=/\S+/g;oe.Callbacks=function(e){e="string"==typeof e?o(e):oe.extend({},e);var t,n,r,i,a=[],s=[],l=-1,u=function(){for(i=e.once,r=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function r(t){oe.each(t,function(t,n){oe.isFunction(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==oe.type(n)&&r(n)})}(arguments),n&&!t&&u()),this},remove:function(){return oe.each(arguments,function(e,t){for(var n;(n=oe.inArray(t,a,n))>-1;)a.splice(n,1),l>=n&&l--}),this},has:function(e){return e?oe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=s=[],n||(a=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},oe.extend({Deferred:function(e){var t=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return oe.Deferred(function(n){oe.each(t,function(t,o){var a=oe.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&oe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?oe.extend(e,r):r}},i={};return r.pipe=r.then,oe.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,o=X.call(arguments),a=o.length,s=1!==a||e&&oe.isFunction(e.promise)?a:0,l=1===s?e:oe.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?X.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&oe.isFunction(o[i].promise)?o[i].promise().progress(u(i,n,t)).done(u(i,r,o)).fail(l.reject):--s;return s||l.resolveWith(r,o),l.promise()}});var Te;oe.fn.ready=function(e){return oe.ready.promise().done(e),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?oe.readyWait++:oe.ready(!0)},ready:function(e){(e===!0?--oe.readyWait:oe.isReady)||(oe.isReady=!0,e!==!0&&--oe.readyWait>0||(Te.resolveWith(Y,[oe]),oe.fn.triggerHandler&&(oe(Y).triggerHandler("ready"),oe(Y).off("ready"))))}}),oe.ready.promise=function(t){return Te||(Te=oe.Deferred(),"complete"===Y.readyState||"loading"!==Y.readyState&&!Y.documentElement.doScroll?e.setTimeout(oe.ready):(Y.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a))),Te.promise(t)},oe.ready.promise();var we=function(e,t,n,r,i,o,a){var s=0,l=e.length,u=null==n;if("object"===oe.type(n)){i=!0;for(s in n)we(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,oe.isFunction(r)||(a=!0),u&&(a?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(oe(e),n)})),t))for(;l>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):o},De=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};s.uid=1,s.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!De(e))return{};var t=e[this.expando];return t||(t={},De(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[t]=n;else for(r in t)i[r]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?(r=this.get(e,t),void 0!==r?r:this.get(e,oe.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{oe.isArray(t)?r=t.concat(t.map(oe.camelCase)):(i=oe.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(Ee)||[])),n=r.length;for(;n--;)delete o[r[n]]}(void 0===t||oe.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!oe.isEmptyObject(t)}};var Oe=new s,Ie=new s,Re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$e=/[A-Z]/g;oe.extend({hasData:function(e){return Ie.hasData(e)||Oe.hasData(e)},data:function(e,t,n){return Ie.access(e,t,n)},removeData:function(e,t){Ie.remove(e,t)},_data:function(e,t,n){return Oe.access(e,t,n)},_removeData:function(e,t){Oe.remove(e,t)}}),oe.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Ie.get(o),1===o.nodeType&&!Oe.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=oe.camelCase(r.slice(5)),l(o,r,i[r])));Oe.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Ie.set(this,e)}):we(this,function(t){var n,r;if(o&&void 0===t){if(n=Ie.get(o,e)||Ie.get(o,e.replace($e,"-$&").toLowerCase()),void 0!==n)return n;if(r=oe.camelCase(e),n=Ie.get(o,r),void 0!==n)return n;if(n=l(o,r,void 0),void 0!==n)return n}else r=oe.camelCase(e),this.each(function(){var n=Ie.get(this,r);Ie.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&Ie.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ie.remove(this,e)})}}),oe.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=Oe.get(e,t),n&&(!r||oe.isArray(n)?r=Oe.access(e,t,oe.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=oe.queue(e,t),r=n.length,i=n.shift(),o=oe._queueHooks(e,t),a=function(){oe.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Oe.get(e,n)||Oe.access(e,n,{empty:oe.Callbacks("once memory").add(function(){Oe.remove(e,[t+"queue",n])})})}}),oe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?oe.queue(this[0],e):void 0===t?this:this.each(function(){var n=oe.queue(this,e,t);oe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&oe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){oe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=oe.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Oe.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ke=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),_e=["Top","Right","Bottom","Left"],Se=function(e,t){return e=t||e,"none"===oe.css(e,"display")||!oe.contains(e.ownerDocument,e)},Ae=/^(?:checkbox|radio)$/i,Ne=/<([\w:-]+)/,Ke=/^$|\/(?:java|ecma)script/i,Pe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pe.optgroup=Pe.option,Pe.tbody=Pe.tfoot=Pe.colgroup=Pe.caption=Pe.thead,Pe.th=Pe.td;var Me=/<|&#?\w+;/;!function(){var e=Y.createDocumentFragment(),t=e.appendChild(Y.createElement("div")),n=Y.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),re.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",re.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Le=/^key/,Fe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Be=/^([^.]*)(?:\.(.+)|)/;oe.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,u,c,d,p,f,h,m,g=Oe.get(e);if(g)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=oe.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return"undefined"!=typeof oe&&oe.event.triggered!==t.type?oe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Ee)||[""],u=t.length;u--;)s=Be.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f&&(d=oe.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,d=oe.event.special[f]||{},c=oe.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&oe.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=l[f])||(p=l[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),oe.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,u,c,d,p,f,h,m,g=Oe.hasData(e)&&Oe.get(e);if(g&&(l=g.events)){for(t=(t||"").match(Ee)||[""],u=t.length;u--;)if(s=Be.exec(t[u])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=oe.event.special[f]||{},f=(r?d.delegateType:d.bindType)||f,p=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),
c.selector&&p.delegateCount--,d.remove&&d.remove.call(e,c));a&&!p.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||oe.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)oe.event.remove(e,f+t[u],n,r,!0);oe.isEmptyObject(l)&&Oe.remove(e,"handle events")}},dispatch:function(e){e=oe.event.fix(e);var t,n,r,i,o,a=[],s=X.call(arguments),l=(Oe.get(this,"events")||{})[e.type]||[],u=oe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=oe.event.handlers.call(this,e,l),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((oe.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],n=0;s>n;n++)o=t[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?oe(i,this).index(l)>-1:oe.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||Y,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[oe.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Fe.test(i)?this.mouseHooks:Le.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new oe.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=Y),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&oe.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return oe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},oe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},oe.Event=function(e,t){return this instanceof oe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:h):this.type=e,t&&oe.extend(this,t),this.timeStamp=e&&e.timeStamp||oe.now(),void(this[oe.expando]=!0)):new oe.Event(e,t)},oe.Event.prototype={constructor:oe.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){oe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!oe.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),oe.fn.extend({on:function(e,t,n,r){return g(this,e,t,n,r)},one:function(e,t,n,r){return g(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,oe(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=h),this.each(function(){oe.event.remove(this,e,n,t)})}});var je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ue=/<script|<style|<link/i,Ve=/checked\s*(?:[^=]|=\s*.checked.)/i,He=/^true\/(.*)/,qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;oe.extend({htmlPrefilter:function(e){return e.replace(je,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=oe.contains(e.ownerDocument,e);if(!(re.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||oe.isXMLDoc(e)))for(a=c(s),o=c(e),r=0,i=o.length;i>r;r++)E(o[r],a[r]);if(t)if(n)for(o=o||c(e),a=a||c(s),r=0,i=o.length;i>r;r++)C(o[r],a[r]);else C(e,s);return a=c(s,"script"),a.length>0&&d(a,!l&&c(e,"script")),s},cleanData:function(e){for(var t,n,r,i=oe.event.special,o=0;void 0!==(n=e[o]);o++)if(De(n)){if(t=n[Oe.expando]){if(t.events)for(r in t.events)i[r]?oe.event.remove(n,r):oe.removeEvent(n,r,t.handle);n[Oe.expando]=void 0}n[Ie.expando]&&(n[Ie.expando]=void 0)}}}),oe.fn.extend({domManip:T,detach:function(e){return w(this,e,!0)},remove:function(e){return w(this,e)},text:function(e){return we(this,function(e){return void 0===e?oe.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return T(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return T(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(oe.cleanData(c(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return oe.clone(this,e,t)})},html:function(e){return we(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ue.test(e)&&!Pe[(Ne.exec(e)||["",""])[1].toLowerCase()]){e=oe.htmlPrefilter(e);try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(oe.cleanData(c(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return T(this,arguments,function(t){var n=this.parentNode;oe.inArray(this,e)<0&&(oe.cleanData(c(this)),n&&n.replaceChild(t,this))},e)}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){oe.fn[e]=function(e){for(var n,r=[],i=oe(e),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),oe(i[a])[t](n),Z.apply(r,n.get());return this.pushStack(r)}});var ze,Ge={HTML:"block",BODY:"block"},We=/^margin/,Ye=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),Xe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Je=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},Ze=Y.documentElement;!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ze.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Ze.removeChild(a)}var n,r,i,o,a=Y.createElement("div"),s=Y.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",re.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),oe.extend(re,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==r&&t(),r},pixelMarginRight:function(){return null==r&&t(),i},reliableMarginLeft:function(){return null==r&&t(),o},reliableMarginRight:function(){var t,n=s.appendChild(Y.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Ze.appendChild(a),t=!parseFloat(e.getComputedStyle(n).marginRight),Ze.removeChild(a),s.removeChild(n),t}}))}();var Qe=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},nt=["Webkit","O","Moz","ms"],rt=Y.createElement("div").style;oe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=I(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=oe.camelCase(t),l=e.style;return t=oe.cssProps[s]||(oe.cssProps[s]=$(s)||s),a=oe.cssHooks[t]||oe.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:(o=typeof n,"string"===o&&(i=ke.exec(n))&&i[1]&&(n=u(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(oe.cssNumber[s]?"":"px")),re.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=oe.camelCase(t);return t=oe.cssProps[s]||(oe.cssProps[s]=$(s)||s),a=oe.cssHooks[t]||oe.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=I(e,t,r)),"normal"===i&&t in tt&&(i=tt[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),oe.each(["height","width"],function(e,t){oe.cssHooks[t]={get:function(e,n,r){return n?Qe.test(oe.css(e,"display"))&&0===e.offsetWidth?Je(e,et,function(){return _(e,t,r)}):_(e,t,r):void 0},set:function(e,n,r){var i,o=r&&Xe(e),a=r&&k(e,t,r,"border-box"===oe.css(e,"boxSizing",!1,o),o);return a&&(i=ke.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=oe.css(e,t)),x(e,n,a)}}}),oe.cssHooks.marginLeft=R(re.reliableMarginLeft,function(e,t){return t?(parseFloat(I(e,"marginLeft"))||e.getBoundingClientRect().left-Je(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),oe.cssHooks.marginRight=R(re.reliableMarginRight,function(e,t){return t?Je(e,{display:"inline-block"},I,[e,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(e,t){oe.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+_e[r]+t]=o[r]||o[r-2]||o[0];return i}},We.test(e)||(oe.cssHooks[e+t].set=x)}),oe.fn.extend({css:function(e,t){return we(this,function(e,t,n){var r,i,o={},a=0;if(oe.isArray(t)){for(r=Xe(e),i=t.length;i>a;a++)o[t[a]]=oe.css(e,t[a],!1,r);return o}return void 0!==n?oe.style(e,t,n):oe.css(e,t)},e,t,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Se(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=A,A.prototype={constructor:A,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||oe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var e=A.propHooks[this.prop];return e&&e.get?e.get(this):A.propHooks._default.get(this)},run:function(e){var t,n=A.propHooks[this.prop];return this.pos=t=this.options.duration?oe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=oe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){oe.fx.step[e.prop]?oe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[oe.cssProps[e.prop]]&&!oe.cssHooks[e.prop]?e.elem[e.prop]=e.now:oe.style(e.elem,e.prop,e.now+e.unit)}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},oe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},oe.fx=A.prototype.init,oe.fx.step={};var it,ot,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;oe.Animation=oe.extend(F,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return u(n.elem,e,ke.exec(t),n),n}]},tweener:function(e,t){oe.isFunction(e)?(t=e,e=["*"]):e=e.match(Ee);for(var n,r=0,i=e.length;i>r;r++)n=e[r],F.tweeners[n]=F.tweeners[n]||[],F.tweeners[n].unshift(t)},prefilters:[M],prefilter:function(e,t){t?F.prefilters.unshift(e):F.prefilters.push(e)}}),oe.speed=function(e,t,n){var r=e&&"object"==typeof e?oe.extend({},e):{complete:n||!n&&t||oe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!oe.isFunction(t)&&t};return r.duration=oe.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in oe.fx.speeds?oe.fx.speeds[r.duration]:oe.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){oe.isFunction(r.old)&&r.old.call(this),r.queue&&oe.dequeue(this,r.queue)},r},oe.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Se).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=oe.isEmptyObject(e),o=oe.speed(t,n,r),a=function(){var t=F(this,oe.extend({},e),o);(i||Oe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=oe.timers,a=Oe.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&st.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&oe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Oe.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=oe.timers,a=r?r.length:0;for(n.finish=!0,oe.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),oe.each(["toggle","show","hide"],function(e,t){var n=oe.fn[t];oe.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(K(t,!0),e,r,i)}}),oe.each({slideDown:K("show"),slideUp:K("hide"),slideToggle:K("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){oe.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),oe.timers=[],oe.fx.tick=function(){var e,t=0,n=oe.timers;for(it=oe.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||oe.fx.stop(),it=void 0},oe.fx.timer=function(e){oe.timers.push(e),e()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){ot||(ot=e.setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){e.clearInterval(ot),ot=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(t,n){return t=oe.fx?oe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=Y.createElement("input"),t=Y.createElement("select"),n=t.appendChild(Y.createElement("option"));e.type="checkbox",re.checkOn=""!==e.value,re.optSelected=n.selected,t.disabled=!0,re.optDisabled=!n.disabled,e=Y.createElement("input"),e.value="t",e.type="radio",re.radioValue="t"===e.value}();var lt,ut=oe.expr.attrHandle;oe.fn.extend({attr:function(e,t){return we(this,oe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){oe.removeAttr(this,e)})}}),oe.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?oe.prop(e,t,n):(1===o&&oe.isXMLDoc(e)||(t=t.toLowerCase(),i=oe.attrHooks[t]||(oe.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void oe.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=oe.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!re.radioValue&&"radio"===t&&oe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(Ee);if(o&&1===e.nodeType)for(;n=o[i++];)r=oe.propFix[n]||n,oe.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),lt={set:function(e,t,n){return t===!1?oe.removeAttr(e,n):e.setAttribute(n,n),n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ut[t]||oe.find.attr;ut[t]=function(e,t,r){var i,o;return r||(o=ut[t],ut[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,ut[t]=o),i}});var ct=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;oe.fn.extend({prop:function(e,t){return we(this,oe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[oe.propFix[e]||e]})}}),oe.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&oe.isXMLDoc(e)||(t=oe.propFix[t]||t,i=oe.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=oe.find.attr(e,"tabindex");return t?parseInt(t,10):ct.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),re.optSelected||(oe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this});var pt=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).addClass(e.call(this,t,B(this)))});if("string"==typeof e&&e)for(t=e.match(Ee)||[];n=this[l++];)if(i=B(n),r=1===n.nodeType&&(" "+i+" ").replace(pt," ")){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=oe.trim(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,l=0;if(oe.isFunction(e))return this.each(function(t){oe(this).removeClass(e.call(this,t,B(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ee)||[];n=this[l++];)if(i=B(n),r=1===n.nodeType&&(" "+i+" ").replace(pt," ")){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=oe.trim(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(oe.isFunction(e)?function(n){oe(this).toggleClass(e.call(this,n,B(this),t),t)}:function(){var t,r,i,o;if("string"===n)for(r=0,i=oe(this),o=e.match(Ee)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(void 0===e||"boolean"===n)&&(t=B(this),t&&Oe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Oe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+B(n)+" ").replace(pt," ").indexOf(t)>-1)return!0;return!1}});var ft=/\r/g,ht=/[\x20\t\r\n\f]+/g;oe.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=oe.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,oe(this).val()):e,null==i?i="":"number"==typeof i?i+="":oe.isArray(i)&&(i=oe.map(i,function(e){return null==e?"":e+""})),t=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=oe.valHooks[i.type]||oe.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ft,""):null==n?"":n)}}}),oe.extend({valHooks:{option:{get:function(e){var t=oe.find.attr(e,"value");return null!=t?t:oe.trim(oe.text(e)).replace(ht," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(re.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&oe.nodeName(n.parentNode,"optgroup"))){if(t=oe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=oe.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=oe.inArray(oe.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(e,t){return oe.isArray(t)?e.checked=oe.inArray(oe(e).val(),t)>-1:void 0}},re.checkOn||(oe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;oe.extend(oe.event,{trigger:function(t,n,r,i){var o,a,s,l,u,c,d,p=[r||Y],f=ne.call(t,"type")?t.type:t,h=ne.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||Y,3!==r.nodeType&&8!==r.nodeType&&!mt.test(f+oe.event.triggered)&&(f.indexOf(".")>-1&&(h=f.split("."),f=h.shift(),h.sort()),u=f.indexOf(":")<0&&"on"+f,t=t[oe.expando]?t:new oe.Event(f,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:oe.makeArray(n,[t]),d=oe.event.special[f]||{},i||!d.trigger||d.trigger.apply(r,n)!==!1)){if(!i&&!d.noBubble&&!oe.isWindow(r)){for(l=d.delegateType||f,mt.test(l+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||Y)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||f,c=(Oe.get(a,"events")||{})[t.type]&&Oe.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&De(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=f,i||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!De(r)||u&&oe.isFunction(r[f])&&!oe.isWindow(r)&&(s=r[u],s&&(r[u]=null),oe.event.triggered=f,r[f](),oe.event.triggered=void 0,s&&(r[u]=s)),t.result}},simulate:function(e,t,n){var r=oe.extend(new oe.Event,n,{type:e,isSimulated:!0});oe.event.trigger(r,null,t)}}),oe.fn.extend({trigger:function(e,t){return this.each(function(){oe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?oe.event.trigger(e,t,n,!0):void 0}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){oe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),oe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),re.focusin="onfocusin"in e,re.focusin||oe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){oe.event.simulate(t,e.target,oe.event.fix(e))};oe.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Oe.access(r,t);i||r.addEventListener(e,n,!0),Oe.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Oe.access(r,t)-1;i?Oe.access(r,t,i):(r.removeEventListener(e,n,!0),Oe.remove(r,t))}}});var gt=e.location,vt=oe.now(),bt=/\?/;oe.parseJSON=function(e){return JSON.parse(e+"")},oe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return(!n||n.getElementsByTagName("parsererror").length)&&oe.error("Invalid XML: "+t),n};var yt=/#.*$/,Ct=/([?&])_=[^&]*/,Et=/^(.*?):[ \t]*([^\r\n]*)$/gm,Tt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,wt=/^(?:GET|HEAD)$/,Dt=/^\/\//,Ot={},It={},Rt="*/".concat("*"),$t=Y.createElement("a");$t.href=gt.href,oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:Tt.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?V(V(e,oe.ajaxSettings),t):V(oe.ajaxSettings,e)},ajaxPrefilter:j(Ot),ajaxTransport:j(It),ajax:function(t,n){function r(t,n,r,s){var u,d,b,y,E,w=n;2!==C&&(C=2,l&&e.clearTimeout(l),i=void 0,a=s||"",T.readyState=t>0?4:0,u=t>=200&&300>t||304===t,r&&(y=H(p,T,r)),y=q(p,y,T,u),u?(p.ifModified&&(E=T.getResponseHeader("Last-Modified"),E&&(oe.lastModified[o]=E),E=T.getResponseHeader("etag"),E&&(oe.etag[o]=E)),204===t||"HEAD"===p.type?w="nocontent":304===t?w="notmodified":(w=y.state,d=y.data,b=y.error,u=!b)):(b=w,(t||!w)&&(w="error",0>t&&(t=0))),T.status=t,T.statusText=(n||w)+"",u?m.resolveWith(f,[d,w,T]):m.rejectWith(f,[T,w,b]),T.statusCode(v),v=void 0,c&&h.trigger(u?"ajaxSuccess":"ajaxError",[T,p,u?d:b]),g.fireWith(f,[T,w]),c&&(h.trigger("ajaxComplete",[T,p]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,l,u,c,d,p=oe.ajaxSetup({},n),f=p.context||p,h=p.context&&(f.nodeType||f.jquery)?oe(f):oe.event,m=oe.Deferred(),g=oe.Callbacks("once memory"),v=p.statusCode||{},b={},y={},C=0,E="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===C){if(!s)for(s={};t=Et.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===C?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return C||(e=y[n]=y[n]||e,b[e]=t),this},overrideMimeType:function(e){return C||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>C)for(t in e)v[t]=[v[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||E;return i&&i.abort(t),r(0,t),this}};if(m.promise(T).complete=g.add,T.success=T.done,T.error=T.fail,p.url=((t||p.url||gt.href)+"").replace(yt,"").replace(Dt,gt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=oe.trim(p.dataType||"*").toLowerCase().match(Ee)||[""],null==p.crossDomain){u=Y.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=$t.protocol+"//"+$t.host!=u.protocol+"//"+u.host}catch(w){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=oe.param(p.data,p.traditional)),U(Ot,p,n,T),2===C)return T;c=oe.event&&p.global,c&&0===oe.active++&&oe.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!wt.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bt.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=Ct.test(o)?o.replace(Ct,"$1_="+vt++):o+(bt.test(o)?"&":"?")+"_="+vt++)),p.ifModified&&(oe.lastModified[o]&&T.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&T.setRequestHeader("If-None-Match",oe.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",p.contentType),T.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Rt+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)T.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(f,T,p)===!1||2===C))return T.abort();E="abort";for(d in{success:1,error:1,complete:1})T[d](p[d]);if(i=U(It,p,n,T)){if(T.readyState=1,c&&h.trigger("ajaxSend",[T,p]),2===C)return T;p.async&&p.timeout>0&&(l=e.setTimeout(function(){T.abort("timeout")},p.timeout));try{C=1,i.send(b,r)}catch(w){if(!(2>C))throw w;r(-1,w)}}else r(-1,"No Transport");return T},getJSON:function(e,t,n){return oe.get(e,t,n,"json")},getScript:function(e,t){return oe.get(e,void 0,t,"script")}}),oe.each(["get","post"],function(e,t){oe[t]=function(e,n,r,i){return oe.isFunction(n)&&(i=i||r,r=n,n=void 0),oe.ajax(oe.extend({url:e,type:t,dataType:i,data:n,success:r},oe.isPlainObject(e)&&e))}}),oe._evalUrl=function(e){return oe.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(e){var t;return oe.isFunction(e)?this.each(function(t){oe(this).wrapAll(e.call(this,t))}):(this[0]&&(t=oe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(oe.isFunction(e)?function(t){oe(this).wrapInner(e.call(this,t))}:function(){var t=oe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=oe.isFunction(e);return this.each(function(n){oe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(e){return!oe.expr.filters.visible(e)},oe.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var xt=/%20/g,kt=/\[\]$/,_t=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;oe.param=function(e,t){var n,r=[],i=function(e,t){t=oe.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(e)||e.jquery&&!oe.isPlainObject(e))oe.each(e,function(){i(this.name,this.value)});else for(n in e)z(n,e[n],t,i);return r.join("&").replace(xt,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=oe.prop(this,"elements");return e?oe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!oe(this).is(":disabled")&&At.test(this.nodeName)&&!St.test(e)&&(this.checked||!Ae.test(e))}).map(function(e,t){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(e){return{name:t.name,value:e.replace(_t,"\r\n")}}):{name:t.name,value:n.replace(_t,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Nt={0:200,1223:204},Kt=oe.ajaxSettings.xhr();re.cors=!!Kt&&"withCredentials"in Kt,re.ajax=Kt=!!Kt,oe.ajaxTransport(function(t){var n,r;return re.cors||Kt&&!t.crossDomain?{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");

for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Nt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}:void 0}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return oe.globalEval(e),e}}}),oe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),oe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=oe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),Y.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Pt=[],Mt=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Pt.pop()||oe.expando+"_"+vt++;return this[e]=!0,e}}),oe.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Mt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Mt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=oe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Mt,"$1"+i):t.jsonp!==!1&&(t.url+=(bt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||oe.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?oe(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Pt.push(i)),a&&oe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),oe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||Y;var r=he.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=p([e],t,i),i&&i.length&&oe(i).remove(),oe.merge([],r.childNodes))};var Lt=oe.fn.load;oe.fn.load=function(e,t,n){if("string"!=typeof e&&Lt)return Lt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=oe.trim(e.slice(s)),e=e.slice(0,s)),oe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&oe.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?oe("<div>").append(oe.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){oe.fn[t]=function(e){return this.on(t,e)}}),oe.expr.filters.animated=function(e){return oe.grep(oe.timers,function(t){return e===t.elem}).length},oe.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,u,c=oe.css(e,"position"),d=oe(e),p={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=oe.css(e,"top"),l=oe.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),oe.isFunction(t)&&(t=t.call(e,n,oe.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):d.css(p)}},oe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){oe.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return t=o.documentElement,oe.contains(t,r)?(i=r.getBoundingClientRect(),n=G(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===oe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),oe.nodeName(e[0],"html")||(r=e.offset()),r.top+=oe.css(e[0],"borderTopWidth",!0),r.left+=oe.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-oe.css(n,"marginTop",!0),left:t.left-r.left-oe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===oe.css(e,"position");)e=e.offsetParent;return e||Ze})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;oe.fn[e]=function(r){return we(this,function(e,r,i){var o=G(e);return void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),oe.each(["top","left"],function(e,t){oe.cssHooks[t]=R(re.pixelPosition,function(e,n){return n?(n=I(e,t),Ye.test(n)?oe(e).position()[t]+"px":n):void 0})}),oe.each({Height:"height",Width:"width"},function(e,t){oe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){oe.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return we(this,function(t,n,r){var i;return oe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?oe.css(t,n,a):oe.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),oe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var Ft=e.jQuery,Bt=e.$;return oe.noConflict=function(t){return e.$===oe&&(e.$=Bt),t&&e.jQuery===oe&&(e.jQuery=Ft),oe},t||(e.jQuery=e.$=oe),oe}),/**
 * @license AngularJS v1.5.8
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e){"use strict";function t(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<o.length?be(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.5.8/"+(e?e+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(be(o[r]));return new t(s)}}function n(e){if(null==e||I(e))return!1;if(Yr(e)||E(e)||Lr&&e instanceof Lr)return!0;var t="length"in Object(e)&&e.length;return T(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function r(e,t,i){var o,a;if(e)if(D(e))for(o in e)"prototype"==o||"length"==o||"name"==o||e.hasOwnProperty&&!e.hasOwnProperty(o)||t.call(i,e[o],o,e);else if(Yr(e)||n(e)){var s="object"!=typeof e;for(o=0,a=e.length;a>o;o++)(s||o in e)&&t.call(i,e[o],o,e)}else if(e.forEach&&e.forEach!==r)e.forEach(t,i,e);else if(C(e))for(o in e)t.call(i,e[o],o,e);else if("function"==typeof e.hasOwnProperty)for(o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o,e);else for(o in e)Sr.call(e,o)&&t.call(i,e[o],o,e);return e}function i(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function o(e){return function(t,n){e(n,t)}}function a(){return++Wr}function s(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function l(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;o>i;++i){var a=t[i];if(y(a)||D(a))for(var u=Object.keys(a),c=0,d=u.length;d>c;c++){var p=u[c],f=a[p];n&&y(f)?w(f)?e[p]=new Date(f.valueOf()):O(f)?e[p]=new RegExp(f):f.nodeName?e[p]=f.cloneNode(!0):K(f)?e[p]=f.clone():(y(e[p])||(e[p]=Yr(f)?[]:{}),l(e[p],[f],!0)):e[p]=f}}return s(e,r),e}function u(e){return l(e,jr.call(arguments,1),!1)}function c(e){return l(e,jr.call(arguments,1),!0)}function d(e){return parseInt(e,10)}function p(e,t){return u(Object.create(e),t)}function f(){}function h(e){return e}function m(e){return function(){return e}}function g(e){return D(e.toString)&&e.toString!==Hr}function v(e){return"undefined"==typeof e}function b(e){return"undefined"!=typeof e}function y(e){return null!==e&&"object"==typeof e}function C(e){return null!==e&&"object"==typeof e&&!qr(e)}function E(e){return"string"==typeof e}function T(e){return"number"==typeof e}function w(e){return"[object Date]"===Hr.call(e)}function D(e){return"function"==typeof e}function O(e){return"[object RegExp]"===Hr.call(e)}function I(e){return e&&e.window===e}function R(e){return e&&e.$evalAsync&&e.$watch}function $(e){return"[object File]"===Hr.call(e)}function x(e){return"[object FormData]"===Hr.call(e)}function k(e){return"[object Blob]"===Hr.call(e)}function _(e){return"boolean"==typeof e}function S(e){return e&&D(e.then)}function A(e){return e&&T(e.length)&&Xr.test(Hr.call(e))}function N(e){return"[object ArrayBuffer]"===Hr.call(e)}function K(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function P(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function M(e){return Ar(e.nodeName||e[0]&&e[0].nodeName)}function L(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function F(e,t){function n(e,t){var n,r=t.$$hashKey;if(Yr(e))for(var o=0,a=e.length;a>o;o++)t.push(i(e[o]));else if(C(e))for(n in e)t[n]=i(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=i(e[n]));else for(n in e)Sr.call(e,n)&&(t[n]=i(e[n]));return s(t,r),t}function i(e){if(!y(e))return e;var t=a.indexOf(e);if(-1!==t)return l[t];if(I(e)||R(e))throw zr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=o(e);return void 0===i&&(i=Yr(e)?[]:Object.create(qr(e)),r=!0),a.push(e),l.push(i),r?n(e,i):i}function o(e){switch(Hr.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(i(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}return D(e.cloneNode)?e.cloneNode(!0):void 0}var a=[],l=[];if(t){if(A(t)||N(t))throw zr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw zr("cpi","Can't copy! Source and destination are identical.");return Yr(t)?t.length=0:r(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),a.push(e),l.push(t),n(e,t)}return i(e)}function B(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,a=typeof t;if(o==a&&"object"==o){if(!Yr(e)){if(w(e))return w(t)?B(e.getTime(),t.getTime()):!1;if(O(e))return O(t)?e.toString()==t.toString():!1;if(R(e)||R(t)||I(e)||I(t)||Yr(t)||w(t)||O(t))return!1;i=he();for(r in e)if("$"!==r.charAt(0)&&!D(e[r])){if(!B(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&b(t[r])&&!D(t[r]))return!1;return!0}if(!Yr(t))return!1;if((n=e.length)==t.length){for(r=0;n>r;r++)if(!B(e[r],t[r]))return!1;return!0}}return!1}function j(e,t,n){return e.concat(jr.call(t,n))}function U(e,t){return jr.call(e,t||0)}function V(e,t){var n=arguments.length>2?U(arguments,2):[];return!D(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,j(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function H(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:I(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":R(n)&&(r="$SCOPE"),r}function q(e,t){return v(e)?void 0:(T(t)||(t=t?2:null),JSON.stringify(e,H,t))}function z(e){return E(e)?JSON.parse(e):e}function G(e,t){e=e.replace(ti,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function W(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function Y(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),i=G(t,r);return W(e,n*(i-r))}function X(e){e=Lr(e).clone();try{e.empty()}catch(t){}var n=Lr("<div>").append(e).html();try{return e[0].nodeType===si?Ar(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Ar(t)})}catch(t){return Ar(n)}}function J(e){try{return decodeURIComponent(e)}catch(t){}}function Z(e){var t={};return r((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=J(r),b(r)&&(i=b(i)?J(i):!0,Sr.call(t,r)?Yr(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function Q(e){var t=[];return r(e,function(e,n){Yr(e)?r(e,function(e){t.push(te(n,!0)+(e===!0?"":"="+te(e,!0)))}):t.push(te(n,!0)+(e===!0?"":"="+te(e,!0)))}),t.length?t.join("&"):""}function ee(e){return te(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function te(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ne(e,t){var n,r,i=ni.length;for(r=0;i>r;++r)if(n=ni[r]+t,E(n=e.getAttribute(n)))return n;return null}function re(e,t){var n,i,o={};r(ni,function(t){var r=t+"app";!n&&e.hasAttribute&&e.hasAttribute(r)&&(n=e,i=e.getAttribute(r))}),r(ni,function(t){var r,o=t+"app";!n&&(r=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(o))}),n&&(o.strictDi=null!==ne(n,"strict-di"),t(n,i?[i]:[],o))}function ie(t,n,i){y(i)||(i={});var o={strictDi:!1};i=u(o,i);var a=function(){if(t=Lr(t),t.injector()){var r=t[0]===e.document?"document":X(t);throw zr("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=rt(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!l.test(e.name)?a():(e.name=e.name.replace(l,""),Gr.resumeBootstrap=function(e){return r(e,function(e){n.push(e)}),a()},void(D(Gr.resumeDeferredBootstrap)&&Gr.resumeDeferredBootstrap()))}function oe(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ae(e){var t=Gr.element(e).injector();if(!t)throw zr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function se(e,t){return t=t||"_",e.replace(ri,function(e,n){return(n?t:"")+e.toLowerCase()})}function le(){var t;if(!ii){var n=ei();Fr=v(n)?e.jQuery:n?e[n]:void 0,Fr&&Fr.fn.on?(Lr=Fr,u(Fr.fn,{scope:Ii.scope,isolateScope:Ii.isolateScope,controller:Ii.controller,injector:Ii.injector,inheritedData:Ii.inheritedData}),t=Fr.cleanData,Fr.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)n=Fr._data(r,"events"),n&&n.$destroy&&Fr(r).triggerHandler("$destroy");t(e)}):Lr=xe,Gr.element=Lr,ii=!0}}function ue(e,t,n){if(!e)throw zr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ce(e,t,n){return n&&Yr(e)&&(e=e[e.length-1]),ue(D(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function de(e,t){if("hasOwnProperty"===e)throw zr("badname","hasOwnProperty is not a valid {0} name",t)}function pe(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;a>s;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&D(e)?V(o,e):e}function fe(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=Lr(jr.call(e,0,i))),t.push(n));return t||e}function he(){return Object.create(null)}function me(e){function n(e,t,n){return e[t]||(e[t]=n())}var r=t("$injector"),i=t("ng"),o=n(e,"angular",Object);return o.$$minErr=o.$$minErr||t,n(o,"module",function(){var e={};return function(t,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(t,"module"),o&&e.hasOwnProperty(t)&&(e[t]=null),n(e,t,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),c}}function n(e,n){return function(r,o){return o&&D(o)&&(o.$$moduleName=t),i.push([e,n,arguments]),c}}if(!o)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",t);var i=[],s=[],l=[],u=e("$injector","invoke","push",s),c={_invokeQueue:i,_configBlocks:s,_runBlocks:l,requires:o,name:t,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:n("$provide","decorator"),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:u,run:function(e){return l.push(e),this}};return a&&u(a),c})}})}function ge(e,t){if(Yr(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(y(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function ve(e){var t=[];return JSON.stringify(e,function(e,n){if(n=H(e,n),y(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function be(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):v(e)?"undefined":"string"!=typeof e?ve(e):e}function ye(n){u(n,{bootstrap:ie,copy:F,extend:u,merge:c,equals:B,element:Lr,forEach:r,injector:rt,noop:f,bind:V,toJson:q,fromJson:z,identity:h,isUndefined:v,isDefined:b,isString:E,isFunction:D,isObject:y,isNumber:T,isElement:K,isArray:Yr,version:di,isDate:w,lowercase:Ar,uppercase:Nr,callbacks:{$$counter:0},getTestability:ae,$$minErr:t,$$csp:Qr,reloadWithDebugInfo:oe}),(Br=me(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:On}),e.provider("$compile",ht).directive({a:Ko,input:ea,textarea:ea,form:Bo,script:Ya,select:Za,style:es,option:Qa,ngBind:ra,ngBindHtml:oa,ngBindTemplate:ia,ngClass:sa,ngClassEven:ua,ngClassOdd:la,ngCloak:ca,ngController:da,ngForm:jo,ngHide:Ua,ngIf:ha,ngInclude:ma,ngInit:va,ngNonBindable:Aa,ngPluralize:Ma,ngRepeat:La,ngShow:ja,ngStyle:Va,ngSwitch:Ha,ngSwitchWhen:qa,ngSwitchDefault:za,ngOptions:Pa,ngTransclude:Wa,ngModel:ka,ngList:ba,ngChange:aa,pattern:ns,ngPattern:ns,required:ts,ngRequired:ts,minlength:is,ngMinlength:is,maxlength:rs,ngMaxlength:rs,ngValue:na,ngModelOptions:Sa}).directive({ngInclude:ga}).directive(Po).directive(pa),e.provider({$anchorScroll:it,$animate:Ui,$animateCss:qi,$$animateJs:Bi,$$animateQueue:ji,$$AnimateRunner:Hi,$$animateAsyncRun:Vi,$browser:ct,$cacheFactory:dt,$controller:Ct,$document:Et,$exceptionHandler:Tt,$filter:Fn,$$forceReflow:Ji,$interpolate:Pt,$interval:Mt,$http:St,$httpParamSerializer:Dt,$httpParamSerializerJQLike:Ot,$httpBackend:Nt,$xhrFactory:At,$jsonpCallbacks:ao,$location:Zt,$log:Qt,$parse:yn,$rootScope:Dn,$q:Cn,$$q:En,$sce:xn,$sceDelegate:$n,$sniffer:kn,$templateCache:pt,$templateRequest:_n,$$testability:Sn,$timeout:An,$window:Pn,$$rAF:wn,$$jqLite:Xe,$$HashMap:ki,$$cookieReader:Ln})}])}function Ce(){return++fi}function Ee(e){return e.replace(gi,function(e,t,n,r){return r?n.toUpperCase():n}).replace(vi,"Moz$1")}function Te(e){return!Ei.test(e)}function we(e){var t=e.nodeType;return t===oi||!t||t===ui}function De(e){for(var t in pi[e.ng339])return!0;return!1}function Oe(e){for(var t=0,n=e.length;n>t;t++)Ae(e[t])}function Ie(e,t){var n,i,o,a,s=t.createDocumentFragment(),l=[];if(Te(e))l.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),i=(Ti.exec(e)||["",""])[1].toLowerCase(),o=Di[i]||Di._default,n.innerHTML=o[1]+e.replace(wi,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;l=j(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",r(l,function(e){s.appendChild(e)}),s}function Re(t,n){n=n||e.document;var r;return(r=Ci.exec(t))?[n.createElement(r[1])]:(r=Ie(t,n))?r.childNodes:[]}function $e(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function xe(e){if(e instanceof xe)return e;var t;if(E(e)&&(e=Jr(e),t=!0),!(this instanceof xe)){if(t&&"<"!=e.charAt(0))throw yi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new xe(e)}t?Fe(this,Re(e)):Fe(this,e)}function ke(e){return e.cloneNode(!0)}function _e(e,t){if(t||Ae(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Ae(n[r])}function Se(e,t,n,i){if(b(i))throw yi("offargs","jqLite#off() does not support the `selector` argument");var o=Ne(e),a=o&&o.events,s=o&&o.handle;if(s)if(t){var l=function(t){var r=a[t];b(n)&&L(r||[],n),b(n)&&r&&r.length>0||(mi(e,t,s),delete a[t])};r(t.split(" "),function(e){l(e),bi[e]&&l(bi[e])})}else for(t in a)"$destroy"!==t&&mi(e,t,s),delete a[t]}function Ae(e,t){var n=e.ng339,r=n&&pi[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Se(e)),delete pi[n],e.ng339=void 0}}function Ne(e,t){var n=e.ng339,r=n&&pi[n];return t&&!r&&(e.ng339=n=Ce(),r=pi[n]={events:{},data:{},handle:void 0}),r}function Ke(e,t,n){if(we(e)){var r=b(n),i=!r&&t&&!y(t),o=!t,a=Ne(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];u(s,t)}}}function Pe(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Me(e,t){t&&e.setAttribute&&r(t.split(" "),function(t){e.setAttribute("class",Jr((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Jr(t)+" "," ")))})}function Le(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(t.split(" "),function(e){e=Jr(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Jr(n))}}function Fe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function Be(e,t){return je(e,"$"+(t||"ngController")+"Controller")}function je(e,t,n){e.nodeType==ui&&(e=e.documentElement);for(var r=Yr(t)?t:[t];e;){for(var i=0,o=r.length;o>i;i++)if(b(n=Lr.data(e,r[i])))return n;e=e.parentNode||e.nodeType===ci&&e.host}}function Ue(e){for(_e(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ve(e,t){t||_e(e);var n=e.parentNode;n&&n.removeChild(e)}function He(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Lr(n).on("load",t)}function qe(e,t){var n=Ri[t.toLowerCase()];return n&&$i[M(e)]&&n}function ze(e){return xi[e]}function Ge(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(v(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=i.specialHandlerWrapper||We;o>1&&(i=ge(i));for(var l=0;o>l;l++)n.isImmediatePropagationStopped()||s(e,n,i[l])}};return n.elem=e,n}function We(e,t,n){n.call(e,t)}function Ye(e,t,n){var r=t.relatedTarget;(!r||r!==e&&!Oi.call(e,r))&&n.call(e,t)}function Xe(){this.$get=function(){return u(xe,{hasClass:function(e,t){return e.attr&&(e=e[0]),Pe(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Le(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Me(e,t)}})}}function Je(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||a)():r+":"+e}function Ze(e,t){if(t){var n=0;this.nextUid=function(){return++n}}r(e,this.put,this)}function Qe(e){return Function.prototype.toString.call(e)+" "}function et(e){var t=Qe(e).replace(Ki,""),n=t.match(_i)||t.match(Si);return n}function tt(e){var t=et(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function nt(e,t,n){var i,o,a;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw E(n)&&n||(n=e.name||tt(e)),Pi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=et(e),r(o[1].split(Ai),function(e){e.replace(Ni,function(e,t,n){i.push(n)})})}e.$inject=i}}else Yr(e)?(a=e.length-1,ce(e[a],"fn"),i=e.slice(0,a)):ce(e,"fn",!0);return i}function rt(e,t){function n(e){return function(t,n){return y(t)?void r(t,o(e)):e(t,n)}}function i(e,t){if(de(e,"service"),(D(t)||Yr(t))&&(t=w.instantiate(t)),!t.$get)throw Pi("pget","Provider '{0}' must define $get factory method.",e);return T[e+g]=t}function a(e,t){return function(){var n=R.invoke(t,this);if(v(n))throw Pi("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function s(e,t,n){return i(e,{$get:n!==!1?a(e,t):t})}function l(e,t){return s(e,["$injector",function(e){return e.instantiate(t)}])}function u(e,t){return s(e,m(t),!1)}function c(e,t){de(e,"constant"),T[e]=t,O[e]=t}function d(e,t){var n=w.get(e+g),r=n.$get;n.$get=function(){var e=R.invoke(r,n);return R.invoke(t,null,{$delegate:e})}}function p(e){ue(v(e)||Yr(e),"modulesToLoad","not an array");var t,n=[];return r(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=w.get(r[0]);i[r[1]].apply(i,r[2])}}if(!C.get(e)){C.put(e,!0);try{E(e)?(t=Br(e),n=n.concat(p(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):D(e)?n.push(w.invoke(e)):Yr(e)?n.push(w.invoke(e)):ce(e,"module")}catch(i){throw Yr(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Pi("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function f(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===h)throw Pi("cdep","Circular dependency found: {0}",t+" <- "+b.join(" <- "));return e[t]}try{return b.unshift(t),e[t]=h,e[t]=n(t,r)}catch(i){throw e[t]===h&&delete e[t],i}finally{b.shift()}}function i(e,n,i){for(var o=[],a=rt.$$annotate(e,t,i),s=0,l=a.length;l>s;s++){var u=a[s];if("string"!=typeof u)throw Pi("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:r(u,i))}return o}function o(e){return 11>=Mr?!1:"function"==typeof e&&/^(?:class\b|constructor\()/.test(Qe(e))}function a(e,t,n,r){"string"==typeof n&&(r=n,n=null);var a=i(e,n,r);return Yr(e)&&(e=e[e.length-1]),o(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var r=Yr(e)?e[e.length-1]:e,o=i(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:rt.$$annotate,has:function(t){return T.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=t===!0;var h={},g="Provider",b=[],C=new Ze([],!0),T={$provide:{provider:n(i),factory:n(s),service:n(l),value:n(u),constant:n(c),decorator:d}},w=T.$injector=f(T,function(e,t){throw Gr.isString(t)&&b.push(t),Pi("unpr","Unknown provider: {0}",b.join(" <- "))}),O={},I=f(O,function(e,t){var n=w.get(e+g,t);return R.invoke(n.$get,n,void 0,e)}),R=I;T["$injector"+g]={$get:m(I)};var $=p(e);return R=I.get("$injector"),R.strictDi=t,r($,function(e){e&&R.invoke(e)}),R}function it(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===M(e)?(t=e,!0):void 0}),t}function o(){var e=s.yOffset;if(D(e))e=e();else if(K(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else T(e)||(e=0);return e}function a(e){if(e){e.scrollIntoView();var n=o();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function s(e){e=E(e)?e:n.hash();var t;e?(t=l.getElementById(e))?a(t):(t=i(l.getElementsByName(e)))?a(t):"top"===e&&a(null):a(null)}var l=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){(e!==t||""!==e)&&He(function(){r.$evalAsync(s)})}),s}]}function ot(e,t){return e||t?e?t?(Yr(e)&&(e=e.join(" ")),Yr(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function at(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===Li)return n}}function st(e){E(e)&&(e=e.split(" "));var t=he();return r(e,function(e){e.length&&(t[e]=!0)}),t}function lt(e){return y(e)?e:{}}function ut(e,t,n,i){function o(e){try{e.apply(null,U(arguments,1))}finally{if(b--,0===b)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){D=null,l(),u()}function l(){C=O(),C=v(C)?null:C,B(C,$)&&(C=$),$=C}function u(){(T!==c.url()||E!==C)&&(T=c.url(),E=C,r(I,function(e){e(c.url(),C)}))}var c=this,d=e.location,p=e.history,h=e.setTimeout,m=e.clearTimeout,g={};c.isMock=!1;var b=0,y=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){b++},c.notifyWhenNoOutstandingRequests=function(e){0===b?e():y.push(e)};var C,E,T=d.href,w=t.find("base"),D=null,O=i.history?function(){try{return p.state}catch(e){}}:f;l(),E=C,c.url=function(t,n,r){if(v(r)&&(r=null),d!==e.location&&(d=e.location),p!==e.history&&(p=e.history),t){var o=E===r;if(T===t&&(!i.history||o))return c;var s=T&&Vt(T)===Vt(t);return T=t,E=r,!i.history||s&&o?(s||(D=t),n?d.replace(t):s?d.hash=a(t):d.href=t,d.href!==t&&(D=t)):(p[n?"replaceState":"pushState"](r,"",t),l(),E=C),D&&(D=t),c}return D||d.href.replace(/%27/g,"'")},c.state=function(){return C};var I=[],R=!1,$=null;c.onUrlChange=function(t){return R||(i.history&&Lr(e).on("popstate",s),Lr(e).on("hashchange",s),R=!0),I.push(t),t},c.$$applicationDestroyed=function(){Lr(e).off("hashchange popstate",s)},c.$$checkUrlChange=u,c.baseHref=function(){var e=w.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return b++,n=h(function(){delete g[n],o(e)},t||0),g[n]=!0,n},c.defer.cancel=function(e){return g[e]?(delete g[e],m(e),o(f),!0):!1}}function ct(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new ut(e,r,t,n)}]}function dt(){this.$get=function(){function e(e,r){function i(e){e!=p&&(f?f==e&&(f=e.n):f=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in n)throw t("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=u({},r,{id:e}),l=he(),c=r&&r.capacity||Number.MAX_VALUE,d=he(),p=null,f=null;return n[e]={put:function(e,t){if(!v(t)){if(c<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});i(n)}return e in l||a++,l[e]=t,a>c&&this.remove(f.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=d[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),o(t.n,t.p),delete d[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=he(),a=0,d=he(),p=f=null},destroy:function(){l=null,s=null,d=null,delete n[e]},info:function(){return u({},s,{size:a})}}}var n={};return e.info=function(){var e={};return r(n,function(t,n){e[n]=t.info()}),e},e.get=function(e){return n[e]},e}}function pt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function ft(){}function ht(t,n){function i(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=he();return r(e,function(e,r){if(e in I)return void(o[r]=I[e]);var a=e.match(i);if(!a)throw zi("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,r,e,n?"controller bindings definition":"isolate scope definition");o[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r},a[4]&&(I[e]=o[r])}),o}function a(e,t){var n={isolateScope:null,bindToController:null};if(y(e.scope)&&(e.bindToController===!0?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),y(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),y(n.bindToController)){var r=e.controller,o=e.controllerAs;if(!r)throw zi("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!yt(r,o))throw zi("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function s(e){var t=e.charAt(0);if(!t||t!==Ar(t))throw zi("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw zi("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function l(e){var t=e.require||e.controller&&e.name;return!Yr(t)&&y(t)&&r(t,function(e,n){var r=e.match(w),i=e.substring(r[0].length);i||(t[n]=r[0]+n)}),t}var c={},d="Directive",g=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,C=/(([\w\-]+)(?:\:([^;]+))?;?)/,T=P("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,O=/^(on[a-z]+|formaction)$/,I=he();this.directive=function k(e,n){return de(e,"directive"),E(e)?(s(e),ue(n,"directiveFactory"),c.hasOwnProperty(e)||(c[e]=[],t.factory(e+d,["$injector","$exceptionHandler",function(t,n){var i=[];return r(c[e],function(r,o){try{var a=t.invoke(r);D(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||e,a.require=l(a),a.restrict=a.restrict||"EA",a.$$moduleName=r.$$moduleName,i.push(a)}catch(s){n(s)}}),i}])),c[e].push(n)):r(e,o(k)),this},this.component=function(e,t){function n(e){function n(t){return D(t)||Yr(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var o=t.template||t.templateUrl?t.template:"",a={controller:i,controllerAs:yt(t.controller)||t.controllerAs||"$ctrl",template:n(o),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return r(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}var i=t.controller||function(){};return r(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,D(i)&&(i[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return b(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return b(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var $=!0;this.debugInfoEnabled=function(e){return b(e)?($=e,this):$};var x=10;this.onChangesTtl=function(e){return arguments.length?(x=e,this):x},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,i,o,s,l,m,I,k,S){function A(){try{if(!--we)throw ye=void 0,zi("infchng","{0} $onChanges() iterations reached. Aborting!\n",x);m.$apply(function(){for(var e=[],t=0,n=ye.length;n>t;++t)try{ye[t]()}catch(r){e.push(r)}if(ye=void 0,e.length)throw e})}finally{we++}}function N(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function K(e,t,n){Ee.innerHTML="<span "+t+">";var r=Ee.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function P(e,t){try{e.addClass(t)}catch(n){}}function F(t,n,r,i,o){t instanceof Lr||(t=Lr(t));for(var a=/\S+/,s=0,l=t.length;l>s;s++){var u=t[s];u.nodeType===si&&u.nodeValue.match(a)&&$e(u,t[s]=e.document.createElement("span"))}var c=H(t,n,t,r,i,o);F.$$addScopeClass(t);var d=null;return function(e,n,r){ue(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers,s=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),d||(d=j(s));var l;if(l="html"!==d?Lr(de(d,Lr("<div>").append(t).html())):n?Ii.clone.call(t):t,a)for(var u in a)l.data("$"+u+"Controller",a[u].instance);return F.$$addScopeInfo(l,e),n&&n(l,e),c&&c(e,l,l,i),l}}function j(e){var t=e&&e[0];return t&&"foreignobject"!==M(t)&&Hr.call(t).match(/SVG/)?"svg":"html"}function H(e,t,n,r,i,o){function a(e,n,r,i){var o,a,s,l,u,c,d,p,m;if(f){var g=n.length;for(m=new Array(g),u=0;u<h.length;u+=3)d=h[u],m[d]=n[d]}else m=n;for(u=0,c=h.length;c>u;)s=m[h[u++]],o=h[u++],a=h[u++],o?(o.scope?(l=e.$new(),F.$$addScopeInfo(Lr(s),l)):l=e,p=o.transcludeOnThisElement?q(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?q(e,t):null,o(a,l,s,r,p)):a&&a(e,s.childNodes,void 0,i)}for(var s,l,u,c,d,p,f,h=[],m=0;m<e.length;m++)s=new N,l=z(e[m],[],s,0===m?r:void 0,i),u=l.length?Z(l,e[m],s,t,n,null,[],[],o):null,u&&u.scope&&F.$$addScopeClass(s.$$element),d=u&&u.terminal||!(c=e[m].childNodes)||!c.length?null:H(c,u?(u.transcludeOnThisElement||!u.templateOnThisElement)&&u.transclude:t),(u||d)&&(h.push(m,u,d),p=!0,f=f||u),o=null;return p?a:null}function q(e,t,n){function r(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=he();for(var o in t.$$slots)i[o]=t.$$slots[o]?q(e,t.$$slots[o],n):null;return r}function z(e,t,n,r,i){var o,a,s=e.nodeType,l=n.$attr;switch(s){case oi:ne(t,gt(M(e)),"E",r,i);for(var u,c,d,p,f,h,m=e.attributes,g=0,v=m&&m.length;v>g;g++){var b=!1,T=!1;u=m[g],c=u.name,f=Jr(u.value),p=gt(c),(h=Re.test(p))&&(c=c.replace(Wi,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var w=p.match(xe);w&&re(w[1])&&(b=c,T=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),d=gt(c.toLowerCase()),l[d]=c,(h||!n.hasOwnProperty(d))&&(n[d]=f,qe(e,d)&&(n[d]=!0)),fe(e,t,f,d,h),ne(t,d,"A",r,i,b,T)}if(a=e.className,y(a)&&(a=a.animVal),E(a)&&""!==a)for(;o=C.exec(a);)d=gt(o[2]),ne(t,d,"C",r,i)&&(n[d]=Jr(o[3])),a=a.substr(o.index+o[0].length);break;case si:if(11===Mr)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===si;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);ce(t,e.nodeValue);break;case li:G(e,t,n,r,i)}return t.sort(ae),t}function G(e,t,n,r,i){try{var o=g.exec(e.nodeValue);

if(o){var a=gt(o[1]);ne(t,a,"M",r,i)&&(n[a]=Jr(o[2]))}}catch(s){}}function W(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw zi("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==oi&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Lr(r)}function Y(e,t,n){return function(r,i,o,a,s){return i=W(i[0],t,n),e(r,i,o,a,s)}}function J(e,t,n,r,i,o){var a;return e?F(t,n,r,i,o):function(){return a||(a=F(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)}}function Z(e,t,n,o,a,s,l,c,d){function p(e,t,n,r){e&&(n&&(e=Y(e,n,r)),e.require=h.require,e.directiveName=m,(O===h||h.$$isolateScope)&&(e=ge(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=Y(t,n,r)),t.require=h.require,t.directiveName=m,(O===h||h.$$isolateScope)&&(t=ge(t,{isolateScope:!0})),c.push(t))}function f(e,o,a,s,d){function p(e,t,n,r){var i;if(R(e)||(r=n,n=t,t=e,e=void 0),_&&(i=C),n||(n=_?$.parent():$),!r)return d(e,t,i,n,L);var o=d.$$slots[r];if(o)return o(e,t,i,n,L);if(v(o))throw zi("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,X($))}var f,h,m,g,b,C,E,$,x,k;t===a?(x=n,$=n.$$element):($=Lr(a),x=new N($,n)),b=o,O?g=o.$new(!0):T&&(b=o.$parent),d&&(E=p,E.$$boundTransclude=d,E.isSlotFilled=function(e){return!!d.$$slots[e]}),w&&(C=ee($,x,E,w,g,o,O)),O&&(F.$$addScopeInfo($,g,!0,!(I&&(I===O||I===O.$$originalDirective))),F.$$addScopeClass($,!0),g.$$isolateBindings=O.$$isolateBindings,k=be(o,x,g,g.$$isolateBindings,O),k.removeWatches&&g.$on("$destroy",k.removeWatches));for(var S in C){var A=w[S],K=C[S],P=A.$$bindings.bindToController;K.bindingInfo=K.identifier&&P?be(b,x,K.instance,P,A):{};var M=K();M!==K.instance&&(K.instance=M,$.data("$"+A.name+"Controller",M),K.bindingInfo.removeWatches&&K.bindingInfo.removeWatches(),K.bindingInfo=be(b,x,K.instance,P,A))}for(r(w,function(e,t){var n=e.require;e.bindToController&&!Yr(n)&&y(n)&&u(C[t].instance,Q(t,n,$,C))}),r(C,function(e){var t=e.instance;if(D(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(n){i(n)}if(D(t.$onInit))try{t.$onInit()}catch(n){i(n)}D(t.$doCheck)&&(b.$watch(function(){t.$doCheck()}),t.$doCheck()),D(t.$onDestroy)&&b.$on("$destroy",function(){t.$onDestroy()})}),f=0,h=l.length;h>f;f++)m=l[f],ve(m,m.isolateScope?g:o,$,x,m.require&&Q(m.directiveName,m.require,$,C),E);var L=o;for(O&&(O.template||null===O.templateUrl)&&(L=g),e&&e(L,a.childNodes,void 0,d),f=c.length-1;f>=0;f--)m=c[f],ve(m,m.isolateScope?g:o,$,x,m.require&&Q(m.directiveName,m.require,$,C),E);r(C,function(e){var t=e.instance;D(t.$postLink)&&t.$postLink()})}d=d||{};for(var h,m,g,b,C,E=-Number.MAX_VALUE,T=d.newScopeDirective,w=d.controllerDirectives,O=d.newIsolateScopeDirective,I=d.templateDirective,$=d.nonTlbTranscludeDirective,x=!1,k=!1,_=d.hasElementTranscludeDirective,S=n.$$element=Lr(t),A=s,K=o,P=!1,L=!1,B=0,j=e.length;j>B;B++){h=e[B];var H=h.$$start,q=h.$$end;if(H&&(S=W(t,H,q)),g=void 0,E>h.priority)break;if((C=h.scope)&&(h.templateUrl||(y(C)?(le("new/isolated scope",O||T,h,S),O=h):le("new/isolated scope",O,h,S)),T=T||h),m=h.name,!P&&(h.replace&&(h.templateUrl||h.template)||h.transclude&&!h.$$tlb)){for(var G,Z=B+1;G=e[Z++];)if(G.transclude&&!G.$$tlb||G.replace&&(G.templateUrl||G.template)){L=!0;break}P=!0}if(!h.templateUrl&&h.controller&&(C=h.controller,w=w||he(),le("'"+m+"' controller",w[m],h,S),w[m]=h),C=h.transclude)if(x=!0,h.$$tlb||(le("transclusion",$,h,S),$=h),"element"==C)_=!0,E=h.priority,g=S,S=n.$$element=Lr(F.$$createComment(m,n[m])),t=S[0],me(a,U(g),t),g[0].$$parentNode=g[0].parentNode,K=J(L,g,o,E,A&&A.name,{nonTlbTranscludeDirective:$});else{var ne=he();if(g=Lr(ke(t)).contents(),y(C)){g=[];var re=he(),ae=he();r(C,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,re[e]=t,ne[t]=null,ae[t]=n}),r(S.contents(),function(e){var t=re[gt(M(e))];t?(ae[t]=!0,ne[t]=ne[t]||[],ne[t].push(e)):g.push(e)}),r(ae,function(e,t){if(!e)throw zi("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var se in ne)ne[se]&&(ne[se]=J(L,ne[se],o))}S.empty(),K=J(L,g,o,void 0,void 0,{needsNewScope:h.$$isolateScope||h.$$newScope}),K.$$slots=ne}if(h.template)if(k=!0,le("template",I,h,S),I=h,C=D(h.template)?h.template(S,n):h.template,C=Ie(C),h.replace){if(A=h,g=Te(C)?[]:bt(de(h.templateNamespace,Jr(C))),t=g[0],1!=g.length||t.nodeType!==oi)throw zi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m,"");me(a,S,t);var ue={$attr:{}},ce=z(t,[],ue),pe=e.splice(B+1,e.length-(B+1));(O||T)&&te(ce,O,T),e=e.concat(ce).concat(pe),ie(n,ue),j=e.length}else S.html(C);if(h.templateUrl)k=!0,le("template",I,h,S),I=h,h.replace&&(A=h),f=oe(e.splice(B,e.length-B),S,n,a,x&&K,l,c,{controllerDirectives:w,newScopeDirective:T!==h&&T,newIsolateScopeDirective:O,templateDirective:I,nonTlbTranscludeDirective:$}),j=e.length;else if(h.compile)try{b=h.compile(S,n,K);var fe=h.$$originalDirective||h;D(b)?p(null,V(fe,b),H,q):b&&p(V(fe,b.pre),V(fe,b.post),H,q)}catch(ye){i(ye,X(S))}h.terminal&&(f.terminal=!0,E=Math.max(E,h.priority))}return f.scope=T&&T.scope===!0,f.transcludeOnThisElement=x,f.templateOnThisElement=k,f.transclude=K,d.hasElementTranscludeDirective=_,f}function Q(e,t,n,i){var o;if(E(t)){var a=t.match(w),s=t.substring(a[0].length),l=a[1]||a[3],u="?"===a[2];if("^^"===l?n=n.parent():(o=i&&i[s],o=o&&o.instance),!o){var c="$"+s+"Controller";o=l?n.inheritedData(c):n.data(c)}if(!o&&!u)throw zi("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(Yr(t)){o=[];for(var d=0,p=t.length;p>d;d++)o[d]=Q(e,t[d],n,i)}else y(t)&&(o={},r(t,function(t,r){o[r]=Q(e,t,n,i)}));return o||null}function ee(e,t,n,r,i,o,a){var s=he();for(var u in r){var c=r[u],d={$scope:c===a||c.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},p=c.controller;"@"==p&&(p=t[c.name]);var f=l(p,d,!0,c.controllerAs);s[c.name]=f,e.data("$"+c.name+"Controller",f.instance)}return s}function te(e,t,n){for(var r=0,i=e.length;i>r;r++)e[r]=p(e[r],{$$isolateScope:t,$$newScope:n})}function ne(e,n,r,o,s,l,u){if(n===s)return null;var f=null;if(c.hasOwnProperty(n))for(var h,m=t.get(n+d),g=0,b=m.length;b>g;g++)try{if(h=m[g],(v(o)||o>h.priority)&&-1!=h.restrict.indexOf(r)){if(l&&(h=p(h,{$$start:l,$$end:u})),!h.$$bindings){var C=h.$$bindings=a(h,h.name);y(C.isolateScope)&&(h.$$isolateBindings=C.isolateScope)}e.push(h),f=h}}catch(E){i(E)}return f}function re(e){if(c.hasOwnProperty(e))for(var n,r=t.get(e+d),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function ie(e,t){{var n=t.$attr,i=e.$attr;e.$$element}r(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),r(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function oe(e,t,n,i,a,s,l,u){var c,d,f=[],h=t[0],m=e.shift(),g=p(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=D(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,b=m.templateNamespace;return t.empty(),o(v).then(function(o){var p,C,E,T;if(o=Ie(o),m.replace){if(E=Te(o)?[]:bt(de(b,Jr(o))),p=E[0],1!=E.length||p.nodeType!==oi)throw zi("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);C={$attr:{}},me(i,t,p);var w=z(p,[],C);y(m.scope)&&te(w,!0),e=w.concat(e),ie(n,C)}else p=h,t.html(o);for(e.unshift(g),c=Z(e,p,n,a,t,m,s,l,u),r(i,function(e,n){e==p&&(i[n]=t[0])}),d=H(t[0].childNodes,a);f.length;){var D=f.shift(),O=f.shift(),I=f.shift(),R=f.shift(),$=t[0];if(!D.$$destroyed){if(O!==h){var x=O.className;u.hasElementTranscludeDirective&&m.replace||($=ke(p)),me(I,Lr(O),$),P(Lr($),x)}T=c.transcludeOnThisElement?q(D,c.transclude,R):R,c(d,D,$,i,T)}}f=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(f?f.push(t,n,r,o):(c.transcludeOnThisElement&&(o=q(t,c.transclude,i)),c(d,t,n,r,o)))}}function ae(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function le(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw zi("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,X(r))}function ce(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&F.$$addBindingClass(t),function(e,t){var i=t.parent();n||F.$$addBindingClass(i),F.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function de(t,n){switch(t=Ar(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function pe(e,t){if("srcdoc"==t)return I.HTML;var n=M(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?I.RESOURCE_URL:void 0}function fe(e,t,r,i,o){var a=pe(e,i);o=T[i]||o;var s=n(r,!0,a,o);if(s){if("multiple"===i&&"select"===M(e))throw zi("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",X(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var u=l.$$observers||(l.$$observers=he());if(O.test(i))throw zi("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[i];c!==r&&(s=c&&n(c,!0,a,o),r=c),s&&(l[i]=s(e),(u[i]||(u[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function me(t,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==a){t[i++]=r;for(var u=i,c=u+s-1,d=t.length;d>u;u++,c++)d>c?t[u]=t[c]:delete t[u];t.length-=s-1,t.context===a&&(t.context=r);break}l&&l.replaceChild(r,a);var p=e.document.createDocumentFragment();for(i=0;s>i;i++)p.appendChild(n[i]);for(Lr.hasData(a)&&(Lr.data(r,Lr.data(a)),Lr(a).off("$destroy")),Lr.cleanData(p.querySelectorAll("*")),i=1;s>i;i++)delete n[i];n[0]=r,n.length=1}function ge(e,t){return u(function(){return e.apply(null,arguments)},e,t)}function ve(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(s){i(s,X(n))}}function be(e,t,i,o,a){function l(t,n,r){D(i.$onChanges)&&n!==r&&(ye||(e.$$postDigest(A),ye=[]),c||(c={},ye.push(u)),c[t]&&(r=c[t].previousValue),c[t]=new mt(r,n))}function u(){i.$onChanges(c),c=void 0}var c,d=[],p={};return r(o,function(r,o){var u,c,h,m,g,v=r.attrName,b=r.optional,y=r.mode;switch(y){case"@":b||Sr.call(t,v)||(i[o]=t[v]=void 0),t.$observe(v,function(e){if(E(e)||_(e)){var t=i[o];l(o,e,t),i[o]=e}}),t.$$observers[v].$$scope=e,u=t[v],E(u)?i[o]=n(u)(e):_(u)&&(i[o]=u),p[o]=new mt(Gi,i[o]);break;case"=":if(!Sr.call(t,v)){if(b)break;t[v]=void 0}if(b&&!t[v])break;c=s(t[v]),m=c.literal?B:function(e,t){return e===t||e!==e&&t!==t},h=c.assign||function(){throw u=i[o]=c(e),zi("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,a.name)},u=i[o]=c(e);var C=function(t){return m(t,i[o])||(m(t,u)?h(e,t=i[o]):i[o]=t),u=t};C.$stateful=!0,g=r.collection?e.$watchCollection(t[v],C):e.$watch(s(t[v],C),null,c.literal),d.push(g);break;case"<":if(!Sr.call(t,v)){if(b)break;t[v]=void 0}if(b&&!t[v])break;c=s(t[v]);var T=i[o]=c(e);p[o]=new mt(Gi,i[o]),g=e.$watch(c,function(e,t){if(t===e){if(t===T)return;t=T}l(o,e,t),i[o]=e},c.literal),d.push(g);break;case"&":if(c=t.hasOwnProperty(v)?s(t[v]):f,c===f&&b)break;i[o]=function(t){return c(e,t)}}}),{initialChanges:p,removeWatches:d.length&&function(){for(var e=0,t=d.length;t>e;++e)d[e]()}}}var ye,Ce=/^\w/,Ee=e.document.createElement("div"),we=x;N.prototype={$normalize:gt,$addClass:function(e){e&&e.length>0&&k.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&k.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=vt(e,t);n&&n.length&&k.addClass(this.$$element,n);var r=vt(t,e);r&&r.length&&k.removeClass(this.$$element,r)},$set:function(e,t,n,o){var a,s=this.$$element[0],l=qe(s,e),u=ze(e),c=e;if(l?(this.$$element.prop(e,t),o=l):u&&(this[u]=t,c=u),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=se(e,"-"))),a=M(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=S(t,"src"===e);else if("img"===a&&"srcset"===e&&b(t)){for(var d="",p=Jr(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(p)?f:/(,)/,m=p.split(h),g=Math.floor(m.length/2),y=0;g>y;y++){var C=2*y;d+=S(Jr(m[C]),!0),d+=" "+Jr(m[C+1])}var E=Jr(m[2*y]).split(/\s/);d+=S(Jr(E[0]),!0),2===E.length&&(d+=" "+Jr(E[1])),this[e]=t=d}n!==!1&&(null===t||v(t)?this.$$element.removeAttr(o):Ce.test(o)?this.$$element.attr(o,t):K(this.$$element[0],o,t));var T=this.$$observers;T&&r(T[c],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=he()),i=r[e]||(r[e]=[]);return i.push(t),m.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||v(n[e])||t(n[e])}),function(){L(i,t)}}};var De=n.startSymbol(),Oe=n.endSymbol(),Ie="{{"==De&&"}}"==Oe?h:function(e){return e.replace(/\{\{/g,De).replace(/}}/g,Oe)},Re=/^ngAttr[A-Z]/,xe=/^(.+)Start$/;return F.$$addBindingInfo=$?function(e,t){var n=e.data("$binding")||[];Yr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:f,F.$$addBindingClass=$?function(e){P(e,"ng-binding")}:f,F.$$addScopeInfo=$?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:f,F.$$addScopeClass=$?function(e,t){P(e,t?"ng-isolate-scope":"ng-scope")}:f,F.$$createComment=function(t,n){var r="";return $&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},F}]}function mt(e,t){this.previousValue=e,this.currentValue=t}function gt(e){return Ee(e.replace(Wi,""))}function vt(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function bt(e){e=Lr(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===li&&Ur.call(e,t,1)}return e}function yt(e,t){if(t&&E(t))return t;if(E(e)){var n=Xi.exec(e);if(n)return n[3]}}function Ct(){var e={},n=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){de(t,"controller"),y(t)?u(e,t):e[t]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(e,n,r,i){if(!e||!y(e.$scope))throw t("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,n);e.$scope[n]=r}return function(t,a,s,l){var c,d,p,f;if(s=s===!0,l&&E(l)&&(f=l),E(t)){if(d=t.match(Xi),!d)throw Yi("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);p=d[1],f=f||d[3],t=e.hasOwnProperty(p)?e[p]:pe(a.$scope,p,!0)||(n?pe(i,p,!0):void 0),ce(t,p,!0)}if(s){var h=(Yr(t)?t[t.length-1]:t).prototype;c=Object.create(h||null),f&&o(a,f,c,p||t.name);var m;return m=u(function(){var e=r.invoke(t,c,a,p);return e!==c&&(y(e)||D(e))&&(c=e,f&&o(a,f,c,p||t.name)),c},{instance:c,identifier:f})}return c=r.instantiate(t,a,p),f&&o(a,f,c,p||t.name),c}}]}function Et(){this.$get=["$window",function(e){return Lr(e.document)}]}function Tt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function wt(e){return y(e)?w(e)?e.toISOString():q(e):e}function Dt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return i(e,function(e,n){null===e||v(e)||(Yr(e)?r(e,function(e){t.push(te(n)+"="+te(wt(e)))}):t.push(te(n)+"="+te(wt(e))))}),t.join("&")}}}function Ot(){this.$get=function(){return function(e){function t(e,o,a){null===e||v(e)||(Yr(e)?r(e,function(e,n){t(e,o+"["+(y(e)?n:"")+"]")}):y(e)&&!w(e)?i(e,function(e,n){t(e,o+(a?"":"[")+n+(a?"":"]"))}):n.push(te(o)+"="+te(wt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function It(e,t){if(E(e)){var n=e.replace(no,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Zi)||Rt(n))&&(e=z(n))}}return e}function Rt(e){var t=e.match(eo);return t&&to[t[0]].test(e)}function $t(e){function t(e,t){e&&(i[e]=i[e]?i[e]+", "+t:t)}var n,i=he();return E(e)?r(e.split("\n"),function(e){n=e.indexOf(":"),t(Ar(Jr(e.substr(0,n))),Jr(e.substr(n+1)))}):y(e)&&r(e,function(e,n){t(Ar(n),Jr(e))}),i}function xt(e){var t;return function(n){if(t||(t=$t(e)),n){var r=t[Ar(n)];return void 0===r&&(r=null),r}return t}}function kt(e,t,n,i){return D(i)?i(e,t,n):(r(i,function(r){e=r(e,t,n)}),e)}function _t(e){return e>=200&&300>e}function St(){var e=this.defaults={transformResponse:[It],transformRequest:[function(e){return!y(e)||$(e)||k(e)||x(e)?e:q(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ge(Qi),put:ge(Qi),patch:ge(Qi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},n=!1;this.useApplyAsync=function(e){return b(e)?(n=!!e,this):n};var i=!0;this.useLegacyPromiseExtensions=function(e){return b(e)?(i=!!e,this):i};var o=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,c,d,p){function f(n){function o(e,t){for(var n=0,r=t.length;r>n;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function a(e,t){var n,i={};return r(e,function(e,r){D(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}function s(t){var n,r,i,o=e.headers,s=u({},t.headers);o=u({},o.common,o[Ar(t.method)]);e:for(n in o){r=Ar(n);for(i in s)if(Ar(i)===r)continue e;s[n]=o[n]}return a(s,ge(t))}function l(t){var n=t.headers,i=kt(t.data,xt(n),void 0,t.transformRequest);return v(i)&&r(n,function(e,t){"content-type"===Ar(t)&&delete n[t]}),v(t.withCredentials)&&!v(e.withCredentials)&&(t.withCredentials=e.withCredentials),g(t,i).then(c,c)}function c(e){var t=u({},e);return t.data=kt(e.data,e.headers,e.status,f.transformResponse),_t(e.status)?t:d.reject(t)}if(!y(n))throw t("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!E(n.url))throw t("$http")("badreq","Http request configuration url must be a string.  Received: {0}",n.url);var f=u({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},n);f.headers=s(n),f.method=Nr(f.method),f.paramSerializer=E(f.paramSerializer)?p.get(f.paramSerializer):f.paramSerializer;var h=[],m=[],b=d.when(f);return r(w,function(e){(e.request||e.requestError)&&h.unshift(e.request,e.requestError),(e.response||e.responseError)&&m.push(e.response,e.responseError)}),b=o(b,h),b=b.then(l),b=o(b,m),i?(b.success=function(e){return ce(e,"fn"),b.then(function(t){e(t.data,t.status,t.headers,f)}),b},b.error=function(e){return ce(e,"fn"),b.then(null,function(t){e(t.data,t.status,t.headers,f)}),b}):(b.success=io("success"),b.error=io("error")),b}function h(e){r(arguments,function(e){f[e]=function(t,n){return f(u({},n||{},{method:e,url:t}))}})}function m(e){r(arguments,function(e){f[e]=function(t,n,r){return f(u({},r||{},{method:e,url:t,data:n}))}})}function g(t,i){function o(e){if(e){var t={};return r(e,function(e,r){t[r]=function(t){function r(){e(t)}n?c.$applyAsync(r):c.$$phase?r():c.$apply(r)}}),t}}function l(e,t,r,i){function o(){u(t,e,r,i)}m&&(_t(e)?m.put(O,[e,t,$t(r),i]):m.remove(O)),n?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function u(e,n,r,i){n=n>=-1?n:0,(_t(n)?E.resolve:E.reject)({data:e,status:n,headers:xt(r),config:t,statusText:i})}function p(e){u(e.data,e.status,ge(e.headers()),e.statusText)}function h(){var e=f.pendingRequests.indexOf(t);-1!==e&&f.pendingRequests.splice(e,1)}var m,g,E=d.defer(),w=E.promise,D=t.headers,O=C(t.url,t.paramSerializer(t.params));if(f.pendingRequests.push(t),w.then(h,h),!t.cache&&!e.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(m=y(t.cache)?t.cache:y(e.cache)?e.cache:T),m&&(g=m.get(O),b(g)?S(g)?g.then(p,p):Yr(g)?u(g[1],g[0],ge(g[2]),g[3]):u(g,200,{},"OK"):m.put(O,w)),v(g)){var I=Kn(t.url)?s()[t.xsrfCookieName||e.xsrfCookieName]:void 0;I&&(D[t.xsrfHeaderName||e.xsrfHeaderName]=I),a(t.method,O,i,l,D,t.timeout,t.withCredentials,t.responseType,o(t.eventHandlers),o(t.uploadEventHandlers))}return w}function C(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var T=l("$http");e.paramSerializer=E(e.paramSerializer)?p.get(e.paramSerializer):e.paramSerializer;var w=[];return r(o,function(e){w.unshift(E(e)?p.get(e):p.invoke(e))}),f.pendingRequests=[],h("get","delete","head","jsonp"),m("post","put","patch"),f.defaults=e,f}]}function At(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Nt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return Kt(e,r,e.defer,t,n[0])}]}function Kt(e,t,n,i,o){function a(e,t,n){e=e.replace("JSON_CALLBACK",t);var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=e,r.async=!0,a=function(e){mi(r,"load",a),mi(r,"error",a),o.body.removeChild(r),r=null;var s=-1,l="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},hi(r,"load",a),hi(r,"error",a),o.body.appendChild(r),a}return function(o,s,l,u,c,d,p,h,m,g){function y(){T&&T(),w&&w.abort()}function C(t,r,i,o,a){b(I)&&n.cancel(I),T=w=null,t(r,i,o,a),e.$$completeOutstandingRequest(f)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"===Ar(o))var E=i.createCallback(s),T=a(s,E,function(e,t){var n=200===e&&i.getResponse(E);C(u,e,n,"",t),i.removeCallback(E)});else{var w=t(o,s);w.open(o,s,!0),r(c,function(e,t){b(e)&&w.setRequestHeader(t,e)}),w.onload=function(){var e=w.statusText||"",t="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=t?200:"file"==Nn(s).protocol?404:0),C(u,n,t,w.getAllResponseHeaders(),e)};var D=function(){C(u,-1,null,null,"")};if(w.onerror=D,w.onabort=D,r(m,function(e,t){w.addEventListener(t,e)}),r(g,function(e,t){w.upload.addEventListener(t,e)}),p&&(w.withCredentials=!0),h)try{w.responseType=h}catch(O){if("json"!==h)throw O}w.send(v(l)?null:l)}if(d>0)var I=n(y,d);else S(d)&&d.then(y)}}function Pt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(f,e).replace(h,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=q(e)}return e}function l(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function c(o,c,f,h){function g(e){try{return e=S(e),h&&!b(e)?e:s(e)}catch(t){r(oo.interr(o,t))}}if(!o.length||-1===o.indexOf(e)){var y;if(!c){var C=a(o);y=m(C),y.exp=o,y.expressions=[],y.$$watchDelegate=l}return y}h=!!h;for(var E,T,w,O=0,I=[],R=[],$=o.length,x=[],k=[];$>O;){if(-1==(E=o.indexOf(e,O))||-1==(T=o.indexOf(t,E+d))){O!==$&&x.push(a(o.substring(O)));break}O!==E&&x.push(a(o.substring(O,E))),w=o.substring(E+d,T),I.push(w),R.push(n(w,g)),O=T+p,k.push(x.length),x.push("")}if(f&&x.length>1&&oo.throwNoconcat(o),!c||I.length){var _=function(e){for(var t=0,n=I.length;n>t;t++){if(h&&v(e[t]))return;x[k[t]]=e[t]}return x.join("")},S=function(e){return f?i.getTrusted(f,e):i.valueOf(e)};return u(function(e){var t=0,n=I.length,i=new Array(n);try{for(;n>t;t++)i[t]=R[t](e);return _(i)}catch(a){r(oo.interr(o,a))}},{exp:o,expressions:I,$$watchDelegate:function(e,t){var n;return e.$watchGroup(R,function(r,i){var o=_(r);D(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var d=e.length,p=t.length,f=new RegExp(e.replace(/./g,o),"g"),h=new RegExp(t.replace(/./g,o),"g");return c.startSymbol=function(){return e},c.endSymbol=function(){return t},c}]}function Mt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function o(o,s,l,u){function c(){d?o.apply(null,p):o(m)}var d=arguments.length>4,p=d?U(arguments,4):[],f=t.setInterval,h=t.clearInterval,m=0,g=b(u)&&!u,v=(g?r:n).defer(),y=v.promise;return l=b(l)?l:0,y.$$intervalId=f(function(){g?i.defer(c):e.$evalAsync(c),v.notify(m++),l>0&&m>=l&&(v.resolve(m),h(y.$$intervalId),delete a[y.$$intervalId]),g||e.$apply()},s),a[y.$$intervalId]=v,y}var a={};return o.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},o}]}function Lt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ee(t[n]);return t.join("/")}function Ft(e,t){var n=Nn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=d(n.port)||lo[n.protocol]||null}function Bt(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Nn(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=Z(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function jt(e,t){return 0===e.lastIndexOf(t,0)}function Ut(e,t){return jt(t,e)?t.substr(e.length):void 0}function Vt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Ht(e){return e.replace(/(#.+)|#$/,"$1")}function qt(e){return e.substr(0,Vt(e).lastIndexOf("/")+1)}function zt(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Gt(e,t,n){this.$$html5=!0,n=n||"",Ft(e,this),this.$$parse=function(e){var n=Ut(t,e);if(!E(n))throw uo("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Bt(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=Q(this.$$search),n=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Lt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return b(o=Ut(e,r))?(a=o,s=b(o=Ut(n,o))?t+(Ut("/",o)||o):e+a):b(o=Ut(t,r))?s=t+o:t==r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Wt(e,t,n){Ft(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return jt(t,n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=Ut(e,r)||Ut(t,r);v(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",v(a)&&(e=r,this.replace())):(o=Ut(n,a),v(o)&&(o=a)),Bt(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=Q(this.$$search),r=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Lt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return Vt(e)==Vt(t)?(this.$$parse(t),!0):!1}}function Yt(e,t,n){this.$$html5=!0,Wt.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e==Vt(r)?o=r:(a=Ut(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=Q(this.$$search),r=this.$$hash?"#"+ee(this.$$hash):"";this.$$url=Lt(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function Xt(e){return function(){return this[e]}}function Jt(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Zt(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return b(t)?(e=t,this):e},this.html5Mode=function(e){return _(e)?(t.enabled=e,this):y(e)?(_(e.enabled)&&(t.enabled=e.enabled),_(e.requireBase)&&(t.requireBase=e.requireBase),_(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(e,t,n){var i=u.url(),o=u.$$state;try{r.url(e,t,n),u.$$state=r.state()}catch(a){throw u.url(i),u.$$state=o,a}}function l(e,t){n.$broadcast("$locationChangeSuccess",u.absUrl(),e,u.$$state,t)}var u,c,d,p=r.baseHref(),f=r.url();if(t.enabled){if(!p&&t.requireBase)throw uo("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=zt(f)+(p||"/"),c=i.history?Gt:Yt}else d=Vt(f),c=Wt;var h=qt(d);u=new c(d,h,"#"+e),u.$$parseLinkUrl(f,f),u.$$state=r.state();var m=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=Lr(e.target);"a"!==M(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");y(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Nn(s.animVal).href),m.test(s)||!s||i.attr("target")||e.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(e.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Ht(u.absUrl())!=Ht(f)&&r.url(u.absUrl(),!0);var g=!0;return r.onUrlChange(function(e,t){return v(Ut(h,e))?void(a.location.href=e):(n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;e=Ht(e),u.$$parse(e),u.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,u.absUrl()===e&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(g=!1,l(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=Ht(r.url()),t=Ht(u.absUrl()),o=r.state(),a=u.$$replace,c=e!==t||u.$$html5&&i.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var t=u.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,u.$$state,o).defaultPrevented;u.absUrl()===t&&(r?(u.$$parse(e),u.$$state=o):(c&&s(t,a,o===u.$$state?null:u.$$state),l(e,o)))})),u.$$replace=!1}),u}]}function Qt(){var e=!0,t=this;this.debugEnabled=function(t){return b(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||f,a=!1;try{a=!!o.apply}catch(s){}return a?function(){var e=[];return r(arguments,function(t){e.push(i(t))}),o.apply(t,e)}:function(e,t){o(e,null==t?"":t)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function en(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw po("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function tn(e){return e+""}function nn(e,t){if(e){if(e.constructor===e)throw po("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw po("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw po("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw po("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function rn(e,t){if(e){if(e.constructor===e)throw po("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===fo||e===ho||e===mo)throw po("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function on(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw po("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function an(e,t){return"undefined"!=typeof e?e:t}function sn(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function ln(e,t){var n=e(t);return!n.$stateful}function un(e,t){var n,i;switch(e.type){case yo.Program:n=!0,r(e.body,function(e){un(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case yo.Literal:e.constant=!0,e.toWatch=[];break;case yo.UnaryExpression:un(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case yo.BinaryExpression:un(e.left,t),un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case yo.LogicalExpression:un(e.left,t),un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case yo.ConditionalExpression:un(e.test,t),un(e.alternate,t),un(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case yo.Identifier:e.constant=!1,e.toWatch=[e];break;case yo.MemberExpression:un(e.object,t),e.computed&&un(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];

break;case yo.CallExpression:n=e.filter?ln(t,e.callee.name):!1,i=[],r(e.arguments,function(e){un(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&ln(t,e.callee.name)?i:[e];break;case yo.AssignmentExpression:un(e.left,t),un(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case yo.ArrayExpression:n=!0,i=[],r(e.elements,function(e){un(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case yo.ObjectExpression:n=!0,i=[],r(e.properties,function(e){un(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case yo.ThisExpression:e.constant=!1,e.toWatch=[];break;case yo.LocalsExpression:e.constant=!1,e.toWatch=[]}}function cn(e){if(1==e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function dn(e){return e.type===yo.Identifier||e.type===yo.MemberExpression}function pn(e){return 1===e.body.length&&dn(e.body[0].expression)?{type:yo.AssignmentExpression,left:e.body[0].expression,right:{type:yo.NGValueParameter},operator:"="}:void 0}function fn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===yo.Literal||e.body[0].expression.type===yo.ArrayExpression||e.body[0].expression.type===yo.ObjectExpression)}function hn(e){return e.constant}function mn(e,t){this.astBuilder=e,this.$filter=t}function gn(e,t){this.astBuilder=e,this.$filter=t}function vn(e){return"constructor"==e}function bn(e){return D(e.valueOf)?e.valueOf():Eo.call(e)}function yn(){var e,t,n=he(),i=he(),o={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){o[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(a){function s(e,t,r){var o,s,u;switch(r=r||C,typeof e){case"string":e=e.trim(),u=e;var g=r?i:n;if(o=g[u],!o){":"===e.charAt(0)&&":"===e.charAt(1)&&(s=!0,e=e.substring(2));var b=r?y:v,E=new bo(b),T=new Co(E,a,b);o=T.parse(e),o.constant?o.$$watchDelegate=h:s?o.$$watchDelegate=o.literal?p:d:o.inputs&&(o.$$watchDelegate=c),r&&(o=l(o)),g[u]=o}return m(o,t);case"function":return m(e,t);default:return m(f,t)}}function l(e){function t(t,n,r,i){var o=C;C=!0;try{return e(t,n,r,i)}finally{C=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=l(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&n<e.inputs.length;++n)e.inputs[n]=l(e.inputs[n]);return t.inputs=e.inputs,t}function u(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=bn(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function c(e,t,n,r,i){var o,a=r.inputs;if(1===a.length){var s=u;return a=a[0],e.$watch(function(e){var t=a(e);return u(t,s)||(o=r(e,void 0,void 0,[t]),s=t&&bn(t)),o},t,n,i)}for(var l=[],c=[],d=0,p=a.length;p>d;d++)l[d]=u,c[d]=null;return e.$watch(function(e){for(var t=!1,n=0,i=a.length;i>n;n++){var s=a[n](e);(t||(t=!u(s,l[n])))&&(c[n]=s,l[n]=s&&bn(s))}return t&&(o=r(e,void 0,void 0,c)),o},t,n,i)}function d(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,D(t)&&t.apply(this,arguments),b(e)&&r.$$postDigest(function(){b(o)&&i()})},n)}function p(e,t,n,i){function o(e){var t=!0;return r(e,function(e){b(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return i(e)},function(e,n,r){s=e,D(t)&&t.call(this,e,n,r),o(e)&&r.$$postDigest(function(){o(s)&&a()})},n)}function h(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function m(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==p&&n!==d,o=i?function(n,i,o,a){var s=r&&a?a[0]:e(n,i,o,a);return t(s,n,i)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return b(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==c?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=c,r=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var g=Qr().noUnsafeEval,v={csp:g,expensiveChecks:!1,literals:F(o),isIdentifierStart:D(e)&&e,isIdentifierContinue:D(t)&&t},y={csp:g,expensiveChecks:!0,literals:F(o),isIdentifierStart:D(e)&&e,isIdentifierContinue:D(t)&&t},C=!1;return s.$$runningExpensiveChecks=function(){return C},s}]}function Cn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Tn(function(t){e.$evalAsync(t)},t)}]}function En(){this.$get=["$browser","$exceptionHandler",function(e,t){return Tn(function(t){e.defer(t)},t)}]}function Tn(e,n){function i(){this.$$state={status:0}}function o(e,t){return function(n){t.call(e,n)}}function a(e){var t,r,i;i=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,a=i.length;a>o;++o){r=i[o][0],t=i[o][e.status];try{D(t)?r.resolve(t(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(s){r.reject(s),n(s)}}}function s(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){a(t)}))}function l(){this.promise=new i}function c(e){var t=new l,n=0,i=Yr(e)?[]:{};return r(e,function(e,r){n++,b(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}function d(e){var t=f();return r(e,function(e){b(e).then(t.resolve,t.reject)}),t.promise}var p=t("$q",TypeError),f=function(){var e=new l;return e.resolve=o(e,e.resolve),e.reject=o(e,e.reject),e.notify=o(e,e.notify),e};u(i.prototype,{then:function(e,t,n){if(v(e)&&v(t)&&v(n))return this;var r=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&s(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return g(t,!0,e)},function(t){return g(t,!1,e)},t)}}),u(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(p("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function t(e){l||(l=!0,a.$$resolve(e))}function r(e){l||(l=!0,a.$$reject(e))}var i,a=this,l=!1;try{(y(e)||D(e))&&(i=e&&e.then),D(i)?(this.promise.$$state.status=-1,i.call(e,t,r,o(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(u){r(u),n(u)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(t){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;a>o;o++){i=r[o][0],e=r[o][3];try{i.notify(D(e)?e(t):t)}catch(s){n(s)}}})}});var h=function(e){var t=new l;return t.reject(e),t.promise},m=function(e,t){var n=new l;return t?n.resolve(e):n.reject(e),n.promise},g=function(e,t,n){var r=null;try{D(n)&&(r=n())}catch(i){return m(i,!1)}return S(r)?r.then(function(){return m(e,t)},function(e){return m(e,!1)}):m(e,t)},b=function(e,t,n,r){var i=new l;return i.resolve(e),i.promise.then(t,n,r)},C=b,E=function(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!D(e))throw p("norslvr","Expected resolverFn, got '{0}'",e);var r=new l;return e(t,n),r.promise};return E.prototype=i.prototype,E.defer=f,E.reject=h,E.when=b,E.resolve=C,E.all=c,E.race=d,E}function wn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function Dn(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return t.prototype=e,t}var i=10,o=t("$rootScope"),s=null,l=null;this.digestTtl=function(e){return arguments.length&&(i=e),i},this.$get=["$exceptionHandler","$parse","$browser",function(t,u,c){function d(e){e.currentScope.$$destroyed=!0}function p(e){9===Mr&&(e.$$childHead&&p(e.$$childHead),e.$$nextSibling&&p(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function h(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function m(e){if(O.$$phase)throw o("inprog","{0} already in progress",O.$$phase);O.$$phase=e}function g(){O.$$phase=null}function b(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function C(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function E(){}function T(){for(;$.length;)try{$.shift()()}catch(e){t(e)}l=null}function w(){null===l&&(l=c.defer(function(){O.$apply(T)}))}h.prototype={constructor:h,$new:function(t,n){var r;return n=n||this,t?(r=new h,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",d),r},$watch:function(e,t,n,r){var i=u(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,a=o.$$watchers,l={fn:t,last:E,get:i,exp:r||e,eq:!!n};return s=null,D(t)||(l.fn=f),a||(a=o.$$watchers=[]),a.unshift(l),b(this,1),function(){L(a,l)>=0&&b(o,-1),s=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(o,o,s)):t(o,i,s)}var i=new Array(e.length),o=new Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(o,o,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,r){o[0]=e,i[0]=n,t(o,e===n?o:i,r)}):(r(e,function(e,t){var r=s.$watch(e,function(e,r){o[t]=e,i[t]=r,l||(l=!0,s.$evalAsync(n))});a.push(r)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function r(e){o=e;var t,r,i,s,l;if(!v(o)){if(y(o))if(n(o)){a!==f&&(a=f,g=a.length=0,d++),t=o.length,g!==t&&(d++,a.length=g=t);for(var u=0;t>u;u++)l=a[u],s=o[u],i=l!==l&&s!==s,i||l===s||(d++,a[u]=s)}else{a!==h&&(a=h={},g=0,d++),t=0;for(r in o)Sr.call(o,r)&&(t++,s=o[r],l=a[r],r in a?(i=l!==l&&s!==s,i||l===s||(d++,a[r]=s)):(g++,a[r]=s,d++));if(g>t){d++;for(r in a)Sr.call(o,r)||(g--,delete a[r])}}else a!==o&&(a=o,d++);return d}}function i(){if(m?(m=!1,t(o,o,l)):t(o,s,l),c)if(y(o))if(n(o)){s=new Array(o.length);for(var e=0;e<o.length;e++)s[e]=o[e]}else{s={};for(var r in o)Sr.call(o,r)&&(s[r]=o[r])}else s=o}r.$stateful=!0;var o,a,s,l=this,c=t.length>1,d=0,p=u(e,r),f=[],h={},m=!0,g=0;return this.$watch(p,i)},$digest:function(){var e,n,r,a,u,d,p,f,h,v,b,y,C=i,w=this,$=[];m("$digest"),c.$$checkUrlChange(),this===O&&null!==l&&(c.defer.cancel(l),T()),s=null;do{f=!1,v=w;for(var k=0;k<I.length;k++){try{y=I[k],y.scope.$eval(y.expression,y.locals)}catch(_){t(_)}s=null}I.length=0;e:do{if(d=v.$$watchers)for(p=d.length;p--;)try{if(e=d[p])if(u=e.get,(n=u(v))===(r=e.last)||(e.eq?B(n,r):"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))){if(e===s){f=!1;break e}}else f=!0,s=e,e.last=e.eq?F(n,null):n,a=e.fn,a(n,r===E?n:r,v),5>C&&(b=4-C,$[b]||($[b]=[]),$[b].push({msg:D(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:n,oldVal:r}))}catch(_){t(_)}if(!(h=v.$$watchersCount&&v.$$childHead||v!==w&&v.$$nextSibling))for(;v!==w&&!(h=v.$$nextSibling);)v=v.$parent}while(v=h);if((f||I.length)&&!C--)throw g(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",i,$)}while(f||I.length);for(g();x<R.length;)try{R[x++]()}catch(_){t(_)}R.length=x=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===O&&c.$$applicationDestroyed(),b(this,-this.$$watchersCount);for(var t in this.$$listenerCount)C(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=f,this.$on=this.$watch=this.$watchGroup=function(){return f},this.$$listeners={},this.$$nextSibling=null,p(this)}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){O.$$phase||I.length||c.defer(function(){I.length&&O.$digest()}),I.push({scope:this,expression:u(e),locals:t})},$$postDigest:function(e){R.push(e)},$apply:function(e){try{m("$apply");try{return this.$eval(e)}finally{g()}}catch(n){t(n)}finally{try{O.$digest()}catch(n){throw t(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&$.push(t),e=u(e),w()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,C(i,1,e))}},$emit:function(e,n){var r,i,o,a=[],s=this,l=!1,u={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=j([u],arguments,1);do{for(r=s.$$listeners[e]||a,u.currentScope=s,i=0,o=r.length;o>i;i++)if(r[i])try{r[i].apply(null,c)}catch(d){t(d)}else r.splice(i,1),i--,o--;if(l)return u.currentScope=null,u;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,n){var r=this,i=r,o=r,a={name:e,targetScope:r,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[e])return a;for(var s,l,u,c=j([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[e]||[],l=0,u=s.length;u>l;l++)if(s[l])try{s[l].apply(null,c)}catch(d){t(d)}else s.splice(l,1),l--,u--;if(!(o=i.$$listenerCount[e]&&i.$$childHead||i!==r&&i.$$nextSibling))for(;i!==r&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var O=new h,I=O.$$asyncQueue=[],R=O.$$postDigestQueue=[],$=O.$$applyAsyncQueue=[],x=0;return O}]}function On(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=Nn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function In(e){if("self"===e)return e;if(E(e)){if(e.indexOf("***")>-1)throw To("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Zr(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(O(e))return new RegExp("^"+e.source+"$");throw To("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Rn(e){var t=[];return b(e)&&r(e,function(e){t.push(In(e))}),t}function $n(){this.SCE_CONTEXTS=wo;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Rn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Rn(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Kn(t):!!e.exec(t.href)}function i(n){var i,o,a=Nn(n.toString()),s=!1;for(i=0,o=e.length;o>i;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;o>i;i++)if(r(t[i],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function a(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw To("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||v(t)||""===t)return t;if("string"!=typeof t)throw To("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof c?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||v(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===wo.RESOURCE_URL){if(i(t))return t;throw To("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===wo.HTML)return u(t);throw To("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function(e){throw To("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),d={};return d[wo.HTML]=o(c),d[wo.CSS]=o(c),d[wo.URL]=o(c),d[wo.JS]=o(c),d[wo.RESOURCE_URL]=o(d[wo.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function xn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Mr)throw To("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=ge(wo);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=h),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return r(wo,function(e,t){var n=Ar(t);i[Ee("parse_as_"+n)]=function(t){return o(e,t)},i[Ee("get_trusted_"+n)]=function(t){return a(e,t)},i[Ee("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function kn(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=e.chrome&&e.chrome.app&&e.chrome.app.runtime,a=!o&&e.history&&e.history.pushState,s=d((/android (\d+)/.exec(Ar((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),u=t[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,p=u.body&&u.body.style,f=!1,h=!1;if(p){for(var m in p)if(r=c.exec(m)){n=r[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in p&&"webkit"),f=!!("transition"in p||n+"Transition"in p),h=!!("animation"in p||n+"Animation"in p),!s||f&&h||(f=E(p.webkitTransition),h=E(p.webkitAnimation))}return{history:!(!a||4>s||l),hasEvent:function(e){if("input"===e&&11>=Mr)return!1;if(v(i[e])){var t=u.createElement("div");i[e]="on"+e in t}return i[e]},csp:Qr(),vendorPrefix:n,transitions:f,animations:h,android:s}}]}function _n(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,i){function o(a,s){function l(e){if(!s)throw Do("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText);return r.reject(e)}o.totalPendingRequests++,(!E(a)||v(t.get(a)))&&(a=i.getTrustedResourceUrl(a));var c=n.defaults&&n.defaults.transformResponse;return Yr(c)?c=c.filter(function(e){return e!==It}):c===It&&(c=null),n.get(a,u({cache:t,transformResponse:c},e))["finally"](function(){o.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},l)}return o.totalPendingRequests=0,o}]}function Sn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={};return i.findBindings=function(e,t,n){var i=e.getElementsByClassName("ng-binding"),o=[];return r(i,function(e){var i=Gr.element(e).data("$binding");i&&r(i,function(r){if(n){var i=new RegExp("(^|\\s)"+Zr(t)+"(\\s|\\||$)");i.test(r)&&o.push(e)}else-1!=r.indexOf(t)&&o.push(e)})}),o},i.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},i.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},i}]}function An(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,l){D(o)||(l=s,s=o,o=f);var u,c=U(arguments,3),d=b(l)&&!l,p=(d?r:n).defer(),h=p.promise;return u=t.defer(function(){try{p.resolve(o.apply(null,c))}catch(t){p.reject(t),i(t)}finally{delete a[h.$$timeoutId]}d||e.$apply()},s),h.$$timeoutId=u,a[u]=p,h}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function Nn(e){var t=e;return Mr&&(Oo.setAttribute("href",t),t=Oo.href),Oo.setAttribute("href",t),{href:Oo.href,protocol:Oo.protocol?Oo.protocol.replace(/:$/,""):"",host:Oo.host,search:Oo.search?Oo.search.replace(/^\?/,""):"",hash:Oo.hash?Oo.hash.replace(/^#/,""):"",hostname:Oo.hostname,port:Oo.port,pathname:"/"===Oo.pathname.charAt(0)?Oo.pathname:"/"+Oo.pathname}}function Kn(e){var t=E(e)?Nn(e):e;return t.protocol===Io.protocol&&t.host===Io.host}function Pn(){this.$get=m(e)}function Mn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,o,a,s,l,u=n.cookie||"";if(u!==i)for(i=u,e=i.split("; "),r={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),s>0&&(l=t(o.substring(0,s)),v(r[l])&&(r[l]=t(o.substring(s+1))));return r}}function Ln(){this.$get=Mn}function Fn(e){function t(i,o){if(y(i)){var a={};return r(i,function(e,n){a[n]=t(n,e)}),a}return e.factory(i+n,o)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Hn),t("date",or),t("filter",Bn),t("json",ar),t("limitTo",sr),t("lowercase",Ao),t("number",qn),t("orderBy",ur),t("uppercase",No)}function Bn(){return function(e,r,i,o){if(!n(e)){if(null==e)return e;throw t("filter")("notarray","Expected array but received: {0}",e)}o=o||"$";var a,s,l=Vn(r);switch(l){case"function":a=r;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=jn(r,i,o,s);break;default:return e}return Array.prototype.filter.call(e,a)}}function jn(e,t,n,r){var i,o=y(e)&&n in e;return t===!0?t=B:D(t)||(t=function(e,t){return v(e)?!1:null===e||null===t?e===t:y(t)||y(e)&&!g(e)?!1:(e=Ar(""+e),t=Ar(""+t),-1!==e.indexOf(t))}),i=function(i){return o&&!y(i)?Un(i,e[n],t,n,!1):Un(i,e,t,n,r)}}function Un(e,t,n,r,i,o){var a=Vn(e),s=Vn(t);if("string"===s&&"!"===t.charAt(0))return!Un(e,t.substring(1),n,r,i);if(Yr(e))return e.some(function(e){return Un(e,t,n,r,i)});switch(a){case"object":var l;if(i){for(l in e)if("$"!==l.charAt(0)&&Un(e[l],t,n,r,!0))return!0;return o?!1:Un(e,t,n,r,!1)}if("object"===s){for(l in t){var u=t[l];if(!D(u)&&!v(u)){var c=l===r,d=c?e:e[l];if(!Un(d,u,n,r,c,c))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Vn(e){return null===e?"null":typeof e}function Hn(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return v(n)&&(n=t.CURRENCY_SYM),v(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Wn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function qn(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Wn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function zn(e){var t,n,r,i,o,a=0;for((n=e.indexOf($o))>-1&&(e=e.replace($o,"")),(r=e.search(/e/i))>0?(0>n&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):0>n&&(n=e.length),r=0;e.charAt(r)==xo;r++);if(r==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==xo;)o--;for(n-=r,t=[],i=0;o>=r;r++,i++)t[i]=+e.charAt(r)}return n>Ro&&(t=t.splice(0,Ro-1),a=n-1,n=1),{d:t,e:a,i:n}}function Gn(e,t,n,r){var i=e.d,o=i.length-e.i;t=v(t)?Math.min(Math.max(n,o),r):+t;var a=t+e.i,s=i[a];if(a>0){i.splice(Math.max(e.i,a));for(var l=a;l<i.length;l++)i[l]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,a=t+1),i[0]=0;for(var u=1;a>u;u++)i[u]=0}if(s>=5)if(0>a-1){for(var c=0;c>a;c--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[a-1]++;for(;o<Math.max(0,t);o++)i.push(0);var d=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);d&&(i.unshift(d),e.i++)}function Wn(e,t,n,r,i){if(!E(e)&&!T(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",u="";if(a)u="∞";else{o=zn(l),Gn(o,i,t.minFrac,t.maxFrac);var c=o.d,d=o.i,p=o.e,f=[];for(s=c.reduce(function(e,t){return e&&!t},!0);0>d;)c.unshift(0),d++;d>0?f=c.splice(d,c.length):(f=c,c=[0]);var h=[];for(c.length>=t.lgSize&&h.unshift(c.splice(-t.lgSize,c.length).join(""));c.length>t.gSize;)h.unshift(c.splice(-t.gSize,c.length).join(""));c.length&&h.unshift(c.join("")),u=h.join(n),f.length&&(u+=r+f.join("")),p&&(u+="e+"+p)}return 0>e&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function Yn(e,t,n,r){var i="";for((0>e||r&&0>=e)&&(r?e=-e+1:(e=-e,i="-")),e=""+e;e.length<t;)e=xo+e;return n&&(e=e.substr(e.length-t)),i+e}function Xn(e,t,n,r,i){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),Yn(a,t,r,i)}}function Jn(e,t,n){return function(r,i){var o=r["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),s=Nr(a+e);return i[s][o]}}function Zn(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=Yn(Math[r>0?"floor":"ceil"](r/60),2)+Yn(Math.abs(r%60),2)}function Qn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function er(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function tr(e){return function(t){var n=Qn(t.getFullYear()),r=er(t),i=+r-+n,o=1+Math.round(i/6048e5);return Yn(o,e)}}function nr(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function rr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function ir(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function or(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=d(t[9]+t[10]),o=d(t[9]+t[11])),a.call(r,d(t[1]),d(t[2])-1,d(t[3]));var l=d(t[4]||0)-i,u=d(t[5]||0)-o,c=d(t[6]||0),p=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,u,c,p),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var a,s,l="",u=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,E(n)&&(n=So.test(n)?d(n):t(n)),T(n)&&(n=new Date(n)),!w(n)||!isFinite(n.getTime()))return n;for(;i;)s=_o.exec(i),s?(u=j(u,s,1),i=u.pop()):(u.push(i),i=null);var c=n.getTimezoneOffset();return o&&(c=G(o,c),n=Y(n,o,!0)),r(u,function(t){a=ko[t],l+=a?a(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ar(){return function(e,t){return v(t)&&(t=2),q(e,t)}}function sr(){return function(e,t,r){return t=Math.abs(Number(t))===1/0?Number(t):d(t),isNaN(t)?e:(T(e)&&(e=e.toString()),n(e)?(r=!r||isNaN(r)?0:d(r),r=0>r?Math.max(0,e.length+r):r,t>=0?lr(e,r,r+t):0===r?lr(e,t,e.length):lr(e,Math.max(0,r+t),r)):e)}}function lr(e,t,n){return E(e)?e.slice(t,n):jr.call(e,t,n)}function ur(e){function r(t){return t.map(function(t){var n=1,r=h;if(D(t))r=t;else if(E(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant))){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}})}function i(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e){return D(e.valueOf)&&(e=e.valueOf(),i(e))?e:g(e)&&(e=e.toString(),i(e))?e:e}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=o(e)),{value:e,type:n,index:t}}function s(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,a=t.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(y(o)&&(o=e.index),y(a)&&(a=t.index)),o!==a&&(n=a>o?-1:1)}else n=i>r?-1:1;return n}return function(e,i,o,l){function u(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:d.map(function(n){return a(n.get(e),t)})}}function c(e,t){for(var n=0,r=d.length;r>n;n++){var i=f(e.predicateValues[n],t.predicateValues[n]);if(i)return i*d[n].descending*p}return f(e.tieBreaker,t.tieBreaker)*p}if(null==e)return e;if(!n(e))throw t("orderBy")("notarray","Expected array but received: {0}",e);Yr(i)||(i=[i]),0===i.length&&(i=["+"]);var d=r(i),p=o?-1:1,f=D(l)?l:s,h=Array.prototype.map.call(e,u);return h.sort(c),e=h.map(function(e){return e.value})}}function cr(e){return D(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function dr(e,t){e.$name=t}function pr(e,t,n,i,o){var a=this,s=[];a.$error={},a.$$success={},a.$pending=void 0,a.$name=o(t.name||t.ngForm||"")(n),a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=Mo,a.$rollbackViewValue=function(){r(s,function(e){e.$rollbackViewValue()})},a.$commitViewValue=function(){r(s,function(e){e.$commitViewValue()})},a.$addControl=function(e){de(e.$name,"input"),s.push(e),e.$name&&(a[e.$name]=e),e.$$parentForm=a},a.$$renameControl=function(e,t){var n=e.$name;a[n]===e&&delete a[n],a[t]=e,e.$name=t},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],r(a.$pending,function(t,n){a.$setValidity(n,null,e)}),r(a.$error,function(t,n){a.$setValidity(n,null,e)}),r(a.$$success,function(t,n){a.$setValidity(n,null,e)}),L(s,e),e.$$parentForm=Mo},Rr({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(L(r,n),0===r.length&&delete e[t])},$animate:i}),a.$setDirty=function(){i.removeClass(e,Ea),i.addClass(e,Ta),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){i.setClass(e,Ea,Ta+" "+Lo),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,r(s,function(e){e.$setPristine()})},a.$setUntouched=function(){r(s,function(e){e.$setUntouched()})},a.$setSubmitted=function(){i.addClass(e,Lo),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function fr(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function hr(e,t,n,r,i,o){mr(e,t,n,r,i,o),fr(r)}function mr(e,t,n,r,i,o){var a=Ar(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,u()})}var l,u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val(),u=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Jr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),Zo[a]&&r.$$hasNativeValidators&&a===n.type&&t.on(Jo,function(e){if(!l){var t=this[_r],n=t.badInput,r=t.typeMismatch;l=o.defer(function(){l=null,(t.badInput!==n||t.typeMismatch!==r)&&u(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function gr(e,t){if(w(e))return e;if(E(e)){Wo.lastIndex=0;var n=Wo.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,u=Qn(r),c=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,u.getDate()+c,o,a,s,l)}}return 0/0}function vr(e,t){return function(n,i){var o,a;if(w(n))return n;if(E(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Uo.test(n))return new Date(n);if(e.lastIndex=0,o=e.exec(n))return o.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(e,n){n<t.length&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function br(e,t,n,r){return function(i,o,a,s,l,u,c){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function p(e){return b(e)&&!w(e)?n(e)||void 0:e}yr(i,o,a,s),mr(i,o,a,s,l,u);var f,h=s&&s.$options&&s.$options.timezone;if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var r=n(e,f);return h&&(r=Y(r,h)),r}return void 0}),s.$formatters.push(function(e){if(e&&!w(e))throw $a("datefmt","Expected `{0}` to be a date",e);return d(e)?(f=e,f&&h&&(f=Y(f,h,!0)),c("date")(e,r,h)):(f=null,"")}),b(a.min)||a.ngMin){var m;s.$validators.min=function(e){
return!d(e)||v(m)||n(e)>=m},a.$observe("min",function(e){m=p(e),s.$validate()})}if(b(a.max)||a.ngMax){var g;s.$validators.max=function(e){return!d(e)||v(g)||n(e)<=g},a.$observe("max",function(e){g=p(e),s.$validate()})}}}function yr(e,t,n,r){var i=t[0],o=r.$$hasNativeValidators=y(i.validity);o&&r.$parsers.push(function(e){var n=t.prop(_r)||{};return n.badInput||n.typeMismatch?void 0:e})}function Cr(e,t,n,r,i,o){if(yr(e,t,n,r),mr(e,t,n,r,i,o),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:qo.test(e)?parseFloat(e):void 0}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!T(e))throw $a("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),b(n.min)||n.ngMin){var a;r.$validators.min=function(e){return r.$isEmpty(e)||v(a)||e>=a},n.$observe("min",function(e){b(e)&&!T(e)&&(e=parseFloat(e)),a=T(e)&&!isNaN(e)?e:void 0,r.$validate()})}if(b(n.max)||n.ngMax){var s;r.$validators.max=function(e){return r.$isEmpty(e)||v(s)||s>=e},n.$observe("max",function(e){b(e)&&!T(e)&&(e=parseFloat(e)),s=T(e)&&!isNaN(e)?e:void 0,r.$validate()})}}function Er(e,t,n,r,i,o){mr(e,t,n,r,i,o),fr(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||Vo.test(n)}}function Tr(e,t,n,r,i,o){mr(e,t,n,r,i,o),fr(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Ho.test(n)}}function wr(e,t,n,r){v(n.name)&&t.attr("name",a());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function Dr(e,t,n,r,i){var o;if(b(r)){if(o=e(r),!o.constant)throw $a("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function Or(e,t,n,r,i,o,a,s){var l=Dr(s,e,"ngTrueValue",n.ngTrueValue,!0),u=Dr(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return B(e,l)}),r.$parsers.push(function(e){return e?l:u})}function Ir(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function o(e){var t=[];return Yr(e)?(r(e,function(e){t=t.concat(o(e))}),t):E(e)?e.split(" "):y(e)?(r(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,l){function u(e){var t=d(e,1);l.$addClass(t)}function c(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||he(),i=[];return r(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),s.data("$classCounts",n),i.join(" ")}function p(e,t){var r=i(t,e),o=i(e,t);r=d(r,1),o=d(o,-1),r&&r.length&&n.addClass(s,r),o&&o.length&&n.removeClass(s,o)}function f(e){if(t===!0||(1&a.$index)===t){var n=o(e||[]);if(h){if(!B(e,h)){var r=o(h);p(r,n)}}else u(n)}h=Yr(e)?e.map(function(e){return ge(e)}):ge(e)}var h;a.$watch(l[e],f,!0),l.$observe("class",function(t){f(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var i=1&n;if(i!==(1&r)){var s=o(a.$eval(l[e]));i===t?u(s):c(s)}})}}}]}function Rr(e){function t(e,t,s){v(t)?n("$pending",e,s):r("$pending",e,s),_(t)?t?(c(a.$error,e,s),u(a.$$success,e,s)):(u(a.$error,e,s),c(a.$$success,e,s)):(c(a.$error,e,s),c(a.$$success,e,s)),a.$pending?(i(Oa,!0),a.$valid=a.$invalid=void 0,o("",null)):(i(Oa,!1),a.$valid=$r(a.$error),a.$invalid=!a.$valid,o("",a.$valid));var l;l=a.$pending&&a.$pending[e]?void 0:a.$error[e]?!1:a.$$success[e]?!0:null,o(e,l),a.$$parentForm.$setValidity(e,l,a)}function n(e,t,n){a[e]||(a[e]={}),u(a[e],t,n)}function r(e,t,n){a[e]&&c(a[e],t,n),$r(a[e])&&(a[e]=void 0)}function i(e,t){t&&!l[e]?(d.addClass(s,e),l[e]=!0):!t&&l[e]&&(d.removeClass(s,e),l[e]=!1)}function o(e,t){e=e?"-"+se(e,"-"):"",i(ya+e,t===!0),i(Ca+e,t===!1)}var a=e.ctrl,s=e.$element,l={},u=e.set,c=e.unset,d=e.$animate;l[Ca]=!(l[ya]=s.hasClass(ya)),a.$setValidity=t}function $r(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function xr(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var kr=/^\/(.+)\/([a-z]*)$/,_r="validity",Sr=Object.prototype.hasOwnProperty,Ar=function(e){return E(e)?e.toLowerCase():e},Nr=function(e){return E(e)?e.toUpperCase():e},Kr=function(e){return E(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Pr=function(e){return E(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Ar=Kr,Nr=Pr);var Mr,Lr,Fr,Br,jr=[].slice,Ur=[].splice,Vr=[].push,Hr=Object.prototype.toString,qr=Object.getPrototypeOf,zr=t("ng"),Gr=e.angular||(e.angular={}),Wr=0;Mr=e.document.documentMode,f.$inject=[],h.$inject=[];var Yr=Array.isArray,Xr=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Jr=function(e){return E(e)?e.trim():e},Zr=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Qr=function(){function t(){try{return new Function(""),!1}catch(e){return!0}}if(!b(Qr.rules)){var n=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Qr.rules={noUnsafeEval:!r||-1!==r.indexOf("no-unsafe-eval"),noInlineStyle:!r||-1!==r.indexOf("no-inline-style")}}else Qr.rules={noUnsafeEval:t(),noInlineStyle:!1}}return Qr.rules},ei=function(){if(b(ei.name_))return ei.name_;var t,n,r,i,o=ni.length;for(n=0;o>n;++n)if(r=ni[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return ei.name_=i},ti=/:/g,ni=["ng-","data-ng-","ng:","x-ng-"],ri=/[A-Z]/g,ii=!1,oi=1,ai=2,si=3,li=8,ui=9,ci=11,di={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};xe.expando="ng339";var pi=xe.cache={},fi=1,hi=function(e,t,n){e.addEventListener(t,n,!1)},mi=function(e,t,n){e.removeEventListener(t,n,!1)};xe._data=function(e){return this.cache[e[this.expando]]||{}};var gi=/([\:\-\_]+(.))/g,vi=/^moz([A-Z])/,bi={mouseleave:"mouseout",mouseenter:"mouseover"},yi=t("jqLite"),Ci=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ei=/<|&#?\w+;/,Ti=/<([\w:-]+)/,wi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Di={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Di.optgroup=Di.option,Di.tbody=Di.tfoot=Di.colgroup=Di.caption=Di.thead,Di.th=Di.td;var Oi=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Ii=xe.prototype={ready:function(t){function n(){r||(r=!0,t())}var r=!1;"complete"===e.document.readyState?e.setTimeout(n):(this.on("DOMContentLoaded",n),xe(e).on("load",n))},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return Lr(e>=0?this[e]:this[this.length+e])},length:0,push:Vr,sort:[].sort,splice:[].splice},Ri={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Ri[Ar(e)]=e});var $i={};r("input,select,option,textarea,button,form,details".split(","),function(e){$i[e]=!0});var xi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Ke,removeData:Ae,hasData:De,cleanData:Oe},function(e,t){xe[t]=e}),r({data:Ke,inheritedData:je,scope:function(e){return Lr.data(e,"$scope")||je(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Lr.data(e,"$isolateScope")||Lr.data(e,"$isolateScopeNoTemplate")},controller:Be,injector:function(e){return je(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Pe,css:function(e,t,n){return t=Ee(t),b(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var r=e.nodeType;if(r!==si&&r!==ai&&r!==li){var i=Ar(t);if(Ri[i]){if(!b(n))return e[t]||(e.attributes.getNamedItem(t)||f).specified?i:void 0;n?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(b(n))e.setAttribute(t,n);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?void 0:o}}},prop:function(e,t,n){return b(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(v(t)){var n=e.nodeType;return n===oi||n===si?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(v(t)){if(e.multiple&&"select"===M(e)){var n=[];return r(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return v(t)?e.innerHTML:(_e(e,!0),void(e.innerHTML=t))},empty:Ue},function(e,t){xe.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Ue&&v(2==e.length&&e!==Pe&&e!==Be?t:n)){if(y(t)){for(r=0;o>r;r++)if(e===Ke)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=v(a)?Math.min(o,1):o,l=0;s>l;l++){var u=e(this[l],t,n);a=a?a+u:u}return a}for(r=0;o>r;r++)e(this[r],t,n);return this}}),r({removeData:Ae,on:function(e,t,n,r){if(b(r))throw yi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(we(e)){var i=Ne(e,!0),o=i.events,a=i.handle;a||(a=i.handle=Ge(e,o));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,u=function(t,r,i){var s=o[t];s||(s=o[t]=[],s.specialHandlerWrapper=r,"$destroy"===t||i||hi(e,t,a)),s.push(n)};l--;)t=s[l],bi[t]?(u(bi[t],Ye),u(t,void 0,!0)):u(t)}},off:Se,one:function(e,t,n){e=Lr(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;_e(e),r(new xe(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){e.nodeType===oi&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===oi||n===ci){t=new xe(t);for(var r=0,i=t.length;i>r;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===oi){var n=e.firstChild;r(new xe(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){$e(e,Lr(t).eq(0).clone()[0])},remove:Ve,detach:function(e){Ve(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new xe(t);for(var i=0,o=t.length;o>i;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Le,removeClass:Me,toggleClass:function(e,t,n){t&&r(t.split(" "),function(t){var r=n;v(r)&&(r=!Pe(e,t)),(r?Le:Me)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==ci?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ke,triggerHandler:function(e,t,n){var i,o,a,s=t.type||t,l=Ne(e),c=l&&l.events,d=c&&c[s];d&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:f,type:s,target:e},t.type&&(i=u(i,t)),o=ge(d),a=n?[i].concat(n):[i],r(o,function(t){i.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){xe.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;a>o;o++)v(i)?(i=e(this[o],t,n,r),b(i)&&(i=Lr(i))):Fe(i,e(this[o],t,n,r));return b(i)?i:this},xe.prototype.bind=xe.prototype.on,xe.prototype.unbind=xe.prototype.off}),Ze.prototype={put:function(e,t){this[Je(e,this.nextUid)]=t},get:function(e){return this[Je(e,this.nextUid)]},remove:function(e){var t=this[e=Je(e,this.nextUid)];return delete this[e],t}};var ki=[function(){this.$get=[function(){return Ze}]}],_i=/^([^\(]+?)=>/,Si=/^[^\(]*\(\s*([^\)]*)\)/m,Ai=/,/,Ni=/^\s*(_?)(\S+?)\1\s*$/,Ki=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Pi=t("$injector");rt.$$annotate=nt;var Mi=t("$animate"),Li=1,Fi="ng-animate",Bi=function(){this.$get=f},ji=function(){var e=new Ze,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function o(e,t,n){var i=!1;return t&&(t=E(t)?t.split(" "):Yr(t)?t:[],r(t,function(t){t&&(i=!0,e[t]=n)})),i}function a(){r(t,function(t){var n=e.get(t);if(n){var i=st(t.attr("class")),o="",a="";r(n,function(e,t){var n=!!i[t];e!==n&&(e?o+=(o.length?" ":"")+t:a+=(a.length?" ":"")+t)}),r(t,function(e){o&&Le(e,o),a&&Me(e,a)}),e.remove(t)}}),t.length=0}function s(n,r,s){var l=e.get(n)||{},u=o(l,r,!0),c=o(l,s,!1);(u||c)&&(e.put(n,l),t.push(n),1===t.length&&i.$$postDigest(a))}return{enabled:f,on:f,off:f,pin:f,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},Ui=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Mi("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+Fi+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw Mi("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Fi)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=at(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&Lr(r),i=i&&Lr(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",lt(o))},move:function(n,r,i,o){return r=r&&Lr(r),i=i&&Lr(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",lt(o))},leave:function(t,n){return e.push(t,"leave",lt(n),function(){t.remove()})},addClass:function(t,n,r){return r=lt(r),r.addClass=ot(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=lt(r),r.removeClass=ot(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=lt(i),i.addClass=ot(i.addClass,n),i.removeClass=ot(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=lt(o),o.from=o.from?u(o.from,n):n,o.to=o.to?u(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=ot(o.tempClasses,i),e.push(t,"animate",o)}}}]}],Vi=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},Hi=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,i,o){function a(e){this.setHost(e);var t=n(),r=function(e){o(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=i[0];n&&n.hidden?r(e):t(e)},this._state=0}var s=0,l=1,u=2;return a.chain=function(e,t){function n(){return r===e.length?void t(!0):void e[r](function(e){return e===!1?void t(!1):(r++,void n())})}var r=0;n()},a.all=function(e,t){function n(n){o=o&&n,++i===e.length&&t(o)}var i=0,o=!0;r(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===u?e():this._doneCallbacks.push(e)},progress:f,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=l,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==u&&(r(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=u)}},a}]},qi=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=F(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,l=new n;return{start:i,end:i}}}]},zi=t("$compile"),Gi=new ft;ht.$inject=["$provide","$$sanitizeUriProvider"],mt.prototype.isFirstChange=function(){return this.previousValue===Gi};var Wi=/^((?:x|data)[\:\-_])/i,Yi=t("$controller"),Xi=/^(\S+)(\s+as\s+([\w$]+))?$/,Ji=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Lr&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Zi="application/json",Qi={"Content-Type":Zi+";charset=utf-8"},eo=/^\[|^\{(?!\{)/,to={"[":/]$/,"{":/}$/},no=/^\)\]\}',?\n/,ro=t("$http"),io=function(e){return function(){throw ro("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},oo=Gr.$interpolateMinErr=t("$interpolate");oo.throwNoconcat=function(e){throw oo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},oo.interr=function(e,t){return oo("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var ao=function(){this.$get=["$window",function(e){function t(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var n=e.angular.callbacks,r={};return{createCallback:function(e){var i="_"+(n.$$counter++).toString(36),o="angular.callbacks."+i,a=t(i);return r[o]=n[i]=a,o},wasCalled:function(e){return r[e].called},getResponse:function(e){return r[e].data},removeCallback:function(e){var t=r[e];delete n[t.id],delete r[e]}}}]},so=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,lo={http:80,https:443,ftp:21},uo=t("$location"),co={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Xt("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=so.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Xt("$$protocol"),host:Xt("$$host"),port:Xt("$$port"),path:Jt("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(E(e)||T(e))e=e.toString(),this.$$search=Z(e);else{if(!y(e))throw uo("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=F(e,{}),r(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Jt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};r([Yt,Wt,Gt],function(e){e.prototype=Object.create(co),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Gt||!this.$$html5)throw uo("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=v(t)?null:t,this}});var po=t("$parse"),fo=Function.prototype.call,ho=Function.prototype.apply,mo=Function.prototype.bind,go=he();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){go[e]=!0});var vo={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},bo=function(e){this.options=e};bo.prototype={constructor:bo,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=go[t],o=go[n],a=go[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&56319>=n&&r>=56320&&57343>=r?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=b(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw po("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Ar(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=vo[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var yo=function(e,t){this.lexer=e,this.options=t};yo.Program="Program",yo.ExpressionStatement="ExpressionStatement",yo.AssignmentExpression="AssignmentExpression",yo.ConditionalExpression="ConditionalExpression",yo.LogicalExpression="LogicalExpression",yo.BinaryExpression="BinaryExpression",yo.UnaryExpression="UnaryExpression",yo.CallExpression="CallExpression",yo.MemberExpression="MemberExpression",yo.Identifier="Identifier",yo.Literal="Literal",yo.ArrayExpression="ArrayExpression",yo.Property="Property",yo.ObjectExpression="ObjectExpression",yo.ThisExpression="ThisExpression",yo.LocalsExpression="LocalsExpression",yo.NGValueParameter="NGValueParameter",yo.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:yo.Program,body:e}},expressionStatement:function(){return{type:yo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:yo.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:yo.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:yo.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:yo.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:yo.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:yo.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:yo.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:yo.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:yo.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=F(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:yo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:yo.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:yo.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:yo.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:yo.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:yo.Identifier,name:e.text}},constant:function(){return{type:yo.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:yo.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:yo.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:yo.ObjectExpression,properties:t}},throwError:function(e,t){throw po("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw po("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw po("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},selfReferential:{"this":{type:yo.ThisExpression},$locals:{type:yo.LocalsExpression}}},mn.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},un(i,n.$filter);var o,a="";if(this.stage="assign",o=pn(i)){this.state.computing="assign";var s=this.nextId();this.recurse(o,s),this.return_(s),a="fn.assign="+this.generateFunction("assign","s,v,l")}var l=cn(i.body);n.stage="inputs",r(l,function(e,t){var r="fn"+t;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var i=n.nextId();n.recurse(e,i),n.return_(i),n.state.inputs.push(r),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",c=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",u)(this.$filter,en,nn,rn,tn,on,an,sn,e);return this.state=this.stage=void 0,c.literal=fn(i),c.constant=hn(i),c},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return r(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return r(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,o,a){var s,l,u,c,d,p=this;if(i=i||f,!a&&b(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,o,!0));switch(e.type){case yo.Program:r(e.body,function(t,n){p.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?p.current().body.push(l,";"):p.return_(l)});break;case yo.Literal:c=this.escape(e.value),this.assign(t,c),i(c);break;case yo.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),c=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,c),i(c);break;case yo.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),c="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,c),i(c);break;case yo.LogicalExpression:t=t||this.nextId(),p.recurse(e.left,t),p.if_("&&"===e.operator?t:p.not(t),p.lazyRecurse(e.right,t)),i(t);break;case yo.ConditionalExpression:t=t||this.nextId(),p.recurse(e.test,t),p.if_(t,p.lazyRecurse(e.alternate,t),p.lazyRecurse(e.consequent,t)),i(t);break;case yo.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===p.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),en(e.name),
p.if_("inputs"===p.stage||p.not(p.getHasOwnProperty("l",e.name)),function(){p.if_("inputs"===p.stage||"s",function(){o&&1!==o&&p.if_(p.not(p.nonComputedMember("s",e.name)),p.lazyAssign(p.nonComputedMember("s",e.name),"{}")),p.assign(t,p.nonComputedMember("s",e.name))})},t&&p.lazyAssign(t,p.nonComputedMember("l",e.name))),(p.state.expensiveChecks||vn(e.name))&&p.addEnsureSafeObject(t),i(t);break;case yo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),p.recurse(e.object,s,void 0,function(){p.if_(p.notNull(s),function(){o&&1!==o&&p.addEnsureSafeAssignContext(s),e.computed?(l=p.nextId(),p.recurse(e.property,l),p.getStringValue(l),p.addEnsureSafeMemberName(l),o&&1!==o&&p.if_(p.not(p.computedMember(s,l)),p.lazyAssign(p.computedMember(s,l),"{}")),c=p.ensureSafeObject(p.computedMember(s,l)),p.assign(t,c),n&&(n.computed=!0,n.name=l)):(en(e.property.name),o&&1!==o&&p.if_(p.not(p.nonComputedMember(s,e.property.name)),p.lazyAssign(p.nonComputedMember(s,e.property.name),"{}")),c=p.nonComputedMember(s,e.property.name),(p.state.expensiveChecks||vn(e.property.name))&&(c=p.ensureSafeObject(c)),p.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){p.assign(t,"undefined")}),i(t)},!!o);break;case yo.CallExpression:t=t||this.nextId(),e.filter?(l=p.filter(e.callee.name),u=[],r(e.arguments,function(e){var t=p.nextId();p.recurse(e,t),u.push(t)}),c=l+"("+u.join(",")+")",p.assign(t,c),i(t)):(l=p.nextId(),s={},u=[],p.recurse(e.callee,l,s,function(){p.if_(p.notNull(l),function(){p.addEnsureSafeFunction(l),r(e.arguments,function(e){p.recurse(e,p.nextId(),void 0,function(e){u.push(p.ensureSafeObject(e))})}),s.name?(p.state.expensiveChecks||p.addEnsureSafeObject(s.context),c=p.member(s.context,s.name,s.computed)+"("+u.join(",")+")"):c=l+"("+u.join(",")+")",c=p.ensureSafeObject(c),p.assign(t,c)},function(){p.assign(t,"undefined")}),i(t)}));break;case yo.AssignmentExpression:if(l=this.nextId(),s={},!dn(e.left))throw po("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,s,function(){p.if_(p.notNull(s.context),function(){p.recurse(e.right,l),p.addEnsureSafeObject(p.member(s.context,s.name,s.computed)),p.addEnsureSafeAssignContext(s.context),c=p.member(s.context,s.name,s.computed)+e.operator+l,p.assign(t,c),i(t||c)})},1);break;case yo.ArrayExpression:u=[],r(e.elements,function(e){p.recurse(e,p.nextId(),void 0,function(e){u.push(e)})}),c="["+u.join(",")+"]",this.assign(t,c),i(c);break;case yo.ObjectExpression:u=[],d=!1,r(e.properties,function(e){e.computed&&(d=!0)}),d?(t=t||this.nextId(),this.assign(t,"{}"),r(e.properties,function(e){e.computed?(s=p.nextId(),p.recurse(e.key,s)):s=e.key.type===yo.Identifier?e.key.name:""+e.key.value,l=p.nextId(),p.recurse(e.value,l),p.assign(p.member(t,s,e.computed),l)})):(r(e.properties,function(t){p.recurse(t.value,e.constant?void 0:p.nextId(),void 0,function(e){u.push(p.escape(t.key.type===yo.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+u.join(",")+"}",this.assign(t,c)),i(t||c);break;case yo.ThisExpression:this.assign(t,"s"),i("s");break;case yo.LocalsExpression:this.assign(t,"l"),i("l");break;case yo.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):void 0},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,r=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(E(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(T(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw po("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},gn.prototype={compile:function(e,t){var n=this,i=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,un(i,n.$filter);var o,a;(o=pn(i))&&(a=this.recurse(o));var s,l=cn(i.body);l&&(s=[],r(l,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var u=[];r(i.body,function(e){u.push(n.recurse(e.expression))});var c=0===i.body.length?f:1===i.body.length?u[0]:function(e,t){var n;return r(u,function(r){n=r(e,t)}),n};return a&&(c.assign=function(e,t,n){return a(e,n,t)}),s&&(c.inputs=s),c.literal=fn(i),c.constant=hn(i),c},recurse:function(e,t,n){var i,o,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case yo.Literal:return this.value(e.value,t);case yo.UnaryExpression:return o=this.recurse(e.argument),this["unary"+e.operator](o,t);case yo.BinaryExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case yo.LogicalExpression:return i=this.recurse(e.left),o=this.recurse(e.right),this["binary"+e.operator](i,o,t);case yo.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case yo.Identifier:return en(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||vn(e.name),t,n,s.expression);case yo.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(en(e.property.name,s.expression),o=e.property.name),e.computed&&(o=this.recurse(e.property)),e.computed?this.computedMember(i,o,t,n,s.expression):this.nonComputedMember(i,o,s.expensiveChecks,t,n,s.expression);case yo.CallExpression:return a=[],r(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(o=this.$filter(e.callee.name)),e.filter||(o=this.recurse(e.callee,!0)),e.filter?function(e,n,r,i){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,n,r,i));var u=o.apply(void 0,s,i);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,r,i){var l,u=o(e,n,r,i);if(null!=u.value){nn(u.context,s.expression),rn(u.value,s.expression);for(var c=[],d=0;d<a.length;++d)c.push(nn(a[d](e,n,r,i),s.expression));l=nn(u.value.apply(u.context,c),s.expression)}return t?{value:l}:l};case yo.AssignmentExpression:return i=this.recurse(e.left,!0,1),o=this.recurse(e.right),function(e,n,r,a){var l=i(e,n,r,a),u=o(e,n,r,a);return nn(l.value,s.expression),on(l.context),l.context[l.name]=u,t?{value:u}:u};case yo.ArrayExpression:return a=[],r(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,r,i));return t?{value:o}:o};case yo.ObjectExpression:return a=[],r(e.properties,function(e){a.push(e.computed?{key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}:{key:e.key.type===yo.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,n,r,i)]=a[s].value(e,n,r,i):o[a[s].key]=a[s].value(e,n,r,i);return t?{value:o}:o};case yo.ThisExpression:return function(e){return t?{value:e}:e};case yo.LocalsExpression:return function(e,n){return t?{value:n}:n};case yo.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=b(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=b(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=sn(s,l);return n?{value:u}:u}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=(b(s)?s:0)-(b(l)?l:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var l=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,r,i){return function(o,a,s,l){var u=a&&e in a?a:o;r&&1!==r&&u&&!u[e]&&(u[e]={});var c=u?u[e]:void 0;return t&&nn(c,i),n?{context:u,name:e,value:c}:c}},computedMember:function(e,t,n,r,i){return function(o,a,s,l){var u,c,d=e(o,a,s,l);return null!=d&&(u=t(o,a,s,l),u=tn(u),en(u,i),r&&1!==r&&(on(d),d&&!d[u]&&(d[u]={})),c=d[u],nn(c,i)),n?{context:d,name:u,value:c}:c}},nonComputedMember:function(e,t,n,r,i,o){return function(a,s,l,u){var c=e(a,s,l,u);i&&1!==i&&(on(c),c&&!c[t]&&(c[t]={}));var d=null!=c?c[t]:void 0;return(n||vn(t))&&nn(d,o),r?{context:c,name:t,value:d}:d}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var Co=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new yo(e,n),this.astCompiler=n.csp?new gn(this.ast,t):new mn(this.ast,t)};Co.prototype={constructor:Co,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var Eo=Object.prototype.valueOf,To=t("$sce"),wo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Do=t("$compile"),Oo=e.document.createElement("a"),Io=Nn(e.location.href);Mn.$inject=["$document"],Fn.$inject=["$provide"];var Ro=22,$o=".",xo="0";Hn.$inject=["$locale"],qn.$inject=["$locale"];var ko={yyyy:Xn("FullYear",4,0,!1,!0),yy:Xn("FullYear",2,0,!0,!0),y:Xn("FullYear",1,0,!1,!0),MMMM:Jn("Month"),MMM:Jn("Month",!0),MM:Xn("Month",2,1),M:Xn("Month",1,1),LLLL:Jn("Month",!1,!0),dd:Xn("Date",2),d:Xn("Date",1),HH:Xn("Hours",2),H:Xn("Hours",1),hh:Xn("Hours",2,-12),h:Xn("Hours",1,-12),mm:Xn("Minutes",2),m:Xn("Minutes",1),ss:Xn("Seconds",2),s:Xn("Seconds",1),sss:Xn("Milliseconds",3),EEEE:Jn("Day"),EEE:Jn("Day",!0),a:nr,Z:Zn,ww:tr(2),w:tr(1),G:rr,GG:rr,GGG:rr,GGGG:ir},_o=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,So=/^\-?\d+$/;or.$inject=["$locale"];var Ao=m(Ar),No=m(Nr);ur.$inject=["$parse"];var Ko=m({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?void 0:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Hr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Po={};r(Ri,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=gt("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),Po[r]=function(){return{restrict:"A",priority:100,link:i}}}}),r(xi,function(e,t){Po[t]=function(){return{priority:100,link:function(e,n,r){if("ngPattern"===t&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(kr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(r[t],function(e){r.$set(t,e)})}}}}),r(["src","srcset","href"],function(e){var t=gt("ng-"+e);Po[t]=function(){return{priority:99,link:function(n,r,i){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Hr.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(a,t),void(Mr&&o&&r.prop(o,i[a]))):void("href"===e&&i.$set(a,null))})}}}});var Mo={$addControl:f,$$renameControl:dr,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f,$setSubmitted:f},Lo="ng-submitted";pr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Fo=function(e){return["$timeout","$parse",function(t,n){function r(e){return""===e?n('this[""]').assign:n(e).assign||f}var i={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:pr,compile:function(n,i){n.addClass(Ea).addClass(ya);var o=i.name?"name":e&&i.ngForm?"ngForm":!1;return{pre:function(e,n,i,a){var s=a[0];if(!("action"in i)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};hi(n[0],"submit",l),n.on("$destroy",function(){t(function(){mi(n[0],"submit",l)},0,!1)})}var c=a[1]||s.$$parentForm;c.$addControl(s);var d=o?r(s.$name):f;o&&(d(e,s),i.$observe(o,function(t){s.$name!==t&&(d(e,void 0),s.$$parentForm.$$renameControl(s,t),(d=r(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),d(e,void 0),u(s,Mo)})}}}};return i}]},Bo=Fo(),jo=Fo(!0),Uo=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Vo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Ho=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,qo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,zo=/^(\d{4,})-(\d{2})-(\d{2})$/,Go=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Wo=/^(\d{4,})-W(\d\d)$/,Yo=/^(\d{4,})-(\d\d)$/,Xo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Jo="keydown wheel mousedown",Zo=he();r("date,datetime-local,month,time,week".split(","),function(e){Zo[e]=!0});var Qo={text:hr,date:br("date",zo,vr(zo,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":br("datetimelocal",Go,vr(Go,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:br("time",Xo,vr(Xo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:br("week",Wo,gr,"yyyy-Www"),month:br("month",Yo,vr(Yo,["yyyy","MM"]),"yyyy-MM"),number:Cr,url:Er,email:Tr,radio:wr,checkbox:Or,hidden:f,button:f,submit:f,reset:f,file:f},ea=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Qo[Ar(a.type)]||Qo.text)(i,o,a,s[0],t,e,n,r)}}}}],ta=/^(true|false|\d+)$/,na=function(){return{restrict:"A",priority:100,compile:function(e,t){return ta.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},ra=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=v(e)?"":e})}}}}],ia=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=v(e)?"":e})}}}}],oa=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")})}}}}],aa=m({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),sa=Ir("",!0),la=Ir("Odd",0),ua=Ir("Even",1),ca=cr({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),da=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],pa={},fa={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=gt("ng-"+e);pa[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};fa[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var ha=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=fe(s.clone),e.leave(u).then(function(){u=null}),s=null))})}}}],ma=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Gr.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var d,p,f,h=0,m=function(){p&&(p.remove(),p=null),d&&(d.$destroy(),d=null),f&&(n.leave(f).then(function(){p=null}),p=f,f=null)};r.$watch(o,function(o){var l=function(){!b(s)||s&&!r.$eval(s)||t()},p=++h;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&p===h){var t=r.$new();u.template=e;var s=c(t,function(e){m(),n.enter(e,null,i).then(l)});d=t,f=s,d.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||p===h&&(m(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(m(),u.template=null)})}}}}],ga=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return Hr.call(r[0]).match(/SVG/)?(r.empty(),void t(Ie(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],va=cr({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),ba=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var o=t.attr(n.$attr.ngList)||", ",a="false"!==n.ngTrim,s=a?Jr(o):o,l=function(e){if(!v(e)){var t=[];return e&&r(e.split(s),function(e){e&&t.push(a?Jr(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){return Yr(e)?e.join(o):void 0}),i.$isEmpty=function(e){return!e||!e.length}}}},ya="ng-valid",Ca="ng-invalid",Ea="ng-pristine",Ta="ng-dirty",wa="ng-untouched",Da="ng-touched",Oa="ng-pending",Ia="ng-empty",Ra="ng-not-empty",$a=t("ngModel"),xa=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,i,o,a,s,l,u,c){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=c(n.name||"",!1)(e),this.$$parentForm=Mo;var d,p=o(n.ngModel),h=p.assign,m=p,g=h,y=null,C=this;this.$$setOptions=function(e){if(C.$options=e,e&&e.getterSetter){var t=o(n.ngModel+"()"),r=o(n.ngModel+"($$$p)");m=function(e){var n=p(e);return D(n)&&(n=t(e)),n},g=function(e,t){D(p(e))?r(e,{$$$p:t}):h(e,t)}}else if(!p.assign)throw $a("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,X(i))},this.$render=f,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){C.$isEmpty(e)?(a.removeClass(i,Ra),a.addClass(i,Ia)):(a.removeClass(i,Ia),a.addClass(i,Ra))};var E=0;Rr({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:a}),this.$setPristine=function(){C.$dirty=!1,C.$pristine=!0,a.removeClass(i,Ta),a.addClass(i,Ea)},this.$setDirty=function(){C.$dirty=!0,C.$pristine=!1,a.removeClass(i,Ea),a.addClass(i,Ta),C.$$parentForm.$setDirty()},this.$setUntouched=function(){C.$touched=!1,C.$untouched=!0,a.setClass(i,wa,Da)},this.$setTouched=function(){C.$touched=!0,C.$untouched=!1,a.setClass(i,Da,wa)},this.$rollbackViewValue=function(){s.cancel(y),C.$viewValue=C.$$lastCommittedViewValue,C.$render()},this.$validate=function(){if(!T(C.$modelValue)||!isNaN(C.$modelValue)){var e=C.$$lastCommittedViewValue,t=C.$$rawModelValue,n=C.$valid,r=C.$modelValue,i=C.$options&&C.$options.allowInvalid;C.$$runValidators(t,e,function(e){i||n===e||(C.$modelValue=e?t:void 0,C.$modelValue!==r&&C.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function i(){var e=C.$$parserName||"parse";return v(d)?(s(e,null),!0):(d||(r(C.$validators,function(e,t){s(t,null)}),r(C.$asyncValidators,function(e,t){s(t,null)})),s(e,d),d)}function o(){var n=!0;return r(C.$validators,function(r,i){var o=r(e,t);n=n&&o,s(i,o)}),n?!0:(r(C.$asyncValidators,function(e,t){s(t,null)}),!1)}function a(){var n=[],i=!0;r(C.$asyncValidators,function(r,o){var a=r(e,t);if(!S(a))throw $a("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){i=!1,s(o,!1)}))}),n.length?u.all(n).then(function(){l(i)},f):l(!0)}function s(e,t){c===E&&C.$setValidity(e,t)}function l(e){c===E&&n(e)}E++;var c=E;return i()&&o()?void a():void l(!1)},this.$commitViewValue=function(){var e=C.$viewValue;s.cancel(y),(C.$$lastCommittedViewValue!==e||""===e&&C.$$hasNativeValidators)&&(C.$$updateEmptyClasses(e),C.$$lastCommittedViewValue=e,C.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){C.$modelValue!==o&&C.$$writeModelToScope()}var n=C.$$lastCommittedViewValue,r=n;if(d=v(r)?void 0:!0)for(var i=0;i<C.$parsers.length;i++)if(r=C.$parsers[i](r),v(r)){d=!1;break}T(C.$modelValue)&&isNaN(C.$modelValue)&&(C.$modelValue=m(e));var o=C.$modelValue,a=C.$options&&C.$options.allowInvalid;C.$$rawModelValue=r,a&&(C.$modelValue=r,t()),C.$$runValidators(r,C.$$lastCommittedViewValue,function(e){a||(C.$modelValue=e?r:void 0,t())})},this.$$writeModelToScope=function(){g(e,C.$modelValue),r(C.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){C.$viewValue=e,(!C.$options||C.$options.updateOnDefault)&&C.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=C.$options;i&&b(i.debounce)&&(n=i.debounce,T(n)?r=n:T(n[t])?r=n[t]:T(n["default"])&&(r=n["default"])),s.cancel(y),r?y=s(function(){C.$commitViewValue()},r):l.$$phase?C.$commitViewValue():e.$apply(function(){C.$commitViewValue()})},e.$watch(function(){var t=m(e);if(t!==C.$modelValue&&(C.$modelValue===C.$modelValue||t===t)){C.$modelValue=C.$$rawModelValue=t,d=void 0;for(var n=C.$formatters,r=n.length,i=t;r--;)i=n[r](i);C.$viewValue!==i&&(C.$$updateEmptyClasses(i),C.$viewValue=C.$$lastCommittedViewValue=i,C.$render(),C.$$runValidators(t,i,f))}return t})}],ka=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:xa,priority:1,compile:function(t){return t.addClass(Ea).addClass(wa).addClass(ya),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],_a=/(\s+|^)default(\s+|$)/,Sa=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=F(e.$eval(t.ngModelOptions)),b(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Jr(this.$options.updateOn.replace(_a,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Aa=cr({terminal:!0,priority:1e3}),Na=t("ngOptions"),Ka=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Pa=["$compile","$document","$parse",function(t,i,o){function a(e,t,r){function i(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!u&&n(e))t=e;else{t=[];for(var r in e)e.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t.push(r)}return t}var s=e.match(Ka);if(!s)throw Na("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,X(t));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],d=s[9],p=o(s[2]?s[1]:l),f=c&&o(c),h=f||p,m=d&&o(d),g=d?function(e,t){return m(r,t)}:function(e){return Je(e)},v=function(e,t){return g(e,w(e,t))},b=o(s[2]||s[1]),y=o(s[3]||""),C=o(s[4]||""),E=o(s[8]),T={},w=u?function(e,t){return T[u]=t,T[l]=e,T}:function(e){return T[l]=e,T};return{trackBy:d,getTrackByValue:v,getWatchables:o(E,function(e){var t=[];e=e||[];for(var n=a(e),i=n.length,o=0;i>o;o++){var l=e===n?o:n[o],u=e[l],c=w(u,l),d=g(u,c);if(t.push(d),s[2]||s[1]){var p=b(r,c);t.push(p)}if(s[4]){var f=C(r,c);t.push(f)}}return t}),getOptions:function(){for(var e=[],t={},n=E(r)||[],o=a(n),s=o.length,l=0;s>l;l++){var u=n===o?l:o[l],c=n[u],p=w(c,u),f=h(r,p),m=g(f,p),T=b(r,p),D=y(r,p),O=C(r,p),I=new i(m,f,T,D,O);e.push(I),t[m]=I}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?Gr.copy(e.viewValue):e.viewValue}}}}}function s(e,n,o,s){function c(e,t){var n=l.cloneNode(!1);t.appendChild(n),d(e,n)}function d(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function p(){var e=w&&h.readValue();if(w)for(var t=w.items.length-1;t>=0;t--){var r=w.items[t];Ve(b(r.group)?r.element.parentNode:r.element)}w=D.getOptions();var i={};if(E&&n.prepend(f),w.items.forEach(function(e){var t;b(e.group)?(t=i[e.group],t||(t=u.cloneNode(!1),O.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),c(e,t)):c(e,O)}),n[0].appendChild(O),m.$render(),!m.$isEmpty(e)){var o=h.readValue(),a=D.trackBy||g;(a?B(e,o):e===o)||(m.$setViewValue(o),m.$render())}}for(var f,h=s[0],m=s[1],g=o.multiple,v=0,y=n.children(),C=y.length;C>v;v++)if(""===y[v].value){f=y.eq(v);break}var E=!!f,T=Lr(l.cloneNode(!1));T.val("?");var w,D=a(o.ngOptions,n,e),O=i[0].createDocumentFragment(),I=function(){E||n.prepend(f),n.val(""),f.prop("selected",!0),f.attr("selected",!0)},R=function(){E||f.remove()},$=function(){n.prepend(T),n.val("?"),T.prop("selected",!0),T.attr("selected",!0)},x=function(){T.remove()};g?(m.$isEmpty=function(e){return!e||0===e.length},h.writeValue=function(e){w.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=w.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},h.readValue=function(){var e=n.val()||[],t=[];return r(e,function(e){var n=w.selectValueMap[e];n&&!n.disabled&&t.push(w.getViewValueFromOption(n))}),t},D.trackBy&&e.$watchCollection(function(){return Yr(m.$viewValue)?m.$viewValue.map(function(e){return D.getTrackByValue(e)}):void 0},function(){m.$render()})):(h.writeValue=function(e){var t=w.getOptionFromViewValue(e);t?(n[0].value!==t.selectValue&&(x(),R(),n[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||E?(x(),I()):(R(),$())},h.readValue=function(){var e=w.selectValueMap[n.val()];return e&&!e.disabled?(R(),x(),w.getViewValueFromOption(e)):null},D.trackBy&&e.$watch(function(){return D.getTrackByValue(m.$viewValue)},function(){m.$render()})),E?(f.remove(),t(f)(e),f.removeClass("ng-scope")):f=Lr(l.cloneNode(!1)),n.empty(),p(),e.$watchCollection(D.getWatchables,p)}var l=e.document.createElement("option"),u=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=f},post:s}}}],Ma=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(e){s.text(e||"")}var c,d=l.count,p=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,m=a.$eval(p)||{},g={},b=t.startSymbol(),y=t.endSymbol(),C=b+d+"-"+h+y,E=Gr.noop;r(l,function(e,t){var n=o.exec(t);if(n){var r=(n[1]?"-":"")+Ar(n[2]);m[r]=s.attr(l.$attr[t])}}),r(m,function(e,n){g[n]=t(e.replace(i,C))}),a.$watch(d,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in m||(r=e.pluralCat(r-h)),r!==c&&!(i&&T(c)&&isNaN(c))){E();var o=g[r];v(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+p),E=f,u()):E=a.$watch(o,u),c=r}})}}}],La=["$parse","$animate","$compile",function(e,i,o){var a="$$NG_REMOVED",s=t("ngRepeat"),l=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},u=function(e){return e.clone[0]},c=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,d){var p=d.ngRepeat,f=o.$$createComment("end ngRepeat",p),h=p.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",p);var m=h[1],g=h[2],v=h[3],b=h[4];if(h=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!h)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var y=h[3]||h[1],C=h[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",v);var E,T,w,D,O={$id:Je};return b?E=e(b):(w=function(e,t){return Je(t)},D=function(e){return e}),function(e,t,o,d,h){E&&(T=function(t,n,r){return C&&(O[C]=t),O[y]=n,O.$index=r,E(e,O)});var m=he();e.$watchCollection(g,function(o){
var d,g,b,E,O,I,R,$,x,k,_,S,A=t[0],N=he();if(v&&(e[v]=o),n(o))x=o,$=T||w;else{$=T||D,x=[];for(var K in o)Sr.call(o,K)&&"$"!==K.charAt(0)&&x.push(K)}for(E=x.length,_=new Array(E),d=0;E>d;d++)if(O=o===x?d:x[d],I=o[O],R=$(O,I,d),m[R])k=m[R],delete m[R],N[R]=k,_[d]=k;else{if(N[R])throw r(_,function(e){e&&e.scope&&(m[e.id]=e)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",p,R,I);_[d]={id:R,scope:void 0,clone:void 0},N[R]=!0}for(var P in m){if(k=m[P],S=fe(k.clone),i.leave(S),S[0].parentNode)for(d=0,g=S.length;g>d;d++)S[d][a]=!0;k.scope.$destroy()}for(d=0;E>d;d++)if(O=o===x?d:x[d],I=o[O],k=_[d],k.scope){b=A;do b=b.nextSibling;while(b&&b[a]);u(k)!=b&&i.move(fe(k.clone),null,A),A=c(k),l(k.scope,d,y,I,C,O,E)}else h(function(e,t){k.scope=t;var n=f.cloneNode(!1);e[e.length++]=n,i.enter(e,null,A),A=n,k.clone=e,N[k.id]=k,l(k.scope,d,y,I,C,O,E)});m=N})}}}}],Fa="ng-hide",Ba="ng-hide-animate",ja=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,Fa,{tempClasses:Ba})})}}}],Ua=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,Fa,{tempClasses:Ba})})}}}],Va=cr(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Ha=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,a){var s=o.ngSwitch||o.on,l=[],u=[],c=[],d=[],p=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var i,o;for(i=0,o=c.length;o>i;++i)e.cancel(c[i]);for(c.length=0,i=0,o=d.length;o>i;++i){var s=fe(u[i].clone);d[i].$destroy();var f=c[i]=e.leave(s);f.then(p(c,i))}u.length=0,d.length=0,(l=a.cases["!"+n]||a.cases["?"])&&r(l,function(n){n.transclude(function(r,i){d.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:r};u.push(a),e.enter(r,o.parent(),o)})})})}}}],qa=cr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),za=cr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Ga=t("ngTransclude"),Wa=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){function a(e,n){e.length?t.append(e):(s(),n.$destroy())}function s(){n(e,function(e){t.append(e)})}if(!o)throw Ga("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",X(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var l=r.ngTransclude||r.ngTranscludeSlot;o(a,null,l),l&&!o.isSlotFilled(l)&&s()}}}}],Ya=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Xa={$setViewValue:f,$render:f},Ja=["$element","$scope",function(t,n){var r=this,i=new Ze;r.ngModelCtrl=Xa,r.unknownOption=Lr(e.document.createElement("option")),r.renderUnknownOption=function(e){var n="? "+Je(e)+" ?";r.unknownOption.val(n),t.prepend(r.unknownOption),t.val(n)},n.$on("$destroy",function(){r.renderUnknownOption=f}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(e,t){if(t[0].nodeType!==li){de(e,'"option value"'),""===e&&(r.emptyOption=t);var n=i.get(e)||0;i.put(e,n+1),r.ngModelCtrl.$render(),xr(t)}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.remove(e),""===e&&(r.emptyOption=void 0)):i.put(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.registerOption=function(e,t,n,i,o){if(i){var a;n.$observe("value",function(e){b(a)&&r.removeOption(a),a=e,r.addOption(e,t)})}else o?e.$watch(o,function(e,i){n.$set("value",e),i!==e&&r.removeOption(i),r.addOption(e,t)}):r.addOption(n.value,t);t.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],Za=function(){function e(e,t,n,i){var o=i[1];if(o){var a=i[0];if(a.ngModelCtrl=o,t.on("change",function(){e.$apply(function(){o.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var e=[];return r(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new Ze(e);r(t.find("option"),function(e){e.selected=b(n.get(e.value))})};var s,l=0/0;e.$watch(function(){l!==o.$viewValue||B(s,o.$viewValue)||(s=ge(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Ja,priority:1,link:{pre:e,post:t}}},Qa=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(b(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,r,i)}}}}],es=m({restrict:"E",terminal:!1}),ts=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},ns=function(){return{restrict:"A",require:"?ngModel",link:function(e,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(e){if(E(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw t("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,e,X(n));o=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||v(o)||o.test(t)}}}}},rs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=d(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||t.length<=i}}}}},is=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=d(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(le(),ye(Gr),Gr.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function n(e,n){var r=n;void 0===r&&(r=Math.min(t(e),3));var i=Math.pow(10,r),o=(e*i|0)%i;return{v:r,f:o}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var i=0|e,o=n(e,t);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),void Lr(e.document).ready(function(){re(e.document,ie)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/**
 * @license AngularJS v1.5.8
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(){function n(e,t){var n,r={},i=e.split(",");for(n=0;n<i.length;n++)r[t?l(i[n]):i[n]]=!0;return r}function r(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),b.innerHTML=t;var r=5;do{if(0===r)throw p("uinput","Failed to sanitize html because the input is unstable");r--,e.document.documentMode&&g(b),t=b.innerHTML,b.innerHTML=t}while(t!==b.innerHTML);for(var i=b.firstChild;i;){switch(i.nodeType){case 1:n.start(i.nodeName.toLowerCase(),f(i.attributes));break;case 3:n.chars(i.textContent)}var o;if(!(o=i.firstChild)&&(1==i.nodeType&&n.end(i.nodeName.toLowerCase()),o=i.nextSibling,!o))for(;null==o&&(i=i.parentNode,i!==b);)o=i.nextSibling,1==i.nodeType&&n.end(i.nodeName.toLowerCase());i=o}for(;i=b.firstChild;)b.removeChild(i)}function f(e){for(var t={},n=0,r=e.length;r>n;n++){var i=e[n];t[i.name]=i.value}return t}function h(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(C,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(e,t){var n=!1,r=i(e,e.push);return{start:function(e,i){e=l(e),!n&&$[e]&&(n=e),n||x[e]!==!0||(r("<"),r(e),a(i,function(n,i){var o=l(i),a="img"===e&&"src"===o||"background"===o;A[o]!==!0||k[o]===!0&&!t(n,a)||(r(" "),r(i),r('="'),r(h(n)),r('"'))}),r(">"))},end:function(e){e=l(e),n||x[e]!==!0||E[e]===!0||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(h(e))}}}function g(t){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;i>r;r++){var o=n[r],a=o.name.toLowerCase();("xmlns:ns1"===a||0===a.lastIndexOf("ns1:",0))&&(t.removeAttributeNode(o),r--,i--)}var s=t.firstChild;s&&g(s),s=t.nextSibling,s&&g(s)}var v=!1;this.$get=["$$sanitizeUri",function(e){return v&&o(x,R),function(t){var n=[];return c(t,d(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?(v=e,this):v},i=t.bind,o=t.extend,a=t.forEach,s=t.isDefined,l=t.lowercase,u=t.noop,c=r,d=m;var b,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C=/([^\#-~ |!])/g,E=n("area,br,col,hr,img,wbr"),T=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w=n("rp,rt"),D=o({},w,T),O=o({},T,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),I=o({},w,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),R=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),$=n("script,style"),x=o({},E,O,I,D),k=n("background,cite,href,longdesc,src,xlink:href"),_=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),S=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),A=o({},k,S,_);!function(e){var t;if(!e.document||!e.document.implementation)throw p("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),r=n.getElementsByTagName("body");if(1===r.length)b=r[0];else{var i=t.createElement("html");b=t.createElement("body"),i.appendChild(b),t.appendChild(i)}}(e)}function r(e){var t=[],n=d(t,u);return n.chars(e),t.join("")}var i,o,a,s,l,u,c,d,p=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",n),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i,o=t.$$minErr("linky"),a=t.isDefined,s=t.isFunction,l=t.isObject,u=t.isString;return function(t,c,d){function p(e){e&&y.push(r(e))}function f(e,t){var n,r=v(e);y.push("<a ");for(n in r)y.push(n+'="'+r[n]+'" ');!a(c)||"target"in r||y.push('target="',c,'" '),y.push('href="',e.replace(/"/g,"&quot;"),'">'),p(t),y.push("</a>")}if(null==t||""===t)return t;if(!u(t))throw o("notstring","Expected string but received: {0}",t);for(var h,m,g,v=s(d)?d:l(d)?function(){return d}:function(){return{}},b=t,y=[];h=b.match(n);)m=h[0],h[2]||h[4]||(m=(h[3]?"http://":"mailto:")+m),g=h.index,p(b.substr(0,g)),f(m,h[0].replace(i,"")),b=b.substring(g+h[0].length);return p(b),e(y.join(""))}}])}(window,window.angular),/**
 * State-based routing for AngularJS
 * @version v0.3.1
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function r(e,t){return V(new(V(function(){},{prototype:e})),t)}function i(e){return U(arguments,function(t){t!==e&&U(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function o(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function a(e){if(Object.keys)return Object.keys(e);var t=[];return U(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in e&&e[r]===t)return r;return-1}function l(e,t,n,r){var i,l=o(n,r),u={},c=[];for(var d in l)if(l[d]&&l[d].params&&(i=a(l[d].params),i.length))for(var p in i)s(c,i[p])>=0||(c.push(i[p]),u[i[p]]=e[i[p]]);return V({},u,t)}function u(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!=t[o])return!1}return!0}function c(e,t){var n={};return U(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return U(n,function(n){n in e&&(t[n]=e[n])}),t}function p(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)-1==s(n,r)&&(t[r]=e[r]);return t}function f(e,t){var n=j(e),r=n?[]:{};return U(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function h(e,t){var n=j(e)?[]:{};return U(e,function(e,r){n[r]=t(e,r)}),n}function m(e,t){var r=1,o=2,l={},u=[],c=l,d=V(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function f(e,n){if(b[n]!==o){if(v.push(n),b[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(b[n]=r,F(e))g.push(n,[function(){return t.get(e)}],u);else{var i=t.annotate(e);U(i,function(e){e!==n&&l.hasOwnProperty(e)&&f(l[e],e)}),g.push(n,e,i)}v.pop(),b[n]=o}}function h(e){return B(e)&&e.then&&e.$$promises}if(!B(l))throw new Error("'invocables' must be an object");var m=a(l||{}),g=[],v=[],b={};return U(l,f),l=v=b=null,function(r,o,a){function s(){--C||(E||i(y,o.$$values),v.$$values=y,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve(y))}function l(e){v.$$failure=e,f.reject(e)}function u(n,i,o){function u(e){d.reject(e),l(e)}function c(){if(!M(v.$$failure))try{d.resolve(t.invoke(i,a,y)),d.promise.then(function(e){y[n]=e,s()},u)}catch(e){u(e)}}var d=e.defer(),p=0;U(o,function(e){b.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(p++,b[e].then(function(t){y[e]=t,--p||c()},u))}),p||c(),b[n]=d.promise}if(h(r)&&a===n&&(a=o,o=r,r=null),r){if(!B(r))throw new Error("'locals' must be an object")}else r=c;if(o){if(!h(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=d;var f=e.defer(),v=f.promise,b=v.$$promises={},y=V({},r),C=1+g.length/3,E=!1;if(M(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&i(y,p(o.$$inheritedValues,m)),V(b,o.$$promises),o.$$values?(E=i(y,p(o.$$values,m)),v.$$inheritedValues=p(o.$$values,m),s()):(o.$$inheritedValues&&(v.$$inheritedValues=p(o.$$inheritedValues,m)),o.then(s,l));for(var T=0,w=g.length;w>T;T+=3)r.hasOwnProperty(g[T])?s():u(g[T],g[T+1],g[T+2]);return v}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function g(e,t,n){this.fromConfig=function(e,t,n){return M(e.template)?this.fromString(e.template,t):M(e.templateUrl)?this.fromUrl(e.templateUrl,t):M(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return L(e)?e(t):e},this.fromUrl=function(n,r){return L(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function v(e,t,i){function o(t,n,r,i){if(g.push(t),h[t])return h[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(m[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return m[t]=new z.Param(t,n,r,i),m[t]}function a(e,t,n,r){var i=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:o=o.replace(/\/$/,""),i=["(?:/(",")|/)?"];break;default:i=["("+n+"|",")?"]}return o+i[0]+t+i[1]}function s(i,o){var a,s,l,u,c;return a=i[2]||i[3],c=t.params[a],l=e.substring(p,i.index),s=o?i[4]:i[4]||("*"==i[1]?".*":null),s&&(u=z.type(s)||r(z.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:a,regexp:s,segment:l,type:u,cfg:c}}t=V({params:{}},B(t)?t:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",p=0,f=this.segments=[],h=i?i.params:{},m=this.params=i?i.params.$$new():new z.ParamSet,g=[];this.source=e;for(var v,b,y;(l=u.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)b=o(v.id,v.type,v.cfg,"path"),d+=a(v.segment,b.type.pattern.source,b.squash,b.isOptional),f.push(v.segment),p=u.lastIndex;y=e.substring(p);var C=y.indexOf("?");if(C>=0){var E=this.sourceSearch=y.substring(C);if(y=y.substring(0,C),this.sourcePath=e.substring(0,p+C),E.length>0)for(p=0;l=c.exec(E);)v=s(l,!0),b=o(v.id,v.type,v.cfg,"search"),p=u.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=a(y)+(t.strict===!1?"/?":"")+"$",f.push(y),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=g}function b(e){V(this,e)}function y(){function e(e){return null!=e?e.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):e}function i(e){return null!=e?e.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):e}function o(){return{strict:m,caseInsensitive:p}}function l(e){return L(e)||j(e)&&L(e[e.length-1])}function u(){for(;T.length;){var e=T.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(C[e.name],d.invoke(e.def))}}function c(e){V(this,e||{})}z=this;var d,p=!1,m=!0,g=!1,C={},E=!0,T=[],w={string:{encode:e,decode:i,is:function(e){return null==e||!M(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return M(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};y.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(e.value)},this.caseInsensitive=function(e){return M(e)&&(p=e),p},this.strictMode=function(e){return M(e)&&(m=e),m},this.defaultSquashPolicy=function(e){if(!M(e))return g;if(e!==!0&&e!==!1&&!F(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return g=e,e},this.compile=function(e,t){return new v(e,V(o(),t))},this.isMatcher=function(e){if(!B(e))return!1;var t=!0;return U(v.prototype,function(n,r){L(n)&&(t=t&&M(e[r])&&L(e[r]))}),t},this.type=function(e,t,n){if(!M(t))return C[e];if(C.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return C[e]=new b(V({name:e},t)),n&&(T.push({name:e,def:n}),E||u()),this},U(w,function(e,t){C[t]=new b(V({name:t},e))}),C=r(C,{}),this.$get=["$injector",function(e){return d=e,E=!1,u(),U(w,function(e,t){C[t]||(C[t]=new b(e))}),this}],this.Param=function(e,r,i,o){function u(e){var t=B(e)?a(e):[],n=-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array");return n&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}function c(n,r,i){if(n.type&&r)throw new Error("Param '"+e+"' has two type configurations.");return r?r:n.type?t.isString(n.type)?C[n.type]:n.type instanceof b?n.type:new b(n.type):"config"===i?C.any:C.string}function p(){var t={array:"search"===o?"auto":!1},n=e.match(/\[\]$/)?{array:!0}:{};return V(t,n,i).array}function m(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!M(n)||null==n)return g;if(n===!0||F(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(e,t,r,i){var o,a,l=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return o=j(e.replace)?e.replace:[],F(i)&&o.push({from:i,to:n}),a=h(o,function(e){return e.from}),f(l,function(e){return-1===s(a,e.from)}).concat(o)}function y(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");var e=d.invoke(i.$$fn);if(null!==e&&e!==n&&!w.type.is(e))throw new Error("Default value ("+e+") for parameter '"+w.id+"' is not an instance of Type ("+w.type.name+")");return e}function E(e){function t(e){return function(t){return t.from===e}}function n(e){var n=h(f(w.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),M(e)?w.type.$normalize(e):y()}function T(){return"{Param:"+e+" "+r+" squash: '"+I+"' optional: "+O+"}"}var w=this;i=u(i),r=c(i,r,o);var D=p();r=D?r.$asArray(D,"search"===o):r,"string"!==r.name||D||"path"!==o||i.value!==n||(i.value="");var O=i.value!==n,I=m(i,O),R=v(i,D,O,I);V(this,{id:e,type:r,location:o,array:D,squash:I,replace:R,isOptional:O,value:E,dynamic:n,config:i,toString:T})},c.prototype={$$new:function(){return r(this,V(new c,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=a(c.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),U(t,function(t){U(a(t),function(t){-1===s(e,t)&&-1===s(r,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return U(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return U(r.$$keys(),function(i){var o=e&&e[i],a=t&&t[i];r[i].type.equals(o,a)||(n=!1)}),n},$$validates:function(e){var r,i,o,a,s,l=this.$$keys();for(r=0;r<l.length&&(i=this[l[r]],o=e[l[r]],o!==n&&null!==o||!i.isOptional);r++){if(a=i.type.$normalize(o),!i.type.is(a))return!1;if(s=i.type.encode(a),t.isString(s)&&!i.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function C(e,r){function i(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function o(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function a(e,t,n){if(!n)return!1;var r=e.invoke(t,t,{$match:n});return M(r)?r:!0}function s(r,i,o,a,s){function p(e,t,n){return"/"===g?e:t?g.slice(0,-1)+e:n?g.slice(1)+e:e}function f(e){function t(e){var t=e(o,r);return t?(F(t)&&r.replace().url(t),!0):!1}if(!e||!e.defaultPrevented){{m&&r.url()===m}m=n;var i,a=u.length;for(i=0;a>i;i++)if(t(u[i]))return;c&&t(c)}}function h(){return l=l||i.$on("$locationChangeSuccess",f)}var m,g=a.baseHref(),v=r.url();return d||h(),{sync:function(){f()},listen:function(){return h()},update:function(e){return e?void(v=r.url()):void(r.url()!==v&&(r.url(v),r.replace()))},push:function(e,t,i){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),r.url(o),m=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var a=e.html5Mode();t.isObject(a)&&(a=a.enabled),a=a&&s.history;var l=n.format(i);if(o=o||{},a||null===l||(l="#"+e.hashPrefix()+l),null!==l&&i&&i["#"]&&(l+="#"+i["#"]),l=p(l,a,o.absolute),!o.absolute||!l)return l;var u=!a&&l?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,u,l].join("")}}}var l,u=[],c=null,d=!1;this.rule=function(e){if(!L(e))throw new Error("'rule' must be a function");return u.push(e),this},this.otherwise=function(e){if(F(e)){var t=e;e=function(){return t}}else if(!L(e))throw new Error("'rule' must be a function");return c=e,this},this.when=function(e,t){var n,s=F(t);if(F(e)&&(e=r.compile(e)),!s&&!L(t)&&!j(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=r.compile(t),t=["$match",function(e){return n.format(e)}]),V(function(n,r){return a(n,t,e.exec(r.path(),r.search()))},{prefix:F(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return o(n,e)}]),V(function(n,r){return a(n,t,e.exec(r.path()))},{prefix:i(e)})}},u={matcher:r.isMatcher(e),regex:e instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function E(e,i){function o(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function p(e,t){if(!e)return n;var r=F(e),i=r?e:e.name,a=o(i);if(a){if(!t)throw new Error("No reference point given for path '"+i+"'");t=p(t);for(var s=i.split("."),l=0,u=s.length,c=t;u>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;s=s.slice(l).join("."),i=c.name+(c.name&&s?".":"")+s}var d=O[i];return!d||!r&&(r||d!==e&&d.self!==e)?n:d}function f(e,t){I[e]||(I[e]=[]),I[e].push(t)}function m(e){for(var t=I[e]||[];t.length;)g(t.shift())}function g(t){t=r(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!F(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(O.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):F(t.parent)?t.parent:B(t.parent)&&F(t.parent.name)?t.parent.name:"";if(i&&!O[i])return f(i,t.self);for(var o in $)L($[o])&&(t[o]=$[o](t,$.$delegates[o]));return O[n]=t,!t[R]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){D.$current.navigable==t&&u(e,n)||D.transitionTo(t,e,{inherit:!0,location:!1})}]),m(n),t}function v(e){return e.indexOf("*")>-1}function b(e){for(var t=e.split("."),n=D.$current.name.split("."),r=0,i=t.length;i>r;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length!=n.length?!1:n.join("")===t.join("")}function y(e,t){return F(e)&&!M(t)?$[e]:L(t)&&F(e)?($[e]&&!$.$delegates[e]&&($.$delegates[e]=$[e]),$[e]=t,this):this}function C(e,t){return B(e)?t=e:t.name=e,g(t),this}function E(e,i,o,s,d,f,m,g,y){function C(t,n,r,o){var a=e.$broadcast("$stateNotFound",t,n,r);if(a.defaultPrevented)return m.update(),x;if(!a.retry)return null;if(o.$retry)return m.update(),k;var s=D.transition=i.when(a.retry);return s.then(function(){return s!==D.transition?I:(t.options.$retry=!0,D.transitionTo(t.to,t.toParams,t.options))},function(){return x}),m.update(),s}function E(e,n,r,a,l,u){function p(){var n=[];return U(e.views,function(r,i){var a=r.resolve&&r.resolve!==e.resolve?r.resolve:{};a.$template=[function(){return o.load(i,{view:r,locals:l.globals,params:f,notify:u.notify})||""}],n.push(d.resolve(a,l.globals,l.resolve,e).then(function(n){if(L(r.controllerProvider)||j(r.controllerProvider)){var o=t.extend({},a,l.globals);n.$$controller=s.invoke(r.controllerProvider,null,o)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,n.$$resolveAs=r.resolveAs,l[i]=n}))}),i.all(n).then(function(){return l.globals})}var f=r?n:c(e.params.$$keys(),n),h={$stateParams:f};l.resolve=d.resolve(e.resolve,h,l.resolve,e);var m=[l.resolve.then(function(e){l.globals=e})];return a&&m.push(a),i.all(m).then(p).then(function(e){return l})}var I=i.reject(new Error("transition superseded")),$=i.reject(new Error("transition prevented")),x=i.reject(new Error("transition aborted")),k=i.reject(new Error("transition failed"));return w.locals={resolve:null,globals:{$stateParams:{}}},D={params:{},current:w.self,$current:w,transition:null},D.reload=function(e){return D.transitionTo(D.current,f,{reload:e||!0,inherit:!1,notify:!0})},D.go=function(e,t,n){return D.transitionTo(e,t,V({inherit:!0,relative:D.$current},n))},D.transitionTo=function(t,n,o){n=n||{},o=V({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,u=D.$current,d=D.params,h=u.path,g=p(t,o.relative),v=n["#"];if(!M(g)){var b={to:t,toParams:n,options:o},y=C(b,u.self,d,o);if(y)return y;if(t=b.to,n=b.toParams,o=b.options,g=p(t,o.relative),!M(g)){if(!o.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+o.relative+"'")}}if(g[R])throw new Error("Cannot transition to abstract state '"+t+"'");if(o.inherit&&(n=l(f,n||{},D.$current,g)),!g.params.$$validates(n))return k;n=g.params.$$values(n),t=g;var O=t.path,x=0,_=O[x],S=w.locals,A=[];if(o.reload){if(F(o.reload)||B(o.reload)){if(B(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var N=o.reload===!0?h[0]:p(o.reload);if(o.reload&&!N)throw new Error("No such reload state '"+(F(o.reload)?o.reload:o.reload.name)+"'");for(;_&&_===h[x]&&_!==N;)S=A[x]=_.locals,x++,_=O[x]}}else for(;_&&_===h[x]&&_.ownParams.$$equals(n,d);)S=A[x]=_.locals,x++,_=O[x];if(T(t,n,u,d,S,o))return v&&(n["#"]=v),D.params=n,H(D.params,f),H(c(t.params.$$keys(),f),t.locals.globals.$stateParams),o.location&&t.navigable&&t.navigable.url&&(m.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),m.update(!0)),D.transition=null,i.when(D.current);if(n=c(t.params.$$keys(),n||{}),v&&(n["#"]=v),o.notify&&e.$broadcast("$stateChangeStart",t.self,n,u.self,d,o).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,u.self,d),null==D.transition&&m.update(),$;for(var K=i.when(S),P=x;P<O.length;P++,_=O[P])S=A[P]=r(S),K=E(_,n,_===t,K,S,o);var L=D.transition=K.then(function(){var r,i,a;if(D.transition!==L)return I;for(r=h.length-1;r>=x;r--)a=h[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=x;r<O.length;r++)i=O[r],i.locals=A[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return D.transition!==L?I:(D.$current=t,D.current=t.self,D.params=n,H(D.params,f),D.transition=null,o.location&&t.navigable&&m.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,u.self,d),m.update(!0),D.current)}).then(null,function(r){return D.transition!==L?I:(D.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,u.self,d,r),a.defaultPrevented||m.update(),i.reject(r))});return L},D.is=function(e,t,r){r=V({relative:D.$current},r||{});var i=p(e,r.relative);return M(i)?D.$current!==i?!1:t?u(i.params.$$values(t),f):!0:n},D.includes=function(e,t,r){if(r=V({relative:D.$current},r||{}),F(e)&&v(e)){if(!b(e))return!1;e=D.$current.name}var i=p(e,r.relative);return M(i)?M(D.$current.includes[i.name])?t?u(i.params.$$values(t),f,a(t)):!0:!1:n},D.href=function(e,t,r){r=V({lossy:!0,inherit:!0,absolute:!1,relative:D.$current},r||{});var i=p(e,r.relative);if(!M(i))return null;r.inherit&&(t=l(f,t||{},D.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&o.url!==n&&null!==o.url?m.href(o.url,c(i.params.$$keys().concat("#"),t||{}),{absolute:r.absolute}):null},D.get=function(e,t){if(0===arguments.length)return h(a(O),function(e){return O[e].self});var n=p(e,t||D.$current);return n&&n.self?n.self:null},D}function T(e,t,n,r,i,o){function a(e,t,n){function r(t){return"search"!=e.params[t].location}var i=e.params.$$keys().filter(r),o=d.apply({},[e.params].concat(i)),a=new z.ParamSet(o);return a.$$equals(t,n)}return!o.reload&&e===n&&(i===n.locals||e.self.reloadOnSearch===!1&&a(n,r,t))?!0:void 0}var w,D,O={},I={},R="abstract",$={parent:function(e){if(M(e.parent)&&e.parent)return p(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?p(t[1]):w},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=r(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(F(t))return"^"==t.charAt(0)?i.compile(t.substring(1),n):(e.parent.navigable||w).url.concat(t,n);if(!t||i.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new z.ParamSet;return U(e.params||{},function(e,n){t[n]||(t[n]=new z.Param(n,null,e,"config"))}),t},params:function(e){var t=d(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?V(e.parent.params.$$new(),t):new z.ParamSet},views:function(e){var t={};return U(M(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),n.resolveAs=n.resolveAs||e.resolveAs||"$resolve",t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?V({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};w=g({name:"",url:"^",views:null,"abstract":!0}),w.navigable=null,this.decorator=y,this.state=C,this.$get=E,E.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function T(){function e(e,t){return{load:function(e,n){var r,i={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=V(i,n),n.view&&(r=t.fromConfig(n.view,n.params,n.locals)),r}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function w(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function D(e,n,r,i,o){function a(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function s(e,n){var r=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(c)return{enter:function(e,n,r){t.version.minor>2?c.enter(e,null,n).then(r):c.enter(e,null,n,r)},leave:function(e,n){t.version.minor>2?c.leave(e).then(n):c.leave(e,n)}};if(u){var i=u&&u(n,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return r()}var l=a(),u=l("$animator"),c=l("$animate"),d={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,a,l){return function(n,a,u){function c(){if(p&&(p.remove(),p=null),h&&(h.$destroy(),h=null),f){var e=f.data("$uiViewAnim");b.leave(f,function(){e.$$animLeave.resolve(),p=null}),p=f,f=null}}function d(s){var d,p=I(n,u,a,i),y=p&&e.$current&&e.$current.locals[p];if(s||y!==m){d=n.$new(),m=e.$current.locals[p],d.$emit("$viewContentLoading",p);var C=l(d,function(e){var i=o.defer(),s=o.defer(),l={$animEnter:i.promise,$animLeave:s.promise,$$animLeave:s};e.data("$uiViewAnim",l),b.enter(e,a,function(){i.resolve(),h&&h.$emit("$viewContentAnimationEnded"),(t.isDefined(v)&&!v||n.$eval(v))&&r(e)}),c()});f=C,h=d,h.$emit("$viewContentLoaded",p),h.$eval(g)}}{var p,f,h,m,g=u.onload||"",v=u.autoscroll,b=s(u,n);a.inheritedData("$uiView")}n.$on("$stateChangeSuccess",function(){d(!1)}),d(!0)}}};return d}function O(e,n,r,i){return{restrict:"ECA",priority:-400,compile:function(o){var a=o.html();return function(o,s,l){var u=r.$current,c=I(o,l,s,i),d=u&&u.locals[c];if(d){s.data("$uiView",{name:c,state:d.$$state}),s.html(d.$template?d.$template:a);var p=t.extend({},d);o[d.$$resolveAs]=p;var f=e(s.contents());if(d.$$controller){d.$scope=o,d.$element=s;var h=n(d.$$controller,d);d.$$controllerAs&&(o[d.$$controllerAs]=h,o[d.$$controllerAs][d.$$resolveAs]=p),L(h.$onInit)&&h.$onInit(),s.data("$ngControllerController",h),s.children().data("$ngControllerController",h)}f(o)}}}}}function I(e,t,n,r){var i=r(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function R(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function $(e){var t=e.parent().inheritedData("$uiView");return t&&t.state&&t.state.name?t.state:void 0}function x(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function k(e,t,n,r,i){return function(o){var a=o.which||o.button,s=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.state,s.params,s.options)});o.preventDefault();var u=r.isAnchor&&!s.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(l)}}}}function _(e,t){return{relative:$(e)||t.$current,inherit:!0}}function S(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,a){var s,l=R(o.uiSref,e.current.name),u={state:l.state,href:null,params:null},c=x(i),d=a[1]||a[0],p=null;u.options=V(_(i,e),o.uiSrefOpts?r.$eval(o.uiSrefOpts):{});var f=function(n){n&&(u.params=t.copy(n)),u.href=e.href(l.state,u.params,u.options),p&&p(),d&&(p=d.$$addStateInfo(l.state,u.params)),null!==u.href&&o.$set(c.attr,u.href)};l.paramExpr&&(r.$watch(l.paramExpr,function(e){e!==u.params&&f(e)},!0),u.params=t.copy(r.$eval(l.paramExpr))),f(),c.clickable&&(s=k(i,e,n,c,function(){return u}),i.bind("click",s),r.$on("$destroy",function(){i.unbind("click",s)}))}}}function A(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,r,i,o){function a(t){p.state=t[0],p.params=t[1],p.options=t[2],p.href=e.href(p.state,p.params,p.options),f&&f(),u&&(f=u.$$addStateInfo(p.state,p.params)),p.href&&i.$set(l.attr,p.href)}var s,l=x(r),u=o[1]||o[0],c=[i.uiState,i.uiStateParams||null,i.uiStateOpts||null],d="["+c.map(function(e){return e||"null"}).join(", ")+"]",p={state:null,params:null,options:null,href:null},f=null;n.$watch(d,a,!0),a(n.$eval(d)),l.clickable&&(s=k(r,e,t,l,function(){return p}),r.bind("click",s),n.$on("$destroy",function(){r.unbind("click",s)}))}}}function N(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,i,o){function a(t,n,i){var o=e.get(t,$(r)),a=s(t,n),l={state:o||{name:t},params:n,hash:a};return m.push(l),g[a]=i,function(){var e=m.indexOf(l);-1!==e&&m.splice(e,1)}}function s(e,n){if(!F(e))throw new Error("state should be a string");return B(n)?e+q(n):(n=t.$eval(n),B(n)?e+q(n):e)}function l(){for(var e=0;e<m.length;e++)d(m[e].state,m[e].params)?u(r,g[m[e].hash]):c(r,g[m[e].hash]),p(m[e].state,m[e].params)?u(r,f):c(r,f)}function u(e,t){o(function(){e.addClass(t)})}function c(e,t){e.removeClass(t)}function d(t,n){return e.includes(t.name,n)}function p(t,n){return e.is(t.name,n)}var f,h,m=[],g={};f=n(i.uiSrefActiveEq||"",!1)(t);try{h=t.$eval(i.uiSrefActive)}catch(v){}h=h||n(i.uiSrefActive||"",!1)(t),B(h)&&U(h,function(n,r){if(F(n)){var i=R(n,e.current.name);a(i.state,t.$eval(i.paramExpr),r)}}),this.$$addStateInfo=function(e,t){if(!(B(h)&&m.length>0)){var n=a(e,t,h);return l(),n}},t.$on("$stateChangeSuccess",l),l()}]}}function K(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function P(e){var t=function(t,n,r){return e.includes(t,n,r)};return t.$stateful=!0,t}var M=t.isDefined,L=t.isFunction,F=t.isString,B=t.isObject,j=t.isArray,U=t.forEach,V=t.extend,H=t.copy,q=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",m),g.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",g);var z;v.prototype.concat=function(e,t){var n={caseInsensitive:z.caseInsensitive(),strict:z.strictMode(),squash:z.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,V(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var r=t(e).split(/-(?!\\)/),i=h(r,t);return h(i,n).reverse()}var r=this.regexp.exec(e);if(!r)return null;t=t||{};var i,o,a,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var d,p;for(i=0;u>i;i++){for(a=s[i],d=this.params[a],p=r[i+1],o=0;o<d.replace.length;o++)d.replace[o].from===p&&(p=d.replace[o].to);p&&d.array===!0&&(p=n(p)),M(p)&&(p=d.type.decode(p)),c[a]=d.value(p)}for(;l>i;i++){for(a=s[i],c[a]=this.params[a].value(t[a]),d=this.params[a],p=t[a],o=0;o<d.replace.length;o++)d.replace[o].from===p&&(p=d.replace[o].to);M(p)&&(p=d.type.decode(p)),c[a]=d.value(p)}return c},v.prototype.parameters=function(e){return M(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(e))return null;var o,a=!1,s=n.length-1,l=r.length,u=n[0];for(o=0;l>o;o++){var c=s>o,d=r[o],p=i[d],f=p.value(e[d]),m=p.isOptional&&p.type.equals(p.value(),f),g=m?p.squash:!1,v=p.type.encode(f);if(c){var b=n[o+1],y=o+1===s;if(g===!1)null!=v&&(u+=j(v)?h(v,t).join("-"):encodeURIComponent(v)),u+=b;else if(g===!0){var C=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=b.match(C)[1]}else F(g)&&(u+=g+b);y&&p.squash===!0&&"/"===u.slice(-1)&&(u=u.slice(0,-1))}else{if(null==v||m&&g!==!1)continue;if(j(v)||(v=[v]),0===v.length)continue;v=h(v,encodeURIComponent).join("&"+d+"="),u+=(a?"&":"?")+(d+"="+v),a=!0}}return u},b.prototype.is=function(e,t){return!0},b.prototype.encode=function(e,t){return e},b.prototype.decode=function(e,t){return e},b.prototype.equals=function(e,t){return e==t},b.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},b.prototype.pattern=/.*/,b.prototype.toString=function(){return"{Type:"+this.name+"}"},b.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},b.prototype.$asArray=function(e,t){function r(e,t){function r(e,t){return function(){return e[t].apply(e,arguments)}}function i(e){return j(e)?e:M(e)?[e]:[]}function o(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function a(e){return!e}function s(e,t){return function(n){if(j(n)&&0===n.length)return n;n=i(n);var r=h(n,e);return t===!0?0===f(r,a).length:o(r)}}function l(e){return function(t,n){var r=i(t),o=i(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!e(r[a],o[a]))return!1;return!0}}this.encode=s(r(e,"encode")),this.decode=s(r(e,"decode")),this.is=s(r(e,"is"),!0),this.equals=l(r(e,"equals")),this.pattern=e.pattern,this.$normalize=s(r(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new r(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",y),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),C.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",C),E.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",E).run(["$injector",function(e){
e.get("$state.runtime").autoinject&&e.get("$state")}]),T.$inject=[],t.module("ui.router.state").provider("$view",T),t.module("ui.router.state").provider("$uiViewScroll",w),D.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],O.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",D),t.module("ui.router.state").directive("uiView",O),S.$inject=["$state","$timeout"],A.$inject=["$state","$timeout"],N.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",S).directive("uiSrefActive",N).directive("uiSrefActiveEq",N).directive("uiState",A),K.$inject=["$state"],P.$inject=["$state"],t.module("ui.router.state").filter("isState",K).filter("includedByState",P)}(window,window.angular),/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 1.3.3 - 2016-05-22
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,r){var i=r.has("$animateCss")?r.get("$animateCss"):null;return{link:function(r,o,a){function s(){o.hasClass("collapse")&&o.hasClass("in")||t.resolve(d(r)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),i?i(o,{addClass:"in",easing:"ease",to:{height:o[0].scrollHeight+"px"}}).start()["finally"](l):e.addClass(o,"in",{to:{height:o[0].scrollHeight+"px"}}).then(l)})}function l(){o.removeClass("collapsing").addClass("collapse").css({height:"auto"}),p(r)}function u(){return o.hasClass("collapse")||o.hasClass("in")?void t.resolve(f(r)).then(function(){o.css({height:o[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),i?i(o,{removeClass:"in",to:{height:"0"}}).start()["finally"](c):e.removeClass(o,"in",{to:{height:"0"}}).then(c)}):c()}function c(){o.css({height:"0"}),o.removeClass("collapsing").addClass("collapse"),h(r)}var d=n(a.expanding),p=n(a.expanded),f=n(a.collapsing),h=n(a.collapsed);r.$eval(a.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),r.$watch(a.uibCollapse,function(e){e?u():s()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,r){r.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&r.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var i="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=i+"-tab",e.panelId=i+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,r,i){r.setHeading(i(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){function e(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(t,n,r,i){t.$watch(function(){return i[r.uibAccordionTransclude]},function(t){if(t){var r=angular.element(n[0].querySelector(e()));r.html(""),r.append(t)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,n,r){e.closeable=!!t.close;var i=angular.isDefined(t.dismissOnTimeout)?n(t.dismissOnTimeout)(e.$parent):null;i&&r(function(){e.close()},parseInt(i,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,r,i){var o=i[0],a=i[1],s=e(r.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(o.activeClass,angular.equals(a.$modelValue,t.$eval(r.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!r.disabled){var e=n.hasClass(o.activeClass);(!e||angular.isDefined(r.uncheckable))&&t.$apply(function(){a.$setViewValue(e?null:t.$eval(r.uibBtnRadio)),a.$render()})}}),r.uibUncheckable&&t.$watch(s,function(e){r.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,r){function i(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=r[0],l=r[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},t.on(s.toggleEvent,function(){n.disabled||e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?o():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,r,i){function o(){for(;y.length;)y.shift()}function a(e){for(var t=0;t<g.length;t++)g[t].slide.active=t===e}function s(n,r,l){if(!C){if(angular.extend(n,{direction:l}),angular.extend(g[b].slide||{},{direction:l}),i.enabled(t)&&!e.$currentTransition&&g[r].element&&m.slides.length>1){g[r].element.data(v,n.direction);var u=m.getCurrentIndex();angular.isNumber(u)&&g[u].element&&g[u].element.data(v,n.direction),e.$currentTransition=!0,i.on("addClass",g[r].element,function(t,n){if("close"===n&&(e.$currentTransition=null,i.off("addClass",t),y.length)){var r=y.pop().slide,a=r.index,l=a>m.getCurrentIndex()?"next":"prev";o(),s(r,a,l)}})}e.active=n.index,b=n.index,a(r),d()}}function l(e){for(var t=0;t<g.length;t++)if(g[t].slide===e)return t}function u(){f&&(n.cancel(f),f=null)}function c(t){t.length||(e.$currentTransition=null,o())}function d(){u();var t=+e.interval;!isNaN(t)&&t>0&&(f=n(p,t))}function p(){var t=+e.interval;h&&!isNaN(t)&&t>0&&g.length?e.next():e.pause()}var f,h,m=this,g=m.slides=e.slides=[],v="uib-slideDirection",b=e.active,y=[],C=!1;m.addSlide=function(t,n){g.push({slide:t,element:n}),g.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===g.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),b=t.index,e.active=t.index,a(b),m.select(g[l(t)]),1===g.length&&e.play())},m.getCurrentIndex=function(){for(var e=0;e<g.length;e++)if(g[e].slide.index===b)return e},m.next=e.next=function(){var t=(m.getCurrentIndex()+1)%g.length;return 0===t&&e.noWrap()?void e.pause():m.select(g[t],"next")},m.prev=e.prev=function(){var t=m.getCurrentIndex()-1<0?g.length-1:m.getCurrentIndex()-1;return e.noWrap()&&t===g.length-1?void e.pause():m.select(g[t],"prev")},m.removeSlide=function(t){var n=l(t),r=y.indexOf(g[n]);-1!==r&&y.splice(r,1),g.splice(n,1),g.length>0&&b===n?n>=g.length?(b=g.length-1,e.active=b,a(b),m.select(g[g.length-1])):(b=n,e.active=b,a(b),m.select(g[n])):b>n&&(b--,e.active=b),0===g.length&&(b=null,e.active=null,o())},m.select=e.select=function(t,n){var r=l(t.slide);void 0===n&&(n=r>m.getCurrentIndex()?"next":"prev"),t.slide.index===b||e.$currentTransition?t&&t.slide.index!==b&&e.$currentTransition&&y.push(g[r]):s(t.slide,r,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===g.length-1&&e.noWrap()},e.pause=function(){e.noPause||(h=!1,u())},e.play=function(){h||(h=!0,d())},e.$on("$destroy",function(){C=!0,u()}),e.$watch("noTransition",function(e){i.enabled(t,!e)}),e.$watch("interval",d),e.$watchCollection("slides",c),e.$watch("active",function(e){if(angular.isNumber(e)&&b!==e){for(var t=0;t<g.length;t++)if(g[t].slide.index===e){e=t;break}var n=g[e];n&&(a(e),m.select(g[e]),b=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)})}}}).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(r,i,o){if("active"===i){var a=!1,s=r.data(n),l="next"===s?"left":"right",u=t.bind(this,r,l+" "+s,o);return r.addClass(s),e(r,{addClass:l}).start().done(u),function(){a=!0}}o()},beforeRemoveClass:function(r,i,o){if("active"===i){var a=!1,s=r.data(n),l="next"===s?"left":"right",u=t.bind(this,r,l,o);return e(r,{addClass:l}).start().done(u),function(){a=!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(e,t,n,r){function i(e,t){var n=[],i=e.split(""),o=e.indexOf("'");if(o>-1){var a=!1;e=e.split("");for(var s=o;s<e.length;s++)a?("'"===e[s]&&(s+1<e.length&&"'"===e[s+1]?(e[s+1]="$",i[s+1]=""):(i[s]="",a=!1)),e[s]="$"):"'"===e[s]&&(e[s]="$",i[s]="",a=!0);e=e.join("")}return angular.forEach(f,function(r){var o=e.indexOf(r.key);if(o>-1){e=e.split(""),i[o]="("+r.regex+")",e[o]="$";for(var a=o+1,s=o+r.key.length;s>a;a++)i[a]="",e[a]="$";e=e.join(""),n.push({index:o,key:r.key,apply:r[t],matcher:r.regex})}}),{regex:new RegExp("^"+i.join("")+"$"),map:r(n,"index")}}function o(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}function a(e){return parseInt(e,10)}function s(e,t){return e&&t?d(e,t):e}function l(e,t){return e&&t?d(e,t,!0):e}function u(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function c(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function d(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),i=u(t,r);return c(e,n*(i-r))}var p,f,h=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){p=t.id,this.parsers={},this.formatters={},f=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=69>e?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],r=t[2],i=t[3];this.hours+=a(n+r),this.minutes+=a(n+i)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}]},this.init(),this.filter=function(e,n){if(!angular.isDate(e)||isNaN(e)||!n)return"";n=t.DATETIME_FORMATS[n]||n,t.id!==p&&this.init(),this.formatters[n]||(this.formatters[n]=i(n,"formatter"));var r=this.formatters[n],o=r.map,a=n;return o.reduce(function(t,n,r){var i=a.match(new RegExp("(.*)"+n.key));i&&angular.isString(i[1])&&(t+=i[1],a=a.replace(i[1]+n.key,""));var s=r===o.length-1?a:"";return n.apply?t+n.apply.call(null,e)+s:t+s},"")},this.parse=function(n,r,a){if(!angular.isString(n)||!r)return n;r=t.DATETIME_FORMATS[r]||r,r=r.replace(h,"\\$&"),t.id!==p&&this.init(),this.parsers[r]||(this.parsers[r]=i(r,"apply"));var s=this.parsers[r],l=s.regex,u=s.map,c=n.match(l),d=!1;if(c&&c.length){var f,m;angular.isDate(a)&&!isNaN(a.getTime())?f={year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),milliseconds:a.getMilliseconds()}:(a&&e.warn("dateparser:","baseDate is not a valid date"),f={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var g=1,v=c.length;v>g;g++){var b=u[g-1];"Z"===b.matcher&&(d=!0),b.apply&&b.apply.call(f,c[g])}var y=d?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,C=d?Date.prototype.setUTCHours:Date.prototype.setHours;return o(f.year,f.month,f.date)&&(!angular.isDate(a)||isNaN(a.getTime())||d?(m=new Date(0),y.call(m,f.year,f.month,f.date),C.call(m,f.hours||0,f.minutes||0,f.seconds||0,f.milliseconds||0)):(m=new Date(a),y.call(m,f.year,f.month,f.date),C.call(m,f.hours,f.minutes,f.seconds,f.milliseconds))),m}},this.toTimezone=s,this.fromTimezone=l,this.timezoneToOffset=u,this.addDateMinutes=c,this.convertTimezoneToLocal=d}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(r,i){function o(e,t,n){l.push(e),u.push({scope:e,element:t}),h.forEach(function(t,n){a(t,e)}),e.$on("$destroy",s)}function a(t,r){var i=t.match(n),o=r.$eval(i[1]),a=i[2],s=c[t];if(!s){var l=function(t){var n=null;u.some(function(e){var r=e.scope.$eval(p);return r===t?(n=e,!0):void 0}),s.lastActivated!==n&&(s.lastActivated&&e.removeClass(s.lastActivated.element,o),n&&e.addClass(n.element,o),s.lastActivated=n)};c[t]=s={lastActivated:null,scope:r,watchFn:l,compareWithExp:a,watcher:r.$watch(a,l)}}s.watchFn(r.$eval(a))}function s(e){var t=e.targetScope,n=l.indexOf(t);if(l.splice(n,1),u.splice(n,1),l.length){var r=l[0];angular.forEach(c,function(e){e.scope===t&&(e.watcher=r.$watch(e.compareWithExp,e.watchFn),e.scope=r)})}else c={}}var l=[],u=[],c={},d=i.uibIsClass.match(t),p=d[2],f=d[1],h=f.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,r,i,o,a,s,l,u,c){function d(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}{var p=this,f={$setViewValue:angular.noop},h={},m=[];!!t.datepickerOptions}e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:s.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":p[t]=angular.isDefined(e.datepickerOptions[t])?r(e.datepickerOptions[t])(e.$parent):s[t];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":p[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:s[t];break;case"startingDay":p.startingDay=angular.isDefined(e.datepickerOptions.startingDay)?e.datepickerOptions.startingDay:angular.isNumber(s.startingDay)?s.startingDay:(i.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?p[t]=c.fromTimezone(new Date(e),h.timezone):(l&&o.warn("Literal date support has been deprecated, please switch to date object usage"),p[t]=new Date(a(e,"medium"))):p[t]=s[t]?c.fromTimezone(new Date(s[t]),h.timezone):null,p.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){p[t]=e[t]=angular.isDefined(n)?n:datepickerOptions[t],("minMode"===t&&p.modes.indexOf(e.datepickerOptions.datepickerMode)<p.modes.indexOf(p[t])||"maxMode"===t&&p.modes.indexOf(e.datepickerOptions.datepickerMode)>p.modes.indexOf(p[t]))&&(e.datepickerMode=p[t],e.datepickerOptions.datepickerMode=p[t])}):p[t]=e[t]=s[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(t.disabled)||!1,angular.isDefined(t.ngDisabled)&&m.push(e.$parent.$watch(t.ngDisabled,function(t){e.disabled=t,p.refreshView()})),e.isActive=function(t){return 0===p.compare(t.date,p.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(t){f=t,h=t.$options||s.ngModelOptions,e.datepickerOptions.initDate?(p.activeDate=c.fromTimezone(e.datepickerOptions.initDate,h.timezone)||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(f.$isEmpty(f.$modelValue)||f.$invalid)&&(p.activeDate=c.fromTimezone(e,h.timezone),p.refreshView())})):p.activeDate=new Date;var n=f.$modelValue?new Date(f.$modelValue):new Date;this.activeDate=isNaN(n)?c.fromTimezone(new Date,h.timezone):c.fromTimezone(n,h.timezone),f.$render=function(){p.render()}},this.render=function(){if(f.$viewValue){var e=new Date(f.$viewValue),t=!isNaN(e);t?this.activeDate=c.fromTimezone(e,h.timezone):u||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=f.$viewValue?new Date(f.$viewValue):null;t=c.fromTimezone(t,h.timezone),f.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var r=f.$viewValue?new Date(f.$viewValue):null;r=c.fromTimezone(r,h.timezone);var i=new Date;i=c.fromTimezone(i,h.timezone);var o=this.compare(t,i),a={date:t,label:c.filter(t,n),selected:r&&0===this.compare(t,r),disabled:this.isDisabled(t),past:0>o,current:0===o,future:o>0,customClass:this.customClass(t)||null};return r&&0===this.compare(t,r)&&(e.selectedDt=a),p.activeDate&&0===this.compare(a.date,p.activeDate)&&(e.activeDt=a),a},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===p.minMode){var n=f.$viewValue?c.fromTimezone(new Date(f.$viewValue),h.timezone):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=c.toTimezone(n,h.timezone),f.$setViewValue(n),f.$render()}else p.activeDate=t,d(p.modes[p.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=p.activeDate.getFullYear()+e*(p.step.years||0),n=p.activeDate.getMonth()+e*(p.step.months||0);p.activeDate.setFullYear(t,n,1),p.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===p.maxMode&&1===t||e.datepickerMode===p.minMode&&-1===t||(d(p.modes[p.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var g=function(){p.element[0].focus()};e.$on("uib:datepicker.focus",g),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),p.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(p.isDisabled(p.activeDate))return;e.select(p.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(p.handleKeyDown(n,t),p.refreshView()):e.toggleMode("up"===n?1:-1)},e.$on("$destroy",function(){for(;m.length;)m.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function r(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?o[t]:29}function i(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,r=new Array(t),i=new Date(e),o=0;t>o;)n=new Date(i),r[o++]=n,i.setDate(i.getDate()+1);return r},this._refreshView=function(){var t=this.activeDate.getFullYear(),r=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,r,1);var a=this.startingDay-o.getDay(),s=a>0?7-a:-a,l=new Date(o);s>0&&l.setDate(-s+1);for(var u=this.getDates(l,42),c=0;42>c;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==r,uid:e.uniqueId+"-"+c});e.labels=new Array(7);for(var d=0;7>d;d++)e.labels[d]={abbr:n(u[d].date,this.formatDayHeader),full:n(u[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(u,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-this.startingDay)%7,f=e.rows.length,h=0;f>h;h++)e.weekNumbers.push(i(e.rows[h][p].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(i,1),n=Math.min(r(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=r(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,r=new Array(12),i=this.activeDate.getFullYear(),o=0;12>o;o++)t=new Date(this.activeDate),t.setFullYear(i,o,1),r[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(r,3)},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),r=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),r.setFullYear(t.getFullYear()),n-r},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(r)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function r(e){return parseInt((e-1)/o,10)*o+1}var i,o;this.element=t,this.yearpickerInit=function(){i=this.yearColumns,o=this.yearRows*i,this.step={years:o}},this._refreshView=function(){for(var t,n=new Array(o),a=0,s=r(this.activeDate.getFullYear());o>a;a++)t=new Date(this.activeDate),t.setFullYear(s+a,0,1),n[a]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+a});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=this.split(n,i),e.columns=i},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=i:"right"===e?n+=1:"down"===e?n+=i:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*o:"home"===e?n=r(this.activeDate.getFullYear()):"end"===e&&(n=r(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(e,t,n,r){var i=r[0],o=r[1];o.init(i)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(e,t,n,r){var i=r[0],o=r[1];o.init(i)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(e,t,n,r){var i=r[0];angular.extend(i,r[1]),i.yearpickerInit(),i.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,r,i={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function r(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var i=n.offsetParent||e[0].documentElement;i&&i!==e[0].documentElement&&r(i);)i=i.offsetParent;return i||e[0].documentElement},scrollbarWidth:function(i){if(i){if(angular.isUndefined(r)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),r=t.innerWidth-o[0].clientWidth,r=isFinite(r)?r:0,o.removeClass("uib-position-body-scrollbar-measure")}return r}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),r=this.parseStyle(n.paddingRight),i=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(o,a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:r+s,originalRight:r,heightOverflow:o.scrollHeight>o.clientHeight,
bottom:i+s,originalBottom:i}},isScrollable:function(e,n){e=this.getRawNode(e);var r=n?i.hidden:i.normal,o=t.getComputedStyle(e);return r.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,r,o){n=this.getRawNode(n);var a=r?i.hidden:i.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(o&&a.test(l.overflow+l.overflowY+l.overflowX))return n;var u="absolute"===l.position,c=n.parentElement||s;if(c===s||"fixed"===l.position)return s;for(;c.parentElement&&c!==s;){var d=t.getComputedStyle(c);if(u&&"static"!==d.position&&(u=!1),!u&&a.test(d.overflow+d.overflowY+d.overflowX))break;c=c.parentElement}return c},position:function(n,r){n=this.getRawNode(n);var i=this.offset(n);if(r){var o=t.getComputedStyle(n);i.top-=this.parseStyle(o.marginTop),i.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==e[0].documentElement&&(s=this.offset(a),s.top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top-s.top),left:Math.round(i.left-s.left)}},offset:function(n){n=this.getRawNode(n);var r=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(r.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,r,i){n=this.getRawNode(n),i=i!==!1?!0:!1;var o=n.getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=r?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(a.top=l.top+s.clientTop,a.left=l.left+s.clientLeft,s===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,i){var u=t.getComputedStyle(s);a.top+=this.parseStyle(u.paddingTop),a.bottom-=this.parseStyle(u.paddingBottom),a.left+=this.parseStyle(u.paddingLeft),a.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),e=e.split("-"),e[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),e[2]=t?!0:!1,e},positionElements:function(e,n,r,i){e=this.getRawNode(e),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");r=this.parsePlacement(r);var l=i?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(r[2]){var c=this.viewportOffset(e,i),d=t.getComputedStyle(n),p={width:a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(r[0]="top"===r[0]&&p.height>c.top&&p.height<=c.bottom?"bottom":"bottom"===r[0]&&p.height>c.bottom&&p.height<=c.top?"top":"left"===r[0]&&p.width>c.left&&p.width<=c.right?"right":"right"===r[0]&&p.width>c.right&&p.width<=c.left?"left":r[0],r[1]="top"===r[1]&&p.height-l.height>c.bottom&&p.height-l.height<=c.top?"bottom":"bottom"===r[1]&&p.height-l.height>c.top&&p.height-l.height<=c.bottom?"top":"left"===r[1]&&p.width-l.width>c.right&&p.width-l.width<=c.left?"right":"right"===r[1]&&p.width-l.width>c.left&&p.width-l.width<=c.right?"left":r[1],"center"===r[1])if(o.vertical.test(r[0])){var f=l.width/2-a/2;c.left+f<0&&p.width-l.width<=c.right?r[1]="left":c.right+f<0&&p.width-l.width<=c.left&&(r[1]="right")}else{var h=l.height/2-p.height/2;c.top+h<0&&p.height-l.height<=c.bottom?r[1]="top":c.bottom+h<0&&p.height-l.height<=c.top&&(r[1]="bottom")}}switch(r[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-a;break;case"right":u.left=l.left+l.width}switch(r[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-a;break;case"center":o.vertical.test(r[0])?u.left=l.left+l.width/2-a/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===r[1]?r[0]:r[0]+"-"+r[1],u},positionArrow:function(e,n){e=this.getRawNode(e);var r=e.querySelector(".tooltip-inner, .popover-inner");if(r){var i=angular.element(r).hasClass("tooltip-inner"),a=e.querySelector(i?".tooltip-arrow":".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(a).css(s);var l="border-"+n[0]+"-width",u=t.getComputedStyle(a)[l],c="border-";c+=o.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],c+="-radius";var d=t.getComputedStyle(i?r:e)[c];switch(n[0]){case"top":s.bottom=i?"0":"-"+u;break;case"bottom":s.top=i?"0":"-"+u;break;case"left":s.right=i?"0":"-"+u;break;case"right":s.left=i?"0":"-"+u}s[n[1]]=d,angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,r,i,o,a,s,l,u,c,d,p,f,h,m){function g(t){var n=d.parse(t,T,e.date);if(isNaN(n))for(var r=0;r<N.length;r++)if(n=d.parse(t,N[r],e.date),!isNaN(n))return n;return n}function v(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=g(e);if(!isNaN(t))return d.toTimezone(t,K)}return _.$options&&_.$options.allowInvalid?e:void 0}function b(e,t){var r=e||t;return n.ngRequired||r?(angular.isNumber(r)&&(r=new Date(r)),r?angular.isDate(r)&&!isNaN(r)?!0:angular.isString(r)?!isNaN(g(t)):!1:!0):!0}function y(n){if(e.isOpen||!e.disabled){var r=A[0],i=t[0].contains(n.target),o=void 0!==r.contains&&r.contains(n.target);!e.isOpen||i||o||e.$apply(function(){e.isOpen=!1})}}function C(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function E(){if(e.isOpen){var r=angular.element(A[0].querySelector(".uib-datepicker-popup")),i=n.popupPlacement?n.popupPlacement:p.placement,o=u.positionElements(t,r,i,D);r.css({top:o.top+"px",left:o.left+"px"}),r.hasClass("uib-position-measure")&&r.removeClass("uib-position-measure")}}var T,w,D,O,I,R,$,x,k,_,S,A,N,K,P=!1,M=[];this.init=function(i){if(_=i,S=i.$options,w=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,D=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,O=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):p.onOpenFocus,I=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,R=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:p.datepickerTemplateUrl,N=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):p.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(T=p.html5Types[n.type],P=!0):(T=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||p.datepickerPopup;if(n!==T&&(T=n,_.$modelValue=null,!T))throw new Error("uibDatepickerPopup must have a date format specified.")})),!T)throw new Error("uibDatepickerPopup must have a date format specified.");if(P&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");$=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),S?(K=S.timezone,e.ngModelOptions=angular.copy(S),e.ngModelOptions.timezone=null,e.ngModelOptions.updateOnDefault===!0&&(e.ngModelOptions.updateOn=e.ngModelOptions.updateOn?e.ngModelOptions.updateOn+" default":"default"),$.attr("ng-model-options","ngModelOptions")):K=null,$.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":I}),x=angular.element($.children()[0]),x.attr("template-url",R),e.datepickerOptions||(e.datepickerOptions={}),P&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),x.attr("datepicker-options","datepickerOptions"),P?_.$formatters.push(function(t){return e.date=d.fromTimezone(t,K),t}):(_.$$parserName="date",_.$validators.date=b,_.$parsers.unshift(v),_.$formatters.push(function(t){return _.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=d.fromTimezone(t,K),d.filter(e.date,T))})),_.$viewChangeListeners.push(function(){e.date=g(_.$viewValue)}),t.on("keydown",C),A=r($)(e),$.remove(),D?s.find("body").append(A):t.after(A),e.$on("$destroy",function(){for(e.isOpen===!0&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),A.remove(),t.off("keydown",C),s.off("click",y),k&&k.off("scroll",E),angular.element(a).off("resize",E);M.length;)M.shift()()})},e.getText=function(t){return e[t+"Text"]||p[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=d.fromTimezone(new Date,K));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=d.fromTimezone(new Date(e.datepickerOptions[t]),K):(m&&i.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(c(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){angular.isDefined(n)&&(e.date=n);var r=e.date?d.filter(e.date,T):null;t.val(r),_.$setViewValue(r),w&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var r=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate())):t=new Date(r.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&M.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(r){r?e.disabled?e.isOpen=!1:f(function(){E(),O&&e.$broadcast("uib:datepicker.focus"),s.on("click",y);var r=n.popupPlacement?n.popupPlacement:p.placement;D||u.parsePlacement(r)[2]?(k=k||angular.element(u.scrollParent(t)),k&&k.on("scroll",E)):k=null,angular.element(a).on("resize",E)},0,!1):(s.off("click",y),k&&k.off("scroll",E),angular.element(a).off("resize",E))}),e.$on("uib:datepicker.mode",function(){f(E,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,r){var i=r[0],o=r[1];o.init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var r;return function(){var i=this,o=Array.prototype.slice.call(arguments);r&&e.cancel(r),r=e(function(){t.apply(i,o)},n)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t,o){n||(e.on("click",r),o.on("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t,o){n===t&&(n=null,e.off("click",r),o.off("keydown",i))};var r=function(e){if(n&&!(e&&"disabled"===n.getAutoClose()||e&&3===e.which)){var r=n.getToggleElement();if(!(e&&r&&r[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which?(e.stopPropagation(),n.focusToggleElement(),r()):n.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,r,i,o,a,s,l,u,c){var d,p,f=this,h=e.$new(),m=i.appendToOpenClass,g=i.openClass,v=angular.noop,b=n.onToggle?r(n.onToggle):angular.noop,y=!1,C=null,E=!1,T=l.find("body");t.addClass("dropdown"),this.init=function(){if(n.isOpen&&(p=r(n.isOpen),v=p.assign,e.$watch(p,function(e){h.isOpen=!!e})),angular.isDefined(n.dropdownAppendTo)){var i=r(n.dropdownAppendTo)(h);i&&(C=angular.element(i))}y=angular.isDefined(n.dropdownAppendToBody),E=angular.isDefined(n.keyboardNav),y&&!C&&(C=T),C&&f.dropdownMenu&&(C.append(f.dropdownMenu),t.on("$destroy",function(){f.dropdownMenu.remove()}))},this.toggle=function(e){return h.isOpen=arguments.length?!!e:!h.isOpen,angular.isFunction(v)&&v(h,h.isOpen),h.isOpen},this.isOpen=function(){return h.isOpen},h.getToggleElement=function(){return f.toggleElement},h.getAutoClose=function(){return n.autoClose||"always"},h.getElement=function(){return t},h.isKeynavEnabled=function(){return E},h.focusDropdownEntry=function(e){var n=f.dropdownMenu?angular.element(f.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:f.selectedOption=angular.isNumber(f.selectedOption)?f.selectedOption===n.length-1?f.selectedOption:f.selectedOption+1:0;break;case 38:f.selectedOption=angular.isNumber(f.selectedOption)?0===f.selectedOption?0:f.selectedOption-1:n.length-1}n[f.selectedOption].focus()},h.getDropdownElement=function(){return f.dropdownMenu},h.focusToggleElement=function(){f.toggleElement&&f.toggleElement[0].focus()},h.$watch("isOpen",function(n,r){if(C&&f.dropdownMenu){var i,l,p,E=s.positionElements(t,f.dropdownMenu,"bottom-left",!0);if(i={top:E.top+"px",display:n?"block":"none"},l=f.dropdownMenu.hasClass("dropdown-menu-right"),l?(i.left="auto",p=s.scrollbarWidth(!0),i.right=window.innerWidth-p-(E.left+t.prop("offsetWidth"))+"px"):(i.left=E.left+"px",i.right="auto"),!y){var T=s.offset(C);i.top=E.top-T.top+"px",l?i.right=window.innerWidth-(E.left-T.left+t.prop("offsetWidth"))+"px":i.left=E.left-T.left+"px"}f.dropdownMenu.css(i)}var w=C?C:t,D=w.hasClass(C?m:g);if(D===!n&&a[n?"addClass":"removeClass"](w,C?m:g).then(function(){angular.isDefined(n)&&n!==r&&b(e,{open:!!n})}),n)f.dropdownMenuTemplateUrl&&c(f.dropdownMenuTemplateUrl).then(function(e){d=h.$new(),u(e.trim())(d,function(e){var t=e;f.dropdownMenu.replaceWith(t),f.dropdownMenu=t})}),h.focusToggleElement(),o.open(h,t);else{if(f.dropdownMenuTemplateUrl){d&&d.$destroy();var O=angular.element('<ul class="dropdown-menu"></ul>');f.dropdownMenu.replaceWith(O),f.dropdownMenu=O}o.close(h,t),f.selectedOption=null}angular.isFunction(v)&&v(e,n)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,r){r.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,r){if(r&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var i=n.templateUrl;i&&(r.dropdownMenuTemplateUrl=i),r.dropdownMenu||(r.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,r){if(r){t.addClass("dropdown-toggle"),r.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){r.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(r.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,r=0;r<e.length;r++)if(t===e[r].key){n=r;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var r=e[t];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1),r.length||delete e[t]}}}}}}).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var r=e.resolver?t.get(e.resolver):null;return{resolve:function(e,i,o,a){if(r)return r.resolve(e,i,o,a);var s=[];return angular.forEach(e,function(e){s.push(angular.isFunction(e)||angular.isArray(e)?n.resolve(t.invoke(e)):angular.isString(e)?n.resolve(t.get(e)):n.resolve(e))}),n.all(s).then(function(t){var n={},r=0;return angular.forEach(e,function(e,i){n[i]=t[r++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function r(t,r,i){i.modalInClass&&(e.addClass(r,i.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();t.modalOptions.animation?e.removeClass(r,i.modalInClass).then(a):a()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),r}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,r){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(i,o,a){o.addClass(a.windowClass||""),o.addClass(a.windowTopClass||""),i.size=a.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",i.close),i.$isRendered=!0;var s=t.defer();a.$observe("modalRender",function(e){"true"===e&&s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var r=t();n(o,{removeClass:a.modalInClass}).start().then(r)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!r[0].activeElement||!o[0].contains(r[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,n,r,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,r,i,o,a,s,l){function u(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function c(){for(var e=-1,t=E.keys(),n=0;n<t.length;n++)E.get(t[n]).value.backdrop&&(e=n);return e>-1&&D>e&&(e=D),e}function d(e,t){var n=E.get(e).value,r=n.appendTo;E.remove(e),O=E.top(),O&&(D=parseInt(O.value.modalDomEl.attr("index"),10)),h(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||C;T.remove(t,e);var i=T.hasKey(t);r.toggleClass(t,i),!i&&y&&y.heightOverflow&&y.scrollbarWidth&&(r.css(y.originalRight?{paddingRight:y.originalRight+"px"}:{paddingRight:""}),y=null),p(!0)},n.closedDeferred),f(),t&&t.focus?t.focus():r.focus&&r.focus()}function p(e){var t;E.length()>0&&(t=E.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function f(){if(v&&-1===c()){var e=b;h(v,b,function(){e=null}),v=void 0,b=void 0}}function h(t,n,r,i){function a(){a.done||(a.done=!0,e.leave(t).then(function(){t.remove(),i&&i.resolve()}),n.$destroy(),r&&r())}var s,l=null,u=function(){return s||(s=o.defer(),l=s.promise),function(){s.resolve()}};return n.$broadcast(w.NOW_CLOSING_EVENT,u),o.when(l).then(a)}function m(e){if(e.isDefaultPrevented())return e;var t=E.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),i.$apply(function(){w.dismiss(t.key,"escape key press")}));break;case 9:var n=w.loadFocusElementList(t),r=!1;e.shiftKey?(w.isFocusInFirstItem(e,n)||w.isModalFocused(e,t))&&(r=w.focusLastFocusableElement(n)):w.isFocusInLastItem(e,n)&&(r=w.focusFirstFocusableElement(n)),r&&(e.preventDefault(),e.stopPropagation())}}function g(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var v,b,y,C="modal-open",E=s.createNew(),T=a.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},D=0,O=null,I="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return i.$watch(c,function(e){b&&(b.index=e)}),n.on("keydown",m),i.$on("$destroy",function(){n.off("keydown",m)}),w.open=function(t,o){var a=n[0].activeElement,s=o.openedClass||C;p(!1),O=E.top(),E.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),T.put(s,t);var u=o.appendTo,d=c();if(!u.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");d>=0&&!v&&(b=i.$new(!0),b.modalOptions=o,b.index=d,v=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),v.attr("backdrop-class",o.backdropClass),o.animation&&v.attr("modal-animation","true"),r(v)(b),e.enter(v,u),y=l.scrollbarPadding(u),y.heightOverflow&&y.scrollbarWidth&&u.css({paddingRight:y.right+"px"})),D=O?parseInt(O.value.modalDomEl.attr("index"),10)+1:0;var f=angular.element('<div uib-modal-window="modal-window"></div>');f.attr({"template-url":o.windowTemplateUrl,"window-class":o.windowClass,"window-top-class":o.windowTopClass,size:o.size,index:D,animate:"animate"}).html(o.content),o.animation&&f.attr("modal-animation","true"),u.addClass(s),e.enter(r(f)(o.scope),u),E.top().value.modalDomEl=f,E.top().value.modalOpener=a},w.close=function(e,t){var n=E.get(e);return n&&g(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),d(e,n.value.modalOpener),!0):!n},w.dismiss=function(e,t){var n=E.get(e);return n&&g(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),d(e,n.value.modalOpener),!0):!n},w.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},w.getTop=function(){return E.top()},w.modalRendered=function(e){var t=E.get(e);t&&t.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(e){return e.length>0?(e[0].focus(),!0):!1},w.focusLastFocusableElement=function(e){return e.length>0?(e[e.length-1].focus(),!0):!1},w.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},w.isFocusInFirstItem=function(e,t){return t.length>0?(e.target||e.srcElement)===t[0]:!1},w.isFocusInLastItem=function(e,t){return t.length>0?(e.target||e.srcElement)===t[t.length-1]:!1},w.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll(I);return n?Array.prototype.filter.call(n,function(e){return u(e)}):n}}},w}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,r,i,o,a,s){function l(e){return e.template?n.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(i){function u(){return v}var d=n.defer(),p=n.defer(),f=n.defer(),h=n.defer(),m={result:d.promise,opened:p.promise,closed:f.promise,rendered:h.promise,close:function(e){return s.close(m,e)},dismiss:function(e){return s.dismiss(m,e)}};if(i=angular.extend({},e.options,i),i.resolve=i.resolve||{},i.appendTo=i.appendTo||r.find("body").eq(0),!i.template&&!i.templateUrl)throw new Error("One of template or templateUrl options is required.");var g,v=n.all([l(i),a.resolve(i.resolve,{},null,null)]);return g=c=n.all([c]).then(u,u).then(function(e){var n=i.scope||t,r=n.$new();r.$close=m.close,r.$dismiss=m.dismiss,r.$on("$destroy",function(){r.$$uibDestructionScheduled||r.$dismiss("$uibUnscheduledDestruction")});var a,l,u={};i.controller&&(u.$scope=r,u.$scope.$resolve={},u.$uibModalInstance=m,angular.forEach(e[1],function(e,t){u[t]=e,u.$scope.$resolve[t]=e}),l=o(i.controller,u,!0,i.controllerAs),i.controllerAs&&i.bindToController&&(a=l.instance,a.$close=r.$close,a.$dismiss=r.$dismiss,angular.extend(a,{$resolve:u.$scope.$resolve},n)),a=l(),angular.isFunction(a.$onInit)&&a.$onInit()),s.open(m,{scope:r,deferred:d,renderDeferred:h,closedDeferred:f,content:e[0],animation:i.animation,backdrop:i.backdrop,keyboard:i.keyboard,backdropClass:i.backdropClass,windowTopClass:i.windowTopClass,windowClass:i.windowClass,windowTemplateUrl:i.windowTemplateUrl,size:i.size,openedClass:i.openedClass,appendTo:i.appendTo}),p.resolve(!0)},function(e){p.reject(e),d.reject(e)})["finally"](function(){c===g&&(c=null)}),m},u}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,r){t.setNumPages=r.numPages?e(r.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,i){t.ngModelCtrl=e,t.config=i,e.$render=function(){t.render()},r.itemsPerPage?t._watchers.push(n.$parent.$watch(r.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=i.itemsPerPage,n.$watch("totalItems",function(e,r){(angular.isDefined(e)||e!==r)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,r){r&&r.preventDefault();var i=!n.ngDisabled||!r;i&&n.page!==e&&e>0&&e<=n.totalPages&&(r&&r.target&&r.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,r){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):r.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(t,n,r,i){var o=i[0],a=i[1];a&&o.init(a,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,r,i){function o(e,t,n){return{number:e,text:t,active:n}}function a(e,t){var n=[],r=1,i=t,a=angular.isDefined(l)&&t>l;a&&(u?(r=Math.max(e-Math.floor(l/2),1),i=r+l-1,i>t&&(i=t,r=i-l+1)):(r=(Math.ceil(e/l)-1)*l+1,i=Math.min(r+l-1,t)));for(var s=r;i>=s;s++){var f=o(s,p(s),s===e);n.push(f)}if(a&&l>0&&(!u||c||d)){if(r>1){if(!d||r>3){var h=o(r-1,"...",!1);n.unshift(h)}if(d){if(3===r){var m=o(2,"2",!1);n.unshift(m)}var g=o(1,"1",!1);n.unshift(g)}}if(t>i){if(!d||t-2>i){var v=o(i+1,"...",!1);n.push(v)}if(d){if(i===t-2){var b=o(t-1,t-1,!1);n.push(b)}var y=o(t,t,!1);n.push(y)}}}return n}var s=this,l=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):i.maxSize,u=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):i.rotate,c=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):i.forceEllipses,d=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):i.boundaryLinkNumbers,p=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):i.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):i.directionLinks,r.create(this,e,t),t.maxSize&&s._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){l=parseInt(e,10),s.render()}));var f=this.render;this.render=function(){f(),e.page>0&&e.page<=e.totalPages&&(e.pages=a(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(e,n,r,i){var o=i[0],a=i[1];a&&o.init(a,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},r={};this.options=function(e){angular.extend(r,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(i,o,a,s,l,u,c,d,p){function f(e){if(27===e.which){var t=h.top();t&&(t.value.close(),h.removeTop(),t=null)}}var h=p.createNew();return s.on("keypress",f),c.$on("$destroy",function(){s.off("keypress",f)}),function(i,c,p,f){function m(e){var t=(e||f.trigger||p).split(" "),r=t.map(function(e){return n[e]||e});return{show:t,hide:r}}f=angular.extend({},t,r,f);

var g=e(i),v=u.startSymbol(),b=u.endSymbol(),y="<div "+g+'-popup uib-title="'+v+"title"+b+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'placement="'+v+"placement"+b+'" popup-class="'+v+"popupClass"+b+'" animation="animation" is-open="isOpen" origin-scope="origScope" class="uib-position-measure"></div>';return{compile:function(e,t){var n=o(y);return function(e,t,r,o){function u(){F.isOpen?g():p()}function p(){(!L||e.$eval(r[c+"Enable"]))&&(C(),w(),F.popupDelay?S||(S=a(v,F.popupDelay,!1)):v())}function g(){b(),F.popupCloseDelay?A||(A=a(y,F.popupCloseDelay,!1)):y()}function v(){return b(),C(),F.content?(E(),void F.$evalAsync(function(){F.isOpen=!0,D(!0),H()})):angular.noop}function b(){S&&(a.cancel(S),S=null),N&&(a.cancel(N),N=null)}function y(){F&&F.$evalAsync(function(){F&&(F.isOpen=!1,D(!1),F.animation?_||(_=a(T,150,!1)):T())})}function C(){A&&(a.cancel(A),A=null),_&&(a.cancel(_),_=null)}function E(){x||(k=F.$new(),x=n(k,function(e){P?s.find("body").append(e):t.after(e)}),O())}function T(){b(),C(),I(),x&&(x.remove(),x=null),k&&(k.$destroy(),k=null)}function w(){F.title=r[c+"Title"],F.content=U?U(e):r[i],F.popupClass=r[c+"Class"],F.placement=angular.isDefined(r[c+"Placement"])?r[c+"Placement"]:f.placement;var t=l.parsePlacement(F.placement);K=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(r[c+"PopupDelay"],10),o=parseInt(r[c+"PopupCloseDelay"],10);F.popupDelay=isNaN(n)?f.popupDelay:n,F.popupCloseDelay=isNaN(o)?f.popupCloseDelay:o}function D(t){j&&angular.isFunction(j.assign)&&j.assign(e,t)}function O(){V.length=0,U?(V.push(e.$watch(U,function(e){F.content=e,!e&&F.isOpen&&y()})),V.push(k.$watch(function(){B||(B=!0,k.$$postDigest(function(){B=!1,F&&F.isOpen&&H()}))}))):V.push(r.$observe(i,function(e){F.content=e,!e&&F.isOpen?y():H()})),V.push(r.$observe(c+"Title",function(e){F.title=e,F.isOpen&&H()})),V.push(r.$observe(c+"Placement",function(e){F.placement=e?e:f.placement,F.isOpen&&H()}))}function I(){V.length&&(angular.forEach(V,function(e){e()}),V.length=0)}function R(e){F&&F.isOpen&&x&&(t[0].contains(e.target)||x[0].contains(e.target)||g())}function $(){var e=r[c+"Trigger"];q(),M=m(e),"none"!==M.show&&M.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",u),s.on("click",R)):e===M.hide[n]?t.on(e,u):e&&(t.on(e,p),t.on(M.hide[n],g)),t.on("keypress",function(e){27===e.which&&g()})})}var x,k,_,S,A,N,K,P=angular.isDefined(f.appendToBody)?f.appendToBody:!1,M=m(void 0),L=angular.isDefined(r[c+"Enable"]),F=e.$new(!0),B=!1,j=angular.isDefined(r[c+"IsOpen"])?d(r[c+"IsOpen"]):!1,U=f.useContentExp?d(r[i]):!1,V=[],H=function(){x&&x.html()&&(N||(N=a(function(){var e=l.positionElements(t,x,F.placement,P);x.css({top:e.top+"px",left:e.left+"px"}),x.hasClass(e.placement.split("-")[0])||(x.removeClass(K.split("-")[0]),x.addClass(e.placement.split("-")[0])),x.hasClass(f.placementClassPrefix+e.placement)||(x.removeClass(f.placementClassPrefix+K),x.addClass(f.placementClassPrefix+e.placement)),x.hasClass("uib-position-measure")?(l.positionArrow(x,e.placement),x.removeClass("uib-position-measure")):K!==e.placement&&l.positionArrow(x,e.placement),K=e.placement,N=null},0,!1)))};F.origScope=e,F.isOpen=!1,h.add(F,{close:y}),F.contentExp=function(){return F.content},r.$observe("disabled",function(e){e&&b(),e&&F.isOpen&&y()}),j&&e.$watch(j,function(e){F&&!e===F.isOpen&&u()});var q=function(){M.show.forEach(function(e){"outsideClick"===e?t.off("click",u):(t.off(e,p),t.off(e,u))}),M.hide.forEach(function(e){"outsideClick"===e?s.off("click",R):t.off(e,g)})};$();var z=e.$eval(r[c+"Animation"]);F.animation=angular.isDefined(z)?!!z:f.animation;var G,W=c+"AppendToBody";G=W in r&&void 0===r[W]?!0:e.$eval(r[W]),P=angular.isDefined(G)?G:P,e.$on("$destroy",function(){q(),T(),h.remove(F),F=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,r){return{link:function(i,o,a){var s,l,u,c=i.$eval(a.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(e.leave(u).then(function(){l=null}),l=u,u=null)};i.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(t){var a=++d;t?(r(t,!0).then(function(r){if(a===d){var i=c.$new(),l=r,f=n(l)(i,function(t){p(),e.enter(t,o)});s=i,u=f,s.$emit("$includeContentLoaded",t)}},function(){a===d&&(p(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):p()}),i.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,r){if(t.placement){var i=e.parsePlacement(t.placement);n.addClass(i[0])}t.popupClass&&n.addClass(t.popupClass),t.animation()&&n.addClass(r.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{uibTitle:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",uibTitle:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{uibTitle:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function r(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var i=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=r(),this.addBar=function(e,t,n){o||t.css({transition:"none"}),this.bars.push(e),e.max=r(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,i.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){i.bars.forEach(function(e){e.max=r(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,r){r.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,r){r.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var r={$setViewValue:angular.noop},i=this;this.init=function(i){r=i,r.$render=this.render,r.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=i.enableReset&&r.$viewValue===t?0:t;r.$setViewValue(n),r.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=r.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=r.$viewValue,e.title=i.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(e,t,n,r){var i=r[0],o=r[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<r.tabs.length;t++)if(r.tabs[t].index===e)return t}var n,r=this;r.tabs=[],r.select=function(e,o){if(!i){var a=t(n),s=r.tabs[a];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var l=r.tabs[e];l?(l.tab.onSelect({$event:o}),l.tab.active=!0,r.active=l.index,n=l.index):!l&&angular.isDefined(n)&&(r.active=null,n=null)}},r.addTab=function(e){if(r.tabs.push({tab:e,index:e.index}),r.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===r.active||!angular.isDefined(r.active)&&1===r.tabs.length){var n=t(e.index);r.select(n)}},r.removeTab=function(e){for(var t,n=0;n<r.tabs.length;n++)if(r.tabs[n].tab===e){t=n;break}if(r.tabs[t].index===r.active){var i=t===r.tabs.length-1?t-1:t+1%r.tabs.length;r.select(i)}r.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&r.select(t(e))});var i;e.$on("$destroy",function(){i=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,r,i,o){t.disabled=!1,r.disable&&t.$parent.$watch(e(r.disable),function(e){t.disabled=!!e}),angular.isUndefined(r.index)&&(t.index=i.tabs&&i.tabs.length?Math.max.apply(null,i.tabs.map(function(e){return e.index}))+1:0),angular.isUndefined(r.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,r=0;r<i.tabs.length;r++)if(i.tabs[r].tab===t){n=r;break}i.select(n,e)}},i.addTab(t),t.$on("$destroy",function(){i.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,r){var i=t.$eval(r.uibTabContentTransclude).tab;i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,r,i,o,a){function s(){var t=+e.hours,n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n&&""!==e.hours?(e.showMeridian&&(12===t&&(t=0),e.meridian===E[1]&&(t+=12)),t):void 0}function l(){var t=+e.minutes,n=t>=0&&60>t;return n&&""!==e.minutes?t:void 0}function u(){var t=+e.seconds;return t>=0&&60>t?t:void 0}function c(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function d(e){p(),C.$setViewValue(new Date(b)),f(e)}function p(){C.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function f(t){if(C.$modelValue){var n=b.getHours(),r=b.getMinutes(),i=b.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:c(n,!T),"m"!==t&&(e.minutes=c(r)),e.meridian=b.getHours()<12?E[0]:E[1],"s"!==t&&(e.seconds=c(i)),e.meridian=b.getHours()<12?E[0]:E[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=E[0]}function h(e){b=g(b,e),d()}function m(e,t){return g(e,60*t)}function g(e,t){var n=new Date(e.getTime()+1e3*t),r=new Date(e);return r.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),r}function v(){return!(null!==e.hours&&""!==e.hours||null!==e.minutes&&""!==e.minutes||e.showSeconds&&(!e.showSeconds||null!==e.seconds&&""!==e.seconds))}var b=new Date,y=[],C={$setViewValue:angular.noop},E=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,T=angular.isDefined(n.padHours)?e.$parent.$eval(n.padHours):!0;e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,r){C=t,C.$render=this.render,C.$formatters.unshift(function(e){return e?new Date(e):null});var i=r.eq(0),o=r.eq(1),s=r.eq(2),l=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):a.mousewheel;l&&this.setupMousewheelEvents(i,o,s);var u=angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):a.arrowkeys;u&&this.setupArrowkeyEvents(i,o,s),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(i,o,s)};var w=a.hourStep;n.hourStep&&y.push(e.$parent.$watch(r(n.hourStep),function(e){w=+e}));var D=a.minuteStep;n.minuteStep&&y.push(e.$parent.$watch(r(n.minuteStep),function(e){D=+e}));var O;y.push(e.$parent.$watch(r(n.min),function(e){var t=new Date(e);O=isNaN(t)?void 0:t}));var I;y.push(e.$parent.$watch(r(n.max),function(e){var t=new Date(e);I=isNaN(t)?void 0:t}));var R=!1;n.ngDisabled&&y.push(e.$parent.$watch(r(n.ngDisabled),function(e){R=e})),e.noIncrementHours=function(){var e=m(b,60*w);return R||e>I||b>e&&O>e},e.noDecrementHours=function(){var e=m(b,60*-w);return R||O>e||e>b&&e>I},e.noIncrementMinutes=function(){var e=m(b,D);return R||e>I||b>e&&O>e},e.noDecrementMinutes=function(){var e=m(b,-D);return R||O>e||e>b&&e>I},e.noIncrementSeconds=function(){var e=g(b,$);return R||e>I||b>e&&O>e},e.noDecrementSeconds=function(){var e=g(b,-$);return R||O>e||e>b&&e>I},e.noToggleMeridian=function(){return b.getHours()<12?R||m(b,720)>I:R||m(b,-720)<O};var $=a.secondStep;n.secondStep&&y.push(e.$parent.$watch(r(n.secondStep),function(e){$=+e})),e.showSeconds=a.showSeconds,n.showSeconds&&y.push(e.$parent.$watch(r(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=a.showMeridian,n.showMeridian&&y.push(e.$parent.$watch(r(n.showMeridian),function(t){if(e.showMeridian=!!t,C.$error.time){var n=s(),r=l();angular.isDefined(n)&&angular.isDefined(r)&&(b.setHours(n),d())}else f()})),this.setupMousewheelEvents=function(t,n,r){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){R||e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){R||e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),r.bind("mousewheel wheel",function(t){R||e.$apply(i(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,r){t.bind("keydown",function(t){R||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.bind("keydown",function(t){R||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),r.bind("keydown",function(t){R||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,r){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var i=function(t,n,r){C.$setViewValue(null),C.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n),angular.isDefined(r)&&(e.invalidSeconds=r)};e.updateHours=function(){var e=s(),t=l();C.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(b.setHours(e),b.setMinutes(t),O>b||b>I?i(!0):d("h")):i(!0)},t.bind("blur",function(t){C.$setTouched(),v()?p():null===e.hours||""===e.hours?i(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=c(e.hours,!T)})}),e.updateMinutes=function(){var e=l(),t=s();C.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(b.setHours(t),b.setMinutes(e),O>b||b>I?i(void 0,!0):d("m")):i(void 0,!0)},n.bind("blur",function(t){C.$setTouched(),v()?p():null===e.minutes?i(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=c(e.minutes)})}),e.updateSeconds=function(){var e=u();C.$setDirty(),angular.isDefined(e)?(b.setSeconds(e),d("s")):i(void 0,void 0,!0)},r.bind("blur",function(t){v()?p():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=c(e.seconds)})})},this.render=function(){var t=C.$viewValue;isNaN(t)?(C.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(b=t),O>b||b>I?(C.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):p(),f())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||h(60*w*60)},e.decrementHours=function(){e.noDecrementHours()||h(60*-w*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||h(60*D)},e.decrementMinutes=function(){e.noDecrementMinutes()||h(60*-D)},e.incrementSeconds=function(){e.noIncrementSeconds()||h($)},e.decrementSeconds=function(){e.noDecrementSeconds()||h(-$)},e.toggleMeridian=function(){var t=l(),n=s();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?h(720*(b.getHours()<12?60:-60)):e.meridian=e.meridian===E[0]?E[1]:E[0])},e.blur=function(){C.$setTouched()},e.$on("$destroy",function(){for(;y.length;)y.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,r){var i=r[0],o=r[1];o&&i.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(t);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,r,i,o,a,s,l,u,c,d,p){function f(){B.moveInProgress||(B.moveInProgress=!0,B.$digest()),J()}function h(){B.position=k?d.offset(t):d.position(t),B.position.top+=t.prop("offsetHeight")}var m,g,v=[9,13,27,38,40],b=200,y=e.$eval(n.typeaheadMinLength);y||0===y||(y=1),e.$watch(n.typeaheadMinLength,function(e){y=e||0===e?e:1});var C=e.$eval(n.typeaheadWaitMs)||0,E=e.$eval(n.typeaheadEditable)!==!1;e.$watch(n.typeaheadEditable,function(e){E=e!==!1});var T,w,D=i(n.typeaheadLoading).assign||angular.noop,O=n.typeaheadShouldSelect?i(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},I=i(n.typeaheadOnSelect),R=angular.isDefined(n.typeaheadSelectOnBlur)?e.$eval(n.typeaheadSelectOnBlur):!1,$=i(n.typeaheadNoResults).assign||angular.noop,x=n.typeaheadInputFormatter?i(n.typeaheadInputFormatter):void 0,k=n.typeaheadAppendToBody?e.$eval(n.typeaheadAppendToBody):!1,_=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,S=e.$eval(n.typeaheadFocusFirst)!==!1,A=n.typeaheadSelectOnExact?e.$eval(n.typeaheadSelectOnExact):!1,N=i(n.typeaheadIsOpen).assign||angular.noop,K=e.$eval(n.typeaheadShowHint)||!1,P=i(n.ngModel),M=i(n.ngModel+"($$$p)"),L=function(t,n){return angular.isFunction(P(e))&&g&&g.$options&&g.$options.getterSetter?M(t,{$$$p:n}):P.assign(t,n)},F=p.parse(n.uibTypeahead),B=e.$new(),j=e.$on("$destroy",function(){B.$destroy()});B.$on("$destroy",j);var U="typeahead-"+B.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":U});var V,H;K&&(V=angular.element("<div></div>"),V.css("position","relative"),t.after(V),H=t.clone(),H.attr("placeholder",""),H.attr("tabindex","-1"),H.val(""),H.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),V.append(H),H.after(t));var q=angular.element("<div uib-typeahead-popup></div>");q.attr({id:U,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&q.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&q.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var z=function(){K&&H.val("")},G=function(){B.matches=[],B.activeIdx=-1,t.attr("aria-expanded",!1),z()},W=function(e){return U+"-option-"+e};B.$watch("activeIdx",function(e){0>e?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",W(e))});var Y=function(e,t){return B.matches.length>t&&e?e.toUpperCase()===B.matches[t].label.toUpperCase():!1},X=function(n,r){var i={$viewValue:n};D(e,!0),$(e,!1),o.when(F.source(e,i)).then(function(o){var a=n===m.$viewValue;if(a&&T)if(o&&o.length>0){B.activeIdx=S?0:-1,$(e,!1),B.matches.length=0;for(var s=0;s<o.length;s++)i[F.itemName]=o[s],B.matches.push({id:W(s),label:F.viewMapper(B,i),model:o[s]});if(B.query=n,h(),t.attr("aria-expanded",!0),A&&1===B.matches.length&&Y(n,0)&&(angular.isNumber(B.debounceUpdate)||angular.isObject(B.debounceUpdate)?c(function(){B.select(0,r)},angular.isNumber(B.debounceUpdate)?B.debounceUpdate:B.debounceUpdate["default"]):B.select(0,r)),K){var l=B.matches[0].label;H.val(angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?n+l.slice(n.length):"")}}else G(),$(e,!0);a&&D(e,!1)},function(){G(),D(e,!1),$(e,!0)})};k&&(angular.element(l).on("resize",f),s.find("body").on("scroll",f));var J=c(function(){B.matches.length&&h(),B.moveInProgress=!1},b);B.moveInProgress=!1,B.query=void 0;var Z,Q=function(e){Z=a(function(){X(e)},C)},ee=function(){Z&&a.cancel(Z)};G(),B.assignIsOpen=function(t){N(e,t)},B.select=function(r,i){var o,s,l={};w=!0,l[F.itemName]=s=B.matches[r].model,o=F.modelMapper(e,l),L(e,o),m.$setValidity("editable",!0),m.$setValidity("parse",!0),I(e,{$item:s,$model:o,$label:F.viewMapper(e,l),$event:i}),G(),B.$eval(n.typeaheadFocusOnSelect)!==!1&&a(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==B.matches.length&&-1!==v.indexOf(t.which)){var n=O(e,{$event:t});if(-1===B.activeIdx&&n||9===t.which&&t.shiftKey)return G(),void B.$digest();t.preventDefault();var r;switch(t.which){case 27:t.stopPropagation(),G(),e.$digest();break;case 38:B.activeIdx=(B.activeIdx>0?B.activeIdx:B.matches.length)-1,B.$digest(),r=q.find("li")[B.activeIdx],r.parentNode.scrollTop=r.offsetTop;break;case 40:B.activeIdx=(B.activeIdx+1)%B.matches.length,B.$digest(),r=q.find("li")[B.activeIdx],r.parentNode.scrollTop=r.offsetTop;break;default:n&&B.$apply(function(){angular.isNumber(B.debounceUpdate)||angular.isObject(B.debounceUpdate)?c(function(){B.select(B.activeIdx,t)},angular.isNumber(B.debounceUpdate)?B.debounceUpdate:B.debounceUpdate["default"]):B.select(B.activeIdx,t)})}}}),t.bind("focus",function(e){T=!0,0!==y||m.$viewValue||a(function(){X(m.$viewValue,e)},0)}),t.bind("blur",function(e){R&&B.matches.length&&-1!==B.activeIdx&&!w&&(w=!0,B.$apply(function(){angular.isObject(B.debounceUpdate)&&angular.isNumber(B.debounceUpdate.blur)?c(function(){B.select(B.activeIdx,e)},B.debounceUpdate.blur):B.select(B.activeIdx,e)})),!E&&m.$error.editable&&(m.$setViewValue(),m.$setValidity("editable",!0),m.$setValidity("parse",!0),t.val("")),T=!1,w=!1});var te=function(n){t[0]!==n.target&&3!==n.which&&0!==B.matches.length&&(G(),u.$$phase||e.$digest())};s.on("click",te),e.$on("$destroy",function(){s.off("click",te),(k||_)&&ne.remove(),k&&(angular.element(l).off("resize",f),s.find("body").off("scroll",f)),q.remove(),K&&V.remove()});var ne=r(q)(B);k?s.find("body").append(ne):_?angular.element(_).eq(0).append(ne):t.after(ne),this.init=function(t,n){m=t,g=n,B.debounceUpdate=m.$options&&i(m.$options.debounce)(e),m.$parsers.unshift(function(t){return T=!0,0===y||t&&t.length>=y?C>0?(ee(),Q(t)):X(t):(D(e,!1),ee(),G()),E?t:t?void m.$setValidity("editable",!1):(m.$setValidity("editable",!0),null)}),m.$formatters.push(function(t){var n,r,i={};return E||m.$setValidity("editable",!0),x?(i.$model=t,x(e,i)):(i[F.itemName]=t,n=F.viewMapper(e,i),i[F.itemName]=void 0,r=F.viewMapper(e,i),n!==r?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,r){r[2].init(r[0],r[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,r){t.templateUrl=r.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,r){var i=t.debounce();angular.isNumber(i)||angular.isObject(i)?e(function(){t.select({activeIdx:n,evt:r})},angular.isNumber(i)?i:i["default"]):t.select({activeIdx:n,evt:r})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(r,i,o){var a=n(o.templateUrl)(r.$parent)||"uib/template/typeahead/typeahead-match.html";e(a).then(function(e){var n=angular.element(e.trim());i.replaceWith(n),t(n)(r)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function r(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,a){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=a?(""+t).replace(new RegExp(r(a),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>\n');

}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return fr.apply(null,arguments)}function t(e){fr=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t;for(t in e)return!1;return!0}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,r){return gt(e,t,n,r,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function d(e){return null==e._pf&&(e._pf=c()),e._pf}function p(e){if(null==e._isValid){var t=d(e),n=hr.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function f(e){var t=u(0/0);return null!=e?l(d(t),e):d(t).userInvalidated=!0,t}function h(e){return void 0===e}function m(e,t){var n,r,i;if(h(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),h(t._i)||(e._i=t._i),h(t._f)||(e._f=t._f),h(t._l)||(e._l=t._l),h(t._strict)||(e._strict=t._strict),h(t._tzm)||(e._tzm=t._tzm),h(t._isUTC)||(e._isUTC=t._isUTC),h(t._offset)||(e._offset=t._offset),h(t._pf)||(e._pf=d(t)),h(t._locale)||(e._locale=t._locale),mr.length>0)for(n in mr)r=mr[n],i=t[r],h(i)||(e[r]=i);return e}function g(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():0/0),gr===!1&&(gr=!0,e.updateOffset(this),gr=!1)}function v(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function b(e){return 0>e?Math.ceil(e)||0:Math.floor(e)}function y(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function C(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&y(e[r])!==y(t[r]))&&a++;return a+o}function E(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function T(t,n){var r=!0;return l(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),r&&(E(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),n.apply(this,arguments)},n)}function w(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),vr[t]||(E(n),vr[t]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)t=e[n],D(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function I(e,t){var n,i=l({},e);for(n in t)s(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},l(i[n],e[n]),l(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)s(e,n)&&!s(t,n)&&r(e[n])&&(i[n]=l({},i[n]));return i}function R(e){null!=e&&this.set(e)}function $(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return D(r)?r.call(t,n):r}function x(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function k(){return this._invalidDate}function _(e){return this._ordinal.replace("%d",e)}function S(e,t,n,r){var i=this._relativeTime[n];return D(i)?i(e,t,n,r):i.replace(/%d/i,e)}function A(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)}function N(e,t){var n=e.toLowerCase();Ir[n]=Ir[n+"s"]=Ir[t]=e}function K(e){return"string"==typeof e?Ir[e]||Ir[e.toLowerCase()]:void 0}function P(e){var t,n,r={};for(n in e)s(e,n)&&(t=K(n),t&&(r[t]=e[n]));return r}function M(e,t){Rr[e]=t}function L(e){var t=[];for(var n in e)t.push({unit:n,priority:Rr[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function F(t,n){return function(r){return null!=r?(j(this,t,r),e.updateOffset(this,n),this):B(this,t)}}function B(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():0/0}function j(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function U(e){return e=K(e),D(this[e])?this[e]():this}function V(e,t){if("object"==typeof e){e=P(e);for(var n=L(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=K(e),D(this[e]))return this[e](t);return this}function H(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function q(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(_r[e]=i),t&&(_r[t[0]]=function(){return H(i.apply(this,arguments),t[1],t[2])}),n&&(_r[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function G(e){var t,n,r=e.match($r);for(t=0,n=r.length;n>t;t++)r[t]=_r[r[t]]?_r[r[t]]:z(r[t]);return function(t){var i,o="";for(i=0;n>i;i++)o+=r[i]instanceof Function?r[i].call(t,e):r[i];return o}}function W(e,t){return e.isValid()?(t=Y(t,e.localeData()),kr[t]=kr[t]||G(t),kr[t](e)):e.localeData().invalidDate()}function Y(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(xr.lastIndex=0;r>=0&&xr.test(e);)e=e.replace(xr,n),xr.lastIndex=0,r-=1;return e}function X(e,t,n){Yr[e]=D(t)?t:function(e,r){return e&&n?n:t}}function J(e,t){return s(Yr,e)?Yr[e](t._strict,t._locale):new RegExp(Z(e))}function Z(e){return Q(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=y(e)}),n=0;n<e.length;n++)Xr[e[n]]=r}function te(e,t){ee(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ne(e,t,n){null!=t&&s(Xr,e)&&Xr[e](t,n._a,n,e)}function re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ie(e,t){return n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||ai).test(t)?"format":"standalone"][e.month()]}function oe(e,t){return n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[ai.test(t)?"format":"standalone"][e.month()]}function ae(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;12>r;++r)o=u([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=yr.call(this._shortMonthsParse,a),-1!==i?i:null):(i=yr.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===t?(i=yr.call(this._shortMonthsParse,a),-1!==i?i:(i=yr.call(this._longMonthsParse,a),-1!==i?i:null)):(i=yr.call(this._longMonthsParse,a),-1!==i?i:(i=yr.call(this._shortMonthsParse,a),-1!==i?i:null))}function se(e,t,n){var r,i,o;if(this._monthsParseExact)return ae.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],
this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=u([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function le(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=y(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ue(t){return null!=t?(le(this,t),e.updateOffset(this,!0),this):B(this,"Month")}function ce(){return re(this.year(),this.month())}function de(e){return this._monthsParseExact?(s(this,"_monthsRegex")||fe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=ui),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pe(e){return this._monthsParseExact?(s(this,"_monthsRegex")||fe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=ci),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function fe(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;12>t;t++)n=u([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;12>t;t++)r[t]=Q(r[t]),i[t]=Q(i[t]);for(t=0;24>t;t++)o[t]=Q(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function he(e){return me(e)?366:365}function me(e){return e%4===0&&e%100!==0||e%400===0}function ge(){return me(this.year())}function ve(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return 100>e&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function be(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ye(e,t,n){var r=7+t-n,i=(7+be(e,0,r).getUTCDay()-t)%7;return-i+r-1}function Ce(e,t,n,r,i){var o,a,s=(7+n-r)%7,l=ye(e,r,i),u=1+7*(t-1)+s+l;return 0>=u?(o=e-1,a=he(o)+u):u>he(e)?(o=e+1,a=u-he(e)):(o=e,a=u),{year:o,dayOfYear:a}}function Ee(e,t,n){var r,i,o=ye(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return 1>a?(i=e.year()-1,r=a+Te(i,t,n)):a>Te(e.year(),t,n)?(r=a-Te(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Te(e,t,n){var r=ye(e,t,n),i=ye(e+1,t,n);return(he(e)-r+i)/7}function we(e){return Ee(e,this._week.dow,this._week.doy).week}function De(){return this._week.dow}function Oe(){return this._week.doy}function Ie(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Re(e){var t=Ee(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function $e(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function xe(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function ke(e,t){return n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function _e(e){return this._weekdaysShort[e.day()]}function Se(e){return this._weekdaysMin[e.day()]}function Ae(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;7>r;++r)o=u([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=yr.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===t?(i=yr.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=yr.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===t?(i=yr.call(this._weekdaysParse,a),-1!==i?i:(i=yr.call(this._shortWeekdaysParse,a),-1!==i?i:(i=yr.call(this._minWeekdaysParse,a),-1!==i?i:null))):"ddd"===t?(i=yr.call(this._shortWeekdaysParse,a),-1!==i?i:(i=yr.call(this._weekdaysParse,a),-1!==i?i:(i=yr.call(this._minWeekdaysParse,a),-1!==i?i:null))):(i=yr.call(this._minWeekdaysParse,a),-1!==i?i:(i=yr.call(this._weekdaysParse,a),-1!==i?i:(i=yr.call(this._shortWeekdaysParse,a),-1!==i?i:null)))}function Ne(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Ae.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;7>r;r++){if(i=u([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Ke(e){if(!this.isValid())return null!=e?this:0/0;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=$e(e,this.localeData()),this.add(e-t,"d")):t}function Pe(e){if(!this.isValid())return null!=e?this:0/0;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Me(e){if(!this.isValid())return null!=e?this:0/0;if(null!=e){var t=xe(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Le(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=gi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fe(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=vi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Be(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=bi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function je(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],c=[];for(t=0;7>t;t++)n=u([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;7>t;t++)s[t]=Q(s[t]),l[t]=Q(l[t]),c[t]=Q(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ue(){return this.hours()%12||12}function Ve(){return this.hours()||24}function He(e,t){q(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qe(e,t){return t._meridiemParse}function ze(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ge(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function We(e){return e?e.toLowerCase().replace("_","-"):e}function Ye(e){for(var t,n,r,i,o=0;o<e.length;){for(i=We(e[o]).split("-"),t=i.length,n=We(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=Xe(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&C(i,n,!0)>=t-1)break;t--}o++}return null}function Xe(e){var t=null;if(!wi[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=yi._abbr,require("./locale/"+e),Je(t)}catch(n){}return wi[e]}function Je(e,t){var n;return e&&(n=h(t)?et(e):Ze(e,t),n&&(yi=n)),yi._abbr}function Ze(e,t){if(null!==t){var n=Ti;return t.abbr=e,null!=wi[e]?(w("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=wi[e]._config):null!=t.parentLocale&&(null!=wi[t.parentLocale]?n=wi[t.parentLocale]._config:w("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),wi[e]=new R(I(n,t)),Je(e),wi[e]}return delete wi[e],null}function Qe(e,t){if(null!=t){var n,r=Ti;null!=wi[e]&&(r=wi[e]._config),t=I(r,t),n=new R(t),n.parentLocale=wi[e],wi[e]=n,Je(e)}else null!=wi[e]&&(null!=wi[e].parentLocale?wi[e]=wi[e].parentLocale:null!=wi[e]&&delete wi[e]);return wi[e]}function et(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return yi;if(!n(e)){if(t=Xe(e))return t;e=[e]}return Ye(e)}function tt(){return br(wi)}function nt(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[Zr]<0||n[Zr]>11?Zr:n[Qr]<1||n[Qr]>re(n[Jr],n[Zr])?Qr:n[ei]<0||n[ei]>24||24===n[ei]&&(0!==n[ti]||0!==n[ni]||0!==n[ri])?ei:n[ti]<0||n[ti]>59?ti:n[ni]<0||n[ni]>59?ni:n[ri]<0||n[ri]>999?ri:-1,d(e)._overflowDayOfYear&&(Jr>t||t>Qr)&&(t=Qr),d(e)._overflowWeeks&&-1===t&&(t=ii),d(e)._overflowWeekday&&-1===t&&(t=oi),d(e).overflow=t),e}function rt(e){var t,n,r,i,o,a,s=e._i,l=Di.exec(s)||Oi.exec(s);if(l){for(d(e).iso=!0,t=0,n=Ri.length;n>t;t++)if(Ri[t][1].exec(l[1])){i=Ri[t][0],r=Ri[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=$i.length;n>t;t++)if($i[t][1].exec(l[3])){o=(l[2]||" ")+$i[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Ii.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),ut(e)}else e._isValid=!1}function it(t){var n=xi.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(rt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ot(e,t,n){return null!=e?e:null!=t?t:n}function at(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function st(e){var t,n,r,i,o=[];if(!e._d){for(r=at(e),e._w&&null==e._a[Qr]&&null==e._a[Zr]&&lt(e),e._dayOfYear&&(i=ot(e._a[Jr],r[Jr]),e._dayOfYear>he(i)&&(d(e)._overflowDayOfYear=!0),n=be(i,0,e._dayOfYear),e._a[Zr]=n.getUTCMonth(),e._a[Qr]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ei]&&0===e._a[ti]&&0===e._a[ni]&&0===e._a[ri]&&(e._nextDay=!0,e._a[ei]=0),e._d=(e._useUTC?be:ve).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ei]=24)}}function lt(e){var t,n,r,i,o,a,s,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=ot(t.GG,e._a[Jr],Ee(vt(),1,4).year),r=ot(t.W,1),i=ot(t.E,1),(1>i||i>7)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,n=ot(t.gg,e._a[Jr],Ee(vt(),o,a).year),r=ot(t.w,1),null!=t.d?(i=t.d,(0>i||i>6)&&(l=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),1>r||r>Te(n,o,a)?d(e)._overflowWeeks=!0:null!=l?d(e)._overflowWeekday=!0:(s=Ce(n,r,i,o,a),e._a[Jr]=s.year,e._dayOfYear=s.dayOfYear)}function ut(t){if(t._f===e.ISO_8601)return void rt(t);t._a=[],d(t).empty=!0;var n,r,i,o,a,s=""+t._i,l=s.length,u=0;for(i=Y(t._f,t._locale).match($r)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(J(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&d(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),u+=r.length),_r[o]?(r?d(t).empty=!1:d(t).unusedTokens.push(o),ne(o,r,t)):t._strict&&!r&&d(t).unusedTokens.push(o);d(t).charsLeftOver=l-u,s.length>0&&d(t).unusedInput.push(s),t._a[ei]<=12&&d(t).bigHour===!0&&t._a[ei]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[ei]=ct(t._locale,t._a[ei],t._meridiem),st(t),nt(t)}function ct(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&12>t&&(t+=12),r||12!==t||(t=0),t):t}function dt(e){var t,n,r,i,o;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(0/0));for(i=0;i<e._f.length;i++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],ut(t),p(t)&&(o+=d(t).charsLeftOver,o+=10*d(t).unusedTokens.length,d(t).score=o,(null==r||r>o)&&(r=o,n=t));l(e,n||t)}function pt(e){if(!e._d){var t=P(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),st(e)}}function ft(e){var t=new g(nt(ht(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ht(e){var t=e._i,r=e._f;return e._locale=e._locale||et(e._l),null===t||void 0===r&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new g(nt(t)):(n(r)?dt(e):o(t)?e._d=t:r?ut(e):mt(e),p(e)||(e._d=null),e))}function mt(t){var r=t._i;void 0===r?t._d=new Date(e.now()):o(r)?t._d=new Date(r.valueOf()):"string"==typeof r?it(t):n(r)?(t._a=a(r.slice(0),function(e){return parseInt(e,10)}),st(t)):"object"==typeof r?pt(t):"number"==typeof r?t._d=new Date(r):e.createFromInputFallback(t)}function gt(e,t,o,a,s){var l={};return"boolean"==typeof o&&(a=o,o=void 0),(r(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=e,l._f=t,l._strict=a,ft(l)}function vt(e,t,n,r){return gt(e,t,n,r,!1)}function bt(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return vt();for(r=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](r))&&(r=t[i]);return r}function yt(){var e=[].slice.call(arguments,0);return bt("isBefore",e)}function Ct(){var e=[].slice.call(arguments,0);return bt("isAfter",e)}function Et(e){var t=P(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=et(),this._bubble()}function Tt(e){return e instanceof Et}function wt(e,t){q(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+H(~~(e/60),2)+t+H(~~e%60,2)})}function Dt(e,t){var n=(t||"").match(e)||[],r=n[n.length-1]||[],i=(r+"").match(Ai)||["-",0,0],o=+(60*i[1])+y(i[2]);return"+"===i[0]?o:-o}function Ot(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(v(t)||o(t)?t.valueOf():vt(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):vt(t).local()}function It(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Rt(t,n){var r,i=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Dt(zr,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(r=It(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!n||this._changeInProgress?Ht(this,Lt(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:It(this):null!=t?this:0/0}function $t(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function xt(e){return this.utcOffset(0,e)}function kt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(It(this),"m")),this}function _t(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Dt(qr,this._i)),this}function St(e){return this.isValid()?(e=e?vt(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function At(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Nt(){if(!h(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=ht(e),e._a){var t=e._isUTC?u(e._a):vt(e._a);this._isDSTShifted=this.isValid()&&C(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Kt(){return this.isValid()?!this._isUTC:!1}function Pt(){return this.isValid()?this._isUTC:!1}function Mt(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Lt(e,t){var n,r,i,o=e,a=null;return Tt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=Ni.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:y(a[Qr])*n,h:y(a[ei])*n,m:y(a[ti])*n,s:y(a[ni])*n,ms:y(a[ri])*n}):(a=Ki.exec(e))?(n="-"===a[1]?-1:1,o={y:Ft(a[2],n),M:Ft(a[3],n),w:Ft(a[4],n),d:Ft(a[5],n),h:Ft(a[6],n),m:Ft(a[7],n),s:Ft(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=jt(vt(o.from),vt(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Et(o),Tt(e)&&s(e,"_locale")&&(r._locale=e._locale),r}function Ft(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Bt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function jt(e,t){var n;return e.isValid()&&t.isValid()?(t=Ot(t,e),e.isBefore(t)?n=Bt(e,t):(n=Bt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ut(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function Vt(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(w(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Lt(n,r),Ht(this,i,e),this}}function Ht(t,n,r,i){var o=n._milliseconds,a=Ut(n._days),s=Ut(n._months);t.isValid()&&(i=null==i?!0:i,o&&t._d.setTime(t._d.valueOf()+o*r),a&&j(t,"Date",B(t,"Date")+a*r),s&&le(t,B(t,"Month")+s*r),i&&e.updateOffset(t,a||s))}function qt(e,t){var n=e.diff(t,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function zt(t,n){var r=t||vt(),i=Ot(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",a=n&&(D(n[o])?n[o].call(this,r):n[o]);return this.format(a||this.localeData().calendar(o,this,vt(r)))}function Gt(){return new g(this)}function Wt(e,t){var n=v(e)?e:vt(e);return this.isValid()&&n.isValid()?(t=K(h(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Yt(e,t){var n=v(e)?e:vt(e);return this.isValid()&&n.isValid()?(t=K(h(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function Xt(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function Jt(e,t){var n,r=v(e)?e:vt(e);return this.isValid()&&r.isValid()?(t=K(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Zt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function en(e,t,n){var r,i,o,a;return this.isValid()?(r=Ot(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=K(t),"year"===t||"month"===t||"quarter"===t?(a=tn(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:b(a)):0/0):0/0}function tn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return 0>t-o?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function nn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?D(Date.prototype.toISOString)?this.toDate().toISOString():W(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):W(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function on(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=W(this,t);return this.localeData().postformat(n)}function an(e,t){return this.isValid()&&(v(e)&&e.isValid()||vt(e).isValid())?Lt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function sn(e){return this.from(vt(),e)}function ln(e,t){return this.isValid()&&(v(e)&&e.isValid()||vt(e).isValid())?Lt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function un(e){return this.to(vt(),e)}function cn(e){var t;return void 0===e?this._locale._abbr:(t=et(e),null!=t&&(this._locale=t),this)}function dn(){return this._locale}function pn(e){switch(e=K(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function fn(e){return e=K(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function hn(){return this._d.valueOf()-6e4*(this._offset||0)}function mn(){return Math.floor(this.valueOf()/1e3)}function gn(){return new Date(this.valueOf())}function vn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function yn(){return this.isValid()?this.toISOString():null}function Cn(){return p(this)}function En(){return l({},d(this))}function Tn(){return d(this).overflow}function wn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dn(e,t){q(0,[e,e.length],0,t)}function On(e){return xn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function In(e){return xn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Rn(){return Te(this.year(),1,4)}function $n(){var e=this.localeData()._week;return Te(this.year(),e.dow,e.doy)}function xn(e,t,n,r,i){var o;return null==e?Ee(this,r,i).year:(o=Te(e,r,i),t>o&&(t=o),kn.call(this,e,t,n,r,i))}function kn(e,t,n,r,i){var o=Ce(e,t,n,r,i),a=be(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function _n(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Sn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function An(e,t){t[ri]=y(1e3*("0."+e))}function Nn(){return this._isUTC?"UTC":""}function Kn(){return this._isUTC?"Coordinated Universal Time":""}function Pn(e){return vt(1e3*e)}function Mn(){return vt.apply(null,arguments).parseZone()}function Ln(e){return e}function Fn(e,t,n,r){var i=et(),o=u().set(r,t);return i[n](o,e)}function Bn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Fn(e,t,n,"month");var r,i=[];for(r=0;12>r;r++)i[r]=Fn(e,r,n,"month");return i}function jn(e,t,n,r){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var i=et(),o=e?i._week.dow:0;if(null!=n)return Fn(t,(n+o)%7,r,"day");var a,s=[];for(a=0;7>a;a++)s[a]=Fn(t,(a+o)%7,r,"day");return s}function Un(e,t){return Bn(e,t,"months")}function Vn(e,t){return Bn(e,t,"monthsShort")}function Hn(e,t,n){return jn(e,t,n,"weekdays")}function qn(e,t,n){return jn(e,t,n,"weekdaysShort")}function zn(e,t,n){return jn(e,t,n,"weekdaysMin")}function Gn(){var e=this._data;return this._milliseconds=Gi(this._milliseconds),this._days=Gi(this._days),this._months=Gi(this._months),e.milliseconds=Gi(e.milliseconds),e.seconds=Gi(e.seconds),e.minutes=Gi(e.minutes),e.hours=Gi(e.hours),e.months=Gi(e.months),e.years=Gi(e.years),this}function Wn(e,t,n,r){var i=Lt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Yn(e,t){return Wn(this,e,t,1)}function Xn(e,t){return Wn(this,e,t,-1)}function Jn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Zn(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||0>=o&&0>=a&&0>=s||(o+=864e5*Jn(er(s)+a),a=0,s=0),l.milliseconds=o%1e3,e=b(o/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,n=b(t/60),l.hours=n%24,a+=b(n/24),i=b(Qn(a)),s+=i,a-=Jn(er(i)),r=b(s/12),s%=12,l.days=a,l.months=s,l.years=r,this}function Qn(e){return 4800*e/146097}function er(e){return 146097*e/4800}function tr(e){var t,n,r=this._milliseconds;if(e=K(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+Qn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(er(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function nr(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function rr(e){return function(){return this.as(e)}}function ir(e){return e=K(e),this[e+"s"]()}function or(e){return function(){return this._data[e]}}function ar(){return b(this.days()/7)}function sr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function lr(e,t,n){var r=Lt(e).abs(),i=uo(r.as("s")),o=uo(r.as("m")),a=uo(r.as("h")),s=uo(r.as("d")),l=uo(r.as("M")),u=uo(r.as("y")),c=i<co.s&&["s",i]||1>=o&&["m"]||o<co.m&&["mm",o]||1>=a&&["h"]||a<co.h&&["hh",a]||1>=s&&["d"]||s<co.d&&["dd",s]||1>=l&&["M"]||l<co.M&&["MM",l]||1>=u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,sr.apply(null,c)}function ur(e){return void 0===e?uo:"function"==typeof e?(uo=e,!0):!1}function cr(e,t){return void 0===co[e]?!1:void 0===t?co[e]:(co[e]=t,!0)}function dr(e){var t=this.localeData(),n=lr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function pr(){var e,t,n,r=po(this._milliseconds)/1e3,i=po(this._days),o=po(this._months);e=b(r/60),t=b(e/60),r%=60,e%=60,n=b(o/12),o%=12;var a=n,s=o,l=i,u=t,c=e,d=r,p=this.asSeconds();return p?(0>p?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var fr,hr;hr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;n>r;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var mr=e.momentProperties=[],gr=!1,vr={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var br;br=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var yr,Cr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Er={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Tr="Invalid date",wr="%d",Dr=/\d{1,2}/,Or={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ir={},Rr={},$r=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,xr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,kr={},_r={},Sr=/\d/,Ar=/\d\d/,Nr=/\d{3}/,Kr=/\d{4}/,Pr=/[+-]?\d{6}/,Mr=/\d\d?/,Lr=/\d\d\d\d?/,Fr=/\d\d\d\d\d\d?/,Br=/\d{1,3}/,jr=/\d{1,4}/,Ur=/[+-]?\d{1,6}/,Vr=/\d+/,Hr=/[+-]?\d+/,qr=/Z|[+-]\d\d:?\d\d/gi,zr=/Z|[+-]\d\d(?::?\d\d)?/gi,Gr=/[+-]?\d+(\.\d{1,3})?/,Wr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Yr={},Xr={},Jr=0,Zr=1,Qr=2,ei=3,ti=4,ni=5,ri=6,ii=7,oi=8;yr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),q("MMMM",0,0,function(e){return this.localeData().months(this,e)}),N("month","M"),M("month",8),X("M",Mr),X("MM",Mr,Ar),X("MMM",function(e,t){return t.monthsShortRegex(e)}),X("MMMM",function(e,t){return t.monthsRegex(e)}),ee(["M","MM"],function(e,t){t[Zr]=y(e)-1}),ee(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Zr]=i:d(n).invalidMonth=e});var ai=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,si="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),li="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ui=Wr,ci=Wr;q("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),N("year","y"),M("year",1),X("Y",Hr),X("YY",Mr,Ar),X("YYYY",jr,Kr),X("YYYYY",Ur,Pr),X("YYYYYY",Ur,Pr),ee(["YYYYY","YYYYYY"],Jr),ee("YYYY",function(t,n){n[Jr]=2===t.length?e.parseTwoDigitYear(t):y(t)}),ee("YY",function(t,n){n[Jr]=e.parseTwoDigitYear(t)}),ee("Y",function(e,t){t[Jr]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return y(e)+(y(e)>68?1900:2e3)};var di=F("FullYear",!0);q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),M("week",5),M("isoWeek",5),X("w",Mr),X("ww",Mr,Ar),X("W",Mr),X("WW",Mr,Ar),te(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=y(e)});var pi={dow:0,doy:6};q("d",0,"do","day"),q("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),q("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),q("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),M("day",11),M("weekday",11),M("isoWeekday",11),X("d",Mr),X("e",Mr),X("E",Mr),X("dd",function(e,t){return t.weekdaysMinRegex(e)}),X("ddd",function(e,t){return t.weekdaysShortRegex(e)}),X("dddd",function(e,t){return t.weekdaysRegex(e)}),te(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:d(n).invalidWeekday=e}),te(["d","e","E"],function(e,t,n,r){t[r]=y(e)});var fi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),hi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),mi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),gi=Wr,vi=Wr,bi=Wr;q("H",["HH",2],0,"hour"),q("h",["hh",2],0,Ue),q("k",["kk",2],0,Ve),q("hmm",0,0,function(){return""+Ue.apply(this)+H(this.minutes(),2)}),q("hmmss",0,0,function(){return""+Ue.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),He("a",!0),He("A",!1),N("hour","h"),M("hour",13),X("a",qe),X("A",qe),X("H",Mr),X("h",Mr),X("HH",Mr,Ar),X("hh",Mr,Ar),X("hmm",Lr),X("hmmss",Fr),X("Hmm",Lr),X("Hmmss",Fr),ee(["H","HH"],ei),ee(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ee(["h","hh"],function(e,t,n){t[ei]=y(e),d(n).bigHour=!0}),ee("hmm",function(e,t,n){var r=e.length-2;t[ei]=y(e.substr(0,r)),t[ti]=y(e.substr(r)),d(n).bigHour=!0}),ee("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ei]=y(e.substr(0,r)),t[ti]=y(e.substr(r,2)),t[ni]=y(e.substr(i)),d(n).bigHour=!0}),ee("Hmm",function(e,t,n){var r=e.length-2;t[ei]=y(e.substr(0,r)),t[ti]=y(e.substr(r))}),ee("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ei]=y(e.substr(0,r)),t[ti]=y(e.substr(r,2)),
t[ni]=y(e.substr(i))});var yi,Ci=/[ap]\.?m?\.?/i,Ei=F("Hours",!0),Ti={calendar:Cr,longDateFormat:Er,invalidDate:Tr,ordinal:wr,ordinalParse:Dr,relativeTime:Or,months:si,monthsShort:li,week:pi,weekdays:fi,weekdaysMin:mi,weekdaysShort:hi,meridiemParse:Ci},wi={},Di=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Oi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ii=/Z|[+-]\d\d(?::?\d\d)?/,Ri=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],$i=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=T("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var ki=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:f()}),_i=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}),Si=function(){return Date.now?Date.now():+new Date};wt("Z",":"),wt("ZZ",""),X("Z",zr),X("ZZ",zr),ee(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Dt(zr,e)});var Ai=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ni=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Ki=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Lt.fn=Et.prototype;var Pi=Vt(1,"add"),Mi=Vt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Li=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dn("gggg","weekYear"),Dn("ggggg","weekYear"),Dn("GGGG","isoWeekYear"),Dn("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),M("weekYear",1),M("isoWeekYear",1),X("G",Hr),X("g",Hr),X("GG",Mr,Ar),X("gg",Mr,Ar),X("GGGG",jr,Kr),X("gggg",jr,Kr),X("GGGGG",Ur,Pr),X("ggggg",Ur,Pr),te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=y(e)}),te(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),q("Q",0,"Qo","quarter"),N("quarter","Q"),M("quarter",7),X("Q",Sr),ee("Q",function(e,t){t[Zr]=3*(y(e)-1)}),q("D",["DD",2],"Do","date"),N("date","D"),M("date",9),X("D",Mr),X("DD",Mr,Ar),X("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ee(["D","DD"],Qr),ee("Do",function(e,t){t[Qr]=y(e.match(Mr)[0],10)});var Fi=F("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),M("dayOfYear",4),X("DDD",Br),X("DDDD",Nr),ee(["DDD","DDDD"],function(e,t,n){n._dayOfYear=y(e)}),q("m",["mm",2],0,"minute"),N("minute","m"),M("minute",14),X("m",Mr),X("mm",Mr,Ar),ee(["m","mm"],ti);var Bi=F("Minutes",!1);q("s",["ss",2],0,"second"),N("second","s"),M("second",15),X("s",Mr),X("ss",Mr,Ar),ee(["s","ss"],ni);var ji=F("Seconds",!1);q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),M("millisecond",16),X("S",Br,Sr),X("SS",Br,Ar),X("SSS",Br,Nr);var Ui;for(Ui="SSSS";Ui.length<=9;Ui+="S")X(Ui,Vr);for(Ui="S";Ui.length<=9;Ui+="S")ee(Ui,An);var Vi=F("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var Hi=g.prototype;Hi.add=Pi,Hi.calendar=zt,Hi.clone=Gt,Hi.diff=en,Hi.endOf=fn,Hi.format=on,Hi.from=an,Hi.fromNow=sn,Hi.to=ln,Hi.toNow=un,Hi.get=U,Hi.invalidAt=Tn,Hi.isAfter=Wt,Hi.isBefore=Yt,Hi.isBetween=Xt,Hi.isSame=Jt,Hi.isSameOrAfter=Zt,Hi.isSameOrBefore=Qt,Hi.isValid=Cn,Hi.lang=Li,Hi.locale=cn,Hi.localeData=dn,Hi.max=_i,Hi.min=ki,Hi.parsingFlags=En,Hi.set=V,Hi.startOf=pn,Hi.subtract=Mi,Hi.toArray=vn,Hi.toObject=bn,Hi.toDate=gn,Hi.toISOString=rn,Hi.toJSON=yn,Hi.toString=nn,Hi.unix=mn,Hi.valueOf=hn,Hi.creationData=wn,Hi.year=di,Hi.isLeapYear=ge,Hi.weekYear=On,Hi.isoWeekYear=In,Hi.quarter=Hi.quarters=_n,Hi.month=ue,Hi.daysInMonth=ce,Hi.week=Hi.weeks=Ie,Hi.isoWeek=Hi.isoWeeks=Re,Hi.weeksInYear=$n,Hi.isoWeeksInYear=Rn,Hi.date=Fi,Hi.day=Hi.days=Ke,Hi.weekday=Pe,Hi.isoWeekday=Me,Hi.dayOfYear=Sn,Hi.hour=Hi.hours=Ei,Hi.minute=Hi.minutes=Bi,Hi.second=Hi.seconds=ji,Hi.millisecond=Hi.milliseconds=Vi,Hi.utcOffset=Rt,Hi.utc=xt,Hi.local=kt,Hi.parseZone=_t,Hi.hasAlignedHourOffset=St,Hi.isDST=At,Hi.isLocal=Kt,Hi.isUtcOffset=Pt,Hi.isUtc=Mt,Hi.isUTC=Mt,Hi.zoneAbbr=Nn,Hi.zoneName=Kn,Hi.dates=T("dates accessor is deprecated. Use date instead.",Fi),Hi.months=T("months accessor is deprecated. Use month instead",ue),Hi.years=T("years accessor is deprecated. Use year instead",di),Hi.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",$t),Hi.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Nt);var qi=Hi,zi=R.prototype;zi.calendar=$,zi.longDateFormat=x,zi.invalidDate=k,zi.ordinal=_,zi.preparse=Ln,zi.postformat=Ln,zi.relativeTime=S,zi.pastFuture=A,zi.set=O,zi.months=ie,zi.monthsShort=oe,zi.monthsParse=se,zi.monthsRegex=pe,zi.monthsShortRegex=de,zi.week=we,zi.firstDayOfYear=Oe,zi.firstDayOfWeek=De,zi.weekdays=ke,zi.weekdaysMin=Se,zi.weekdaysShort=_e,zi.weekdaysParse=Ne,zi.weekdaysRegex=Le,zi.weekdaysShortRegex=Fe,zi.weekdaysMinRegex=Be,zi.isPM=ze,zi.meridiem=Ge,Je("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===y(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=T("moment.lang is deprecated. Use moment.locale instead.",Je),e.langData=T("moment.langData is deprecated. Use moment.localeData instead.",et);var Gi=Math.abs,Wi=rr("ms"),Yi=rr("s"),Xi=rr("m"),Ji=rr("h"),Zi=rr("d"),Qi=rr("w"),eo=rr("M"),to=rr("y"),no=or("milliseconds"),ro=or("seconds"),io=or("minutes"),oo=or("hours"),ao=or("days"),so=or("months"),lo=or("years"),uo=Math.round,co={s:45,m:45,h:22,d:26,M:11},po=Math.abs,fo=Et.prototype;fo.abs=Gn,fo.add=Yn,fo.subtract=Xn,fo.as=tr,fo.asMilliseconds=Wi,fo.asSeconds=Yi,fo.asMinutes=Xi,fo.asHours=Ji,fo.asDays=Zi,fo.asWeeks=Qi,fo.asMonths=eo,fo.asYears=to,fo.valueOf=nr,fo._bubble=Zn,fo.get=ir,fo.milliseconds=no,fo.seconds=ro,fo.minutes=io,fo.hours=oo,fo.days=ao,fo.weeks=ar,fo.months=so,fo.years=lo,fo.humanize=dr,fo.toISOString=pr,fo.toString=pr,fo.toJSON=pr,fo.locale=cn,fo.localeData=dn,fo.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",pr),fo.lang=Li,q("X",0,0,"unix"),q("x",0,0,"valueOf"),X("x",Hr),X("X",Gr),ee("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ee("x",function(e,t,n){n._d=new Date(y(e))}),e.version="2.14.1",t(vt),e.fn=qi,e.min=yt,e.max=Ct,e.now=Si,e.utc=u,e.unix=Pn,e.months=Un,e.isDate=o,e.locale=Je,e.invalid=f,e.duration=Lt,e.isMoment=v,e.weekdays=Hn,e.parseZone=Mn,e.localeData=et,e.isDuration=Tt,e.monthsShort=Vn,e.weekdaysMin=zn,e.defineLocale=Ze,e.updateLocale=Qe,e.locales=tt,e.weekdaysShort=qn,e.normalizeUnits=K,e.relativeTimeRounding=ur,e.relativeTimeThreshold=cr,e.calendarFormat=qt,e.prototype=qi;var ho=e;return ho}),function(e,t){"object"==typeof exports?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(this,function(angular){/**
 * AngularJS Google Maps Ver. 1.17.2
 *
 * The MIT License (MIT)
 * 
 * Copyright (c) 2014, 2015, 1016 Allen Kim
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
return angular.module("ngMap",[]),function(){"use strict";var e,t=function(t,n,r,i,o,a,s){e=o;var l=this;l.mapOptions,l.mapEvents,l.eventListeners,l.addObject=function(e,t){if(l.map){l.map[e]=l.map[e]||{};var n=Object.keys(l.map[e]).length;l.map[e][t.id||n]=t,l.map instanceof google.maps.Map&&("infoWindows"!=e&&t.setMap&&t.setMap&&t.setMap(l.map),t.centered&&t.position&&l.map.setCenter(t.position),"markers"==e&&l.objectChanged("markers"),"customMarkers"==e&&l.objectChanged("customMarkers"))}},l.deleteObject=function(e,t){if(t.map){var n=t.map[e];for(var r in n)n[r]===t&&(google.maps.event.clearInstanceListeners(t),delete n[r]);t.map&&t.setMap&&t.setMap(null),"markers"==e&&l.objectChanged("markers"),"customMarkers"==e&&l.objectChanged("customMarkers")}},l.observeAttrSetObj=function(t,n,r){if(n.noWatcher)return!1;for(var i=e.getAttrsToObserve(t),o=0;o<i.length;o++){var s=i[o];n.$observe(s,a.observeAndSet(s,r))}},l.zoomToIncludeMarkers=function(){var e=new google.maps.LatLngBounds;for(var t in l.map.markers)e.extend(l.map.markers[t].getPosition());for(var n in l.map.customMarkers)e.extend(l.map.customMarkers[n].getPosition());l.mapOptions.maximumZoom&&(l.enableMaximumZoomCheck=!0),l.map.fitBounds(e)},l.objectChanged=function(e){!l.map||"markers"!=e&&"customMarkers"!=e||"auto"!=l.map.zoomToIncludeMarkers||l.zoomToIncludeMarkers()},l.initializeMap=function(){var o=l.mapOptions,c=l.mapEvents,d=l.map;if(l.map=s.getMapInstance(n[0]),a.setStyle(n[0]),d){var p=e.filter(r),f=e.getOptions(p),h=e.getControlOptions(p);o=angular.extend(f,h);for(var m in d){var g=d[m];if("object"==typeof g)for(var v in g)l.addObject(m,g[v])}l.map.showInfoWindow=l.showInfoWindow,l.map.hideInfoWindow=l.hideInfoWindow}o.zoom=o.zoom||15;var b=o.center;if(!o.center||"string"==typeof b&&b.match(/\{\{.*\}\}/))o.center=new google.maps.LatLng(0,0);else if(!(b instanceof google.maps.LatLng)){var y=o.center;delete o.center,a.getGeoLocation(y,o.geoLocationOptions).then(function(e){l.map.setCenter(e);var n=o.geoCallback;n&&i(n)(t)},function(){o.geoFallbackCenter&&l.map.setCenter(o.geoFallbackCenter)})}l.map.setOptions(o);for(var C in c){var E=c[C],T=google.maps.event.addListener(l.map,C,E);l.eventListeners[C]=T}l.observeAttrSetObj(u,r,l.map),l.singleInfoWindow=o.singleInfoWindow,google.maps.event.trigger(l.map,"resize"),google.maps.event.addListenerOnce(l.map,"idle",function(){a.addMap(l),o.zoomToIncludeMarkers&&l.zoomToIncludeMarkers(),t.map=l.map,t.$emit("mapInitialized",l.map),r.mapInitialized&&i(r.mapInitialized)(t,{map:l.map})}),o.zoomToIncludeMarkers&&o.maximumZoom&&google.maps.event.addListener(l.map,"zoom_changed",function(){1==l.enableMaximumZoomCheck&&(l.enableMaximumZoomCheck=!1,google.maps.event.addListenerOnce(l.map,"bounds_changed",function(){l.map.setZoom(Math.min(o.maximumZoom,l.map.getZoom()))}))})},t.google=google;var u=e.orgAttributes(n),c=e.filter(r),d=e.getOptions(c,{scope:t}),p=e.getControlOptions(c),f=angular.extend(d,p),h=e.getEvents(t,c);if(Object.keys(h).length&&void 0,l.mapOptions=f,l.mapEvents=h,l.eventListeners={},d.lazyInit){if(r.id&&r.id.startsWith("{{")&&r.id.endsWith("}}"))var m=r.id.slice(2,-2),g=i(m)(t);else var g=r.id;l.map={id:g},a.addMap(l)}else l.initializeMap();d.triggerResize&&google.maps.event.trigger(l.map,"resize"),n.bind("$destroy",function(){s.returnMapInstance(l.map),a.deleteMap(l)})};t.$inject=["$scope","$element","$attrs","$parse","Attr2MapOptions","NgMap","NgMapPool"],angular.module("ngMap").controller("__MapController",t)}(),function(){"use strict";var e,t=function(t,r,i,o){o=o[0]||o[1];var a=e.orgAttributes(r),s=e.filter(i),l=e.getOptions(s,{scope:t}),u=e.getEvents(t,s),c=n(l,u);o.addObject("bicyclingLayers",c),o.observeAttrSetObj(a,i,c),r.bind("$destroy",function(){o.deleteObject("bicyclingLayers",c)})},n=function(e,t){var n=new google.maps.BicyclingLayer(e);for(var r in t)google.maps.event.addListener(n,r,t[r]);return n},r=function(n){return e=n,{restrict:"E",require:["?^map","?^ngMap"],link:t}};r.$inject=["Attr2MapOptions"],angular.module("ngMap").directive("bicyclingLayer",r)}(),function(){"use strict";var e,t,n,r=function(n,r,i,o){o=o[0]||o[1];var a=e.filter(i),s=e.getOptions(a,{scope:n}),l=e.getEvents(n,a),u=r[0].parentElement.removeChild(r[0]);t(u.innerHTML.trim())(n);for(var c in l)google.maps.event.addDomListener(u,c,l[c]);o.addObject("customControls",u);var d=s.position;o.map.controls[google.maps.ControlPosition[d]].push(u),r.bind("$destroy",function(){o.deleteObject("customControls",u)})},i=function(i,o,a){return e=i,t=o,n=a,{restrict:"E",require:["?^map","?^ngMap"],link:r}};i.$inject=["Attr2MapOptions","$compile","NgMap"],angular.module("ngMap").directive("customControl",i)}(),function(){"use strict";var e,t,n,r,i=function(e){e=e||{},this.el=document.createElement("div"),this.el.style.display="inline-block",this.el.style.visibility="hidden",this.visible=!0;for(var t in e)this[t]=e[t]},o=function(){i.prototype=new google.maps.OverlayView,i.prototype.setContent=function(e,t){this.el.innerHTML=e,this.el.style.position="absolute",t&&n(angular.element(this.el).contents())(t)},i.prototype.getDraggable=function(){return this.draggable},i.prototype.setDraggable=function(e){this.draggable=e},i.prototype.getPosition=function(){return this.position},i.prototype.setPosition=function(e){if(e&&(this.position=e),this.getProjection()&&"function"==typeof this.position.lng){var n=this.getProjection().fromLatLngToDivPixel(this.position),r=this,i=function(){var e=Math.round(n.x-r.el.offsetWidth/2),t=Math.round(n.y-r.el.offsetHeight-10);r.el.style.left=e+"px",r.el.style.top=t+"px",r.el.style.visibility="visible"};r.el.offsetWidth&&r.el.offsetHeight?i():t(i,300)}},i.prototype.setZIndex=function(e){e&&(this.zIndex=e),this.el.style.zIndex=this.zIndex},i.prototype.getVisible=function(){return this.visible},i.prototype.setVisible=function(e){this.el.style.display=e?"inline-block":"none",this.visible=e},i.prototype.addClass=function(e){var t=this.el.className.trim().split(" ");-1==t.indexOf(e)&&t.push(e),this.el.className=t.join(" ")},i.prototype.removeClass=function(e){var t=this.el.className.split(" "),n=t.indexOf(e);n>-1&&t.splice(n,1),this.el.className=t.join(" ")},i.prototype.onAdd=function(){this.getPanes().overlayMouseTarget.appendChild(this.el)},i.prototype.draw=function(){this.setPosition(),this.setZIndex(this.zIndex),this.setVisible(this.visible)},i.prototype.onRemove=function(){this.el.parentNode.removeChild(this.el)}},a=function(n,o){return function(a,s,l,u){u=u[0]||u[1];var c=e.orgAttributes(s),d=e.filter(l),p=e.getOptions(d,{scope:a}),f=e.getEvents(a,d);s[0].style.display="none";var h=new i(p);t(function(){a.$watch("["+o.join(",")+"]",function(){h.setContent(n,a)},!0),h.setContent(s[0].innerHTML,a);var e=s[0].firstElementChild.className;h.addClass("custom-marker"),h.addClass(e),p.position instanceof google.maps.LatLng||r.getGeoLocation(p.position).then(function(e){h.setPosition(e)})});for(var m in f)google.maps.event.addDomListener(h.el,m,f[m]);u.addObject("customMarkers",h),u.observeAttrSetObj(c,l,h),s.bind("$destroy",function(){u.deleteObject("customMarkers",h)})}},s=function(i,s,l,u){return e=l,t=i,n=s,r=u,{restrict:"E",require:["?^map","?^ngMap"],compile:function(e){o(),e[0].style.display="none";var t=e.html(),n=t.match(/{{([^}]+)}}/g),r=[];return(n||[]).forEach(function(e){var t=e.replace("{{","").replace("}}","");-1==e.indexOf("::")&&-1==e.indexOf("this.")&&-1==r.indexOf(t)&&r.push(e.replace("{{","").replace("}}",""))}),a(t,r)}}};s.$inject=["$timeout","$compile","Attr2MapOptions","NgMap"],angular.module("ngMap").directive("customMarker",s)}(),function(){"use strict";var e,t,n,r=function(e,t){e.panel&&(e.panel=document.getElementById(e.panel)||document.querySelector(e.panel));var n=new google.maps.DirectionsRenderer(e);for(var r in t)google.maps.event.addListener(n,r,t[r]);return n},i=function(e,r){var i=new google.maps.DirectionsService,o=r;o.travelMode=o.travelMode||"DRIVING";var a=["origin","destination","travelMode","transitOptions","unitSystem","durationInTraffic","waypoints","optimizeWaypoints","provideRouteAlternatives","avoidHighways","avoidTolls","region"];for(var s in o)-1===a.indexOf(s)&&delete o[s];o.waypoints&&("[]"==o.waypoints||""===o.waypoints)&&delete o.waypoints;var l=function(n){i.route(n,function(n,r){r==google.maps.DirectionsStatus.OK&&t(function(){e.setDirections(n)})})};o.origin&&o.destination&&("current-location"==o.origin?n.getCurrentPosition().then(function(e){o.origin=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),l(o)}):"current-location"==o.destination?n.getCurrentPosition().then(function(e){o.destination=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),l(o)}):l(o))},o=function(o,a,s,l){var u=o;e=l,t=a,n=s;var c=function(n,o,a,s){s=s[0]||s[1];var l=u.orgAttributes(o),c=u.filter(a),d=u.getOptions(c,{scope:n}),p=u.getEvents(n,c),f=u.getAttrsToObserve(l),h=r(d,p);s.addObject("directionsRenderers",h),f.forEach(function(e){!function(e){a.$observe(e,function(n){if("panel"==e)t(function(){var e=document.getElementById(n)||document.querySelector(n);e&&h.setPanel(e)});else if(d[e]!==n){var r=u.toOptionValue(n,{key:e});d[e]=r,i(h,d)}})}(e)}),e.getMap().then(function(){i(h,d)}),o.bind("$destroy",function(){s.deleteObject("directionsRenderers",h)})};return{restrict:"E",require:["?^map","?^ngMap"],link:c}};o.$inject=["Attr2MapOptions","$timeout","NavigatorGeolocation","NgMap"],angular.module("ngMap").directive("directions",o)}(),function(){"use strict";angular.module("ngMap").directive("drawingManager",["Attr2MapOptions",function(e){var t=e;return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,n,r,i){i=i[0]||i[1];var o=t.filter(r),a=t.getOptions(o,{scope:e}),s=t.getControlOptions(o),l=t.getEvents(e,o),u=new google.maps.drawing.DrawingManager({drawingMode:a.drawingmode,drawingControl:a.drawingcontrol,drawingControlOptions:s.drawingControlOptions,circleOptions:a.circleoptions,markerOptions:a.markeroptions,polygonOptions:a.polygonoptions,polylineOptions:a.polylineoptions,rectangleOptions:a.rectangleoptions});r.$observe("drawingControlOptions",function(e){u.drawingControlOptions=t.getControlOptions({drawingControlOptions:e}).drawingControlOptions,u.setDrawingMode(null),u.setMap(i.map)});for(var c in l)google.maps.event.addListener(u,c,l[c]);i.addObject("mapDrawingManager",u),n.bind("$destroy",function(){i.deleteObject("mapDrawingManager",u)})}}}])}(),function(){"use strict";angular.module("ngMap").directive("dynamicMapsEngineLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.visualization.DynamicMapsEngineLayer(e);for(var r in t)google.maps.event.addListener(n,r,t[r]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,r,i,o){o=o[0]||o[1];var a=t.filter(i),s=t.getOptions(a,{scope:e}),l=t.getEvents(e,a,l),u=n(s,l);o.addObject("mapsEngineLayers",u)}}}])}(),function(){"use strict";angular.module("ngMap").directive("fusionTablesLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.FusionTablesLayer(e);for(var r in t)google.maps.event.addListener(n,r,t[r]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,r,i,o){o=o[0]||o[1];var a=t.filter(i),s=t.getOptions(a,{scope:e}),l=t.getEvents(e,a,l),u=n(s,l);o.addObject("fusionTablesLayers",u)}}}])}(),function(){"use strict";angular.module("ngMap").directive("heatmapLayer",["Attr2MapOptions","$window",function(e,t){var n=e;return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,r,i,o){o=o[0]||o[1];var a=n.filter(i),s=n.getOptions(a,{scope:e});if(s.data=t[i.data]||e[i.data],!(s.data instanceof Array))throw"invalid heatmap data";s.data=new google.maps.MVCArray(s.data);{var l=new google.maps.visualization.HeatmapLayer(s);n.getEvents(e,a)}o.addObject("heatmapLayers",l)}}}])}(),function(){"use strict";var e=function(e,t,n,r,i){var o=e,a=function(e,r,i){var o;!e.position||e.position instanceof google.maps.LatLng||delete e.position,o=new google.maps.InfoWindow(e);for(var a in r)a&&google.maps.event.addListener(o,a,r[a]);var s=i.html().trim();if(1!=angular.element(s).length)throw"info-window working as a template must have a container";return o.__template=s.replace(/\s?ng-non-bindable[='"]+/,""),o.__open=function(e,r,i){n(function(){i&&(r.anchor=i);var n=t(o.__template)(r);o.setContent(n[0]),r.$apply(),i&&i.getPosition?o.open(e,i):i&&i instanceof google.maps.LatLng?(o.open(e),o.setPosition(i)):o.open(e);var a=o.content.parentElement.parentElement.parentElement;a.className="ng-map-info-window"})},o},s=function(e,t,n,s){s=s[0]||s[1],t.css("display","none");var l,u=o.orgAttributes(t),c=o.filter(n),d=o.getOptions(c,{scope:e}),p=o.getEvents(e,c);!d.position||d.position instanceof google.maps.LatLng||(l=d.position);var f=a(d,p,t);l&&i.getGeoLocation(l).then(function(t){f.setPosition(t),f.__open(s.map,e,t);var i=n.geoCallback;i&&r(i)(e)}),s.addObject("infoWindows",f),s.observeAttrSetObj(u,n,f),s.showInfoWindow=s.map.showInfoWindow=s.showInfoWindow||function(t,n,r){var i="string"==typeof t?t:n,o="string"==typeof t?n:r;if("string"==typeof o)if("undefined"!=typeof s.map.markers&&"undefined"!=typeof s.map.markers[o])o=s.map.markers[o];else{if("undefined"==typeof s.map.customMarkers[o])throw new Error("Cant open info window for id "+o+". Marker or CustomMarker is not defined");o=s.map.customMarkers[o]}var a=s.map.infoWindows[i],l=o?o:this.getPosition?this:null;a.__open(s.map,e,l),s.singleInfoWindow&&(s.lastInfoWindow&&e.hideInfoWindow(s.lastInfoWindow),s.lastInfoWindow=i)},s.hideInfoWindow=s.map.hideInfoWindow=s.hideInfoWindow||function(e,t){var n="string"==typeof e?e:t,r=s.map.infoWindows[n];r.close()},e.showInfoWindow=s.map.showInfoWindow,e.hideInfoWindow=s.map.hideInfoWindow,i.getMap().then(function(t){if(f.visible&&f.__open(t,e),f.visibleOnMarker){var n=f.visibleOnMarker;f.__open(t,e,t.markers[n])}})};return{restrict:"E",require:["?^map","?^ngMap"],link:s}};e.$inject=["Attr2MapOptions","$compile","$timeout","$parse","NgMap"],angular.module("ngMap").directive("infoWindow",e)}(),function(){"use strict";angular.module("ngMap").directive("kmlLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.KmlLayer(e);for(var r in t)google.maps.event.addListener(n,r,t[r]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,r,i,o){o=o[0]||o[1];var a=t.orgAttributes(r),s=t.filter(i),l=t.getOptions(s,{scope:e}),u=t.getEvents(e,s),c=n(l,u);o.addObject("kmlLayers",c),o.observeAttrSetObj(a,i,c),r.bind("$destroy",function(){o.deleteObject("kmlLayers",c)})}}}])}(),function(){"use strict";angular.module("ngMap").directive("mapData",["Attr2MapOptions","NgMap",function(e,t){var n=e;return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,r,i){var o=n.filter(i),a=n.getOptions(o,{scope:e}),s=n.getEvents(e,o,s);t.getMap().then(function(t){for(var n in a){var r=a[n];t.data[n]("function"==typeof e[r]?e[r]:r)}for(var i in s)t.data.addListener(i,s[i])})}}}])}(),function(){"use strict";var e,t,n,r,i=function(n,i,o){var a=o.mapLazyLoadParams||o.mapLazyLoad;if(window.lazyLoadCallback=function(){e(function(){i.html(r),t(i.contents())(n)},100)},void 0===window.google||void 0===window.google.maps){var s=document.createElement("script");s.src=a+(a.indexOf("?")>-1?"&":"?")+"callback=lazyLoadCallback",document.querySelector('script[src="'+s.src+'"]')||document.body.appendChild(s)}else i.html(r),t(i.contents())(n)},o=function(e,t){return!t.mapLazyLoad&&void 0,r=e.html(),n=t.mapLazyLoad,void 0!==window.google&&void 0!==window.google.maps?!1:(e.html(""),{pre:i})},a=function(n,r){return t=n,e=r,{compile:o}};a.$inject=["$compile","$timeout"],angular.module("ngMap").directive("mapLazyLoad",a)}(),function(){"use strict";angular.module("ngMap").directive("mapType",["$parse","NgMap",function(e,t){return{restrict:"E",require:["?^map","?^ngMap"],link:function(n,r,i,o){o=o[0]||o[1];var a,s=i.name;if(!s)throw"invalid map-type name";if(a=e(i.object)(n),!a)throw"invalid map-type object";t.getMap().then(function(e){e.mapTypes.set(s,a)}),o.addObject("mapTypes",a)}}}])}(),function(){"use strict";var e=function(){return{restrict:"AE",controller:"__MapController",controllerAs:"ngmap"}};angular.module("ngMap").directive("map",[e]),angular.module("ngMap").directive("ngMap",[e])}(),function(){"use strict";angular.module("ngMap").directive("mapsEngineLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.visualization.MapsEngineLayer(e);for(var r in t)google.maps.event.addListener(n,r,t[r]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,r,i,o){o=o[0]||o[1];var a=t.filter(i),s=t.getOptions(a,{scope:e}),l=t.getEvents(e,a,l),u=n(s,l);o.addObject("mapsEngineLayers",u)}}}])}(),function(){"use strict";var e,t,n,r=function(e,t){var r;if(n.defaultOptions.marker)for(var i in n.defaultOptions.marker)"undefined"==typeof e[i]&&(e[i]=n.defaultOptions.marker[i]);e.position instanceof google.maps.LatLng||(e.position=new google.maps.LatLng(0,0)),r=new google.maps.Marker(e),Object.keys(t).length>0;for(var o in t)o&&google.maps.event.addListener(r,o,t[o]);return r},i=function(i,o,a,s){s=s[0]||s[1];var l,u=e.orgAttributes(o),c=e.filter(a),d=e.getOptions(c,i,{scope:i}),p=e.getEvents(i,c);d.position instanceof google.maps.LatLng||(l=d.position);var f=r(d,p);s.addObject("markers",f),l&&n.getGeoLocation(l).then(function(e){f.setPosition(e),d.centered&&f.map.setCenter(e);var n=a.geoCallback;n&&t(n)(i)}),s.observeAttrSetObj(u,a,f),o.bind("$destroy",function(){s.deleteObject("markers",f)})},o=function(r,o,a){return e=r,t=o,n=a,{restrict:"E",require:["^?map","?^ngMap"],link:i}};o.$inject=["Attr2MapOptions","$parse","NgMap"],angular.module("ngMap").directive("marker",o)}(),function(){"use strict";angular.module("ngMap").directive("overlayMapType",["NgMap",function(e){return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,n,r,i){i=i[0]||i[1];var o=r.initMethod||"insertAt",a=t[r.object];e.getMap().then(function(e){if("insertAt"==o){var t=parseInt(r.index,10);e.overlayMapTypes.insertAt(t,a)}else"push"==o&&e.overlayMapTypes.push(a)}),i.addObject("overlayMapTypes",a)}}}])}(),function(){"use strict";var e=function(e,t){var n=e,r=function(e,r,i,o){if("false"===i.placesAutoComplete)return!1;var a=n.filter(i),s=n.getOptions(a,{scope:e}),l=n.getEvents(e,a),u=new google.maps.places.Autocomplete(r[0],s);for(var c in l)google.maps.event.addListener(u,c,l[c]);var d=function(){t(function(){o&&o.$setViewValue(r.val())},100)};google.maps.event.addListener(u,"place_changed",d),r[0].addEventListener("change",d),i.$observe("types",function(e){if(e){var t=n.toOptionValue(e,{key:"types"});u.setTypes(t)}})};return{restrict:"A",require:"?ngModel",link:r}};e.$inject=["Attr2MapOptions","$timeout"],angular.module("ngMap").directive("placesAutoComplete",e)}(),function(){"use strict";var e=function(e,t){var n,r=e.name;switch(delete e.name,r){case"circle":e.center instanceof google.maps.LatLng||(e.center=new google.maps.LatLng(0,0)),n=new google.maps.Circle(e);break;case"polygon":n=new google.maps.Polygon(e);break;case"polyline":n=new google.maps.Polyline(e);break;case"rectangle":n=new google.maps.Rectangle(e);break;case"groundOverlay":case"image":var i=e.url,o={opacity:e.opacity,clickable:e.clickable,id:e.id};n=new google.maps.GroundOverlay(i,e.bounds,o)}for(var a in t)t[a]&&google.maps.event.addListener(n,a,t[a]);return n},t=function(t,n,r){var i=t,o=function(t,o,a,s){s=s[0]||s[1];var l,u,c=i.orgAttributes(o),d=i.filter(a),p=i.getOptions(d,{scope:t}),f=i.getEvents(t,d);u=p.name,p.center instanceof google.maps.LatLng||(l=p.center);var h=e(p,f);s.addObject("shapes",h),l&&"circle"==u&&r.getGeoLocation(l).then(function(e){h.setCenter(e),h.centered&&h.map.setCenter(e);var r=a.geoCallback;r&&n(r)(t)}),s.observeAttrSetObj(c,a,h),o.bind("$destroy",function(){s.deleteObject("shapes",h)})};return{restrict:"E",require:["?^map","?^ngMap"],link:o}};t.$inject=["Attr2MapOptions","$parse","NgMap"],angular.module("ngMap").directive("shape",t)}(),function(){"use strict";var e=function(e,t){var n=e,r=function(e,t,n){var r,i;t.container&&(i=document.getElementById(t.container),i=i||document.querySelector(t.container)),i?r=new google.maps.StreetViewPanorama(i,t):(r=e.getStreetView(),r.setOptions(t));for(var o in n)o&&google.maps.event.addListener(r,o,n[o]);return r},i=function(e,i,o){var a=n.filter(o),s=n.getOptions(a,{scope:e}),l=n.getControlOptions(a),u=angular.extend(s,l),c=n.getEvents(e,a);t.getMap().then(function(e){var t=r(e,u,c);e.setStreetView(t),!t.getPosition()&&t.setPosition(e.getCenter()),google.maps.event.addListener(t,"position_changed",function(){t.getPosition()!==e.getCenter()&&e.setCenter(t.getPosition())});var n=google.maps.event.addListener(e,"center_changed",function(){t.setPosition(e.getCenter()),google.maps.event.removeListener(n)})})};return{restrict:"E",require:["?^map","?^ngMap"],link:i}};e.$inject=["Attr2MapOptions","NgMap"],angular.module("ngMap").directive("streetViewPanorama",e)}(),function(){"use strict";angular.module("ngMap").directive("trafficLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.TrafficLayer(e);for(var r in t)google.maps.event.addListener(n,r,t[r]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,r,i,o){o=o[0]||o[1];var a=t.orgAttributes(r),s=t.filter(i),l=t.getOptions(s,{scope:e}),u=t.getEvents(e,s),c=n(l,u);o.addObject("trafficLayers",c),o.observeAttrSetObj(a,i,c),r.bind("$destroy",function(){o.deleteObject("trafficLayers",c)})}}}])}(),function(){"use strict";angular.module("ngMap").directive("transitLayer",["Attr2MapOptions",function(e){var t=e,n=function(e,t){var n=new google.maps.TransitLayer(e);for(var r in t)google.maps.event.addListener(n,r,t[r]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,r,i,o){o=o[0]||o[1];var a=t.orgAttributes(r),s=t.filter(i),l=t.getOptions(s,{scope:e}),u=t.getEvents(e,s),c=n(l,u);o.addObject("transitLayers",c),o.observeAttrSetObj(a,i,c),r.bind("$destroy",function(){o.deleteObject("transitLayers",c)})}}}])}(),function(){"use strict";var e=/([\:\-\_]+(.))/g,t=/^moz([A-Z])/,n=function(){return function(n){return n.replace(e,function(e,t,n,r){return r?n.toUpperCase():n}).replace(t,"Moz$1")}};angular.module("ngMap").filter("camelCase",n)}(),function(){"use strict";var e=function(){return function(e){try{return JSON.parse(e),e}catch(t){return e.replace(/([\$\w]+)\s*:/g,function(e,t){return'"'+t+'":'}).replace(/'([^']+)'/g,function(e,t){return'"'+t+'"'})}}};angular.module("ngMap").filter("jsonize",e)}(),function(){"use strict";var isoDateRE=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/,Attr2MapOptions=function($parse,$timeout,$log,NavigatorGeolocation,GeoCoder,camelCaseFilter,jsonizeFilter){var orgAttributes=function(e){e.length>0&&(e=e[0]);for(var t={},n=0;n<e.attributes.length;n++){var r=e.attributes[n];t[r.name]=r.value}return t},getJSON=function(e){var t=/^[\+\-]?[0-9\.]+,[ ]*\ ?[\+\-]?[0-9\.]+$/;return e.match(t)&&(e="["+e+"]"),JSON.parse(jsonizeFilter(e))},getLatLng=function(e){var t=e;return e[0].constructor==Array?t=e.map(function(e){return new google.maps.LatLng(e[0],e[1])}):!isNaN(parseFloat(e[0]))&&isFinite(e[0])&&(t=new google.maps.LatLng(t[0],t[1])),t},toOptionValue=function(input,options){var output;try{output=getNumber(input)}catch(err){try{var output=getJSON(input);if(output instanceof Array)output=output[0].constructor==Object?output:getLatLng(output);else if(output===Object(output)){var newOptions=options;newOptions.doNotConverStringToNumber=!0,output=getOptions(output,newOptions)}}catch(err2){if(input.match(/^[A-Z][a-zA-Z0-9]+\(.*\)$/))try{var exp="new google.maps."+input;output=eval(exp)}catch(e){output=input}else if(input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/))try{var matches=input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/);output=google.maps[matches[1]][matches[2]]}catch(e){output=input}else if(input.match(/^[A-Z]+$/))try{var capitalizedKey=options.key.charAt(0).toUpperCase()+options.key.slice(1);options.key.match(/temperatureUnit|windSpeedUnit|labelColor/)?(capitalizedKey=capitalizedKey.replace(/s$/,""),output=google.maps.weather[capitalizedKey][input]):output=google.maps[capitalizedKey][input]}catch(e){output=input}else if(input.match(isoDateRE))try{output=new Date(input)}catch(e){output=input}else if(input.match(/^{/)&&options.scope)try{var expr=input.replace(/{{/,"").replace(/}}/g,"");output=options.scope.$eval(expr)}catch(err){output=input}else output=input}}if(("center"==options.key||"center"==options.key)&&output instanceof Array&&(output=new google.maps.LatLng(output[0],output[1])),"bounds"==options.key&&output instanceof Array&&(output=new google.maps.LatLngBounds(output[0],output[1])),"icons"==options.key&&output instanceof Array)for(var i=0;i<output.length;i++){var el=output[i];el.icon.path.match(/^[A-Z_]+$/)&&(el.icon.path=google.maps.SymbolPath[el.icon.path])}if("icon"==options.key&&output instanceof Object){(""+output.path).match(/^[A-Z_]+$/)&&(output.path=google.maps.SymbolPath[output.path]);for(var key in output){var arr=output[key];"anchor"==key||"origin"==key||"labelOrigin"==key?output[key]=new google.maps.Point(arr[0],arr[1]):("size"==key||"scaledSize"==key)&&(output[key]=new google.maps.Size(arr[0],arr[1]))}}return output},getAttrsToObserve=function(e){var t=[];if(!e.noWatcher)for(var n in e){var r=e[n];r&&r.match(/\{\{.*\}\}/)&&t.push(camelCaseFilter(n))}return t},filter=function(e){var t={};for(var n in e)n.match(/^\$/)||n.match(/^ng[A-Z]/)||(t[n]=e[n]);return t},getOptions=function(e,t){t=t||{};var n={};for(var r in e)if(e[r]||0===e[r]){if(r.match(/^on[A-Z]/))continue;if(r.match(/ControlOptions$/))continue;n[r]="string"!=typeof e[r]?e[r]:t.doNotConverStringToNumber&&e[r].match(/^[0-9]+$/)?e[r]:toOptionValue(e[r],{key:r,scope:t.scope})}return n},getEvents=function(e,t){var n={},r=function(e){return"_"+e.toLowerCase()},i=function(t){var n=t.match(/([^\(]+)\(([^\)]*)\)/),r=n[1],i=n[2].replace(/event[ ,]*/,""),o=$parse("["+i+"]");return function(t){function n(e,t){return e[t]}var i=o(e),a=r.split(".").reduce(n,e);a&&a.apply(this,[t].concat(i)),$timeout(function(){e.$apply()})}};for(var o in t)if(t[o]){if(!o.match(/^on[A-Z]/))continue;var a=o.replace(/^on/,"");a=a.charAt(0).toLowerCase()+a.slice(1),a=a.replace(/([A-Z])/g,r);var s=t[o];n[a]=new i(s)}return n},getControlOptions=function(e){var t={};if("object"!=typeof e)return!1;for(var n in e)if(e[n]){if(!n.match(/(.*)ControlOptions$/))continue;var r=e[n],i=r.replace(/'/g,'"');i=i.replace(/([^"]+)|("[^"]+")/g,function(e,t,n){return t?t.replace(/([a-zA-Z0-9]+?):/g,'"$1":'):n});try{var o=JSON.parse(i);for(var a in o)if(o[a]){var s=o[a];if("string"==typeof s?s=s.toUpperCase():"mapTypeIds"===a&&(s=s.map(function(e){return e.match(/^[A-Z]+$/)?google.maps.MapTypeId[e.toUpperCase()]:e})),"style"===a){var l=n.charAt(0).toUpperCase()+n.slice(1),u=l.replace(/Options$/,"")+"Style";o[a]=google.maps[u][s]}else o[a]="position"===a?google.maps.ControlPosition[s]:s}t[n]=o}catch(c){}}return t};return{filter:filter,getOptions:getOptions,getEvents:getEvents,getControlOptions:getControlOptions,toOptionValue:toOptionValue,getAttrsToObserve:getAttrsToObserve,orgAttributes:orgAttributes}};Attr2MapOptions.$inject=["$parse","$timeout","$log","NavigatorGeolocation","GeoCoder","camelCaseFilter","jsonizeFilter"],angular.module("ngMap").service("Attr2MapOptions",Attr2MapOptions)}(),function(){"use strict";var e,t=function(t){var n=e.defer(),r=new google.maps.Geocoder;return r.geocode(t,function(e,t){t==google.maps.GeocoderStatus.OK?n.resolve(e):n.reject(t)}),n.promise},n=function(n){return e=n,{geocode:t}};n.$inject=["$q"],angular.module("ngMap").service("GeoCoder",n)}(),function(){"use strict";var e,t=function(t){var n=e.defer();return navigator.geolocation?(void 0===t?t={timeout:5e3}:void 0===t.timeout&&(t.timeout=5e3),navigator.geolocation.getCurrentPosition(function(e){n.resolve(e)},function(e){n.reject(e)},t)):n.reject("Browser Geolocation service failed."),n.promise},n=function(n){return e=n,{getCurrentPosition:t}};n.$inject=["$q"],angular.module("ngMap").service("NavigatorGeolocation",n)}(),function(){"use strict";var e,t,n,r=[],i=function(n){var i=t.createElement("div");i.style.width="100%",i.style.height="100%",n.appendChild(i);var o=new e.google.maps.Map(i,{});return r.push(o),o},o=function(e,t){for(var n,i=0;i<r.length;i++){var o=r[i];if(o.id==t&&!o.inUse){var a=o.getDiv();e.appendChild(a),n=o;break}}return n},a=function(e){for(var t,n=0;n<r.length;n++){var i=r[n];if(!i.id&&!i.inUse){var o=i.getDiv();e.appendChild(o),t=i;break}}return t},s=function(e){var t=o(e,e.id)||a(e);return t?n(function(){google.maps.event.trigger(t,"idle")},100):t=i(e),t.inUse=!0,t},l=function(e){e.inUse=!1},u=function(){for(var e=0;e<r.length;e++)r[e]=null;r=[]},c=function(i,o,a){return t=i[0],e=o,n=a,{mapInstances:r,resetMapInstances:u,getMapInstance:s,returnMapInstance:l}};c.$inject=["$document","$window","$timeout"],angular.module("ngMap").factory("NgMapPool",c)}(),function(){"use strict";var e,t,n,r,i,o,a,s={},l=function(n,r){var i;return n.currentStyle?i=n.currentStyle[r]:e.getComputedStyle&&(i=t.defaultView.getComputedStyle(n,null).getPropertyValue(r)),i},u=function(e){var t=s[e||0];return t.map instanceof google.maps.Map?void 0:(t.initializeMap(),t.map)},c=function(t){function r(n){s[t]?i.resolve(s[t].map):n>o?i.reject("could not find map"):e.setTimeout(function(){r(n+100)},100)}t="object"==typeof t?t.id:t,t=t||0;var i=n.defer(),o=2e3;return r(0),i.promise},d=function(e){if(e.map){var t=Object.keys(s).length;s[e.map.id||t]=e}},p=function(e){var t=Object.keys(s).length-1,n=e.map.id||t;if(e.map){for(var r in e.eventListeners){var i=e.eventListeners[r];google.maps.event.removeListener(i)}e.map.controls&&e.map.controls.forEach(function(e){e.clear()})}e.map.heatmapLayers&&Object.keys(e.map.heatmapLayers).forEach(function(t){e.deleteObject("heatmapLayers",e.map.heatmapLayers[t])}),delete s[n]},f=function(e,t){var i=n.defer();return!e||e.match(/^current/i)?r.getCurrentPosition(t).then(function(e){var t=e.coords.latitude,n=e.coords.longitude,r=new google.maps.LatLng(t,n);i.resolve(r)},function(e){i.reject(e)}):o.geocode({address:e}).then(function(e){i.resolve(e[0].geometry.location)},function(e){i.reject(e)}),i.promise},h=function(e,t){return function(n){if(n){var r=a("set-"+e),o=i.toOptionValue(n,{key:e});t[r]&&(e.match(/center|position/)&&"string"==typeof o?f(o).then(function(e){t[r](e)}):t[r](o))}}},m=function(e){var t=e.getAttribute("default-style");"true"==t?(e.style.display="block",e.style.height="300px"):("block"!=l(e,"display")&&(e.style.display="block"),l(e,"height").match(/^(0|auto)/)&&(e.style.height="300px"))};angular.module("ngMap").provider("NgMap",function(){var s={};this.setDefaultOptions=function(e){s=e};var l=function(l,g,v,b,y,C,E){return e=l,t=g[0],n=v,r=b,i=y,o=C,a=E,{defaultOptions:s,addMap:d,deleteMap:p,getMap:c,initMap:u,setStyle:m,getGeoLocation:f,observeAndSet:h}};l.$inject=["$window","$document","$q","NavigatorGeolocation","Attr2MapOptions","GeoCoder","camelCaseFilter"],this.$get=l})}(),function(){"use strict";var e,t=function(t,n){n=n||t.getCenter();var r=e.defer(),i=new google.maps.StreetViewService;return i.getPanoramaByLocation(n||t.getCenter,100,function(e,t){r.resolve(t===google.maps.StreetViewStatus.OK?e.location.pano:!1)}),r.promise},n=function(e,t){var n=new google.maps.StreetViewPanorama(e.getDiv(),{enableCloseButton:!0});n.setPano(t)},r=function(r){return e=r,{getPanorama:t,setPanorama:n}};r.$inject=["$q"],angular.module("ngMap").service("StreetView",r)}(),"ngMap"}),function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t,n,r){for(var i=-1,o=e?e.length:0;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function i(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);
return e}function o(e,t){for(var n=e?e.length:0;n--&&t(e[n],n,e)!==!1;);return e}function a(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(!t(e[n],n,e))return!1;return!0}function s(e,t){for(var n=-1,r=e?e.length:0,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function l(e,t){var n=e?e.length:0;return!!n&&v(e,t,0)>-1}function u(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function c(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function d(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function p(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function f(e,t,n,r){var i=e?e.length:0;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function h(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function m(e,t,n){var r;return n(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function g(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function v(e,t,n){if(t!==t)return g(e,y,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function b(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function y(e){return e!==e}function C(e,t){var n=e?e.length:0;return n?O(e,t)/n:Ce}function E(e){return function(t){return null==t?z:t[e]}}function T(e){return function(t){return null==e?z:e[t]}}function w(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function D(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function O(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==z&&(n=n===z?o:n+o)}return n}function I(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function R(e,t){return c(t,function(t){return[t,e[t]]})}function $(e){return function(t){return e(t)}}function x(e,t){return c(t,function(t){return e[t]})}function k(e,t){return e.has(t)}function _(e,t){for(var n=-1,r=e.length;++n<r&&v(t,e[n],0)>-1;);return n}function S(e,t){for(var n=e.length;n--&&v(t,e[n],0)>-1;);return n}function A(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function N(e){return"\\"+kn[e]}function K(e,t){return null==e?z:e[t]}function P(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function M(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function L(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function F(e,t){return function(n){return e(t(n))}}function B(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];(a===t||a===J)&&(e[n]=J,o[i++]=n)}return o}function j(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function U(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function V(e){if(!e||!En.test(e))return e.length;for(var t=yn.lastIndex=0;yn.test(e);)t++;return t}function H(e){return e.match(yn)}function q(T){function At(e){if(Ks(e)&&!Bd(e)&&!(e instanceof Pt)){if(e instanceof Kt)return e;if(Hu.call(e,"__wrapped__"))return ko(e)}return new Kt(e)}function Nt(){}function Kt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=z}function Pt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ee,this.__views__=[]}function Mt(){var e=new Pt(this.__wrapped__);return e.__actions__=Ei(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ei(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ei(this.__views__),e}function Lt(){if(this.__filtered__){var e=new Pt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ft(){var e=this.__wrapped__.value(),t=this.__dir__,n=Bd(e),r=0>t,i=n?e.length:0,o=io(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,d=c.length,p=0,f=vc(l,this.__takeCount__);if(!n||W>i||i==l&&f==l)return ni(e,this.__actions__);var h=[];e:for(;l--&&f>p;){u+=t;for(var m=-1,g=e[u];++m<d;){var v=c[m],b=v.iteratee,y=v.type,C=b(g);if(y==me)g=C;else if(!C){if(y==he)continue e;break e}}h[p++]=g}return h}function Bt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jt(){this.__data__=$c?$c(null):{}}function Ut(e){return this.has(e)&&delete this.__data__[e]}function Vt(e){var t=this.__data__;if($c){var n=t[e];return n===X?z:n}return Hu.call(t,e)?t[e]:z}function Ht(e){var t=this.__data__;return $c?t[e]!==z:Hu.call(t,e)}function qt(e,t){var n=this.__data__;return n[e]=$c&&t===z?X:t,this}function zt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gt(){this.__data__=[]}function Wt(e){var t=this.__data__,n=yn(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():ic.call(t,n,1),!0}function Yt(e){var t=this.__data__,n=yn(t,e);return 0>n?z:t[n][1]}function Xt(e){return yn(this.__data__,e)>-1}function Jt(e,t){var n=this.__data__,r=yn(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function Zt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Qt(){this.__data__={hash:new Bt,map:new(Dc||zt),string:new Bt}}function en(e){return to(this,e)["delete"](e)}function tn(e){return to(this,e).get(e)}function nn(e){return to(this,e).has(e)}function rn(e,t){return to(this,e).set(e,t),this}function on(e){var t=-1,n=e?e.length:0;for(this.__data__=new Zt;++t<n;)this.add(e[t])}function an(e){return this.__data__.set(e,X),this}function sn(e){return this.__data__.has(e)}function ln(e){this.__data__=new zt(e)}function un(){this.__data__=new zt}function cn(e){return this.__data__["delete"](e)}function dn(e){return this.__data__.get(e)}function pn(e){return this.__data__.has(e)}function fn(e,t){var n=this.__data__;if(n instanceof zt){var r=n.__data__;if(!Dc||r.length<W-1)return r.push([e,t]),this;n=this.__data__=new Zt(r)}return n.set(e,t),this}function hn(e,t,n,r){return e===z||Cs(e,Fu[n])&&!Hu.call(r,n)?t:e}function mn(e,t,n){(n!==z&&!Cs(e[t],n)||"number"==typeof t&&n===z&&!(t in e))&&(e[t]=n)}function gn(e,t,n){var r=e[t];Hu.call(e,t)&&Cs(r,n)&&(n!==z||t in e)||(e[t]=n)}function yn(e,t){for(var n=e.length;n--;)if(Cs(e[n][0],t))return n;return-1}function Rn(e,t,n,r){return jc(e,function(e,i,o){t(r,e,n(e),o)}),r}function $n(e,t){return e&&Ti(t,gl(t),e)}function xn(e,t){for(var n=-1,r=null==e,i=t.length,o=Su(i);++n<i;)o[n]=r?z:fl(e,t[n]);return o}function kn(e,t,n){return e===e&&(n!==z&&(e=n>=e?e:n),t!==z&&(e=e>=t?e:t)),e}function An(e,t,n,r,o,a,s){var l;if(r&&(l=a?r(e,o,a,s):r(e)),l!==z)return l;if(!Ns(e))return e;var u=Bd(e);if(u){if(l=so(e),!t)return Ei(e,l)}else{var c=Qc(e),d=c==ke||c==_e;if(Ud(e))return ui(e,t);if(c==Ne||c==Oe||d&&!a){if(P(e))return a?e:{};if(l=lo(d?{}:e),!t)return wi(e,$n(l,e))}else{if(!In[c])return a?e:{};l=uo(e,c,An,t)}}s||(s=new ln);var p=s.get(e);if(p)return p;if(s.set(e,l),!u)var f=n?Xi(e):gl(e);return i(f||e,function(i,o){f&&(o=i,i=e[o]),gn(l,o,An(i,t,n,r,o,e,s))}),n||s["delete"](e),l}function Nn(e){var t=gl(e);return function(n){return Pn(n,e,t)}}function Pn(e,t,n){var r=n.length;if(null==e)return!r;for(var i=r;i--;){var o=n[i],a=t[o],s=e[o];if(s===z&&!(o in Object(e))||!a(s))return!1}return!0}function Mn(e){return Ns(e)?nc(e):{}}function Fn(e,t,n){if("function"!=typeof e)throw new Mu(Y);return sc(function(){e.apply(z,n)},t)}function Bn(e,t,n,r){var i=-1,o=l,a=!0,s=e.length,d=[],p=t.length;if(!s)return d;n&&(t=c(t,$(n))),r?(o=u,a=!1):t.length>=W&&(o=k,a=!1,t=new on(t));e:for(;++i<s;){var f=e[i],h=n?n(f):f;if(f=r||0!==f?f:0,a&&h===h){for(var m=p;m--;)if(t[m]===h)continue e;d.push(f)}else o(t,h,r)||d.push(f)}return d}function Jn(e,t){var n=!0;return jc(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Zn(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===z?a===a&&!zs(a):n(a,s)))var s=a,l=o}return l}function Qn(e,t,n,r){var i=e.length;for(n=Zs(n),0>n&&(n=-n>i?0:i+n),r=r===z||r>i?i:Zs(r),0>r&&(r+=i),r=n>r?0:Qs(r);r>n;)e[n++]=t;return e}function er(e,t){var n=[];return jc(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function tr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=fo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?tr(s,t-1,n,r,i):d(i,s):r||(i[i.length]=s)}return i}function nr(e,t){return e&&Vc(e,t,gl)}function rr(e,t){return e&&Hc(e,t,gl)}function ir(e,t){return s(t,function(t){return _s(e[t])})}function or(e,t){t=go(t,e)?[t]:si(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[Ro(t[n++])];return n&&n==r?e:z}function ar(e,t,n){var r=t(e);return Bd(e)?r:d(r,n(e))}function sr(e){return Gu.call(e)}function lr(e,t){return e>t}function ur(e,t){return null!=e&&(Hu.call(e,t)||"object"==typeof e&&t in e&&null===Xc(e))}function cr(e,t){return null!=e&&t in Object(e)}function dr(e,t,n){return e>=vc(t,n)&&e<gc(t,n)}function pr(e,t,n){for(var r=n?u:l,i=e[0].length,o=e.length,a=o,s=Su(o),d=1/0,p=[];a--;){var f=e[a];a&&t&&(f=c(f,$(t))),d=vc(f.length,d),s[a]=!n&&(t||i>=120&&f.length>=120)?new on(a&&f):z}f=e[0];var h=-1,m=s[0];e:for(;++h<i&&p.length<d;){var g=f[h],v=t?t(g):g;if(g=n||0!==g?g:0,!(m?k(m,v):r(p,v,n))){for(a=o;--a;){var b=s[a];if(!(b?k(b,v):r(e[a],v,n)))continue e}m&&m.push(v),p.push(g)}}return p}function fr(e,t,n,r){return nr(e,function(e,i,o){t(r,n(e),i,o)}),r}function hr(e,t,r){go(t,e)||(t=si(t),e=Oo(e,t),t=Yo(t));var i=null==e?e:e[Ro(t)];return null==i?z:n(i,e,r)}function mr(e){return Ks(e)&&Gu.call(e)==Ue}function gr(e){return Ks(e)&&Gu.call(e)==$e}function vr(e,t,n,r,i){return e===t?!0:null==e||null==t||!Ns(e)&&!Ks(t)?e!==e&&t!==t:br(e,t,vr,n,r,i)}function br(e,t,n,r,i,o){var a=Bd(e),s=Bd(t),l=Ie,u=Ie;a||(l=Qc(e),l=l==Oe?Ne:l),s||(u=Qc(t),u=u==Oe?Ne:u);var c=l==Ne&&!P(e),d=u==Ne&&!P(t),p=l==u;if(p&&!c)return o||(o=new ln),a||Gd(e)?Gi(e,t,n,r,i,o):Wi(e,t,l,n,r,i,o);if(!(i&ue)){var f=c&&Hu.call(e,"__wrapped__"),h=d&&Hu.call(t,"__wrapped__");if(f||h){var m=f?e.value():e,g=h?t.value():t;return o||(o=new ln),n(m,g,r,i,o)}}return p?(o||(o=new ln),Yi(e,t,n,r,i,o)):!1}function yr(e){return Ks(e)&&Qc(e)==Se}function Cr(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===z&&!(l in e))return!1}else{var d=new ln;if(r)var p=r(u,c,l,e,t,d);if(!(p===z?vr(c,u,r,le|ue,d):p))return!1}}return!0}function Er(e){if(!Ns(e)||yo(e))return!1;var t=_s(e)||P(e)?Yu:Rt;return t.test($o(e))}function Tr(e){return Ns(e)&&Gu.call(e)==Pe}function wr(e){return Ks(e)&&Qc(e)==Me}function Dr(e){return Ks(e)&&As(e.length)&&!!On[Gu.call(e)]}function Or(e){return"function"==typeof e?e:null==e?au:"object"==typeof e?Bd(e)?kr(e[0],e[1]):xr(e):hu(e)}function Ir(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function Rr(e,t){return t>e}function $r(e,t){var n=-1,r=Ts(e)?Su(e.length):[];return jc(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function xr(e){var t=no(e);return 1==t.length&&t[0][2]?To(t[0][0],t[0][1]):function(n){return n===e||Cr(n,e,t)}}function kr(e,t){return go(e)&&Eo(t)?To(Ro(e),t):function(n){var r=fl(n,e);return r===z&&r===t?ml(n,e):vr(t,r,z,le|ue)}}function _r(e,t,n,r,o){if(e!==t){if(!Bd(t)&&!Gd(t))var a=vl(t);i(a||t,function(i,s){if(a&&(s=i,i=t[s]),Ns(i))o||(o=new ln),Sr(e,t,s,n,_r,r,o);else{var l=r?r(e[s],i,s+"",e,t,o):z;l===z&&(l=i),mn(e,s,l)}})}}function Sr(e,t,n,r,i,o,a){var s=e[n],l=t[n],u=a.get(l);if(u)return void mn(e,n,u);var c=o?o(s,l,n+"",e,t,a):z,d=c===z;d&&(c=l,Bd(l)||Gd(l)?Bd(s)?c=s:ws(s)?c=Ei(s):(d=!1,c=An(l,!0)):Vs(l)||Es(l)?Es(s)?c=tl(s):!Ns(s)||r&&_s(s)?(d=!1,c=An(l,!0)):c=s:d=!1),d&&(a.set(l,c),i(c,l,r,o,a),a["delete"](l)),mn(e,n,c)}function Ar(e,t){var n=e.length;if(n)return t+=0>t?n:0,ho(t,n)?e[t]:z}function Nr(e,t,n){var r=-1;t=c(t.length?t:[au],$(eo()));var i=$r(e,function(e,n,i){var o=c(t,function(t){return t(e)});return{criteria:o,index:++r,value:e}});return D(i,function(e,t){return bi(e,t,n)})}function Kr(e,t){return e=Object(e),Pr(e,t,function(t,n){return n in e})}function Pr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=e[a];n(s,a)&&(o[a]=s)}return o}function Mr(e){return function(t){return or(t,e)}}function Lr(e,t,n,r){var i=r?b:v,o=-1,a=t.length,s=e;for(e===t&&(t=Ei(t)),n&&(s=c(e,$(n)));++o<a;)for(var l=0,u=t[o],d=n?n(u):u;(l=i(s,d,l,r))>-1;)s!==e&&ic.call(s,l,1),ic.call(e,l,1);return e}function Fr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;if(ho(i))ic.call(e,i,1);else if(go(i,e))delete e[Ro(i)];else{var a=si(i),s=Oo(e,a);null!=s&&delete s[Ro(Yo(a))]}}}return e}function Br(e,t){return e+uc(yc()*(t-e+1))}function jr(e,t,n,r){for(var i=-1,o=gc(lc((t-e)/(n||1)),0),a=Su(o);o--;)a[r?o:++i]=e,e+=n;return a}function Ur(e,t){var n="";if(!e||1>t||t>be)return n;do t%2&&(n+=e),t=uc(t/2),t&&(e+=e);while(t);return n}function Vr(e,t){return t=gc(t===z?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=gc(r.length-t,0),a=Su(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Su(t+1);++i<t;)s[i]=r[i];return s[t]=a,n(e,this,s)}}function Hr(e,t,n,r){t=go(t,e)?[t]:si(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var l=Ro(t[i]);if(Ns(s)){var u=n;if(i!=a){var c=s[l];u=r?r(c,l,s):z,u===z&&(u=null==c?ho(t[i+1])?[]:{}:c)}gn(s,l,u)}s=s[l]}return e}function qr(e,t,n){var r=-1,i=e.length;0>t&&(t=-t>i?0:i+t),n=n>i?i:n,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Su(i);++r<i;)o[r]=e[r+t];return o}function zr(e,t){var n;return jc(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function Gr(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&we>=i){for(;i>r;){var o=r+i>>>1,a=e[o];null!==a&&!zs(a)&&(n?t>=a:t>a)?r=o+1:i=o}return i}return Wr(e,t,au,n)}function Wr(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,l=zs(t),u=t===z;o>i;){var c=uc((i+o)/2),d=n(e[c]),p=d!==z,f=null===d,h=d===d,m=zs(d);if(a)var g=r||h;else g=u?h&&(r||p):s?h&&p&&(r||!f):l?h&&p&&!f&&(r||!m):f||m?!1:r?t>=d:t>d;g?i=c+1:o=c}return vc(o,Te)}function Yr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Cs(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function Xr(e){return"number"==typeof e?e:zs(e)?Ce:+e}function Jr(e){if("string"==typeof e)return e;if(zs(e))return Bc?Bc.call(e):"";var t=e+"";return"0"==t&&1/e==-ve?"-0":t}function Zr(e,t,n){var r=-1,i=l,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=u;else if(o>=W){var d=t?null:Gc(e);if(d)return j(d);a=!1,i=k,c=new on}else c=t?[]:s;e:for(;++r<o;){var p=e[r],f=t?t(p):p;if(p=n||0!==p?p:0,a&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),s.push(p)}else i(c,f,n)||(c!==s&&c.push(f),s.push(p))}return s}function Qr(e,t){t=go(t,e)?[t]:si(t),e=Oo(e,t);var n=Ro(Yo(t));return!(null!=e&&ur(e,n))||delete e[n]}function ei(e,t,n,r){return Hr(e,t,n(or(e,t)),r)}function ti(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?qr(e,r?0:o,r?o+1:i):qr(e,r?o+1:0,r?i:o)}function ni(e,t){var n=e;return n instanceof Pt&&(n=n.value()),p(t,function(e,t){return t.func.apply(t.thisArg,d([e],t.args))},n)}function ri(e,t,n){for(var r=-1,i=e.length;++r<i;)var o=o?d(Bn(o,e[r],t,n),Bn(e[r],o,t,n)):e[r];return o&&o.length?Zr(o,t,n):[]}function ii(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=o>r?t[r]:z;n(a,e[r],s)}return a}function oi(e){return ws(e)?e:[]}function ai(e){return"function"==typeof e?e:au}function si(e){return Bd(e)?e:rd(e)}function li(e,t,n){var r=e.length;return n=n===z?r:n,!t&&n>=r?e:qr(e,t,n)}function ui(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function ci(e){var t=new e.constructor(e.byteLength);return new Qu(t).set(new Qu(e)),t}function di(e,t){var n=t?ci(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function pi(t,n,r){var i=n?r(L(t),!0):L(t);return p(i,e,new t.constructor)}function fi(e){var t=new e.constructor(e.source,wt.exec(e));return t.lastIndex=e.lastIndex,t}function hi(e,n,r){var i=n?r(j(e),!0):j(e);return p(i,t,new e.constructor)}function mi(e){return Fc?Object(Fc.call(e)):{}}function gi(e,t){var n=t?ci(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function vi(e,t){if(e!==t){var n=e!==z,r=null===e,i=e===e,o=zs(e),a=t!==z,s=null===t,l=t===t,u=zs(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t>e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function bi(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=vi(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*("desc"==u?-1:1)}}return e.index-t.index}function yi(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,u=gc(o-a,0),c=Su(l+u),d=!r;++s<l;)c[s]=t[s];for(;++i<a;)(d||o>i)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function Ci(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=gc(o-s,0),d=Su(c+u),p=!r;++i<c;)d[i]=e[i];for(var f=i;++l<u;)d[f+l]=t[l];for(;++a<s;)(p||o>i)&&(d[f+n[a]]=e[i++]);return d}function Ei(e,t){var n=-1,r=e.length;for(t||(t=Su(r));++n<r;)t[n]=e[n];return t}function Ti(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):z;gn(n,a,s===z?e[a]:s)}return n}function wi(e,t){return Ti(e,Jc(e),t)}function Di(e,t){return function(n,i){var o=Bd(n)?r:Rn,a=t?t():{};return o(n,e,eo(i,2),a)}}function Oi(e){return Vr(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:z,a=i>2?n[2]:z;for(o=e.length>3&&"function"==typeof o?(i--,o):z,a&&mo(n[0],n[1],a)&&(o=3>i?z:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function Ii(e,t){return function(n,r){if(null==n)return n;if(!Ts(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function Ri(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(n(o[l],l,o)===!1)break}return t}}function $i(e,t,n){function r(){var t=this&&this!==Kn&&this instanceof r?o:e;return t.apply(i?n:this,arguments)}var i=t&Z,o=_i(e);return r}function xi(e){return function(t){t=rl(t);var n=En.test(t)?H(t):z,r=n?n[0]:t.charAt(0),i=n?li(n,1).join(""):t.slice(1);return r[e]()+i}}function ki(e){return function(t){return p(tu(Kl(t).replace(vn,"")),e,"")}}function _i(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Mn(e.prototype),r=e.apply(n,t);return Ns(r)?r:n}}function Si(e,t,r){function i(){for(var a=arguments.length,s=Su(a),l=a,u=Qi(i);l--;)s[l]=arguments[l];var c=3>a&&s[0]!==u&&s[a-1]!==u?[]:B(s,u);if(a-=c.length,r>a)return Vi(e,t,Ki,i.placeholder,z,s,c,z,z,r-a);var d=this&&this!==Kn&&this instanceof i?o:e;return n(d,this,s)}var o=_i(e);return i}function Ai(e){return function(t,n,r){var i=Object(t);if(!Ts(t)){var o=eo(n,3);t=gl(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:z}}function Ni(e){return Vr(function(t){t=tr(t,1);var n=t.length,r=n,i=Kt.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new Mu(Y);if(i&&!a&&"wrapper"==Zi(o))var a=new Kt([],!0)}for(r=a?r:n;++r<n;){o=t[r];var s=Zi(o),l="wrapper"==s?Wc(o):z;a=l&&bo(l[0])&&l[1]==(oe|te|re|ae)&&!l[4].length&&1==l[9]?a[Zi(l[0])].apply(a,l[3]):1==o.length&&bo(o)?a[s]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&Bd(r)&&r.length>=W)return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Ki(e,t,n,r,i,o,a,s,l,u){function c(){for(var v=arguments.length,b=Su(v),y=v;y--;)b[y]=arguments[y];if(h)var C=Qi(c),E=A(b,C);if(r&&(b=yi(b,r,i,h)),o&&(b=Ci(b,o,a,h)),v-=E,h&&u>v){var T=B(b,C);return Vi(e,t,Ki,c.placeholder,n,b,T,s,l,u-v)}var w=p?n:this,D=f?w[e]:e;return v=b.length,s?b=Io(b,s):m&&v>1&&b.reverse(),d&&v>l&&(b.length=l),this&&this!==Kn&&this instanceof c&&(D=g||_i(D)),D.apply(w,b)}var d=t&oe,p=t&Z,f=t&Q,h=t&(te|ne),m=t&se,g=f?z:_i(e);return c}function Pi(e,t){return function(n,r){return fr(n,e,t(r),{})}}function Mi(e,t){return function(n,r){var i;if(n===z&&r===z)return t;if(n!==z&&(i=n),r!==z){if(i===z)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Xr(n),r=Xr(r)),i=e(n,r)}return i}}function Li(e){return Vr(function(t){return t=1==t.length&&Bd(t[0])?c(t[0],$(eo())):c(tr(t,1),$(eo())),Vr(function(r){var i=this;return e(t,function(e){return n(e,i,r)})})})}function Fi(e,t){t=t===z?" ":Jr(t);var n=t.length;if(2>n)return n?Ur(t,e):t;var r=Ur(t,lc(e/V(t)));return En.test(t)?li(H(r),0,e).join(""):r.slice(0,e)}function Bi(e,t,r,i){function o(){for(var t=-1,l=arguments.length,u=-1,c=i.length,d=Su(c+l),p=this&&this!==Kn&&this instanceof o?s:e;++u<c;)d[u]=i[u];for(;l--;)d[u++]=arguments[++t];return n(p,a?r:this,d)}var a=t&Z,s=_i(e);return o}function ji(e){return function(t,n,r){return r&&"number"!=typeof r&&mo(t,n,r)&&(n=r=z),t=el(t),t=t===t?t:0,n===z?(n=t,t=0):n=el(n)||0,r=r===z?n>t?1:-1:el(r)||0,jr(t,n,r,e)}}function Ui(e){return function(t,n){return("string"!=typeof t||"string"!=typeof n)&&(t=el(t),n=el(n)),e(t,n)}}function Vi(e,t,n,r,i,o,a,s,l,u){var c=t&te,d=c?a:z,p=c?z:a,f=c?o:z,h=c?z:o;t|=c?re:ie,t&=~(c?ie:re),t&ee||(t&=~(Z|Q));var m=[e,t,i,f,d,h,p,s,l,u],g=n.apply(z,m);return bo(e)&&td(g,m),g.placeholder=r,nd(g,e,t)}function Hi(e){var t=Ku[e];return function(e,n){if(e=el(e),n=vc(Zs(n),292)){var r=(rl(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return r=(rl(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function qi(e){return function(t){var n=Qc(t);return n==Se?L(t):n==Me?U(t):R(t,e(t))}}function zi(e,t,n,r,i,o,a,s){var l=t&Q;if(!l&&"function"!=typeof e)throw new Mu(Y);var u=r?r.length:0;if(u||(t&=~(re|ie),r=i=z),a=a===z?a:gc(Zs(a),0),s=s===z?s:Zs(s),u-=i?i.length:0,t&ie){var c=r,d=i;r=i=z}var p=l?z:Wc(e),f=[e,t,n,r,i,c,d,o,a,s];if(p&&wo(f,p),e=f[0],t=f[1],n=f[2],r=f[3],i=f[4],s=f[9]=null==f[9]?l?0:e.length:gc(f[9]-u,0),!s&&t&(te|ne)&&(t&=~(te|ne)),t&&t!=Z)h=t==te||t==ne?Si(e,t,s):t!=re&&t!=(Z|re)||i.length?Ki.apply(z,f):Bi(e,t,n,r);else var h=$i(e,t,n);var m=p?zc:td;return nd(m(h,f),e,t)}function Gi(e,t,n,r,i,o){var a=i&ue,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,d=!0,p=i&le?new on:z;for(o.set(e,t),o.set(t,e);++c<s;){var f=e[c],m=t[c];if(r)var g=a?r(m,f,c,t,e,o):r(f,m,c,e,t,o);if(g!==z){if(g)continue;d=!1;break}if(p){if(!h(t,function(e,t){return p.has(t)||f!==e&&!n(f,e,r,i,o)?void 0:p.add(t)})){d=!1;break}}else if(f!==m&&!n(f,m,r,i,o)){d=!1;break}}return o["delete"](e),d}function Wi(e,t,n,r,i,o,a){switch(n){case Ve:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ue:return e.byteLength==t.byteLength&&r(new Qu(e),new Qu(t))?!0:!1;case Re:case $e:case Ae:return Cs(+e,+t);case xe:return e.name==t.name&&e.message==t.message;case Pe:case Le:return e==t+"";case Se:var s=L;case Me:var l=o&ue;if(s||(s=j),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;o|=le,a.set(e,t);var c=Gi(s(e),s(t),r,i,o,a);return a["delete"](e),c;case Fe:if(Fc)return Fc.call(e)==Fc.call(t)}return!1}function Yi(e,t,n,r,i,o){var a=i&ue,s=gl(e),l=s.length,u=gl(t),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var p=s[d];if(!(a?p in t:ur(t,p)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);for(var m=a;++d<l;){p=s[d];var g=e[p],v=t[p];if(r)var b=a?r(v,g,p,t,e,o):r(g,v,p,e,t,o);if(!(b===z?g===v||n(g,v,r,i,o):b)){h=!1;break}m||(m="constructor"==p)}if(h&&!m){var y=e.constructor,C=t.constructor;y!=C&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof C&&C instanceof C)&&(h=!1)}return o["delete"](e),h}function Xi(e){return ar(e,gl,Jc)}function Ji(e){return ar(e,vl,Zc)}function Zi(e){for(var t=e.name+"",n=Sc[t],r=Hu.call(Sc,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Qi(e){var t=Hu.call(At,"placeholder")?At:e;return t.placeholder}function eo(){var e=At.iteratee||su;return e=e===su?Or:e,arguments.length?e(arguments[0],arguments[1]):e}function to(e,t){var n=e.__data__;return vo(t)?n["string"==typeof t?"string":"hash"]:n.map}function no(e){for(var t=gl(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Eo(i)]}return t}function ro(e,t){var n=K(e,t);return Er(n)?n:z}function io(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=vc(t,e+a);break;case"takeRight":e=gc(e,t-a)}}return{start:e,end:t}}function oo(e){var t=e.match(bt);return t?t[1].split(yt):[]}function ao(e,t,n){t=go(t,e)?[t]:si(t);for(var r,i=-1,o=t.length;++i<o;){var a=Ro(t[i]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;var o=e?e.length:0;return!!o&&As(o)&&ho(a,o)&&(Bd(e)||qs(e)||Es(e))}function so(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Hu.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function lo(e){return"function"!=typeof e.constructor||Co(e)?{}:Mn(Xc(e))}function uo(e,t,n,r){var i=e.constructor;switch(t){case Ue:return ci(e);case Re:case $e:return new i(+e);case Ve:return di(e,r);case He:case qe:case ze:case Ge:case We:case Ye:case Xe:case Je:case Ze:return gi(e,r);case Se:return pi(e,r,n);case Ae:case Le:return new i(e);case Pe:return fi(e);case Me:return hi(e,r,n);case Fe:return mi(e)}}function co(e){var t=e?e.length:z;return As(t)&&(Bd(e)||qs(e)||Es(e))?I(t,String):null}function po(e,t){var n=t.length,r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(vt,"{\n/* [wrapped with "+t+"] */\n")}function fo(e){return Bd(e)||Es(e)||!!(oc&&e&&e[oc])}function ho(e,t){return t=null==t?be:t,!!t&&("number"==typeof e||xt.test(e))&&e>-1&&e%1==0&&t>e}function mo(e,t,n){if(!Ns(n))return!1;var r=typeof t;return("number"==r?Ts(n)&&ho(t,n.length):"string"==r&&t in n)?Cs(n[t],e):!1}function go(e,t){if(Bd(e))return!1;var n=typeof e;return"number"==n||"symbol"==n||"boolean"==n||null==e||zs(e)?!0:ct.test(e)||!ut.test(e)||null!=t&&e in Object(t)}function vo(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function bo(e){var t=Zi(e),n=At[t];if("function"!=typeof n||!(t in Pt.prototype))return!1;if(e===n)return!0;var r=Wc(n);return!!r&&e===r[0]}function yo(e){return!!Uu&&Uu in e}function Co(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Fu;return e===n}function Eo(e){return e===e&&!Ns(e)}function To(e,t){return function(n){return null==n?!1:n[e]===t&&(t!==z||e in Object(n))}}function wo(e,t){var n=e[1],r=t[1],i=n|r,o=(Z|Q|oe)>i,a=r==oe&&n==te||r==oe&&n==ae&&e[7].length<=t[8]||r==(oe|ae)&&t[7].length<=t[8]&&n==te;if(!o&&!a)return e;r&Z&&(e[2]=t[2],i|=n&Z?0:ee);var s=t[3];if(s){var l=e[3];e[3]=l?yi(l,s,t[4]):s,e[4]=l?B(e[3],J):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?Ci(l,s,t[6]):s,e[6]=l?B(e[5],J):t[6]),s=t[7],s&&(e[7]=s),r&oe&&(e[8]=null==e[8]?t[8]:vc(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Do(e,t,n,r,i,o){return Ns(e)&&Ns(t)&&(o.set(t,e),_r(e,t,z,Do,o),o["delete"](t)),e}function Oo(e,t){return 1==t.length?e:or(e,qr(t,0,-1))}function Io(e,t){for(var n=e.length,r=vc(t.length,n),i=Ei(e);r--;){var o=t[r];e[r]=ho(o,n)?i[o]:z}return e}function Ro(e){if("string"==typeof e||zs(e))return e;var t=e+"";return"0"==t&&1/e==-ve?"-0":t}function $o(e){if(null!=e){try{return Vu.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function xo(e,t){return i(De,function(n){var r="_."+n[0];t&n[1]&&!l(e,r)&&e.push(r)}),e.sort()}function ko(e){if(e instanceof Pt)return e.clone();var t=new Kt(e.__wrapped__,e.__chain__);return t.__actions__=Ei(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function _o(e,t,n){t=(n?mo(e,t,n):t===z)?1:gc(Zs(t),0);var r=e?e.length:0;if(!r||1>t)return[];for(var i=0,o=0,a=Su(lc(r/t));r>i;)a[o++]=qr(e,i,i+=t);return a}function So(e){for(var t=-1,n=e?e.length:0,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function Ao(){for(var e=arguments.length,t=Su(e?e-1:0),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return e?d(Bd(n)?Ei(n):[n],tr(t,1)):[]}function No(e,t,n){var r=e?e.length:0;return r?(t=n||t===z?1:Zs(t),qr(e,0>t?0:t,r)):[]}function Ko(e,t,n){var r=e?e.length:0;return r?(t=n||t===z?1:Zs(t),t=r-t,qr(e,0,0>t?0:t)):[]}function Po(e,t){return e&&e.length?ti(e,eo(t,3),!0,!0):[]}function Mo(e,t){return e&&e.length?ti(e,eo(t,3),!0):[]}function Lo(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&mo(e,t,n)&&(n=0,r=i),Qn(e,t,n,r)):[]}function Fo(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=null==n?0:Zs(n);return 0>i&&(i=gc(r+i,0)),g(e,eo(t,3),i)}function Bo(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r-1;return n!==z&&(i=Zs(n),i=0>n?gc(r+i,0):vc(i,r-1)),g(e,eo(t,3),i,!0)}function jo(e){var t=e?e.length:0;return t?tr(e,1):[]}function Uo(e){var t=e?e.length:0;return t?tr(e,ve):[]}function Vo(e,t){var n=e?e.length:0;return n?(t=t===z?1:Zs(t),tr(e,t)):[]}function Ho(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function qo(e){return e&&e.length?e[0]:z}function zo(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=null==n?0:Zs(n);return 0>i&&(i=gc(r+i,0)),v(e,t,i)}function Go(e){return Ko(e,1)}function Wo(e,t){return e?hc.call(e,t):""}function Yo(e){var t=e?e.length:0;return t?e[t-1]:z}function Xo(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if(n!==z&&(i=Zs(n),i=(0>i?gc(r+i,0):vc(i,r-1))+1),t!==t)return g(e,y,i-1,!0);for(;i--;)if(e[i]===t)return i;return-1}function Jo(e,t){return e&&e.length?Ar(e,Zs(t)):z}function Zo(e,t){return e&&e.length&&t&&t.length?Lr(e,t):e}function Qo(e,t,n){return e&&e.length&&t&&t.length?Lr(e,t,eo(n,2)):e}function ea(e,t,n){return e&&e.length&&t&&t.length?Lr(e,t,z,n):e}function ta(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=eo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Fr(e,i),n}function na(e){return e?Ec.call(e):e}function ra(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&mo(e,t,n)?(t=0,n=r):(t=null==t?0:Zs(t),n=n===z?r:Zs(n)),qr(e,t,n)):[]}function ia(e,t){return Gr(e,t)}function oa(e,t,n){return Wr(e,t,eo(n,2))}function aa(e,t){var n=e?e.length:0;if(n){var r=Gr(e,t);if(n>r&&Cs(e[r],t))return r}return-1}function sa(e,t){return Gr(e,t,!0)}function la(e,t,n){return Wr(e,t,eo(n,2),!0)}function ua(e,t){var n=e?e.length:0;if(n){var r=Gr(e,t,!0)-1;if(Cs(e[r],t))return r}return-1}function ca(e){return e&&e.length?Yr(e):[]}function da(e,t){return e&&e.length?Yr(e,eo(t,2)):[]}function pa(e){return No(e,1)}function fa(e,t,n){return e&&e.length?(t=n||t===z?1:Zs(t),qr(e,0,0>t?0:t)):[]}function ha(e,t,n){var r=e?e.length:0;return r?(t=n||t===z?1:Zs(t),t=r-t,qr(e,0>t?0:t,r)):[]}function ma(e,t){return e&&e.length?ti(e,eo(t,3),!1,!0):[]}function ga(e,t){return e&&e.length?ti(e,eo(t,3)):[]}function va(e){return e&&e.length?Zr(e):[]}function ba(e,t){return e&&e.length?Zr(e,eo(t,2)):[]}function ya(e,t){return e&&e.length?Zr(e,z,t):[]}function Ca(e){if(!e||!e.length)return[];var t=0;return e=s(e,function(e){return ws(e)?(t=gc(e.length,t),!0):void 0}),I(t,function(t){return c(e,E(t))})}function Ea(e,t){if(!e||!e.length)return[];var r=Ca(e);return null==t?r:c(r,function(e){return n(t,z,e)})}function Ta(e,t){return ii(e||[],t||[],gn)}function wa(e,t){return ii(e||[],t||[],Hr)}function Da(e){var t=At(e);return t.__chain__=!0,t}function Oa(e,t){return t(e),e}function Ia(e,t){return t(e)}function Ra(){return Da(this)}function $a(){return new Kt(this.value(),this.__chain__)}function xa(){this.__values__===z&&(this.__values__=Xs(this.value()));var e=this.__index__>=this.__values__.length,t=e?z:this.__values__[this.__index__++];return{done:e,value:t}}function ka(){return this}function _a(e){for(var t,n=this;n instanceof Nt;){var r=ko(n);r.__index__=0,r.__values__=z,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Sa(){var e=this.__wrapped__;if(e instanceof Pt){var t=e;return this.__actions__.length&&(t=new Pt(this)),t=t.reverse(),t.__actions__.push({func:Ia,args:[na],thisArg:z}),new Kt(t,this.__chain__);

}return this.thru(na)}function Aa(){return ni(this.__wrapped__,this.__actions__)}function Na(e,t,n){var r=Bd(e)?a:Jn;return n&&mo(e,t,n)&&(t=z),r(e,eo(t,3))}function Ka(e,t){var n=Bd(e)?s:er;return n(e,eo(t,3))}function Pa(e,t){return tr(Ua(e,t),1)}function Ma(e,t){return tr(Ua(e,t),ve)}function La(e,t,n){return n=n===z?1:Zs(n),tr(Ua(e,t),n)}function Fa(e,t){var n=Bd(e)?i:jc;return n(e,eo(t,3))}function Ba(e,t){var n=Bd(e)?o:Uc;return n(e,eo(t,3))}function ja(e,t,n,r){e=Ts(e)?e:xl(e),n=n&&!r?Zs(n):0;var i=e.length;return 0>n&&(n=gc(i+n,0)),qs(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&v(e,t,n)>-1}function Ua(e,t){var n=Bd(e)?c:$r;return n(e,eo(t,3))}function Va(e,t,n,r){return null==e?[]:(Bd(t)||(t=null==t?[]:[t]),n=r?z:n,Bd(n)||(n=null==n?[]:[n]),Nr(e,t,n))}function Ha(e,t,n){var r=Bd(e)?p:w,i=arguments.length<3;return r(e,eo(t,4),n,i,jc)}function qa(e,t,n){var r=Bd(e)?f:w,i=arguments.length<3;return r(e,eo(t,4),n,i,Uc)}function za(e,t){var n=Bd(e)?s:er;return n(e,ss(eo(t,3)))}function Ga(e){var t=Ts(e)?e:xl(e),n=t.length;return n>0?t[Br(0,n-1)]:z}function Wa(e,t,n){var r=-1,i=Xs(e),o=i.length,a=o-1;for(t=(n?mo(e,t,n):t===z)?1:kn(Zs(t),0,o);++r<t;){var s=Br(r,a),l=i[s];i[s]=i[r],i[r]=l}return i.length=t,i}function Ya(e){return Wa(e,Ee)}function Xa(e){if(null==e)return 0;if(Ts(e)){var t=e.length;return t&&qs(e)?V(e):t}if(Ks(e)){var n=Qc(e);if(n==Se||n==Me)return e.size}return gl(e).length}function Ja(e,t,n){var r=Bd(e)?h:zr;return n&&mo(e,t,n)&&(t=z),r(e,eo(t,3))}function Za(){return Au.now()}function Qa(e,t){if("function"!=typeof t)throw new Mu(Y);return e=Zs(e),function(){return--e<1?t.apply(this,arguments):void 0}}function es(e,t,n){return t=n?z:t,t=e&&null==t?e.length:t,zi(e,oe,z,z,z,z,t)}function ts(e,t){var n;if("function"!=typeof t)throw new Mu(Y);return e=Zs(e),function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=z),n}}function ns(e,t,n){t=n?z:t;var r=zi(e,te,z,z,z,z,z,t);return r.placeholder=ns.placeholder,r}function rs(e,t,n){t=n?z:t;var r=zi(e,ne,z,z,z,z,z,t);return r.placeholder=rs.placeholder,r}function is(e,t,n){function r(t){var n=p,r=f;return p=f=z,b=t,m=e.apply(r,n)}function i(e){return b=e,g=sc(s,t),y?r(e):m}function o(e){var n=e-v,r=e-b,i=t-n;return C?vc(i,h-r):i}function a(e){var n=e-v,r=e-b;return v===z||n>=t||0>n||C&&r>=h}function s(){var e=Za();return a(e)?l(e):void(g=sc(s,o(e)))}function l(e){return g=z,E&&p?r(e):(p=f=z,m)}function u(){g!==z&&ac(g),b=0,p=v=f=g=z}function c(){return g===z?m:l(Za())}function d(){var e=Za(),n=a(e);if(p=arguments,f=this,v=e,n){if(g===z)return i(v);if(C)return g=sc(s,t),r(v)}return g===z&&(g=sc(s,t)),m}var p,f,h,m,g,v,b=0,y=!1,C=!1,E=!0;if("function"!=typeof e)throw new Mu(Y);return t=el(t)||0,Ns(n)&&(y=!!n.leading,C="maxWait"in n,h=C?gc(el(n.maxWait)||0,t):h,E="trailing"in n?!!n.trailing:E),d.cancel=u,d.flush=c,d}function os(e){return zi(e,se)}function as(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Mu(Y);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(as.Cache||Zt),n}function ss(e){if("function"!=typeof e)throw new Mu(Y);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function ls(e){return ts(2,e)}function us(e,t){if("function"!=typeof e)throw new Mu(Y);return t=t===z?t:Zs(t),Vr(e,t)}function cs(e,t){if("function"!=typeof e)throw new Mu(Y);return t=t===z?0:gc(Zs(t),0),Vr(function(r){var i=r[t],o=li(r,0,t);return i&&d(o,i),n(e,this,o)})}function ds(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Mu(Y);return Ns(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),is(e,t,{leading:r,maxWait:t,trailing:i})}function ps(e){return es(e,1)}function fs(e,t){return t=null==t?au:t,Kd(t,e)}function hs(){if(!arguments.length)return[];var e=arguments[0];return Bd(e)?e:[e]}function ms(e){return An(e,!1,!0)}function gs(e,t){return An(e,!1,!0,t)}function vs(e){return An(e,!0,!0)}function bs(e,t){return An(e,!0,!0,t)}function ys(e,t){return null==t||Pn(e,t,gl(t))}function Cs(e,t){return e===t||e!==e&&t!==t}function Es(e){return ws(e)&&Hu.call(e,"callee")&&(!rc.call(e,"callee")||Gu.call(e)==Oe)}function Ts(e){return null!=e&&As(Yc(e))&&!_s(e)}function ws(e){return Ks(e)&&Ts(e)}function Ds(e){return e===!0||e===!1||Ks(e)&&Gu.call(e)==Re}function Os(e){return!!e&&1===e.nodeType&&Ks(e)&&!Vs(e)}function Is(e){if(Ts(e)&&(Bd(e)||qs(e)||_s(e.splice)||Es(e)||Ud(e)))return!e.length;if(Ks(e)){var t=Qc(e);if(t==Se||t==Me)return!e.size}for(var n in e)if(Hu.call(e,n))return!1;return!(_c&&gl(e).length)}function Rs(e,t){return vr(e,t)}function $s(e,t,n){n="function"==typeof n?n:z;var r=n?n(e,t):z;return r===z?vr(e,t,n):!!r}function xs(e){return Ks(e)?Gu.call(e)==xe||"string"==typeof e.message&&"string"==typeof e.name:!1}function ks(e){return"number"==typeof e&&fc(e)}function _s(e){var t=Ns(e)?Gu.call(e):"";return t==ke||t==_e}function Ss(e){return"number"==typeof e&&e==Zs(e)}function As(e){return"number"==typeof e&&e>-1&&e%1==0&&be>=e}function Ns(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ks(e){return!!e&&"object"==typeof e}function Ps(e,t){return e===t||Cr(e,t,no(t))}function Ms(e,t,n){return n="function"==typeof n?n:z,Cr(e,t,no(t),n)}function Ls(e){return Us(e)&&e!=+e}function Fs(e){if(ed(e))throw new Nu("This method is not supported with core-js. Try https://github.com/es-shims.");return Er(e)}function Bs(e){return null===e}function js(e){return null==e}function Us(e){return"number"==typeof e||Ks(e)&&Gu.call(e)==Ae}function Vs(e){if(!Ks(e)||Gu.call(e)!=Ne||P(e))return!1;var t=Xc(e);if(null===t)return!0;var n=Hu.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Vu.call(n)==zu}function Hs(e){return Ss(e)&&e>=-be&&be>=e}function qs(e){return"string"==typeof e||!Bd(e)&&Ks(e)&&Gu.call(e)==Le}function zs(e){return"symbol"==typeof e||Ks(e)&&Gu.call(e)==Fe}function Gs(e){return e===z}function Ws(e){return Ks(e)&&Qc(e)==Be}function Ys(e){return Ks(e)&&Gu.call(e)==je}function Xs(e){if(!e)return[];if(Ts(e))return qs(e)?H(e):Ei(e);if(tc&&e[tc])return M(e[tc]());var t=Qc(e),n=t==Se?L:t==Me?j:xl;return n(e)}function Js(e){if(!e)return 0===e?e:0;if(e=el(e),e===ve||e===-ve){var t=0>e?-1:1;return t*ye}return e===e?e:0}function Zs(e){var t=Js(e),n=t%1;return t===t?n?t-n:t:0}function Qs(e){return e?kn(Zs(e),0,Ee):0}function el(e){if("number"==typeof e)return e;if(zs(e))return Ce;if(Ns(e)){var t=_s(e.valueOf)?e.valueOf():e;e=Ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ht,"");var n=It.test(e);return n||$t.test(e)?Sn(e.slice(2),n?2:8):Ot.test(e)?Ce:+e}function tl(e){return Ti(e,vl(e))}function nl(e){return kn(Zs(e),-be,be)}function rl(e){return null==e?"":Jr(e)}function il(e,t){var n=Mn(e);return t?$n(n,t):n}function ol(e,t){return m(e,eo(t,3),nr)}function al(e,t){return m(e,eo(t,3),rr)}function sl(e,t){return null==e?e:Vc(e,eo(t,3),vl)}function ll(e,t){return null==e?e:Hc(e,eo(t,3),vl)}function ul(e,t){return e&&nr(e,eo(t,3))}function cl(e,t){return e&&rr(e,eo(t,3))}function dl(e){return null==e?[]:ir(e,gl(e))}function pl(e){return null==e?[]:ir(e,vl(e))}function fl(e,t,n){var r=null==e?z:or(e,t);return r===z?n:r}function hl(e,t){return null!=e&&ao(e,t,ur)}function ml(e,t){return null!=e&&ao(e,t,cr)}function gl(e){var t=Co(e);if(!t&&!Ts(e))return qc(e);var n=co(e),r=!!n,i=n||[],o=i.length;for(var a in e)!ur(e,a)||r&&("length"==a||ho(a,o))||t&&"constructor"==a||i.push(a);return i}function vl(e){for(var t=-1,n=Co(e),r=Ir(e),i=r.length,o=co(e),a=!!o,s=o||[],l=s.length;++t<i;){var u=r[t];a&&("length"==u||ho(u,l))||"constructor"==u&&(n||!Hu.call(e,u))||s.push(u)}return s}function bl(e,t){var n={};return t=eo(t,3),nr(e,function(e,r,i){n[t(e,r,i)]=e}),n}function yl(e,t){var n={};return t=eo(t,3),nr(e,function(e,r,i){n[r]=t(e,r,i)}),n}function Cl(e,t){return El(e,ss(eo(t)))}function El(e,t){return null==e?{}:Pr(e,Ji(e),eo(t))}function Tl(e,t,n){t=go(t,e)?[t]:si(t);var r=-1,i=t.length;for(i||(e=z,i=1);++r<i;){var o=null==e?z:e[Ro(t[r])];o===z&&(r=i,o=n),e=_s(o)?o.call(e):o}return e}function wl(e,t,n){return null==e?e:Hr(e,t,n)}function Dl(e,t,n,r){return r="function"==typeof r?r:z,null==e?e:Hr(e,t,n,r)}function Ol(e,t,n){var r=Bd(e)||Gd(e);if(t=eo(t,4),null==n)if(r||Ns(e)){var o=e.constructor;n=r?Bd(e)?new o:[]:_s(o)?Mn(Xc(e)):{}}else n={};return(r?i:nr)(e,function(e,r,i){return t(n,e,r,i)}),n}function Il(e,t){return null==e?!0:Qr(e,t)}function Rl(e,t,n){return null==e?e:ei(e,t,ai(n))}function $l(e,t,n,r){return r="function"==typeof r?r:z,null==e?e:ei(e,t,ai(n),r)}function xl(e){return e?x(e,gl(e)):[]}function kl(e){return null==e?[]:x(e,vl(e))}function _l(e,t,n){return n===z&&(n=t,t=z),n!==z&&(n=el(n),n=n===n?n:0),t!==z&&(t=el(t),t=t===t?t:0),kn(el(e),t,n)}function Sl(e,t,n){return t=el(t)||0,n===z?(n=t,t=0):n=el(n)||0,e=el(e),dr(e,t,n)}function Al(e,t,n){if(n&&"boolean"!=typeof n&&mo(e,t,n)&&(t=n=z),n===z&&("boolean"==typeof t?(n=t,t=z):"boolean"==typeof e&&(n=e,e=z)),e===z&&t===z?(e=0,t=1):(e=el(e)||0,t===z?(t=e,e=0):t=el(t)||0),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=yc();return vc(e+i*(t-e+_n("1e-"+((i+"").length-1))),t)}return Br(e,t)}function Nl(e){return yp(rl(e).toLowerCase())}function Kl(e){return e=rl(e),e&&e.replace(kt,Gn).replace(bn,"")}function Pl(e,t,n){e=rl(e),t=Jr(t);var r=e.length;n=n===z?r:kn(Zs(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function Ml(e){return e=rl(e),e&&ot.test(e)?e.replace(rt,Wn):e}function Ll(e){return e=rl(e),e&&ft.test(e)?e.replace(pt,"\\$&"):e}function Fl(e,t,n){e=rl(e),t=Zs(t);var r=t?V(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Fi(uc(i),n)+e+Fi(lc(i),n)}function Bl(e,t,n){e=rl(e),t=Zs(t);var r=t?V(e):0;return t&&t>r?e+Fi(t-r,n):e}function jl(e,t,n){e=rl(e),t=Zs(t);var r=t?V(e):0;return t&&t>r?Fi(t-r,n)+e:e}function Ul(e,t,n){return n||null==t?t=0:t&&(t=+t),e=rl(e).replace(ht,""),bc(e,t||(Dt.test(e)?16:10))}function Vl(e,t,n){return t=(n?mo(e,t,n):t===z)?1:Zs(t),Ur(rl(e),t)}function Hl(){var e=arguments,t=rl(e[0]);return e.length<3?t:Cc.call(t,e[1],e[2])}function ql(e,t,n){return n&&"number"!=typeof n&&mo(e,t,n)&&(t=n=z),(n=n===z?Ee:n>>>0)?(e=rl(e),e&&("string"==typeof t||null!=t&&!qd(t))&&(t=Jr(t),""==t&&En.test(e))?li(H(e),0,n):Tc.call(e,t,n)):[]}function zl(e,t,n){return e=rl(e),n=kn(Zs(n),0,e.length),t=Jr(t),e.slice(n,n+t.length)==t}function Gl(e,t,n){var r=At.templateSettings;n&&mo(e,t,n)&&(t=z),e=rl(e),t=Zd({},t,r,hn);var i,o,a=Zd({},t.imports,r.imports,hn),s=gl(a),l=x(a,s),u=0,c=t.interpolate||_t,d="__p += '",p=Pu((t.escape||_t).source+"|"+c.source+"|"+(c===lt?Tt:_t).source+"|"+(t.evaluate||_t).source+"|$","g"),f="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Dn+"]")+"\n";e.replace(p,function(t,n,r,a,s,l){return r||(r=a),d+=e.slice(u,l).replace(St,N),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),d+="';\n";var h=t.variable;h||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(Qe,""):d).replace(et,"$1").replace(tt,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Cp(function(){return Function(s,f+"return "+d).apply(z,l)});if(m.source=d,xs(m))throw m;return m}function Wl(e){return rl(e).toLowerCase()}function Yl(e){return rl(e).toUpperCase()}function Xl(e,t,n){if(e=rl(e),e&&(n||t===z))return e.replace(ht,"");if(!e||!(t=Jr(t)))return e;var r=H(e),i=H(t),o=_(r,i),a=S(r,i)+1;return li(r,o,a).join("")}function Jl(e,t,n){if(e=rl(e),e&&(n||t===z))return e.replace(gt,"");if(!e||!(t=Jr(t)))return e;var r=H(e),i=S(r,H(t))+1;return li(r,0,i).join("")}function Zl(e,t,n){if(e=rl(e),e&&(n||t===z))return e.replace(mt,"");if(!e||!(t=Jr(t)))return e;var r=H(e),i=_(r,H(t));return li(r,i).join("")}function Ql(e,t){var n=ce,r=de;if(Ns(t)){var i="separator"in t?t.separator:i;n="length"in t?Zs(t.length):n,r="omission"in t?Jr(t.omission):r}e=rl(e);var o=e.length;if(En.test(e)){var a=H(e);o=a.length}if(n>=o)return e;var s=n-V(r);if(1>s)return r;var l=a?li(a,0,s).join(""):e.slice(0,s);if(i===z)return l+r;if(a&&(s+=l.length-s),qd(i)){if(e.slice(s).search(i)){var u,c=l;for(i.global||(i=Pu(i.source,rl(wt.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var d=u.index;l=l.slice(0,d===z?s:d)}}else if(e.indexOf(Jr(i),s)!=s){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+r}function eu(e){return e=rl(e),e&&it.test(e)?e.replace(nt,Yn):e}function tu(e,t,n){return e=rl(e),t=n?z:t,t===z&&(t=Tn.test(e)?Cn:Ct),e.match(t)||[]}function nu(e){var t=e?e.length:0,r=eo();return e=t?c(e,function(e){if("function"!=typeof e[1])throw new Mu(Y);return[r(e[0]),e[1]]}):[],Vr(function(r){for(var i=-1;++i<t;){var o=e[i];if(n(o[0],this,r))return n(o[1],this,r)}})}function ru(e){return Nn(An(e,!0))}function iu(e){return function(){return e}}function ou(e,t){return null==e||e!==e?t:e}function au(e){return e}function su(e){return Or("function"==typeof e?e:An(e,!0))}function lu(e){return xr(An(e,!0))}function uu(e,t){return kr(e,An(t,!0))}function cu(e,t,n){var r=gl(t),o=ir(t,r);null!=n||Ns(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=ir(t,gl(t)));var a=!(Ns(n)&&"chain"in n&&!n.chain),s=_s(e);return i(o,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=Ei(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,d([this.value()],arguments))})}),e}function du(){return Kn._===this&&(Kn._=Wu),this}function pu(){}function fu(e){return e=Zs(e),Vr(function(t){return Ar(t,e)})}function hu(e){return go(e)?E(Ro(e)):Mr(e)}function mu(e){return function(t){return null==e?z:or(e,t)}}function gu(){return[]}function vu(){return!1}function bu(){return{}}function yu(){return""}function Cu(){return!0}function Eu(e,t){if(e=Zs(e),1>e||e>be)return[];var n=Ee,r=vc(e,Ee);t=eo(t),e-=Ee;for(var i=I(r,t);++n<e;)t(n);return i}function Tu(e){return Bd(e)?c(e,Ro):zs(e)?[e]:Ei(rd(e))}function wu(e){var t=++qu;return rl(e)+t}function Du(e){return e&&e.length?Zn(e,au,lr):z}function Ou(e,t){return e&&e.length?Zn(e,eo(t,2),lr):z}function Iu(e){return C(e,au)}function Ru(e,t){return C(e,eo(t,2))}function $u(e){return e&&e.length?Zn(e,au,Rr):z}function xu(e,t){return e&&e.length?Zn(e,eo(t,2),Rr):z}function ku(e){return e&&e.length?O(e,au):0}function _u(e,t){return e&&e.length?O(e,eo(t,2)):0}T=T?Xn.defaults({},T,Xn.pick(Kn,wn)):Kn;var Su=T.Array,Au=T.Date,Nu=T.Error,Ku=T.Math,Pu=T.RegExp,Mu=T.TypeError,Lu=T.Array.prototype,Fu=T.Object.prototype,Bu=T.String.prototype,ju=T["__core-js_shared__"],Uu=function(){var e=/[^.]+$/.exec(ju&&ju.keys&&ju.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Vu=T.Function.prototype.toString,Hu=Fu.hasOwnProperty,qu=0,zu=Vu.call(Object),Gu=Fu.toString,Wu=Kn._,Yu=Pu("^"+Vu.call(Hu).replace(pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xu=Ln?T.Buffer:z,Ju=T.Reflect,Zu=T.Symbol,Qu=T.Uint8Array,ec=Ju?Ju.enumerate:z,tc=Zu?Zu.iterator:z,nc=T.Object.create,rc=Fu.propertyIsEnumerable,ic=Lu.splice,oc=Zu?Zu.isConcatSpreadable:z,ac=function(e){return T.clearTimeout.call(Kn,e)},sc=function(e,t){return T.setTimeout.call(Kn,e,t)},lc=Ku.ceil,uc=Ku.floor,cc=Object.getPrototypeOf,dc=Object.getOwnPropertySymbols,pc=Xu?Xu.isBuffer:z,fc=T.isFinite,hc=Lu.join,mc=Object.keys,gc=Ku.max,vc=Ku.min,bc=T.parseInt,yc=Ku.random,Cc=Bu.replace,Ec=Lu.reverse,Tc=Bu.split,wc=ro(T,"DataView"),Dc=ro(T,"Map"),Oc=ro(T,"Promise"),Ic=ro(T,"Set"),Rc=ro(T,"WeakMap"),$c=ro(T.Object,"create"),xc=function(){var e=ro(T.Object,"defineProperty"),t=ro.name;return t&&t.length>2?e:z}(),kc=Rc&&new Rc,_c=!rc.call({valueOf:1},"valueOf"),Sc={},Ac=$o(wc),Nc=$o(Dc),Kc=$o(Oc),Pc=$o(Ic),Mc=$o(Rc),Lc=Zu?Zu.prototype:z,Fc=Lc?Lc.valueOf:z,Bc=Lc?Lc.toString:z;At.templateSettings={escape:at,evaluate:st,interpolate:lt,variable:"",imports:{_:At}},At.prototype=Nt.prototype,At.prototype.constructor=At,Kt.prototype=Mn(Nt.prototype),Kt.prototype.constructor=Kt,Pt.prototype=Mn(Nt.prototype),Pt.prototype.constructor=Pt,Bt.prototype.clear=jt,Bt.prototype["delete"]=Ut,Bt.prototype.get=Vt,Bt.prototype.has=Ht,Bt.prototype.set=qt,zt.prototype.clear=Gt,zt.prototype["delete"]=Wt,zt.prototype.get=Yt,zt.prototype.has=Xt,zt.prototype.set=Jt,Zt.prototype.clear=Qt,Zt.prototype["delete"]=en,Zt.prototype.get=tn,Zt.prototype.has=nn,Zt.prototype.set=rn,on.prototype.add=on.prototype.push=an,on.prototype.has=sn,ln.prototype.clear=un,ln.prototype["delete"]=cn,ln.prototype.get=dn,ln.prototype.has=pn,ln.prototype.set=fn;var jc=Ii(nr),Uc=Ii(rr,!0),Vc=Ri(),Hc=Ri(!0),qc=F(mc,Object);ec&&!rc.call({valueOf:1},"valueOf")&&(Ir=function(e){return M(ec(e))});var zc=kc?function(e,t){return kc.set(e,t),e}:au,Gc=Ic&&1/j(new Ic([,-0]))[1]==ve?function(e){return new Ic(e)}:pu,Wc=kc?function(e){return kc.get(e)}:pu,Yc=E("length"),Xc=F(cc,Object),Jc=dc?F(dc,Object):gu,Zc=dc?function(e){for(var t=[];e;)d(t,Jc(e)),e=Xc(e);return t}:Jc,Qc=sr;(wc&&Qc(new wc(new ArrayBuffer(1)))!=Ve||Dc&&Qc(new Dc)!=Se||Oc&&Qc(Oc.resolve())!=Ke||Ic&&Qc(new Ic)!=Me||Rc&&Qc(new Rc)!=Be)&&(Qc=function(e){var t=Gu.call(e),n=t==Ne?e.constructor:z,r=n?$o(n):z;if(r)switch(r){case Ac:return Ve;case Nc:return Se;case Kc:return Ke;case Pc:return Me;case Mc:return Be}return t});var ed=ju?_s:vu,td=function(){var e=0,t=0;return function(n,r){var i=Za(),o=fe-(i-t);if(t=i,o>0){if(++e>=pe)return n}else e=0;return zc(n,r)}}(),nd=xc?function(e,t,n){var r=t+"";return xc(e,"toString",{configurable:!0,enumerable:!1,value:iu(po(r,xo(oo(r),n)))})}:au,rd=as(function(e){var t=[];return rl(e).replace(dt,function(e,n,r,i){t.push(r?i.replace(Et,"$1"):n||e)}),t}),id=Vr(function(e,t){return ws(e)?Bn(e,tr(t,1,ws,!0)):[]}),od=Vr(function(e,t){var n=Yo(t);return ws(n)&&(n=z),ws(e)?Bn(e,tr(t,1,ws,!0),eo(n,2)):[]}),ad=Vr(function(e,t){var n=Yo(t);return ws(n)&&(n=z),ws(e)?Bn(e,tr(t,1,ws,!0),z,n):[]}),sd=Vr(function(e){var t=c(e,oi);return t.length&&t[0]===e[0]?pr(t):[]}),ld=Vr(function(e){var t=Yo(e),n=c(e,oi);return t===Yo(n)?t=z:n.pop(),n.length&&n[0]===e[0]?pr(n,eo(t,2)):[]}),ud=Vr(function(e){var t=Yo(e),n=c(e,oi);return t===Yo(n)?t=z:n.pop(),n.length&&n[0]===e[0]?pr(n,z,t):[]}),cd=Vr(Zo),dd=Vr(function(e,t){t=tr(t,1);var n=e?e.length:0,r=xn(e,t);return Fr(e,c(t,function(e){return ho(e,n)?+e:e}).sort(vi)),r}),pd=Vr(function(e){return Zr(tr(e,1,ws,!0))}),fd=Vr(function(e){var t=Yo(e);return ws(t)&&(t=z),Zr(tr(e,1,ws,!0),eo(t,2))}),hd=Vr(function(e){var t=Yo(e);return ws(t)&&(t=z),Zr(tr(e,1,ws,!0),z,t)}),md=Vr(function(e,t){return ws(e)?Bn(e,t):[]}),gd=Vr(function(e){return ri(s(e,ws))}),vd=Vr(function(e){var t=Yo(e);return ws(t)&&(t=z),ri(s(e,ws),eo(t,2))}),bd=Vr(function(e){var t=Yo(e);return ws(t)&&(t=z),ri(s(e,ws),z,t)}),yd=Vr(Ca),Cd=Vr(function(e){var t=e.length,n=t>1?e[t-1]:z;return n="function"==typeof n?(e.pop(),n):z,Ea(e,n)}),Ed=Vr(function(e){e=tr(e,1);var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return xn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Pt&&ho(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Ia,args:[i],thisArg:z}),new Kt(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(z),e})):this.thru(i)}),Td=Di(function(e,t,n){Hu.call(e,n)?++e[n]:e[n]=1}),wd=Ai(Fo),Dd=Ai(Bo),Od=Di(function(e,t,n){Hu.call(e,n)?e[n].push(t):e[n]=[t]}),Id=Vr(function(e,t,r){var i=-1,o="function"==typeof t,a=go(t),s=Ts(e)?Su(e.length):[];return jc(e,function(e){var l=o?t:a&&null!=e?e[t]:z;s[++i]=l?n(l,e,r):hr(e,t,r)}),s}),Rd=Di(function(e,t,n){e[n]=t}),$d=Di(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),xd=Vr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&mo(e,t[0],t[1])?t=[]:n>2&&mo(t[0],t[1],t[2])&&(t=[t[0]]),Nr(e,tr(t,1),[])}),kd=Vr(function(e,t,n){var r=Z;if(n.length){var i=B(n,Qi(kd));r|=re}return zi(e,r,t,n,i)}),_d=Vr(function(e,t,n){var r=Z|Q;if(n.length){var i=B(n,Qi(_d));r|=re}return zi(t,r,e,n,i)}),Sd=Vr(function(e,t){return Fn(e,1,t)}),Ad=Vr(function(e,t,n){return Fn(e,el(t)||0,n)});as.Cache=Zt;var Nd=Vr(function(e,t){t=1==t.length&&Bd(t[0])?c(t[0],$(eo())):c(tr(t,1),$(eo()));var r=t.length;return Vr(function(i){for(var o=-1,a=vc(i.length,r);++o<a;)i[o]=t[o].call(this,i[o]);return n(e,this,i)})}),Kd=Vr(function(e,t){var n=B(t,Qi(Kd));return zi(e,re,z,t,n)}),Pd=Vr(function(e,t){var n=B(t,Qi(Pd));return zi(e,ie,z,t,n)}),Md=Vr(function(e,t){return zi(e,ae,z,z,z,tr(t,1))}),Ld=Ui(lr),Fd=Ui(function(e,t){return e>=t}),Bd=Su.isArray,jd=jn?$(jn):mr,Ud=pc||vu,Vd=Un?$(Un):gr,Hd=Vn?$(Vn):yr,qd=Hn?$(Hn):Tr,zd=qn?$(qn):wr,Gd=zn?$(zn):Dr,Wd=Ui(Rr),Yd=Ui(function(e,t){return t>=e}),Xd=Oi(function(e,t){if(_c||Co(t)||Ts(t))return void Ti(t,gl(t),e);for(var n in t)Hu.call(t,n)&&gn(e,n,t[n])}),Jd=Oi(function(e,t){if(_c||Co(t)||Ts(t))return void Ti(t,vl(t),e);for(var n in t)gn(e,n,t[n])}),Zd=Oi(function(e,t,n,r){Ti(t,vl(t),e,r)}),Qd=Oi(function(e,t,n,r){Ti(t,gl(t),e,r)}),ep=Vr(function(e,t){return xn(e,tr(t,1))}),tp=Vr(function(e){return e.push(z,hn),n(Zd,z,e)}),np=Vr(function(e){return e.push(z,Do),n(sp,z,e)}),rp=Pi(function(e,t,n){e[t]=n},iu(au)),ip=Pi(function(e,t,n){Hu.call(e,t)?e[t].push(n):e[t]=[n]},eo),op=Vr(hr),ap=Oi(function(e,t,n){_r(e,t,n)}),sp=Oi(function(e,t,n,r){_r(e,t,n,r)}),lp=Vr(function(e,t){return null==e?{}:(t=c(tr(t,1),Ro),Kr(e,Bn(Ji(e),t)))}),up=Vr(function(e,t){return null==e?{}:Kr(e,c(tr(t,1),Ro))}),cp=qi(gl),dp=qi(vl),pp=ki(function(e,t,n){return t=t.toLowerCase(),e+(n?Nl(t):t)}),fp=ki(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),hp=ki(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),mp=xi("toLowerCase"),gp=ki(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),vp=ki(function(e,t,n){return e+(n?" ":"")+yp(t)}),bp=ki(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),yp=xi("toUpperCase"),Cp=Vr(function(e,t){try{return n(e,z,t)}catch(r){return xs(r)?r:new Nu(r)}}),Ep=Vr(function(e,t){return i(tr(t,1),function(t){t=Ro(t),e[t]=kd(e[t],e)}),e}),Tp=Ni(),wp=Ni(!0),Dp=Vr(function(e,t){return function(n){return hr(n,e,t)}}),Op=Vr(function(e,t){return function(n){return hr(e,n,t)}}),Ip=Li(c),Rp=Li(a),$p=Li(h),xp=ji(),kp=ji(!0),_p=Mi(function(e,t){return e+t},0),Sp=Hi("ceil"),Ap=Mi(function(e,t){return e/t},1),Np=Hi("floor"),Kp=Mi(function(e,t){return e*t},1),Pp=Hi("round"),Mp=Mi(function(e,t){return e-t},0);return At.after=Qa,At.ary=es,At.assign=Xd,At.assignIn=Jd,At.assignInWith=Zd,At.assignWith=Qd,At.at=ep,At.before=ts,At.bind=kd,At.bindAll=Ep,At.bindKey=_d,At.castArray=hs,At.chain=Da,At.chunk=_o,At.compact=So,At.concat=Ao,At.cond=nu,At.conforms=ru,At.constant=iu,At.countBy=Td,At.create=il,At.curry=ns,At.curryRight=rs,At.debounce=is,At.defaults=tp,At.defaultsDeep=np,At.defer=Sd,At.delay=Ad,At.difference=id,At.differenceBy=od,At.differenceWith=ad,At.drop=No,At.dropRight=Ko,At.dropRightWhile=Po,At.dropWhile=Mo,At.fill=Lo,At.filter=Ka,At.flatMap=Pa,At.flatMapDeep=Ma,At.flatMapDepth=La,At.flatten=jo,At.flattenDeep=Uo,At.flattenDepth=Vo,At.flip=os,At.flow=Tp,At.flowRight=wp,At.fromPairs=Ho,At.functions=dl,At.functionsIn=pl,At.groupBy=Od,At.initial=Go,At.intersection=sd,At.intersectionBy=ld,At.intersectionWith=ud,At.invert=rp,At.invertBy=ip,At.invokeMap=Id,At.iteratee=su,At.keyBy=Rd,At.keys=gl,At.keysIn=vl,At.map=Ua,At.mapKeys=bl,At.mapValues=yl,At.matches=lu,At.matchesProperty=uu,At.memoize=as,At.merge=ap,At.mergeWith=sp,At.method=Dp,At.methodOf=Op,At.mixin=cu,At.negate=ss,At.nthArg=fu,At.omit=lp,At.omitBy=Cl,At.once=ls,At.orderBy=Va,At.over=Ip,At.overArgs=Nd,At.overEvery=Rp,At.overSome=$p,At.partial=Kd,At.partialRight=Pd,At.partition=$d,At.pick=up,At.pickBy=El,At.property=hu,At.propertyOf=mu,At.pull=cd,At.pullAll=Zo,At.pullAllBy=Qo,At.pullAllWith=ea,At.pullAt=dd,At.range=xp,At.rangeRight=kp,At.rearg=Md,At.reject=za,At.remove=ta,At.rest=us,At.reverse=na,At.sampleSize=Wa,At.set=wl,At.setWith=Dl,At.shuffle=Ya,At.slice=ra,At.sortBy=xd,At.sortedUniq=ca,At.sortedUniqBy=da,At.split=ql,At.spread=cs,At.tail=pa,At.take=fa,At.takeRight=ha,At.takeRightWhile=ma,At.takeWhile=ga,At.tap=Oa,At.throttle=ds,At.thru=Ia,At.toArray=Xs,At.toPairs=cp,At.toPairsIn=dp,At.toPath=Tu,At.toPlainObject=tl,At.transform=Ol,At.unary=ps,At.union=pd,At.unionBy=fd,At.unionWith=hd,At.uniq=va,At.uniqBy=ba,At.uniqWith=ya,At.unset=Il,At.unzip=Ca,At.unzipWith=Ea,At.update=Rl,At.updateWith=$l,At.values=xl,At.valuesIn=kl,At.without=md,At.words=tu,At.wrap=fs,At.xor=gd,At.xorBy=vd,At.xorWith=bd,At.zip=yd,At.zipObject=Ta,At.zipObjectDeep=wa,At.zipWith=Cd,At.entries=cp,At.entriesIn=dp,At.extend=Jd,At.extendWith=Zd,cu(At,At),At.add=_p,At.attempt=Cp,At.camelCase=pp,At.capitalize=Nl,At.ceil=Sp,At.clamp=_l,At.clone=ms,At.cloneDeep=vs,At.cloneDeepWith=bs,At.cloneWith=gs,At.conformsTo=ys,At.deburr=Kl,At.defaultTo=ou,At.divide=Ap,At.endsWith=Pl,At.eq=Cs,At.escape=Ml,At.escapeRegExp=Ll,At.every=Na,At.find=wd,At.findIndex=Fo,At.findKey=ol,At.findLast=Dd,At.findLastIndex=Bo,At.findLastKey=al,At.floor=Np,At.forEach=Fa,At.forEachRight=Ba,At.forIn=sl,At.forInRight=ll,At.forOwn=ul,At.forOwnRight=cl,At.get=fl,At.gt=Ld,At.gte=Fd,At.has=hl,At.hasIn=ml,At.head=qo,At.identity=au,At.includes=ja,At.indexOf=zo,At.inRange=Sl,At.invoke=op,At.isArguments=Es,At.isArray=Bd,At.isArrayBuffer=jd,At.isArrayLike=Ts,At.isArrayLikeObject=ws,At.isBoolean=Ds,At.isBuffer=Ud,At.isDate=Vd,At.isElement=Os,At.isEmpty=Is,At.isEqual=Rs,At.isEqualWith=$s,At.isError=xs,At.isFinite=ks,At.isFunction=_s,At.isInteger=Ss,At.isLength=As,At.isMap=Hd,At.isMatch=Ps,At.isMatchWith=Ms,At.isNaN=Ls,At.isNative=Fs,At.isNil=js,At.isNull=Bs,At.isNumber=Us,At.isObject=Ns,At.isObjectLike=Ks,At.isPlainObject=Vs,At.isRegExp=qd,At.isSafeInteger=Hs,At.isSet=zd,At.isString=qs,At.isSymbol=zs,At.isTypedArray=Gd,At.isUndefined=Gs,At.isWeakMap=Ws,At.isWeakSet=Ys,At.join=Wo,At.kebabCase=fp,At.last=Yo,At.lastIndexOf=Xo,At.lowerCase=hp,At.lowerFirst=mp,At.lt=Wd,At.lte=Yd,At.max=Du,At.maxBy=Ou,At.mean=Iu,At.meanBy=Ru,At.min=$u,At.minBy=xu,At.stubArray=gu,At.stubFalse=vu,At.stubObject=bu,At.stubString=yu,At.stubTrue=Cu,At.multiply=Kp,At.nth=Jo,At.noConflict=du,At.noop=pu,At.now=Za,At.pad=Fl,At.padEnd=Bl,At.padStart=jl,At.parseInt=Ul,At.random=Al,At.reduce=Ha,At.reduceRight=qa,At.repeat=Vl,At.replace=Hl,At.result=Tl,At.round=Pp,At.runInContext=q,At.sample=Ga,At.size=Xa,At.snakeCase=gp,At.some=Ja,At.sortedIndex=ia,At.sortedIndexBy=oa,At.sortedIndexOf=aa,At.sortedLastIndex=sa,At.sortedLastIndexBy=la,At.sortedLastIndexOf=ua,At.startCase=vp,At.startsWith=zl,At.subtract=Mp,At.sum=ku,At.sumBy=_u,At.template=Gl,At.times=Eu,At.toFinite=Js,At.toInteger=Zs,At.toLength=Qs,At.toLower=Wl,At.toNumber=el,At.toSafeInteger=nl,At.toString=rl,At.toUpper=Yl,At.trim=Xl,At.trimEnd=Jl,At.trimStart=Zl,At.truncate=Ql,At.unescape=eu,At.uniqueId=wu,At.upperCase=bp,At.upperFirst=yp,At.each=Fa,At.eachRight=Ba,At.first=qo,cu(At,function(){var e={};return nr(At,function(t,n){Hu.call(At.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),At.VERSION=G,i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){At[e].placeholder=At}),i(["drop","take"],function(e,t){Pt.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new Pt(this);n=n===z?1:gc(Zs(n),0);var i=this.clone();return r?i.__takeCount__=vc(n,i.__takeCount__):i.__views__.push({size:vc(n,Ee),type:e+(i.__dir__<0?"Right":"")}),i},Pt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),i(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==he||n==ge;Pt.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:eo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),i(["head","last"],function(e,t){var n="take"+(t?"Right":"");Pt.prototype[e]=function(){return this[n](1).value()[0]}}),i(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Pt.prototype[e]=function(){return this.__filtered__?new Pt(this):this[n](1)}}),Pt.prototype.compact=function(){return this.filter(au)},Pt.prototype.find=function(e){return this.filter(e).head()},Pt.prototype.findLast=function(e){return this.reverse().find(e)},Pt.prototype.invokeMap=Vr(function(e,t){return"function"==typeof e?new Pt(this):this.map(function(n){return hr(n,e,t)})}),Pt.prototype.reject=function(e){return this.filter(ss(eo(e)))},Pt.prototype.slice=function(e,t){e=Zs(e);var n=this;return n.__filtered__&&(e>0||0>t)?new Pt(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==z&&(t=Zs(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},Pt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Pt.prototype.toArray=function(){return this.take(Ee)},nr(Pt.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=At[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(At.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,s=t instanceof Pt,l=a[0],u=s||Bd(t),c=function(e){var t=i.apply(At,d([e],a));return r&&p?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var p=this.__chain__,f=!!this.__actions__.length,h=o&&!p,m=s&&!f;if(!o&&u){t=m?t:new Pt(this);var g=e.apply(t,a);return g.__actions__.push({func:Ia,args:[c],thisArg:z}),new Kt(g,p)}return h&&m?e.apply(this,a):(g=this.thru(c),h?r?g.value()[0]:g.value():g)})}),i(["pop","push","shift","sort","splice","unshift"],function(e){var t=Lu[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);At.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Bd(i)?i:[],e)}return this[n](function(n){return t.apply(Bd(n)?n:[],e)})}}),nr(Pt.prototype,function(e,t){var n=At[t];if(n){var r=n.name+"",i=Sc[r]||(Sc[r]=[]);i.push({name:t,func:n})}}),Sc[Ki(z,Q).name]=[{name:"wrapper",func:z}],Pt.prototype.clone=Mt,Pt.prototype.reverse=Lt,Pt.prototype.value=Ft,At.prototype.at=Ed,At.prototype.chain=Ra,At.prototype.commit=$a,At.prototype.next=xa,At.prototype.plant=_a,At.prototype.reverse=Sa,At.prototype.toJSON=At.prototype.valueOf=At.prototype.value=Aa,At.prototype.first=At.prototype.head,tc&&(At.prototype[tc]=ka),At}var z,G="4.14.0",W=200,Y="Expected a function",X="__lodash_hash_undefined__",J="__lodash_placeholder__",Z=1,Q=2,ee=4,te=8,ne=16,re=32,ie=64,oe=128,ae=256,se=512,le=1,ue=2,ce=30,de="...",pe=150,fe=16,he=1,me=2,ge=3,ve=1/0,be=9007199254740991,ye=1.7976931348623157e308,Ce=0/0,Ee=4294967295,Te=Ee-1,we=Ee>>>1,De=[["ary",oe],["bind",Z],["bindKey",Q],["curry",te],["curryRight",ne],["flip",se],["partial",re],["partialRight",ie],["rearg",ae]],Oe="[object Arguments]",Ie="[object Array]",Re="[object Boolean]",$e="[object Date]",xe="[object Error]",ke="[object Function]",_e="[object GeneratorFunction]",Se="[object Map]",Ae="[object Number]",Ne="[object Object]",Ke="[object Promise]",Pe="[object RegExp]",Me="[object Set]",Le="[object String]",Fe="[object Symbol]",Be="[object WeakMap]",je="[object WeakSet]",Ue="[object ArrayBuffer]",Ve="[object DataView]",He="[object Float32Array]",qe="[object Float64Array]",ze="[object Int8Array]",Ge="[object Int16Array]",We="[object Int32Array]",Ye="[object Uint8Array]",Xe="[object Uint8ClampedArray]",Je="[object Uint16Array]",Ze="[object Uint32Array]",Qe=/\b__p \+= '';/g,et=/\b(__p \+=) '' \+/g,tt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nt=/&(?:amp|lt|gt|quot|#39|#96);/g,rt=/[&<>"'`]/g,it=RegExp(nt.source),ot=RegExp(rt.source),at=/<%-([\s\S]+?)%>/g,st=/<%([\s\S]+?)%>/g,lt=/<%=([\s\S]+?)%>/g,ut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ct=/^\w*$/,dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,pt=/[\\^$.*+?()[\]{}|]/g,ft=RegExp(pt.source),ht=/^\s+|\s+$/g,mt=/^\s+/,gt=/\s+$/,vt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bt=/\{\n\/\* \[wrapped with (.+)\] \*/,yt=/,? & /,Ct=/[a-zA-Z0-9]+/g,Et=/\\(\\)?/g,Tt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wt=/\w*$/,Dt=/^0x/i,Ot=/^[-+]0x[0-9a-f]+$/i,It=/^0b[01]+$/i,Rt=/^\[object .+?Constructor\]$/,$t=/^0o[0-7]+$/i,xt=/^(?:0|[1-9]\d*)$/,kt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,_t=/($^)/,St=/['\n\r\u2028\u2029\\]/g,At="\\ud800-\\udfff",Nt="\\u0300-\\u036f\\ufe20-\\ufe23",Kt="\\u20d0-\\u20f0",Pt="\\u2700-\\u27bf",Mt="a-z\\xdf-\\xf6\\xf8-\\xff",Lt="\\xac\\xb1\\xd7\\xf7",Ft="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bt="\\u2000-\\u206f",jt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ut="A-Z\\xc0-\\xd6\\xd8-\\xde",Vt="\\ufe0e\\ufe0f",Ht=Lt+Ft+Bt+jt,qt="['’]",zt="["+At+"]",Gt="["+Ht+"]",Wt="["+Nt+Kt+"]",Yt="\\d+",Xt="["+Pt+"]",Jt="["+Mt+"]",Zt="[^"+At+Ht+Yt+Pt+Mt+Ut+"]",Qt="\\ud83c[\\udffb-\\udfff]",en="(?:"+Wt+"|"+Qt+")",tn="[^"+At+"]",nn="(?:\\ud83c[\\udde6-\\uddff]){2}",rn="[\\ud800-\\udbff][\\udc00-\\udfff]",on="["+Ut+"]",an="\\u200d",sn="(?:"+Jt+"|"+Zt+")",ln="(?:"+on+"|"+Zt+")",un="(?:"+qt+"(?:d|ll|m|re|s|t|ve))?",cn="(?:"+qt+"(?:D|LL|M|RE|S|T|VE))?",dn=en+"?",pn="["+Vt+"]?",fn="(?:"+an+"(?:"+[tn,nn,rn].join("|")+")"+pn+dn+")*",hn=pn+dn+fn,mn="(?:"+[Xt,nn,rn].join("|")+")"+hn,gn="(?:"+[tn+Wt+"?",Wt,nn,rn,zt].join("|")+")",vn=RegExp(qt,"g"),bn=RegExp(Wt,"g"),yn=RegExp(Qt+"(?="+Qt+")|"+gn+hn,"g"),Cn=RegExp([on+"?"+Jt+"+"+un+"(?="+[Gt,on,"$"].join("|")+")",ln+"+"+cn+"(?="+[Gt,on+sn,"$"].join("|")+")",on+"?"+sn+"+"+un,on+"+"+cn,Yt,mn].join("|"),"g"),En=RegExp("["+an+At+Nt+Kt+Vt+"]"),Tn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dn=-1,On={};

On[He]=On[qe]=On[ze]=On[Ge]=On[We]=On[Ye]=On[Xe]=On[Je]=On[Ze]=!0,On[Oe]=On[Ie]=On[Ue]=On[Re]=On[Ve]=On[$e]=On[xe]=On[ke]=On[Se]=On[Ae]=On[Ne]=On[Pe]=On[Me]=On[Le]=On[Be]=!1;var In={};In[Oe]=In[Ie]=In[Ue]=In[Ve]=In[Re]=In[$e]=In[He]=In[qe]=In[ze]=In[Ge]=In[We]=In[Se]=In[Ae]=In[Ne]=In[Pe]=In[Me]=In[Le]=In[Fe]=In[Ye]=In[Xe]=In[Je]=In[Ze]=!0,In[xe]=In[ke]=In[Be]=!1;var Rn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},$n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},xn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},kn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_n=parseFloat,Sn=parseInt,An="object"==typeof global&&global&&global.Object===Object&&global,Nn="object"==typeof self&&self&&self.Object===Object&&self,Kn=An||Nn||Function("return this")(),Pn=An&&"object"==typeof exports&&exports,Mn=Pn&&"object"==typeof module&&module,Ln=Mn&&Mn.exports===Pn,Fn=Ln&&An.process,Bn=function(){try{return Fn&&Fn.binding("util")}catch(e){}}(),jn=Bn&&Bn.isArrayBuffer,Un=Bn&&Bn.isDate,Vn=Bn&&Bn.isMap,Hn=Bn&&Bn.isRegExp,qn=Bn&&Bn.isSet,zn=Bn&&Bn.isTypedArray,Gn=T(Rn),Wn=T($n),Yn=T(xn),Xn=q();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Kn._=Xn,define(function(){return Xn})):Mn?((Mn.exports=Xn)._=Xn,Pn._=Xn):Kn._=Xn}.call(this),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.7
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.7
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.7",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e("#"===o?[]:o);t&&t.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.7
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target).closest(".btn");t.call(r,"toggle"),e(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.3.7
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i="prev"==e?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(t,i),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=e.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.7
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),o=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var o=t(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.7
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function n(n){n&&3===n.which||(e(i).remove(),e(o).each(function(){var r=e(this),i=t(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(i[0],n.target)||(i.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o)))))}))}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=t(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=t(r),a=i.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+s);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.7
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.7
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),d=o[0].offsetWidth,p=o[0].offsetHeight;if(u){var f=s,h=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+p>h.bottom?"top":"top"==s&&c.top-p<h.top?"bottom":"right"==s&&c.right+d>h.width?"left":"left"==s&&c.left-d<h.left?"right":s,o.removeClass(f).addClass(s)}var m=this.getCalculatedOffset(s,c,d,p);this.applyPlacement(m,s);var g=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var l=r[0].offsetWidth,u=r[0].offsetHeight;"top"==n&&u!=o&&(t.top=t.top+o-u);var c=this.getViewportAdjustedDelta(n,t,l,u);c.left?t.left+=c.left:t.top+=c.top;var d=/top|bottom/.test(n),p=d?2*c.left-i+l:2*c.top-o+u,f=d?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(p,r[0][f],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&o.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=r?{top:0,left:0}:o?null:t.offset(),s={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,s,l,a)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:l>a.top+a.height&&(i.top=a.top+a.height-l)}else{var u=t.left-o,c=t.left+o+n;u<a.left?i.left=a.left-u:c>a.right&&(i.left=a.left+a.width-c)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.7
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.7
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)a!=o[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.7
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.7
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=o.top?!1:"bottom":e-r>=i+a?!1:"bottom";var s=null==this.affixed,l=s?i:o.top,u=s?a:t;return null!=n&&n>=i?"top":null!=r&&l+u>=e-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,t,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=e.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),function(){"use strict";function e(e){var t=[1,2.5,5];return Math.floor(Math.pow(10,Math.floor(e/3))*t[e%3])}function t(e){if(1>e)return 0;var t=Math.floor(Math.log(e)/Math.LN10),n=e/(2.5*Math.pow(10,t));return n>=3&&(t++,n=0),3*t+Math.round(Math.min(2,n))}function n(n){return n===1/0?1/0:e(t(n))}function r(e,t){return e=angular.isArray(e)?e:[e],t?e.concat(t):e}function i(e){var t=e&&e.match(/^(?:items )?(\d+)-(\d+)\/(\d+|\*)$/);return t?{from:+t[1],to:+t[2],total:"*"===t[3]?1/0:+t[3]}:"*/0"===e?{total:0}:null}function o(e){return e.to-e.from+1}angular.module("bgf.paginateAnything",[]).directive("bgfPagination",function(){var a=3,s=250,l=50;return{restrict:"AE",scope:{url:"=",collection:"=",urlParams:"=?",headers:"=?",page:"=?",perPage:"=?",perPagePresets:"=?",autoPresets:"=?",clientLimit:"=?",linkGroupSize:"=?",reloadPage:"=?",size:"=?",passive:"@",transformResponse:"=?",numPages:"=?",numItems:"=?",serverLimit:"=?",rangeFrom:"=?",rangeTo:"=?"},templateUrl:function(e,t){return t.templateUrl||"src/paginate-anything.html"},replace:!0,controller:["$scope","$http",function(u,c){function d(n){u.$emit("pagination:loadStart",n),c({method:"GET",url:u.url,params:u.urlParams,headers:angular.extend({},u.headers,{"Range-Unit":"items",Range:[n.from,n.to].join("-")}),transformResponse:r(c.defaults.transformResponse,u.transformResponse)}).success(function(r,a,s,c){var d=i(s("Content-Range"));if(204===a||d&&0===d.total?(u.numItems=0,u.collection=[]):(u.numItems=d?d.total:r.length,u.collection=r||[]),d&&(u.rangeFrom=d.from,u.rangeTo=d.to,o(d)<d.total&&(n.to<d.total-1||d.to<d.total-1&&d.total<n.to)&&(!u.perPage||o(d)<u.perPage))){if(u.autoPresets){var p=t(o(d));e(p)>o(d)&&p--,u.serverLimit=e(p)}else u.serverLimit=o(d);u.perPage=u.Math.min(u.serverLimit,u.clientLimit)}u.numPages=Math.ceil(u.numItems/(u.perPage||l)),u.$emit("pagination:loadPage",a,c)}).error(function(e,t,n,r){u.$emit("pagination:error",t,r)})}u.reloadPage=!1,u.serverLimit=1/0,u.Math=window.Math,"boolean"!=typeof u.autoPresets&&(u.autoPresets=!0);var p=u.linkGroupSize,f=u.clientLimit;u.linkGroupSize="number"==typeof p?p:a,u.clientLimit="number"==typeof f?f:s,u.updatePresets=function(){if(u.autoPresets){var n,r=[];for(n=Math.min(3,t(u.perPage||l));n<=t(Math.min(u.clientLimit,u.serverLimit));n++)r.push(e(n));u.perPagePresets=r}else u.perPagePresets=u.perPagePresets.filter(function(e){return e<=u.serverLimit}).concat([u.serverLimit])},u.gotoPage=function(e){0>e||e*u.perPage>=u.numItems||(u.page=e)},u.linkGroupFirst=function(){var e=Math.max(0,u.linkGroupSize-(u.numPages-1-(u.page+2)));return Math.max(0,u.page-(u.linkGroupSize+e))},u.linkGroupLast=function(){var e=Math.max(0,u.linkGroupSize-(u.page-2));return Math.min(u.numPages-1,u.page+(u.linkGroupSize+e))},u.isFinite=function(){return u.numPages<1/0},u.page=u.page||0,u.size=u.size||"md",u.autoPresets&&u.updatePresets(),u.$watch("page",function(e,t){if("true"!==u.passive&&e!==t){if(0>e||e*u.perPage>=u.numItems)return;var r=u.perPage||l;u.autoPresets&&(r=n(r)),d({from:e*r,to:(e+1)*r-1})}}),u.$watch("perPage",function(e,t){if("true"!==u.passive&&"number"==typeof t&&e!==t){var n=u.page*t,r=Math.floor(n/e);u.page!==r?u.page=r:d({from:u.page*e,to:(u.page+1)*e-1})}}),u.$watch("serverLimit",function(e,t){"true"!==u.passive&&e!==t&&u.updatePresets()}),u.$watch("url",function(e,t){"true"!==u.passive&&e!==t&&(0===u.page?u.reloadPage=!0:u.page=0)}),u.$watch("urlParams",function(e,t){"true"!==u.passive&&(angular.equals(e,t)||(0===u.page?u.reloadPage=!0:u.page=0))},!0),u.$watch("headers",function(e,t){"true"!==u.passive&&(angular.equals(e,t)||(0===u.page?u.reloadPage=!0:u.page=0))},!0),u.$watch("reloadPage",function(e,t){"true"!==u.passive&&e===!0&&t===!1&&(u.reloadPage=!1,d({from:u.page*u.perPage,to:(u.page+1)*u.perPage-1}))}),u.$watch("transformResponse",function(e,t){"true"!==u.passive&&e&&t&&(angular.equals(e.toString(),t.toString())||(0===u.page?u.reloadPage=!0:u.page=0))},!0);var h=u.perPage||l;u.autoPresets&&(h=n(h)),d({from:u.page*h,to:(u.page+1)*h-1})}]}}).filter("makeRange",function(){return function(e){var t,n;switch(e.length){case 1:t=0,n=parseInt(e[0],10)-1;break;case 2:t=parseInt(e[0],10),n=parseInt(e[1],10);break;default:return e}for(var r=[],i=t;n>=i;i++)r.push(i);return r}})}(),angular.module("bgf.paginateAnything").run(["$templateCache",function(e){"use strict";e.put("src/paginate-anything.html",'<div class=paginate-anything><ul class="pagination pagination-{{size}} links" ng-if="numPages > 1"><li ng-class="{disabled: page <= 0}"><a href ng-click=gotoPage(page-1)>&laquo;</a></li><li ng-if="linkGroupFirst() > 0"><a href ng-click=gotoPage(0)>1</a></li><li ng-if="linkGroupFirst() > 1" class=disabled><a href>&hellip;</a></li><li ng-repeat="p in [linkGroupFirst(), linkGroupLast()] | makeRange" ng-class="{active: p === page}"><a href ng-click=gotoPage(p)>{{p+1}}</a></li><li ng-if="linkGroupLast() < numPages - 2" class=disabled><a href>&hellip;</a></li><li ng-if="isFinite() && linkGroupLast() < numPages - 1"><a href ng-click=gotoPage(numPages-1)>{{numPages}}</a></li><li ng-class="{disabled: page >= numPages - 1}"><a href ng-click=gotoPage(page+1)>&raquo;</a></li></ul><div class=per-page ng-if="perPagePresets.length > 0 && numPages > 1"><select ng-model=$parent.perPage ng-options="p for p in perPagePresets"></select>per page</div></div>')}]),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var r=n(this);r instanceof Function&&r(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
if(ngFileUpload.version="12.0.4",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(e,t,n){function r(r){function i(e){u.notify&&u.notify(e),c.progressFunc&&n(function(){c.progressFunc(e)})}function s(e){return null!=r._start&&a?{loaded:e.loaded+r._start,total:r._file&&r._file.size||e.total,type:e.type,config:r,lengthComputable:!0,target:e.target}:e}function l(){e(r).then(function(e){a&&r._chunkSize&&!r._finished&&r._file?(i({loaded:r._end,total:r._file&&r._file.size,config:r,type:"progress"}),o.upload(r,!0)):(r._finished&&delete r._finished,u.resolve(e))},function(e){u.reject(e)},function(e){u.notify(e)})}r.method=r.method||"POST",r.headers=r.headers||{};var u=r._deferred=r._deferred||t.defer(),c=u.promise;return r.disableProgress||(r.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(r.__XHR=e,r.xhrFn&&r.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=r,i(s(e))},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=r,i(s(e)))},!1))}}),a?r._chunkSize&&r._end&&!r._finished?(r._start=r._end,r._end+=r._chunkSize,l()):r.resumeSizeUrl?e.get(r.resumeSizeUrl).then(function(e){r._start=r.resumeSizeResponseReader?r.resumeSizeResponseReader(e.data):parseInt((null==e.data.size?e.data:e.data.size).toString()),r._chunkSize&&(r._end=r._start+r._chunkSize),l()},function(e){throw e}):r.resumeSize?r.resumeSize().then(function(e){r._start=e,l()},function(e){throw e}):(r._chunkSize&&(r._start=0,r._end=r._start+r._chunkSize),l()):l(),c.success=function(e){return c.then(function(t){e(t.data,t.status,t.headers,r)}),c},c.error=function(e){return c.then(null,function(t){e(t.data,t.status,t.headers,r)}),c},c.progress=function(e){return c.progressFunc=e,c.then(null,null,function(t){e(t)}),c},c.abort=c.pause=function(){return r.__XHR&&n(function(){r.__XHR.abort()}),c},c.xhr=function(e){return r.xhrFn=function(t){return function(){t&&t.apply(c,arguments),e.apply(c,arguments)}}(r.xhrFn),c},o.promisesCount++,c["finally"](function(){o.promisesCount--}),c}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=this;o.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var a=this.isResumeSupported();this.isUploadInProgress=function(){return o.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function n(t,n){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&a){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var r=t.slice(e._start,e._end||t.size);return r.name=t.name,r.ngfName=t.ngfName,e._chunkSize&&(n.append("_chunkSize",e._chunkSize),n.append("_currentChunkSize",e._end-e._start),n.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),n.append("_totalSize",e._file.size)),r}return t}function s(t,r,i){if(void 0!==r)if(angular.isDate(r)&&(r=r.toISOString()),angular.isString(r))t.append(i,r);else if(o.isFile(r)){var a=n(r,t),l=i.split(",");l[1]&&(a.ngfName=l[1].replace(/^\s+|\s+$/g,""),i=l[0]),e._fileKey=e._fileKey||i,t.append(i,a,a.ngfName||a.name)}else if(angular.isObject(r)){if(r.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+i;r.$$ngfCircularDetection=!0;try{for(var u in r)if(r.hasOwnProperty(u)&&"$$ngfCircularDetection"!==u){var c=null==e.objectKey?"[i]":e.objectKey;r.length&&parseInt(u)>-1&&(c=null==e.arrayKey?c:e.arrayKey),s(t,r[u],i+c.replace(/[ik]/g,u))}}finally{delete r.$$ngfCircularDetection}}else t.append(i,r)}function l(){e._chunkSize=o.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n,r=new window.FormData;t=t||e.fields||{},e.file&&(t.file=e.file);for(n in t)if(t.hasOwnProperty(n)){var i=t[n];e.formDataAppender?e.formDataAppender(r,n,i):s(r,i,n)}return r})}return t||(e=i(e)),e._isDigested||(e._isDigested=!0,l()),r(e)},this.http=function(t){return t=i(t),t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=o.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,r(t)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(n){var r=t.defer();return e({url:n,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data),n=e.headers("content-type")||"image/WebP",i=new window.Blob([t],{type:n});r.resolve(i)},function(e){r.reject(e)}),r.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,r,i){function o(e,t,n){var i=[l.emptyPromise()];return angular.forEach(e,function(r,o){0===r.type.indexOf("image/jpeg")&&l.attrGetter("ngfFixOrientation",t,n,{$file:r})&&i.push(l.happyPromise(l.applyExifRotation(r),r).then(function(t){e.splice(o,1,t)}))}),r.all(i)}function a(e,t,n){var i=l.attrGetter("ngfResize",t,n);if(!i||!l.isResizeSupported()||!e.length)return l.emptyPromise();if(!(i instanceof Function))return s(i,e,t,n);var o=r.defer();i(e).then(function(r){s(r,e,t,n).then(function(e){o.resolve(e)},function(e){o.reject(e)})},function(e){o.reject(e)})}function s(e,t,n,i){function o(r,o){if(0===r.type.indexOf("image")){if(e.pattern&&!l.validatePattern(r,e.pattern))return;var s=l.resize(r,e.width,e.height,e.quality,e.type,e.ratio,e.centerCrop,function(e,t){return l.attrGetter("ngfResizeIf",n,i,{$width:e,$height:t,$file:r})},e.restoreExif!==!1);a.push(s),s.then(function(e){t.splice(o,1,e)},function(e){r.$error="resize",r.$errorParam=(e?(e.message?e.message:e)+": ":"")+(r&&r.name)})}}for(var a=[l.emptyPromise()],s=0;s<t.length;s++)o(t[s],s);return r.all(a)}var l=i;return l.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=l.defaults[t];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},l.attrGetter=function(t,n,r,i){var o=this.getAttrWithDefaults(n,t);if(!r)return o;try{return i?e(o)(r,i):e(o)(r)}catch(a){if(t.search(/min|max|pattern/i))return o;throw a}},l.shouldUpdateOn=function(e,t,n){var r=l.attrGetter("ngModelOptions",t,n);return r&&r.updateOn?r.updateOn.split(" ").indexOf(e)>-1:!0},l.emptyPromise=function(){var e=r.defer(),n=arguments;return t(function(){e.resolve.apply(e,n)}),e.promise},l.rejectPromise=function(){var e=r.defer(),n=arguments;return t(function(){e.reject.apply(e,n)}),e.promise},l.happyPromise=function(e,n){var i=r.defer();return e.then(function(e){i.resolve(e)},function(e){t(function(){throw e}),i.resolve(n)}),i.promise},l.updateModel=function(n,r,i,s,u,c,d){function p(o,a,u,d,p){r.$$ngfPrevValidFiles=o,r.$$ngfPrevInvalidFiles=a;var f=o&&o.length?o[0]:null,h=a&&a.length?a[0]:null;n&&(l.applyModelValidation(n,o),n.$setViewValue(p?f:o)),s&&e(s)(i,{$files:o,$file:f,$newFiles:u,$duplicateFiles:d,$invalidFiles:a,$invalidFile:h,$event:c});var m=l.attrGetter("ngfModelInvalid",r);m&&t(function(){e(m).assign(i,p?h:a)}),t(function(){})}function f(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}function t(t){var n;for(n=0;n<b.length;n++)if(e(t,b[n]))return!0;for(n=0;n<y.length;n++)if(e(t,y[n]))return!0;return!1}if(u){v=[],C=[];for(var n=0;n<u.length;n++)t(u[n])?C.push(u[n]):v.push(u[n])}}function h(e){return angular.isArray(e)?e:[e]}function m(){T=[],E=[],angular.forEach(v,function(e){e.$error?E.push(e):T.push(e)})}function g(){function e(){t(function(){p(w?b.concat(T):T,w?y.concat(E):E,u,C,D)},I&&I.debounce?I.debounce.change||I.debounce:0)}a(O?v:T,r,i).then(function(){O?l.validate(v,b.length,n,r,i).then(function(){m(),e()}):e()},function(e){throw"Could not resize files "+e})}var v,b,y,C=[],E=[],T=[];b=r.$$ngfPrevValidFiles||[],y=r.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(b=h(n.$modelValue));var w=l.attrGetter("ngfKeep",r,i);v=(u||[]).slice(0),("distinct"===w||l.attrGetter("ngfKeepDistinct",r,i)===!0)&&f(r,i);var D=!w&&!l.attrGetter("ngfMultiple",r,i)&&!l.attrGetter("multiple",r);if(!w||v.length){l.attrGetter("ngfBeforeModelChange",r,i,{$files:u,$file:u&&u.length?u[0]:null,$newFiles:v,$duplicateFiles:C,$event:c});var O=l.attrGetter("ngfValidateAfterResize",r,i),I=l.attrGetter("ngModelOptions",r,i);l.validate(v,b.length,n,r,i).then(function(){d?p(v,[],u,C,D):(I&&I.allowInvalid||O?T=v:m(),l.attrGetter("ngfFixOrientation",r,i)&&l.isExifSupported()?o(T,r,i).then(function(){g()}):g())})}},l}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,r){function i(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=r.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}function o(e,t,n,r,o,s,l,u){function c(){return"input"===t[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function d(){return y("ngfChange")||y("ngfSelect")}function p(t){if(u.shouldUpdateOn("change",n,e)){for(var i=t.__files_||t.target&&t.target.files,o=[],a=0;a<i.length;a++)o.push(i[a]);u.updateModel(r,n,e,d(),o.length?o:null,t)}}function f(e){if(t!==e)for(var n=0;n<t[0].attributes.length;n++){var r=t[0].attributes[n];"type"!==r.name&&"class"!==r.name&&"style"!==r.name&&((null==r.value||""===r.value)&&("required"===r.name&&(r.value="required"),"multiple"===r.name&&(r.value="multiple")),e.attr(r.name,"id"===r.name?"ngf-"+r.value:r.value))}}function h(){if(c())return t;var e=angular.element('<input type="file">');f(e);var n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),a.push({el:t,ref:n}),document.body.appendChild(n.append(e)[0]),e}function m(n){if(t.attr("disabled"))return!1;if(!y("ngfSelectDisabled",e)){var r=g(n);if(null!=r)return r;v(n);try{c()||document.body.contains(T[0])||(a.push({el:t,ref:T.parent()}),document.body.appendChild(T.parent()[0]),T.bind("change",p))}catch(o){}return i(navigator.userAgent)?setTimeout(function(){T[0].click()},0):T[0].click(),!1}}function g(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if("touchstart"===e.type)return E=t?t[0].clientY:0,!0;if(e.stopPropagation(),e.preventDefault(),"touchend"===e.type){var n=t?t[0].clientY:0;if(Math.abs(n-E)>20)return!1}}function v(t){u.shouldUpdateOn("click",n,e)&&T.val()&&(T.val(null),u.updateModel(r,n,e,d(),null,t,!0))}function b(e){if(T&&!T.attr("__ngf_ie10_Fix_")){if(!T[0].parentNode)return void(T=null);e.preventDefault(),e.stopPropagation(),T.unbind("click");var t=T.clone();return T.replaceWith(t),T=t,T.attr("__ngf_ie10_Fix_","true"),T.bind("change",p),T.bind("click",b),T[0].click(),!1}T.removeAttr("__ngf_ie10_Fix_")}var y=function(e,t){return u.attrGetter(e,n,t)};u.registerModelChangeValidator(r,n,e);var C=[];C.push(e.$watch(y("ngfMultiple"),function(){T.attr("multiple",y("ngfMultiple",e))})),C.push(e.$watch(y("ngfCapture"),function(){T.attr("capture",y("ngfCapture",e))})),C.push(e.$watch(y("ngfAccept"),function(){T.attr("accept",y("ngfAccept",e))})),n.$observe("accept",function(){T.attr("accept",y("accept"))}),C.push(function(){n.$$observers&&delete n.$$observers.accept});var E=0,T=t;c()||(T=h()),T.bind("change",p),c()?t.bind("click",v):t.bind("click touchstart touchend",m),-1!==navigator.appVersion.indexOf("MSIE 10")&&T.bind("click",b),r&&r.$formatters.push(function(e){return(null==e||0===e.length)&&T.val()&&T.val(null),e}),e.$on("$destroy",function(){c()||T.parent().remove(),angular.forEach(C,function(e){e()})}),s(function(){for(var e=0;e<a.length;e++){var t=a[e];document.body.contains(t.el[0])||(a.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,T,p)}var a=[];return{restrict:"AEC",require:"?ngModel",link:function(i,a,s,l){o(i,a,s,l,e,t,n,r)}}}]),function(){function e(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./}function t(t,n,r,i,o,a,s,l){function u(e){var a=t.attrGetter("ngfNoObjectUrl",o,r);t.dataUrl(e,a)["finally"](function(){n(function(){var t=(a?e.$ngfDataUrl:e.$ngfBlobUrl)||e.$ngfDataUrl;l?i.css("background-image","url('"+(t||"")+"')"):i.attr("src",t),t?i.removeClass("ng-hide"):i.addClass("ng-hide")})})}n(function(){var n=r.$watch(o[a],function(n){var r=s;if("ngfThumbnail"===a&&(r||(r={width:i[0].clientWidth,height:i[0].clientHeight}),0===r.width&&window.getComputedStyle)){var o=getComputedStyle(i[0]);r={width:parseInt(o.width.slice(0,-2)),height:parseInt(o.height.slice(0,-2))}}return angular.isString(n)?(i.removeClass("ng-hide"),l?i.css("background-image","url('"+n+"')"):i.attr("src",n)):void(!n||!n.type||0!==n.type.search(e(i[0]))||l&&0!==n.type.indexOf("image")?i.addClass("ng-hide"):r&&t.isResizeSupported()?t.resize(n,r.width,r.height,r.quality).then(function(e){u(e)},function(e){throw e}):u(n))});r.$on("$destroy",function(){n()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var r=e;return r.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),i=0;return angular.forEach(e,function(n){r.dataUrl(n,!0)["finally"](function(){if(i++,i===e.length){var n=[];angular.forEach(e,function(e){n.push(e.$ngfDataUrl)}),t.resolve(n,e)}})}),t.promise}return r.dataUrl(e,!0)},r.dataUrl=function(e,i){if(!e)return r.emptyPromise(e,e);if(i&&null!=e.$ngfDataUrl||!i&&null!=e.$ngfBlobUrl)return r.emptyPromise(i?e.$ngfDataUrl:e.$ngfBlobUrl,e);var o=i?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(o)return o;var a=n.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||e.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!i){var o;try{o=n.createObjectURL(e)}catch(s){return void t(function(){e.$ngfBlobUrl="",a.reject()})}t(function(){if(e.$ngfBlobUrl=o,o){a.resolve(o,e),r.blobUrls=r.blobUrls||[],r.blobUrlsTotalSize=r.blobUrlsTotalSize||0,r.blobUrls.push({url:o,size:e.size}),r.blobUrlsTotalSize+=e.size||0;for(var t=r.defaults.blobUrlsMaxMemory||268435456,i=r.defaults.blobUrlsMaxQueueSize||200;(r.blobUrlsTotalSize>t||r.blobUrls.length>i)&&r.blobUrls.length>1;){var s=r.blobUrls.splice(0,1)[0];n.revokeObjectURL(s.url),r.blobUrlsTotalSize-=s.size}}})}else{var l=new FileReader;l.onload=function(n){t(function(){e.$ngfDataUrl=n.target.result,a.resolve(n.target.result,e),t(function(){delete e.$ngfDataUrl},1e3)})},l.onerror=function(){t(function(){e.$ngfDataUrl="",a.reject()})},l.readAsDataURL(e)}}else t(function(){e[i?"$ngfDataUrl":"$ngfBlobUrl"]="",a.reject()})}),o=i?e.$$ngfDataUrlPromise=a.promise:e.$$ngfBlobUrlPromise=a.promise,o["finally"](function(){delete e[i?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),o},r}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){t(e,n,r,i,o,"ngfSrc",e.attrGetter("ngfResize",o,r),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){t(e,n,r,i,o,"ngfBackground",e.attrGetter("ngfResize",o,r),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){var a=e.attrGetter("ngfSize",o,r);t(e,n,r,i,o,"ngfThumbnail",a,e.attrGetter("ngfAsBackground",o,r))}}}]),ngFileUpload.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,r,i){if(angular.isString(n))return t.trustAsResourceUrl(n);var o=n&&((r?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,e.dataUrl(n,r)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?i?t.trustAsResourceUrl(o):o:n)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){function r(e){var t="",n=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{var i=e.split(",");if(i.length>1)for(var o=0;o<i.length;o++){var a=r(i[o]);a.regexp?(t+="("+a.regexp+")",o<i.length-1&&(t+="|")):n=n.concat(a.excludes)}else 0===e.indexOf("!")?n.push("^((?!"+r(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),t="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",t=t.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:n}}function i(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)}var o=e;return o.validatePattern=function(e,t){if(!t)return!0;var n=r(t),i=!0;if(n.regexp&&n.regexp.length){var o=new RegExp(n.regexp,"i");i=null!=e.type&&o.test(e.type)||null!=e.name&&o.test(e.name)}for(var a=n.excludes.length;a--;){var s=new RegExp(n.excludes[a],"i");i=i&&(null==e.type||s.test(e.type))&&(null==e.name||s.test(e.name))}return i},o.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);return t=n>-1?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},o.registerModelChangeValidator=function(e,t,n){e&&e.$formatters.push(function(r){e.$dirty&&(r&&!angular.isArray(r)&&(r=[r]),o.validate(r,0,e,t,n).then(function(){o.applyModelValidation(e,r)}))})},o.applyModelValidation=function(e,t){i(e,t),angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})},o.getValidationAttr=function(e,t,n,r,i){var a="ngf"+n[0].toUpperCase()+n.substr(1),s=o.attrGetter(a,e,t,{$file:i});if(null==s&&(s=o.attrGetter("ngfValidate",e,t,{$file:i}))){var l=(r||n).split(".");s=s[l[0]],l.length>1&&(s=s&&s[l[1]])}return s},o.validate=function(e,n,r,i,a){function s(t,n,s){if(e){for(var l=e.length,u=null;l--;){var c=e[l];if(c){var d=o.getValidationAttr(i,a,t,n,c);null!=d&&(s(c,d,l)||(c.$error=t,(c.$errorMessages=c.$errorMessages||{})[t]=!0,c.$errorParam=d,e.splice(l,1),u=!1))}}null!==u&&r.$ngfValidations.push({name:t,valid:u})}}function l(n,s,l,c,d){function p(e,t,r){null!=r?c(t,r).then(function(i){d(i,r)?e.resolve():(t.$error=n,(t.$errorMessages=t.$errorMessages||{})[n]=!0,t.$errorParam=r,e.reject())},function(){u("ngfValidateForce",{$file:t})?(t.$error=n,(t.$errorMessages=t.$errorMessages||{})[n]=!0,t.$errorParam=r,e.reject()):e.resolve()}):e.resolve()}var f=[o.emptyPromise()];return e?(e=void 0===e.length?[e]:e,angular.forEach(e,function(e){var r=t.defer();return f.push(r.promise),!l||null!=e.type&&0===e.type.search(l)?void("dimensions"===n&&null!=o.attrGetter("ngfDimensions",i)?o.imageDimensions(e).then(function(t){p(r,e,u("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))},function(){r.reject()}):"duration"===n&&null!=o.attrGetter("ngfDuration",i)?o.mediaDuration(e).then(function(t){p(r,e,u("ngfDuration",{$file:e,$duration:t}))},function(){r.reject()}):p(r,e,o.getValidationAttr(i,a,n,s,e))):void r.resolve()}),t.all(f).then(function(){r.$ngfValidations.push({name:n,valid:!0})},function(){r.$ngfValidations.push({name:n,valid:!1})})):void 0}r=r||{},r.$ngfValidations=r.$ngfValidations||[],angular.forEach(r.$ngfValidations,function(e){e.valid=!0});var u=function(e,t){return o.attrGetter(e,i,a,t)};if(null==e||0===e.length)return o.emptyPromise(r);e=void 0===e.length?[e]:e.slice(0),s("maxFiles",null,function(e,t,r){return t>n+r}),s("pattern",null,o.validatePattern),s("minSize","size.min",function(e,t){return e.size+.1>=o.translateScalars(t)}),s("maxSize","size.max",function(e,t){return e.size-.1<=o.translateScalars(t)});var c=0;if(s("maxTotalSize",null,function(t,n){return c+=t.size,c>o.translateScalars(n)?(e.splice(0,e.length),!1):!0}),s("validateFn",null,function(e,t){return t===!0||null===t||""===t}),!e.length)return o.emptyPromise(r,r.$ngfValidations);var d=t.defer(),p=[];return p.push(o.happyPromise(l("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){return e.height<=t}))),p.push(o.happyPromise(l("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t}))),p.push(o.happyPromise(l("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return e.width<=t}))),p.push(o.happyPromise(l("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t}))),p.push(o.happyPromise(l("dimensions",null,/image/,function(e,t){return o.emptyPromise(t)},function(e){return e}))),p.push(o.happyPromise(l("ratio",null,/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),r=!1,i=0;i<n.length;i++)Math.abs(e.width/e.height-o.ratioToFloat(n[i]))<1e-4&&(r=!0);return r}))),p.push(o.happyPromise(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)<1e-4}))),p.push(o.happyPromise(l("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)>-1e-4}))),p.push(o.happyPromise(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return e<=o.translateScalars(t)}))),p.push(o.happyPromise(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=o.translateScalars(t)}))),p.push(o.happyPromise(l("duration",null,/audio|video/,function(e,t){return o.emptyPromise(t)},function(e){return e}))),p.push(o.happyPromise(l("validateAsyncFn",null,null,function(e,t){return t},function(e){return e===!0||null===e||""===e}))),t.all(p).then(function(){d.resolve(r,r.$ngfValidations)})},o.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var r=t.defer();return n(function(){r.resolve({width:e.$ngfWidth,height:e.$ngfHeight})}),r.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var i=t.defer();return n(function(){return 0!==e.type.indexOf("image")?void i.reject("not image"):void o.dataUrl(e).then(function(t){function r(){var t=s[0].clientWidth,n=s[0].clientHeight;s.remove(),e.$ngfWidth=t,e.$ngfHeight=n,i.resolve({width:t,height:n})}function o(){s.remove(),i.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].clientWidth?r():l>10?o():a())},1e3)}var s=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",r),s.on("error",o);var l=0;a(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){i.reject("load error")})}),e.$ngfDimensionPromise=i.promise,e.$ngfDimensionPromise["finally"](function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},o.mediaDuration=function(e){if(e.$ngfDuration){var r=t.defer();return n(function(){r.resolve(e.$ngfDuration)}),r.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var i=t.defer();return n(function(){return 0!==e.type.indexOf("audio")&&0!==e.type.indexOf("video")?void i.reject("not media"):void o.dataUrl(e).then(function(t){function r(){var t=s[0].duration;e.$ngfDuration=t,s.remove(),i.resolve(t)}function o(){s.remove(),i.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].duration?r():l>10?o():a())},1e3)}var s=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");s.on("loadedmetadata",r),s.on("error",o);var l=0;a(),angular.element(document.body).append(s)},function(){i.reject("load error")})}),e.$ngfDurationPromise=i.promise,e.$ngfDurationPromise["finally"](function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},o}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(e,t){var n=e,r=function(e,t,n,r,i){var o=i?Math.max(n/e,r/t):Math.min(n/e,r/t);return{width:e*o,height:t*o,marginX:e*o-n,marginY:t*o-r}},i=function(e,i,o,a,s,l,u,c){var d=t.defer(),p=document.createElement("canvas"),f=document.createElement("img");return f.onload=function(){if(null!=c&&c(f.width,f.height)===!1)return void d.reject("resizeIf");try{if(l){var e=n.ratioToFloat(l),t=f.width/f.height;e>t?(i=f.width,o=i/e):(o=f.height,i=o*e)}i||(i=f.width),o||(o=f.height);var h=r(f.width,f.height,i,o,u);p.width=Math.min(h.width,i),p.height=Math.min(h.height,o);var m=p.getContext("2d");m.drawImage(f,Math.min(0,-h.marginX/2),Math.min(0,-h.marginY/2),h.width,h.height),d.resolve(p.toDataURL(s||"image/WebP",a||.934))}catch(g){d.reject(g)}},f.onerror=function(){d.reject()},f.src=e,d.promise};return n.dataUrltoBlob=function(e,t,n){for(var r=e.split(","),i=r[0].match(/:(.*?);/)[1],o=atob(r[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var l=new window.Blob([s],{type:i});return l.name=t,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),n.resize=function(e,r,o,a,s,l,u,c,d){if(0!==e.type.indexOf("image"))return n.emptyPromise(e);var p=t.defer();return n.dataUrl(e,!0).then(function(t){i(t,r,o,a,s||e.type,l,u,c).then(function(r){if("image/jpeg"===e.type&&d)try{r=n.restoreExif(t,r)}catch(i){setTimeout(function(){throw i},1)}try{var o=n.dataUrltoBlob(r,e.name,e.size);p.resolve(o)}catch(i){p.reject(i)}},function(t){"resizeIf"===t&&p.resolve(e),p.reject(t)})},function(e){p.reject(e)}),p.promise},n}]),function(){function e(e,n,r,i,o,a,s,l,u,c){function d(){return n.attr("disabled")||v("ngfDropDisabled",e)}function p(t,n){l.updateModel(i,r,e,v("ngfChange")||v("ngfDrop"),t,n)}function f(t,n){if(!l.shouldUpdateOn(t,r,e)||!n)return l.rejectPromise([]);var i=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){i.push(n)});var o=[],a=[];if(i.length){angular.forEach(i,function(e){o.push(l.urlToBlob(e).then(function(e){a.push(e)}))});var s=c.defer();return c.all(o).then(function(){s.resolve(a)},function(e){s.reject(e)}),s.promise}return l.emptyPromise()}function h(e,t,n,r){var i=v("ngfDragOverClass",e,{$event:n}),o="dragover";if(angular.isString(i))o=i;else if(i&&(i.delay&&(E=i.delay),i.accept||i.reject)){var a=n.dataTransfer.items;if(null!=a&&a.length)for(var s=i.pattern||v("ngfPattern",e,{$event:n}),u=a.length;u--;){if(!l.validatePattern(a[u],s)){o=i.reject;break}o=i.accept}else o=i.accept}r(o)}function m(t,n,i,o){function a(e,t){var n=c.defer();if(null!=e)if(e.isDirectory){var r=[l.emptyPromise()];if(p){var i={type:"directory"};i.name=i.path=(t||"")+e.name+e.name,f.push(i)}var o=e.createReader(),s=[],m=function(){o.readEntries(function(i){try{i.length?(s=s.concat(Array.prototype.slice.call(i||[],0)),m()):(angular.forEach(s.slice(0),function(n){f.length<=u&&d>=h&&r.push(a(n,(t?t:"")+e.name+"/"))}),c.all(r).then(function(){n.resolve()},function(e){n.reject(e)}))}catch(o){n.reject(o)}},function(e){n.reject(e)})};m()}else e.file(function(e){try{e.path=(t?t:"")+e.name,p&&(e=l.rename(e,e.path)),f.push(e),h+=e.size,n.resolve()}catch(r){n.reject(r)}},function(e){n.reject(e)});return n.promise}var u=l.getValidationAttr(r,e,"maxFiles")||Number.MAX_VALUE,d=l.getValidationAttr(r,e,"maxTotalSize")||Number.MAX_VALUE,p=v("ngfIncludeDir",e),f=[],h=0,m=[l.emptyPromise()];if(t&&t.length>0&&"file"!==s.protocol())for(var g=0;g<t.length;g++){if(t[g].webkitGetAsEntry&&t[g].webkitGetAsEntry()&&t[g].webkitGetAsEntry().isDirectory){var b=t[g].webkitGetAsEntry();if(b.isDirectory&&!i)continue;null!=b&&m.push(a(b))}else{var y=t[g].getAsFile();null!=y&&(f.push(y),h+=y.size)}if(f.length>u||h>d||!o&&f.length>0)break}else if(null!=n)for(var C=0;C<n.length;C++){var E=n.item(C);if((E.type||E.size>0)&&(f.push(E),h+=E.size),f.length>u||h>d||!o&&f.length>0)break}var T=c.defer();return c.all(m).then(function(){if(o||p||!f.length)T.resolve(f);else{for(var e=0;f[e]&&"directory"===f[e].type;)e++;T.resolve([f[e]])}},function(e){T.reject(e)}),T.promise}var g=t(),v=function(e,t,n){return l.attrGetter(e,r,t,n)};if(v("dropAvailable")&&a(function(){e[v("dropAvailable")]?e[v("dropAvailable")].value=g:e[v("dropAvailable")]=g}),!g)return void(v("ngfHideOnDropNotAvailable",e)===!0&&n.css("display","none"));null==v("ngfSelect")&&l.registerModelChangeValidator(i,r,e);var b,y=null,C=o(v("ngfStopPropagation")),E=1;n[0].addEventListener("dragover",function(t){if(!d()&&l.shouldUpdateOn("drop",r,e)){if(t.preventDefault(),C(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var i=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy"}a.cancel(y),b||(b="C",h(e,r,t,function(r){b=r,n.addClass(b),v("ngfDrag",e,{$isDragging:!0,$class:b,$event:t})}))}},!1),n[0].addEventListener("dragenter",function(t){!d()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),C(e)&&t.stopPropagation())},!1),n[0].addEventListener("dragleave",function(t){!d()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),C(e)&&t.stopPropagation(),y=a(function(){b&&n.removeClass(b),b=null,v("ngfDrag",e,{$isDragging:!1,$event:t})},E||100))},!1),n[0].addEventListener("drop",function(t){if(!d()&&l.shouldUpdateOn("drop",r,e)){t.preventDefault(),C(e)&&t.stopPropagation(),b&&n.removeClass(b),b=null;var i,o=t.dataTransfer.items;try{i=t.dataTransfer&&t.dataTransfer.getData&&t.dataTransfer.getData("text/html")}catch(a){}m(o,t.dataTransfer.files,v("ngfAllowDir",e)!==!1,v("multiple")||v("ngfMultiple",e)).then(function(e){e.length?p(e,t):f("dropUrl",i).then(function(e){p(e,t)})})}},!1),n[0].addEventListener("paste",function(t){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",e)&&t.preventDefault(),!d()&&l.shouldUpdateOn("paste",r,e)){var n=[],i=t.clipboardData||t.originalEvent.clipboardData;if(i&&i.items)for(var o=0;o<i.items.length;o++)-1!==i.items[o].type.indexOf("image")&&n.push(i.items[o].getAsFile());n.length?p(n,t):f("pasteUrl",i).then(function(e){p(e,t)})}},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",e)&&(n.attr("contenteditable",!0),n.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}))}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location","Upload","$http","$q",function(t,n,r,i,o,a){return{restrict:"AEC",require:"?ngModel",link:function(s,l,u,c){e(s,l,u,c,t,n,r,i,o,a)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,r){return function(i,o,a){if(t()){var s=e(r.attrGetter("ngfDropAvailable",a));

n(function(){s(i),s.assign&&s.assign(i,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(e,t){function n(e,t,n,r){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,r);case 4:return e.transform(1,0,0,-1,0,r);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,r,0);case 7:return e.transform(0,-1,-1,0,r,n);case 8:return e.transform(0,-1,1,0,0,n)}}function r(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;r>i;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}var i=e;return i.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&i.isResizeSupported()},i.readOrientation=function(e){var n=t.defer(),r=new FileReader,i=e.slice?e.slice(0,65536):e;return r.readAsArrayBuffer(i),r.onerror=function(e){return n.reject(e)},r.onload=function(e){var t={orientation:1},r=new DataView(this.result);if(65496!==r.getUint16(0,!1))return n.resolve(t);for(var i=r.byteLength,o=2;i>o;){var a=r.getUint16(o,!1);if(o+=2,65505===a){if(1165519206!==r.getUint32(o+=2,!1))return n.resolve(t);var s=18761===r.getUint16(o+=6,!1);o+=r.getUint32(o+4,s);var l=r.getUint16(o,s);o+=2;for(var u=0;l>u;u++)if(274===r.getUint16(o+12*u,s)){var c=r.getUint16(o+12*u+8,s);return c>=2&&8>=c&&(r.setUint16(o+12*u+8,1,s),t.fixedArrayBuffer=e.target.result),t.orientation=c,n.resolve(t)}}else{if(65280!==(65280&a))break;o+=r.getUint16(o,!1)}}return n.resolve(t)},n.promise},i.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return i.emptyPromise(e);var o=t.defer();return i.readOrientation(e).then(function(t){return t.orientation<2||t.orientation>8?o.resolve(e):void i.dataUrl(e,!0).then(function(a){var s=document.createElement("canvas"),l=document.createElement("img");l.onload=function(){try{s.width=t.orientation>4?l.height:l.width,s.height=t.orientation>4?l.width:l.height;var a=s.getContext("2d");n(a,t.orientation,l.width,l.height),a.drawImage(l,0,0);var u=s.toDataURL(e.type||"image/WebP",.934);u=i.restoreExif(r(t.fixedArrayBuffer),u);var c=i.dataUrltoBlob(u,e.name);o.resolve(c)}catch(d){return o.reject(d)}},l.onerror=function(){o.reject()},l.src=a},function(e){o.reject(e)})},function(e){o.reject(e)}),o.promise},i.restoreExif=function(e,t){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(e){var t,n,r,i,o,a="",s="",l="",u=0;do t=e[u++],n=e[u++],s=e[u++],r=t>>2,i=(3&t)<<4|n>>4,o=(15&n)<<2|s>>6,l=63&s,isNaN(n)?o=l=64:isNaN(s)&&(l=64),a=a+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),t=n=s="",r=i=o=l="";while(u<e.length);return a},n.restore=function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)},n.exifManipulation=function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)},n.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255===t[0]&225===t[1])return t;return[]},n.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),a=r.slice(i),s=o;return s=s.concat(t),s=s.concat(a)},n.slice2Segments=function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var r=256*e[t+2]+e[t+3],i=t+r+2,o=e.slice(t,i);n.push(o),t=i}if(t>e.length)break}return n},n.decode64=function(e){var t,n,r,i,o,a="",s="",l=0,u=[],c=/[^A-Za-z0-9\+\/\=]/g;c.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=this.KEY_STR.indexOf(e.charAt(l++)),i=this.KEY_STR.indexOf(e.charAt(l++)),o=this.KEY_STR.indexOf(e.charAt(l++)),s=this.KEY_STR.indexOf(e.charAt(l++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,a=(3&o)<<6|s,u.push(t),64!==o&&u.push(n),64!==s&&u.push(a),t=n=a="",r=i=o=s="";while(l<e.length);return u},n.restore(e,t)},i}]),function(){"use strict";function e(e){return angular.isUndefined(e)||null===e}function t(){try{return require("moment")}catch(e){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}function n(n,r){if("undefined"==typeof r){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");r=t()}return n.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",r).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(t,r,i,o){return function(a,s,l){function u(){var e;if(m)e=m;else if(o.serverTime){var t=(new Date).getTime(),n=t-T+o.serverTime;e=r(n)}else e=r();return e}function c(){g&&(t.clearTimeout(g),g=null)}function d(e){var n=u().diff(e,E),r=y&&n>=y;if(s.text(r?e.format(C):e.from(u(),v)),b&&O&&s.attr("title",e.format(b)),!r){var i=Math.abs(u().diff(e,"minute")),o=3600;1>i?o=1:60>i?o=30:180>i&&(o=300),g=t.setTimeout(function(){d(e)},1e3*o)}}function p(e){D&&s.attr("datetime",e)}function f(){if(c(),h){var e=i.preprocessDate(h);d(e),p(e.toISOString())}}var h,m,g=null,v=o.withoutSuffix,b=o.titleFormat,y=o.fullDateThreshold,C=o.fullDateFormat,E=o.fullDateThresholdUnit,T=(new Date).getTime(),w=l.amTimeAgo,D="TIME"===s[0].nodeName.toUpperCase(),O=!s.attr("title");a.$watch(w,function(t){return e(t)||""===t?(c(),void(h&&(s.text(""),p(""),h=null))):(h=t,void f())}),n.isDefined(l.amFrom)&&a.$watch(l.amFrom,function(t){m=e(t)||""===t?null:r(t),f()}),n.isDefined(l.amWithoutSuffix)&&a.$watch(l.amWithoutSuffix,function(e){"boolean"==typeof e?(v=e,f()):v=o.withoutSuffix}),l.$observe("amFullDateThreshold",function(e){y=e,f()}),l.$observe("amFullDateFormat",function(e){C=e,f()}),l.$observe("amFullDateThresholdUnit",function(e){E=e,f()}),a.$on("$destroy",function(){c()}),a.$on("amMoment:localeChanged",function(){f()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(e,t,r,i){var o=null;this.changeLocale=function(r,i){var o=e.locale(r,i);return n.isDefined(r)&&t.$broadcast("amMoment:localeChanged"),o},this.changeTimezone=function(n){e.tz&&e.tz.setDefault?(e.tz.setDefault(n),t.$broadcast("amMoment:timezoneChanged")):r.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),i.timezone=n,o=n},this.preprocessDate=function(t){return o!==i.timezone&&this.changeTimezone(i.timezone),i.preprocess?i.preprocess(t):e(!isNaN(parseFloat(t))&&isFinite(t)?parseInt(t,10):t)}}]).filter("amParse",["moment",function(e){return function(t,n){return e(t,n)}}]).filter("amFromUnix",["moment",function(e){return function(t){return e.unix(t)}}]).filter("amUtc",["moment",function(e){return function(t){return e.utc(t)}}]).filter("amUtcOffset",["amMoment",function(e){function t(t,n){return e.preprocessDate(t).utcOffset(n)}return t}]).filter("amLocal",["moment",function(e){return function(t){return e.isMoment(t)?t.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(e,t,n){function r(t,r){var i=e.preprocessDate(t);return r?i.tz?i.tz(r):(n.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),i):i}return r}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(t,n,r){function i(t,r,i){if(e(t))return"";var o=n.preprocessDate(t);return o.isValid()?o.calendar(r,i):""}return i.$stateful=r.statefulFilters,i}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(t,n,r){function i(r,i,o,a){if(e(r))return"";var s=n.preprocessDate(r),l=e(i)?t():n.preprocessDate(i);return s.isValid()&&l.isValid()?s.diff(l,o,a):""}return i.$stateful=r.statefulFilters,i}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(t,n,r){function i(t,r){if(e(t))return"";var i=n.preprocessDate(t);return i.isValid()?i.format(r):""}return i.$stateful=r.statefulFilters,i}]).filter("amDurationFormat",["moment","angularMomentConfig",function(t,n){function r(n,r,i){return e(n)?"":t.duration(n,r).humanize(i)}return r.$stateful=n.statefulFilters,r}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(t,n,r){function i(r,i,o){var a,s;return e(r)?"":(r=n.preprocessDate(r),a=t(r),a.isValid()?(s=t(o),!e(o)&&s.isValid()?a.from(s,i):a.fromNow(i)):"")}return i.$stateful=r.statefulFilters,i}]).filter("amSubtract",["moment","angularMomentConfig",function(t,n){function r(n,r,i){return e(n)?"":t(n).subtract(parseInt(r,10),i)}return r.$stateful=n.statefulFilters,r}]).filter("amAdd",["moment","angularMomentConfig",function(t,n){function r(n,r,i){return e(n)?"":t(n).add(parseInt(r,10),i)}return r.$stateful=n.statefulFilters,r}]).filter("amStartOf",["moment","angularMomentConfig",function(t,n){function r(n,r){return e(n)?"":t(n).startOf(r)}return r.$stateful=n.statefulFilters,r}]).filter("amEndOf",["moment","angularMomentConfig",function(t,n){function r(n,r){return e(n)?"":t(n).endOf(r)}return r.$stateful=n.statefulFilters,r}])}"function"==typeof define&&define.amd?define(["angular","moment"],n):"undefined"!=typeof module&&module&&module.exports?(n(require("angular"),require("moment")),module.exports="angularMoment"):n(angular,("undefined"!=typeof global?global:window).moment)}(),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.7
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.7
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new r(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',r=function(t){e(t).on("click",n,this.close)};r.VERSION="3.3.7",r.TRANSITION_DURATION=150,r.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var i=e(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e("#"===o?[]:o);t&&t.preventDefault(),a.length||(a=i.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=r,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.7
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof t&&t;i||r.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,r){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=e(n.target).closest(".btn");t.call(r,"toggle"),e(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),r.is("input,button")?r.trigger("focus"):r.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.3.7
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),o=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):a?i[a]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),r="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(r&&!this.options.wrap)return t;var i="prev"==e?-1:1,o=(n+i)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,r){var i=this.$element.find(".item.active"),o=r||this.getItemForDirection(t,i),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=e.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var r=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=r,this};var i=function(n){var r,i=e(this),o=e(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.7
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function n(t){return this.each(function(){var n=e(this),i=n.data("bs.collapse"),o=e.extend({},r.DEFAULTS,n.data(),"object"==typeof t&&t);!i&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),i||n.data("bs.collapse",i=new r(this,o)),"string"==typeof t&&i[t]()})}var r=function(t,n){this.$element=e(t),this.options=e.extend({},r.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.7",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0},r.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(t=i.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(n.call(i,"hide"),t||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(r.TRANSITION_DURATION):i.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,r){var i=e(r);this.addAriaAndCollapsedClass(t(i),i)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=r,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var i=e(this);i.attr("data-target")||r.preventDefault();var o=t(i),a=o.data("bs.collapse"),s=a?"toggle":i.data();n.call(o,s)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.7
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}function n(n){n&&3===n.which||(e(i).remove(),e(o).each(function(){var r=e(this),i=t(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(i[0],n.target)||(i.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger(e.Event("hidden.bs.dropdown",o)))))}))}function r(t){return this.each(function(){var n=e(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof t&&r[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(r){var i=e(this);if(!i.is(".disabled, :disabled")){var o=t(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=e.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=e(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=t(r),a=i.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+s);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=r,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.7
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](r):a.show&&o.show(r)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var r=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){r.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(r.$element)&&(r.ignoreBackdropClick=!0)})}),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in"),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});i?r.$dialog.one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),t.call(o,a,this)})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.7
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,r){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var r=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!r)return;var i=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),d=o[0].offsetWidth,p=o[0].offsetHeight;if(u){var f=s,h=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+p>h.bottom?"top":"top"==s&&c.top-p<h.top?"bottom":"right"==s&&c.right+d>h.width?"left":"left"==s&&c.left-d<h.left?"right":s,o.removeClass(f).addClass(s)}var m=this.getCalculatedOffset(s,c,d,p);this.applyPlacement(m,s);var g=function(){var e=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==e&&i.leave(i)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var l=r[0].offsetWidth,u=r[0].offsetHeight;"top"==n&&u!=o&&(t.top=t.top+o-u);var c=this.getViewportAdjustedDelta(n,t,l,u);c.left?t.left+=c.left:t.top+=c.top;var d=/top|bottom/.test(n),p=d?2*c.left-i+l:2*c.top-o+u,f=d?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(p,r[0][f],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function r(){"in"!=i.hoverState&&o.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&n instanceof window.SVGElement,a=r?{top:0,left:0}:o?null:t.offset(),s={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,s,l,a)},n.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:l>a.top+a.height&&(i.top=a.top+a.height-l)}else{var u=t.left-o,c=t.left+o+n;u<a.left?i.left=a.left-u:c>a.right&&(i.left=a.left+a.width-c)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var r=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=r,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.7
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof t&&t;(i||!/destroy|hide/.test(t))&&(i||r.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var r=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=r,this}}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.7
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(n,r){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.7",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),o=/^#./.test(i)&&e(i);return o&&o.length&&o.is(":visible")&&[[o[n]().top+r,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=r)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<i[0])return this.activeTarget=null,this.clear();for(e=i.length;e--;)a!=o[e]&&t>=i[e]&&(void 0===i[e+1]||t<i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=r,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.7
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},n.prototype.activate=function(t,r,i){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var a=r.find("> .active"),s=i&&e.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var r=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.7
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var r=e(this),i=r.data("bs.affix"),o="object"==typeof t&&t;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,r){this.options=e.extend({},n.DEFAULTS,r),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,r){var i=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>i?"top":!1;if("bottom"==this.affixed)return null!=n?i+this.unpin<=o.top?!1:"bottom":e-r>=i+a?!1:"bottom";var s=null==this.affixed,l=s?i:o.top,u=s?a:t;return null!=n&&n>=i?"top":null!=r&&l+u>=e-r?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),r=this.options.offset,i=r.top,o=r.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof r&&(o=i=r),"function"==typeof i&&(i=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var s=this.getState(a,t,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=e.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var r=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=r,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),t.call(n,r)})})}(jQuery),angular.module("ui.bootstrap.datetimepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("uiDatetimePickerConfig",{dateFormat:"yyyy-MM-dd HH:mm",defaultTime:"00:00:00",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},initialPicker:"date",reOpenDefault:!1,enableDate:!0,enableTime:!0,buttonBar:{show:!0,now:{show:!0,text:"Now"},today:{show:!0,text:"Today"},clear:{show:!0,text:"Clear"},date:{show:!0,text:"Date"},time:{show:!0,text:"Time"},close:{show:!0,text:"Close"}},closeOnDateSelection:!0,closeOnTimeNow:!0,appendToBody:!1,altInputFormats:[],ngModelOptions:{},saveAs:!1,readAs:!1}).controller("DateTimePickerController",["$scope","$element","$attrs","$compile","$parse","$document","$timeout","$uibPosition","dateFilter","uibDateParser","uiDatetimePickerConfig","$rootScope",function(e,t,n,r,i,o,a,s,l,u,c,d){function p(n){var r=E[0],i=t[0].contains(n.target),o=void 0!==r.contains&&r.contains(n.target);!e.isOpen||i||o||e.$apply(function(){e.close(!1)})}function f(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.close(!1)}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function h(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function m(t){var n=u.parse(t,T,e.date);if(isNaN(n))for(var r=0;r<$.length;r++)if(n=u.parse(t,$[r],e.date),!isNaN(n))return n;return n}function g(e){if(angular.isNumber(e)&&!isNaN(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=m(e);return isNaN(t)?void 0:u.toTimezone(t,C.timezone)}return void 0}function v(t){return e.datepickerOptions.minDate&&t<e.datepickerOptions.minDate?!1:e.datepickerOptions.maxDate&&t>e.datepickerOptions.maxDate?!1:!0}function b(e,t){var r=e||t;return n.ngRequired||n.required||r?(angular.isNumber(r)&&(r=new Date(r)),r?angular.isDate(r)&&!isNaN(r)?v(r):angular.isDate(new Date(r))&&!isNaN(new Date(r).valueOf())?v(new Date(r)):angular.isString(r)?!isNaN(m(t))&&v(m(t)):!1:!0):!0}var y,C,E,T=c.dateFormat,w={},D=[],O=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):c.closeOnDateSelection,I=angular.isDefined(n.closeOnTimeNow)?e.$parent.$eval(n.closeOnTimeNow):c.closeOnTimeNow,R=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):c.appendToBody,$=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):c.altInputFormats,x=angular.isDefined(n.saveAs)?e.$parent.$eval(n.saveAs)||n.saveAs:c.saveAs,k=angular.isDefined(n.readAs)?e.$parent.$eval(n.readAs):c.readAs;this.init=function(i){function a(e){if(y.$isEmpty(e))return e;var t=new Date(e);return angular.isDate(t)&&!isNaN(t)?t:e}function s(e){return!e||angular.isString(e)||!angular.isDate(e)||isNaN(e)?e:"ISO"===x?e.toISOString():"json"===x?e.toJSON():"number"===x?e.valueOf():l?u.fromTimezone(e,C.timezone).toLocaleString():(T=T.replace(/M!/,"MM").replace(/d!/,"dd"),u.filter(u.fromTimezone(e,C.timezone),T))}if(y=i,C=y.$options||c.ngModelOptions,e.buttonBar=angular.isDefined(n.buttonBar)?e.$parent.$eval(n.buttonBar):c.buttonBar,e.enableDate=angular.isDefined(e.enableDate)?e.enableDate:c.enableDate,e.enableTime=angular.isDefined(e.enableTime)?e.enableTime:c.enableTime,e.initialPicker=angular.isDefined(n.initialPicker)?n.initialPicker:e.enableDate?c.initialPicker:"time",e.reOpenDefault=angular.isDefined(n.reOpenDefault)?n.reOpenDefault:c.reOpenDefault,"date"==e.initialPicker&&!e.enableDate)throw new Error("datetimePicker can't have initialPicker set to date and have enableDate set to false.");e.showPicker=e.enableDate?e.initialPicker:"time";var l=!1;if(c.html5Types[n.type]?(T=c.html5Types[n.type],l=!0):(T=n.datetimePicker||c.dateFormat,n.$observe("datetimePicker",function(e){var t=e||c.dateFormat;if(t!==T&&(T=t,y.$modelValue=null,!T))throw new Error("datetimePicker must have a date format specified.")})),!T)throw new Error("datetimePicker must have a date format specified.");var d=angular.element('<div date-picker-wrap><div uib-datepicker></div></div><div time-picker-wrap><div uib-timepicker style="margin:0 auto"></div></div>');C?(timezone=C.timezone,e.ngModelOptions=angular.copy(C),e.ngModelOptions.timezone=null,e.ngModelOptions.updateOnDefault===!0&&(e.ngModelOptions.updateOn=e.ngModelOptions.updateOn?e.ngModelOptions.updateOn+" default":"default"),d.attr("ng-model-options","ngModelOptions")):timezone=null,d.attr({"ng-model":"date","ng-change":"dateSelection(date)"});var p=angular.element(d.children()[0]);e.datepickerOptions||(e.datepickerOptions={}),l&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),p.attr("datepicker-options","datepickerOptions"),angular.isDefined(e.datepickerOptions.datepickerMode)||(e.datepickerOptions.datepickerMode="day");var v=angular.element(d.children()[1]);e.timepickerOptions||(e.timepickerOptions={});for(var w in e.timepickerOptions)v.attr(h(w),"timepickerOptions."+w);angular.forEach(["minDate","maxDate","initDate"],function(t){e.datepickerOptions[t]&&("minDate"==t?v.attr("min","datepickerOptions.minDate"):"maxDate"==t&&v.attr("max","datepickerOptions.maxDate"))}),l?y.$formatters.push(function(t){return e.date=u.fromTimezone(t,C.timezone),t}):(y.$$parserName="datetime",y.$validators.datetime=b,y.$parsers.unshift(g),y.$formatters.push(function(t){return y.$isEmpty(t)?(e.date=t,t):(e.date=u.fromTimezone(t,C.timezone),T=T.replace(/M!/,"MM").replace(/d!/,"dd"),u.filter(e.date,T))})),x&&(y.$parsers.push(angular.isFunction(x)?x:s),y.$formatters.push(angular.isFunction(k)?k:a)),y.$viewChangeListeners.push(function(){e.date=m(y.$viewValue)}),t.bind("keydown",f),E=r(d)(e),d.remove(),R?o.find("body").append(E):t.after(E)},e.getText=function(t){return e.buttonBar[t].text||c.buttonBar[t].text},e.keydown=function(n){27===n.which&&(e.close(!1),t[0].focus())},e.doShow=function(t){return angular.isDefined(e.buttonBar[t].show)?e.buttonBar[t].show:c.buttonBar[t].show},e.dateSelection=function(r,i){if(e.enableTime&&"time"===e.showPicker&&(r||null!=r)&&(angular.isDefined(e.date)&&null!=e.date||(e.date=new Date),r&&null!=r)){var o=new Date(e.date);o.setHours(r.getHours()),o.setMinutes(r.getMinutes()),o.setSeconds(r.getSeconds()),o.setMilliseconds(r.getMilliseconds()),r=o}if(angular.isDefined(r)){if(!e.date){var a=angular.isDefined(n.defaultTime)?n.defaultTime:c.defaultTime,s=new Date("2001-01-01 "+a);isNaN(s)||null==r||(r.setHours(s.getHours()),r.setMinutes(s.getMinutes()),r.setSeconds(s.getSeconds()),r.setMilliseconds(s.getMilliseconds()))}e.date=r}var o=e.date?l(e.date,T):null;t.val(o),y.$setViewValue(o),O&&("time"!=e.showPicker&&null!=o?e.enableTime?e.open("time"):e.close(!1):I&&"time"===e.showPicker&&null!=o&&"now"===i&&e.close(!1))},e.$watch("isOpen",function(n){if(e.dropdownStyle={display:n?"block":"none"},n){w.openDate=e.date;var r=R?s.offset(t):s.position(t);e.dropdownStyle.top=R?r.top+t.prop("offsetHeight")+"px":void 0,e.dropdownStyle.left=r.left+"px",a(function(){e.$broadcast("uib:datepicker.focus"),o.bind("click",p)},0,!1),e.open(e.showPicker)}else o.unbind("click",p)}),e.isDisabled=function(t){("today"===t||"now"===t)&&(t=u.fromTimezone(new Date,timezone));var n={};return angular.forEach(["minDate","maxDate"],function(t){n[t]=e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?u.fromTimezone(new Date(e.datepickerOptions[t]),timezone):new Date(l(e.datepickerOptions[t],"medium")):null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.select=function(t,n){angular.isDefined(n)&&(n.preventDefault(),n.stopPropagation());var r=null;if("today"===t||"now"==t){var i=new Date;angular.isDate(e.date)?(r=new Date(e.date),r.setFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())):r=i}e.dateSelection(r,t)},e.open=function(t,n){angular.isDefined(n)&&(n.preventDefault(),n.stopPropagation()),a(function(){e.showPicker=t},0),"time"==t&&a(function(){e.date=m(y.$viewValue)},50)},e.close=function(n,r){angular.isDefined(r)&&(r.preventDefault(),r.stopPropagation()),e.isOpen=!1,e.enableDate&&e.enableTime&&(e.showPicker=e.reOpenDefault===!1?"date":e.reOpenDefault),angular.isDefined(n)?e.whenClosed({args:{closePressed:n,openDate:w.openDate||null,closeDate:e.date}}):t[0].focus()},e.$on("$destroy",function(){e.isOpen===!0&&(d.$$phase||e.$apply(function(){e.close()})),D.forEach(function(e){e()}),E.remove(),t.unbind("keydown",f),o.unbind("click",p)})}]).directive("datetimePicker",function(){return{restrict:"A",require:["ngModel","datetimePicker"],controller:"DateTimePickerController",scope:{isOpen:"=?",datepickerOptions:"=?",timepickerOptions:"=?",enableDate:"=?",enableTime:"=?",initialPicker:"=?",reOpenDefault:"=?",whenClosed:"&"},link:function(e,t,n,r){var i=r[0],o=r[1];o.init(i)}}}).directive("datePickerWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/date-picker.html"}}).directive("timePickerWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/time-picker.html"}}),angular.module("ui.bootstrap.datetimepicker").run(["$templateCache",function(e){"use strict";e.put("template/date-picker.html",'<ul class="dropdown-menu dropdown-menu-left datetime-picker-dropdown" ng-if="isOpen && showPicker == \'date\'" ng-style=dropdownStyle style=left:inherit ng-keydown=keydown($event) ng-click="$event.preventDefault(); $event.stopPropagation()"><li style="padding:0 5px 5px 5px" class=date-picker-menu><div ng-transclude></div></li><li style=padding:5px ng-if=buttonBar.show><span class="btn-group pull-left" style=margin-right:10px ng-if="doShow(\'today\') || doShow(\'clear\')"><button type=button class="btn btn-sm btn-info" ng-if="doShow(\'today\')" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'today\') }}</button> <button type=button class="btn btn-sm btn-danger" ng-if="doShow(\'clear\')" ng-click="select(\'clear\', $event)">{{ getText(\'clear\') }}</button></span> <span class="btn-group pull-right" ng-if="(doShow(\'time\') && enableTime) || doShow(\'close\')"><button type=button class="btn btn-sm btn-default" ng-if="doShow(\'time\') && enableTime" ng-click="open(\'time\', $event)">{{ getText(\'time\')}}</button> <button type=button class="btn btn-sm btn-success" ng-if="doShow(\'close\')" ng-click="close(true, $event)">{{ getText(\'close\') }}</button></span> <span class=clearfix></span></li></ul>'),e.put("template/time-picker.html",'<ul class="dropdown-menu dropdown-menu-left datetime-picker-dropdown" ng-if="isOpen && showPicker == \'time\'" ng-style=dropdownStyle style=left:inherit ng-keydown=keydown($event) ng-click="$event.preventDefault(); $event.stopPropagation()"><li style="padding:0 5px 5px 5px" class=time-picker-menu><div ng-transclude></div></li><li style=padding:5px ng-if=buttonBar.show><span class="btn-group pull-left" style=margin-right:10px ng-if="doShow(\'now\') || doShow(\'clear\')"><button type=button class="btn btn-sm btn-info" ng-if="doShow(\'now\')" ng-click="select(\'now\', $event)" ng-disabled="isDisabled(\'now\')">{{ getText(\'now\') }}</button> <button type=button class="btn btn-sm btn-danger" ng-if="doShow(\'clear\')" ng-click="select(\'clear\', $event)">{{ getText(\'clear\') }}</button></span> <span class="btn-group pull-right" ng-if="(doShow(\'date\') && enableDate) || doShow(\'close\')"><button type=button class="btn btn-sm btn-default" ng-if="doShow(\'date\') && enableDate" ng-click="open(\'date\', $event)">{{ getText(\'date\')}}</button> <button type=button class="btn btn-sm btn-success" ng-if="doShow(\'close\')" ng-click="close(true, $event)">{{ getText(\'close\') }}</button></span> <span class=clearfix></span></li></ul>')}]),function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.SignaturePad=t()}):"object"==typeof exports?module.exports=t():e.SignaturePad=t()}(this,function(){/*!
 * Signature Pad v1.5.3
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2016 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */
var e=function(e){"use strict";var t=function(e,t){var n=this,r=t||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onEnd=r.onEnd,this.onBegin=r.onBegin,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(n._mouseButtonDown=!0,n._strokeBegin(e))},this._handleMouseMove=function(e){n._mouseButtonDown&&n._strokeUpdate(e)},this._handleMouseUp=function(e){1===e.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(e))},this._handleTouchStart=function(e){if(1==e.targetTouches.length){var t=e.changedTouches[0];n._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];n._strokeUpdate(t)},this._handleTouchEnd=function(e){var t=e.target===n._canvas;t&&(e.preventDefault(),n._strokeEnd(e))},this._handleMouseEvents(),this._handleTouchEvents()};t.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._reset()},t.prototype.toDataURL=function(e,t){var n=this._canvas;return n.toDataURL.apply(n,arguments)},t.prototype.fromDataURL=function(e){var t=this,n=new Image,r=window.devicePixelRatio||1,i=this._canvas.width/r,o=this._canvas.height/r;this._reset(),n.src=e,n.onload=function(){t._ctx.drawImage(n,0,0,i,o)},this._isEmpty=!1},t.prototype._strokeUpdate=function(e){var t=this._createPoint(e);this._addPoint(t)},t.prototype._strokeBegin=function(e){this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},t.prototype._strokeDraw=function(e){var t=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()},t.prototype._strokeEnd=function(e){var t=this.points.length>2,n=this.points[0];!t&&n&&this._strokeDraw(n),"function"==typeof this.onEnd&&this.onEnd(e)},t.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),e.addEventListener("mouseup",this._handleMouseUp)},t.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},t.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},t.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),e.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},t.prototype.isEmpty=function(){return this._isEmpty},t.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._isEmpty=!0,this._ctx.fillStyle=this.penColor},t.prototype._createPoint=function(e){var t=this._canvas.getBoundingClientRect();return new n(e.clientX-t.left,e.clientY-t.top)},t.prototype._addPoint=function(e){var t,n,i,o,a=this.points;a.push(e),a.length>2&&(3===a.length&&a.unshift(a[0]),o=this._calculateCurveControlPoints(a[0],a[1],a[2]),t=o.c2,o=this._calculateCurveControlPoints(a[1],a[2],a[3]),n=o.c1,i=new r(a[1],t,n,a[2]),this._addCurve(i),a.shift())},t.prototype._calculateCurveControlPoints=function(e,t,r){var i=e.x-t.x,o=e.y-t.y,a=t.x-r.x,s=t.y-r.y,l={x:(e.x+t.x)/2,y:(e.y+t.y)/2},u={x:(t.x+r.x)/2,y:(t.y+r.y)/2},c=Math.sqrt(i*i+o*o),d=Math.sqrt(a*a+s*s),p=l.x-u.x,f=l.y-u.y,h=d/(c+d),m={x:u.x+p*h,y:u.y+f*h},g=t.x-m.x,v=t.y-m.y;return{c1:new n(l.x+g,l.y+v),c2:new n(u.x+g,u.y+v)}},t.prototype._addCurve=function(e){var t,n,r=e.startPoint,i=e.endPoint;t=i.velocityFrom(r),t=this.velocityFilterWeight*t+(1-this.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(t),this._drawCurve(e,this._lastWidth,n),this._lastVelocity=t,this._lastWidth=n},t.prototype._drawPoint=function(e,t,n){var r=this._ctx;r.moveTo(e,t),r.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},t.prototype._drawCurve=function(e,t,n){var r,i,o,a,s,l,u,c,d,p,f,h=this._ctx,m=n-t;for(r=Math.floor(e.length()),h.beginPath(),o=0;r>o;o++)a=o/r,s=a*a,l=s*a,u=1-a,c=u*u,d=c*u,p=d*e.startPoint.x,p+=3*c*a*e.control1.x,p+=3*u*s*e.control2.x,p+=l*e.endPoint.x,f=d*e.startPoint.y,f+=3*c*a*e.control1.y,f+=3*u*s*e.control2.y,f+=l*e.endPoint.y,i=t+l*m,this._drawPoint(p,f,i);h.closePath(),h.fill()},t.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)};var n=function(e,t,n){this.x=e,this.y=t,this.time=n||(new Date).getTime()};n.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},n.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))};var r=function(e,t,n,r){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=r};return r.prototype.length=function(){var e,t,n,r,i,o,a,s,l=10,u=0;for(e=0;l>=e;e++)t=e/l,n=this._point(t,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),r=this._point(t,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y),e>0&&(a=n-i,s=r-o,u+=Math.sqrt(a*a+s*s)),i=n,o=r;return u},r.prototype._point=function(e,t,n,r,i){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*r*(1-e)*e*e+i*e*e*e},t}(document);return e}),/*!
 * angular-ui-mask
 * https://github.com/angular-ui/ui-mask
 * Version: 1.8.7 - 2016-07-26T15:59:07.992Z
 * License: MIT
 */
function(){"use strict";angular.module("ui.mask",[]).value("uiMaskConfig",{maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0,clearOnBlurPlaceholder:!1,escChar:"\\",eventsToHandle:["input","keyup","click","focus"],addDefaultPlaceholder:!0,allowInvalidValue:!1}).provider("uiMask.Config",function(){var e={};this.maskDefinitions=function(t){return e.maskDefinitions=t},this.clearOnBlur=function(t){return e.clearOnBlur=t},this.clearOnBlurPlaceholder=function(t){return e.clearOnBlurPlaceholder=t},this.eventsToHandle=function(t){return e.eventsToHandle=t},this.addDefaultPlaceholder=function(t){return e.addDefaultPlaceholder=t},this.allowInvalidValue=function(t){return e.allowInvalidValue=t},this.$get=["uiMaskConfig",function(t){var n=t;for(var r in e)angular.isObject(e[r])&&!angular.isArray(e[r])?angular.extend(n[r],e[r]):n[r]=e[r];return n}]}).directive("uiMask",["uiMask.Config",function(e){function t(e){return e===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(e.type||e.href||~e.tabIndex)}return{priority:100,require:"ngModel",restrict:"A",compile:function(){var n=angular.copy(e);return function(e,r,i,o){function a(e){return angular.isDefined(e)?(C(e),H?(p(),f(),!0):d()):d()}function s(e){e&&(A=e,!H||0===r.val().length&&angular.isDefined(i.placeholder)||r.val(v(g(r.val()))))}function l(){return a(i.uiMask)}function u(e){return H?(P=g(e||""),L=m(P),o.$setValidity("mask",L),P.length&&(L||X.allowInvalidValue)?v(P):void 0):e}function c(e){return H?(P=g(e||""),L=m(P),o.$viewValue=P.length?v(P):"",o.$setValidity("mask",L),L||X.allowInvalidValue?Y?o.$viewValue:P:void 0):e}function d(){return H=!1,h(),angular.isDefined(z)?r.attr("placeholder",z):r.removeAttr("placeholder"),angular.isDefined(G)?r.attr("maxlength",G):r.removeAttr("maxlength"),r.val(o.$modelValue),o.$viewValue=o.$modelValue,!1}function p(){P=B=g(o.$modelValue||""),M=F=v(P),L=m(P),i.maxlength&&r.attr("maxlength",2*_[_.length-1]),!z&&X.addDefaultPlaceholder&&r.attr("placeholder",A);for(var e=o.$modelValue,t=o.$formatters.length;t--;)e=o.$formatters[t](e);o.$viewValue=e||"",o.$render()}function f(){q||(r.bind("blur",E),r.bind("mousedown mouseup",w),r.bind("keydown",O),r.bind(X.eventsToHandle.join(" "),I),q=!0)}function h(){q&&(r.unbind("blur",E),r.unbind("mousedown",w),r.unbind("mouseup",w),r.unbind("keydown",O),r.unbind("input",I),r.unbind("keyup",I),r.unbind("click",I),r.unbind("focus",I),q=!1)}function m(e){return e.length?e.length>=K:!0}function g(e){var t,n,i="",o=r[0],a=S.slice(),s=j,l=s+k(o),u="";return e=e.toString(),t=0,n=e.length-A.length,angular.forEach(N,function(r){var i=r.position;i>=s&&l>i||(i>=s&&(i+=n),e.substring(i,i+r.value.length)===r.value&&(u+=e.slice(t,i),t=i+r.value.length))}),e=u+e.slice(t),angular.forEach(e.split(""),function(e){a.length&&a[0].test(e)&&(i+=e,a.shift())}),i}function v(e){var t="",n=_.slice();return angular.forEach(A.split(""),function(r,i){e.length&&i===n[0]?(t+=e.charAt(0)||"_",e=e.substr(1),n.shift()):t+=r}),t}function b(e){var t,n=angular.isDefined(i.uiMaskPlaceholder)?i.uiMaskPlaceholder:i.placeholder;return angular.isDefined(n)&&n[e]?n[e]:(t=angular.isDefined(i.uiMaskPlaceholderChar)&&i.uiMaskPlaceholderChar?i.uiMaskPlaceholderChar:"_","space"===t.toLowerCase()?" ":t[0])}function y(){var e,t,n=A.split("");_&&!isNaN(_[0])&&angular.forEach(_,function(e){n[e]="_"}),e=n.join(""),t=e.replace(/[_]+/g,"_").split("_"),t=t.filter(function(e){return""!==e});var r=0;return t.map(function(t){var n=e.indexOf(t,r);return r=n+1,{value:t,position:n}})}function C(e){var t=0;if(_=[],S=[],A="",angular.isString(e)){K=0;var n=!1,r=0,i=e.split(""),o=!1;angular.forEach(i,function(e,i){o?(o=!1,A+=e,t++):X.escChar===e?o=!0:X.maskDefinitions[e]?(_.push(t),A+=b(i-r),S.push(X.maskDefinitions[e]),t++,n||K++,n=!1):"?"===e?(n=!0,r++):(A+=e,t++)})}_.push(_.slice().pop()+1),N=y(),H=_.length>1?!0:!1}function E(){if((X.clearOnBlur||X.clearOnBlurPlaceholder&&0===P.length&&i.placeholder)&&(j=0,U=0,L&&0!==P.length||(M="",r.val(""),e.$apply(function(){o.$pristine||o.$setViewValue("")}))),P!==J){var t=r.val(),n=""===P&&t&&angular.isDefined(i.uiMaskPlaceholderChar)&&"space"===i.uiMaskPlaceholderChar;n&&r.val(""),T(r[0]),n&&r.val(t)}J=P}function T(e){var t;if(angular.isFunction(window.Event)&&!e.fireEvent)try{t=new Event("change",{view:window,bubbles:!0,cancelable:!1})}catch(n){t=document.createEvent("HTMLEvents"),t.initEvent("change",!1,!0)}finally{e.dispatchEvent(t)}else"createEvent"in document?(t=document.createEvent("HTMLEvents"),t.initEvent("change",!1,!0),e.dispatchEvent(t)):e.fireEvent&&e.fireEvent("onchange")}function w(e){"mousedown"===e.type?r.bind("mouseout",D):r.unbind("mouseout",D)}function D(){U=k(this),r.unbind("mouseout",D)}function O(e){var t=8===e.which,n=$(this)-1||0,i=90===e.which&&e.ctrlKey;if(t){for(;n>=0;){if(R(n)){x(this,n+1);break}n--}V=-1===n}i&&(r.val(""),e.preventDefault())}function I(t){t=t||{};var n=t.which,i=t.type;if(16!==n&&91!==n){var a,s=r.val(),l=F,u=!1,c=g(s),d=B,p=$(this)||0,f=j||0,h=p-f,m=_[0],b=_[c.length]||_.slice().shift(),y=U||0,C=k(this)>0,E=y>0,T=s.length>l.length||y&&s.length>l.length-y,w=s.length<l.length||y&&s.length===l.length-y,D=n>=37&&40>=n&&t.shiftKey,O=37===n,I=8===n||"keyup"!==i&&w&&-1===h,S=46===n||"keyup"!==i&&w&&0===h&&!E,N=(O||I||"click"===i)&&p>m;if(U=k(this),!D&&(!C||"click"!==i&&"keyup"!==i&&"focus"!==i)){if(I&&V)return r.val(A),e.$apply(function(){o.$setViewValue("")}),void x(this,f);if("input"===i&&w&&!E&&c===d){for(;I&&p>m&&!R(p);)p--;for(;S&&b>p&&-1===_.indexOf(p);)p++;var K=_.indexOf(p);c=c.substring(0,K)+c.substring(K+1),c!==d&&(u=!0)}for(a=v(c),F=a,B=c,!u&&s.length>a.length&&(u=!0),r.val(a),u&&e.$apply(function(){o.$setViewValue(a)}),T&&m>=p&&(p=m+1),N&&p--,p=p>b?b:m>p?m:p;!R(p)&&p>m&&b>p;)p+=N?-1:1;(N&&b>p||T&&!R(f))&&p++,j=p,x(this,p)}}}function R(e){return _.indexOf(e)>-1}function $(e){if(!e)return 0;if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection&&t(r[0])){e.focus();var n=document.selection.createRange();return n.moveStart("character",e.value?-e.value.length:0),n.text.length}return 0}function x(e,n){if(!e)return 0;if(0!==e.offsetWidth&&0!==e.offsetHeight)if(e.setSelectionRange)t(r[0])&&(e.focus(),e.setSelectionRange(n,n));else if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",n),i.select()}}function k(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:window.getSelection?window.getSelection().toString().length:document.selection?document.selection.createRange().text.length:0:0}var _,S,A,N,K,P,M,L,F,B,j,U,V,H=!1,q=!1,z=i.placeholder,G=i.maxlength,W=o.$isEmpty;o.$isEmpty=function(e){return W(H?g(e||""):e)};var Y=!1;i.$observe("modelViewValue",function(e){"true"===e&&(Y=!0)}),i.$observe("allowInvalidValue",function(e){X.allowInvalidValue=""===e?!0:!!e,u(o.$modelValue)});var X={};i.uiOptions?(X=e.$eval("["+i.uiOptions+"]"),X=angular.isObject(X[0])?function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(void 0===t[n]?t[n]=angular.copy(e[n]):angular.isObject(t[n])&&!angular.isArray(t[n])&&(t[n]=angular.extend({},e[n],t[n])));return t}(n,X[0]):n):X=n,i.$observe("uiMask",a),angular.isDefined(i.uiMaskPlaceholder)?i.$observe("uiMaskPlaceholder",s):i.$observe("placeholder",s),angular.isDefined(i.uiMaskPlaceholderChar)&&i.$observe("uiMaskPlaceholderChar",l),o.$formatters.unshift(u),o.$parsers.unshift(c);var J=r.val();r.bind("mousedown mouseup",w),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);n>i;i++)if(i in t&&t[i]===e)return i;return-1})}}}}])}(),/* Blob.js
 * A Blob implementation.
 * 2014-07-24
 *
 * By Eli Grey, http://eligrey.com
 * By Devin Samarin, https://github.com/dsamarin
 * License: X11/MIT
 *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md
 */
/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(t){}var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},i=n.prototype,o=r.prototype,a=e.FileReaderSync,s=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,c=e.URL||e.webkitURL||e,d=c.createObjectURL,p=c.revokeObjectURL,f=c,h=e.btoa,m=e.atob,g=e.ArrayBuffer,v=e.Uint8Array,b=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(r.fake=o.fake=!0;u--;)s.prototype[l[u]]=u+1;return c.createObjectURL||(f=e.URL=function(e){var t,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=e,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(t=e.match(b),n.origin=t&&t[1])),n}),f.createObjectURL=function(e){var t,n=e.type;return null===n&&(n="application/octet-stream"),e instanceof r?(t="data:"+n,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):h?t+";base64,"+h(e.data):t+","+encodeURIComponent(e.data)):d?d.call(c,e):void 0},f.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&p&&p.call(c,e)},i.append=function(e){var n=this.data;if(v&&(e instanceof g||e instanceof v)){for(var i="",o=new v(e),l=0,u=o.length;u>l;l++)i+=String.fromCharCode(o[l]);n.push(i)}else if("Blob"===t(e)||"File"===t(e)){if(!a)throw new s("NOT_READABLE_ERR");var c=new a;n.push(c.readAsBinaryString(e))}else e instanceof r?"base64"===e.encoding&&m?n.push(m(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},i.getBlob=function(e){return arguments.length||(e=null),new r(this.data.join(""),e,"raw")},i.toString=function(){return"[object BlobBuilder]"},o.slice=function(e,t,n){var i=arguments.length;return 3>i&&(n=null),new r(this.data.slice(e,i>1?t:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(e);e.Blob=function(e,t){var r=t?t.type||"":"",i=new n;if(e)for(var o=0,a=e.length;a>o;o++)i.append(Uint8Array&&e[o]instanceof Uint8Array?e[o].buffer:e[o]);var s=i.getBlob(r);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var r=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=r(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);/* FileSaver.js
 * A saveAs() FileSaver implementation.
 * 2015-05-07.2
 *
 * By Eli Grey, http://eligrey.com
 * License: X11/MIT
 *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md
 */
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(n){var r=t.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)},a=e.webkitRequestFileSystem,s=e.requestFileSystem||a||e.mozRequestFileSystem,l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u="application/octet-stream",c=0,d=500,p=function(t){var r=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?r():setTimeout(r,d)},f=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(o){l(o)}}},h=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},m=function(t,l){t=h(t);var d,m,g,v=this,b=t.type,y=!1,C=function(){f(v,"writestart progress write writeend".split(" "))},E=function(){if((y||!d)&&(d=n().createObjectURL(t)),m)m.location.href=d;else{var r=e.open(d,"_blank");void 0==r&&"undefined"!=typeof safari&&(e.location.href=d)}v.readyState=v.DONE,C(),p(d)},T=function(e){return function(){return v.readyState!==v.DONE?e.apply(this,arguments):void 0}},w={create:!0,exclusive:!1};return v.readyState=v.INIT,l||(l="download"),i?(d=n().createObjectURL(t),r.href=d,r.download=l,o(r),v.readyState=v.DONE,C(),void p(d)):(e.chrome&&b&&b!==u&&(g=t.slice||t.webkitSlice,t=g.call(t,0,t.size,u),y=!0),a&&"download"!==l&&(l+=".download"),(b===u||a)&&(m=e),s?(c+=t.size,void s(e.TEMPORARY,c,T(function(e){e.root.getDirectory("saved",w,T(function(e){var n=function(){e.getFile(l,w,T(function(e){e.createWriter(T(function(n){n.onwriteend=function(t){m.location.href=e.toURL(),v.readyState=v.DONE,f(v,"writeend",t),p(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&E()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=v["on"+e]}),n.write(t),v.abort=function(){n.abort(),v.readyState=v.DONE},v.readyState=v.WRITING}),E)}),E)};e.getFile(l,{create:!1},T(function(e){e.remove(),n()}),T(function(e){e.code===e.NOT_FOUND_ERR?n():E()}))}),E)}),E)):void E())},g=m.prototype,v=function(e,t){return new m(e,t)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t){return navigator.msSaveOrOpenBlob(h(e),t)}:(g.abort=function(){var e=this;e.readyState=e.DONE,f(e,"abort")},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,v)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs}),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";/*
	*
	* A AngularJS module that implements the HTML5 W3C saveAs() in browsers that
	* do not natively support it
	*
	* (c) 2015 Philipp Alferov
	* License: MIT
	*
	*/
e.exports="ngFileSaver",angular.module("ngFileSaver",[]).factory("FileSaver",["Blob","SaveAs","FileSaverUtils",n(1)]).factory("FileSaverUtils",[n(2)]).factory("Blob",["$window",n(3)]).factory("SaveAs",[n(5)])},function(e,t){"use strict";e.exports=function(e,t,n){function r(e,r,i){try{t(e,r,i)}catch(o){n.handleErrors(o.message)}}return{saveAs:function(e,t,i){return n.isBlobInstance(e)||n.handleErrors("Data argument should be a blob instance"),n.isString(t)||n.handleErrors("Filename argument should be a string"),r(e,t,i)}}}},function(e,t){"use strict";e.exports=function(){return{handleErrors:function(e){throw new Error(e)},isString:function(e){return"string"==typeof e||e instanceof String},isUndefined:function(e){return"undefined"==typeof e},isBlobInstance:function(e){return e instanceof Blob}}}},function(e,t,n){"use strict";n(4),e.exports=function(e){return e.Blob}},function(e,t){/* Blob.js
	 * A Blob implementation.
	 * 2014-07-24
	 *
	 * By Eli Grey, http://eligrey.com
	 * By Devin Samarin, https://github.com/dsamarin
	 * License: X11/MIT
	 *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md
	 */
/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
!function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(t){}var n=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(e,t,n){this.data=e,this.size=e.length,this.type=t,this.encoding=n},i=n.prototype,o=r.prototype,a=e.FileReaderSync,s=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,c=e.URL||e.webkitURL||e,d=c.createObjectURL,p=c.revokeObjectURL,f=c,h=e.btoa,m=e.atob,g=e.ArrayBuffer,v=e.Uint8Array,b=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(r.fake=o.fake=!0;u--;)s.prototype[l[u]]=u+1;return c.createObjectURL||(f=e.URL=function(e){var t,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=e,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(t=e.match(b),n.origin=t&&t[1])),n}),f.createObjectURL=function(e){var t,n=e.type;return null===n&&(n="application/octet-stream"),e instanceof r?(t="data:"+n,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):h?t+";base64,"+h(e.data):t+","+encodeURIComponent(e.data)):d?d.call(c,e):void 0},f.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&p&&p.call(c,e)},i.append=function(e){var n=this.data;if(v&&(e instanceof g||e instanceof v)){for(var i="",o=new v(e),l=0,u=o.length;u>l;l++)i+=String.fromCharCode(o[l]);n.push(i)}else if("Blob"===t(e)||"File"===t(e)){if(!a)throw new s("NOT_READABLE_ERR");var c=new a;n.push(c.readAsBinaryString(e))}else e instanceof r?"base64"===e.encoding&&m?n.push(m(e.data)):"URI"===e.encoding?n.push(decodeURIComponent(e.data)):"raw"===e.encoding&&n.push(e.data):("string"!=typeof e&&(e+=""),n.push(unescape(encodeURIComponent(e))))},i.getBlob=function(e){return arguments.length||(e=null),new r(this.data.join(""),e,"raw")},i.toString=function(){return"[object BlobBuilder]"},o.slice=function(e,t,n){var i=arguments.length;return 3>i&&(n=null),new r(this.data.slice(e,i>1?t:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(e);e.Blob=function(e,t){var r=t?t.type||"":"",i=new n;if(e)for(var o=0,a=e.length;a>o;o++)i.append(Uint8Array&&e[o]instanceof Uint8Array?e[o].buffer:e[o]);var s=i.getBlob(r);return!s.slice&&s.webkitSlice&&(s.slice=s.webkitSlice),s};var r=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=r(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(e,t,n){"use strict";e.exports=function(){return n(6).saveAs||function(){}}},function(e,t,n){var r,i,o=o||function(e){"use strict";if(!("undefined"==typeof e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},a=/constructor/i.test(e.HTMLElement),s=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u="application/octet-stream",c=4e4,d=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,c)},p=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(o){l(o)}}},f=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},h=function(t,l,c){c||(t=f(t));var h,m=this,g=t.type,v=g===u,b=function(){p(m,"writestart progress write writeend".split(" "))},y=function(){if((s||v&&a)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=s?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;"),n=e.open(t,"_blank");n||(e.location.href=t),t=void 0,m.readyState=m.DONE,b()},r.readAsDataURL(t),void(m.readyState=m.INIT)}if(h||(h=n().createObjectURL(t)),v)e.location.href=h;else{var i=e.open(h,"_blank");i||(e.location.href=h)}m.readyState=m.DONE,b(),d(h)};return m.readyState=m.INIT,i?(h=n().createObjectURL(t),void setTimeout(function(){r.href=h,r.download=l,o(r),b(),d(h),m.readyState=m.DONE})):void y()},m=h.prototype,g=function(e,t,n){return new h(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=f(e)),navigator.msSaveOrOpenBlob(e,t)}:(m.abort=function(){},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,g)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof e&&e.exports?e.exports.saveAs=o:null!==n(7)&&null!==n(8)&&(r=[],i=function(){return o}.apply(t,r),!(void 0!==i&&(e.exports=i)))},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(t,{})}])}),/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.17.1 - 2016-05-16T19:31:32.352Z
 * License: MIT
 */
function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var n=t.which;switch(n){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return t.metaKey||t.ctrlKey||t.altKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)},toSeparator:function(t){var n={ENTER:"\n",TAB:"	",SPACE:" "}[t];return n?n:e[t]?void 0:t}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,n=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,r,i){i(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return(""+e).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?(""+t).replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:r.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);n.factory("$$uisDebounce",["$timeout",function(e){return function(t,n){var r;return function(){var i=this,o=Array.prototype.slice.call(arguments);r&&e.cancel(r),r=e(function(){t.apply(i,o)},n)}}}]),n.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(e,t,n,r,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-choices");var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(r,o){if(!o.repeat)throw n("repeat","Expected 'repeat' expression.");var a=o.groupBy,s=o.groupFilter;if(a){var l=r.querySelectorAll(".ui-select-choices-group");if(1!==l.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",l.length);l.attr("ng-repeat",t.getGroupNgRepeatExpression())}var u=t.parse(o.repeat),c=r.querySelectorAll(".ui-select-choices-row");if(1!==c.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",c.length);c.attr("ng-repeat",u.repeatExpression(a)).attr("ng-if","$select.open");var d=r.querySelectorAll(".ui-select-choices-row-inner");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",d.length);d.attr("uis-transclude-append","");var p=i.document.addEventListener?c:d;return p.attr("ng-click","$select.select("+u.itemName+",$select.skipFocusser,$event)"),function(t,n,r,i){i.parseRepeatAttr(r.repeat,a,s),i.disableChoiceExpression=r.uiDisableChoice,i.onHighlightCallback=r.onHighlight,i.dropdownPosition=r.position?r.position.toLowerCase():e.dropdownPosition,t.$on("$destroy",function(){c.remove()}),t.$watch("$select.search",function(e){e&&!i.open&&i.multiple&&i.activate(!1,!0),i.activeIndex=i.tagging.isActivated?-1:0,!r.minimumInputLength||i.search.length>=r.minimumInputLength?i.refresh(r.refresh):i.items=[]}),r.$observe("refreshDelay",function(){var n=t.$eval(r.refreshDelay);i.refreshDelay=void 0!==n?n:e.refreshDelay})}}}}]),n.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(t,n,r,i,o,a,s,l,u,c,d){function p(e,t,n){if(e.findIndex)return e.findIndex(t,n);for(var r,i=Object(e),o=i.length>>>0,a=0;o>a;a++)if(r=i[a],t.call(n,r,a,i))return a;return-1}function f(){(v.resetSearchInput||void 0===v.resetSearchInput&&l.resetSearchInput)&&(v.search=b,v.selected&&v.items.length&&!v.multiple&&(v.activeIndex=p(v.items,function(e){return angular.equals(this,e)},v.selected)))}function h(e,t){var n,r,i=[];for(n=0;n<t.length;n++)for(r=0;r<e.length;r++)e[r].name==[t[n]]&&i.push(e[r]);return i}function m(t){var n=!0;switch(t){case e.DOWN:!v.open&&v.multiple?v.activate(!1,!0):v.activeIndex<v.items.length-1&&v.activeIndex++;break;case e.UP:!v.open&&v.multiple?v.activate(!1,!0):(v.activeIndex>0||0===v.search.length&&v.tagging.isActivated&&v.activeIndex>-1)&&v.activeIndex--;break;case e.TAB:(!v.multiple||v.open)&&v.select(v.items[v.activeIndex],!0);break;case e.ENTER:v.open&&(v.tagging.isActivated||v.activeIndex>=0)?v.select(v.items[v.activeIndex],v.skipFocusser):v.activate(!1,!0);break;case e.ESC:v.close();break;default:n=!1}return n}function g(){var e=n.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw s("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(v.activeIndex<0)){var r=t[v.activeIndex],i=r.offsetTop+r.clientHeight-e[0].scrollTop,o=e[0].offsetHeight;i>o?e[0].scrollTop+=i-o:i<r.clientHeight&&(v.isGrouped&&0===v.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=r.clientHeight-i)}}var v=this,b="";if(v.placeholder=l.placeholder,v.searchEnabled=l.searchEnabled,v.sortable=l.sortable,v.refreshDelay=l.refreshDelay,v.paste=l.paste,v.removeSelected=!1,v.closeOnSelect=!0,v.skipFocusser=!1,v.search=b,v.activeIndex=0,v.items=[],v.open=!1,v.focus=!1,v.disabled=!1,v.selected=void 0,v.dropdownPosition="auto",v.focusser=void 0,v.resetSearchInput=!0,v.multiple=void 0,v.disableChoiceExpression=void 0,v.tagging={isActivated:!1,fct:void 0},v.taggingTokens={isActivated:!1,tokens:void 0},v.lockChoiceExpression=void 0,v.clickTriggeredSelect=!1,v.$filter=i,v.$element=n,v.$animate=function(){try{return c.get("$animate")}catch(e){return null}}(),v.searchInput=n.querySelectorAll("input.ui-select-search"),1!==v.searchInput.length)throw s("searchInput","Expected 1 input.ui-select-search but got '{0}'.",v.searchInput.length);v.isEmpty=function(){return angular.isUndefined(v.selected)||null===v.selected||""===v.selected||v.multiple&&0===v.selected.length},v.activate=function(e,i){if(!v.disabled&&!v.open){i||f(),t.$broadcast("uis:activate"),v.open=!0,v.activeIndex=v.activeIndex>=v.items.length?0:v.activeIndex,-1===v.activeIndex&&v.taggingLabel!==!1&&(v.activeIndex=0);var o=n.querySelectorAll(".ui-select-choices-content"),a=n.querySelectorAll(".ui-select-search");if(v.$animate&&v.$animate.enabled(o[0])){var s=function(t,n){"start"===n&&0===v.items.length?(v.$animate.off("removeClass",a[0],s),r(function(){v.focusSearchInput(e)})):"close"===n&&(v.$animate.off("enter",o[0],s),r(function(){v.focusSearchInput(e)}))};v.items.length>0?v.$animate.on("enter",o[0],s):v.$animate.on("removeClass",a[0],s)}else r(function(){v.focusSearchInput(e),!v.tagging.isActivated&&v.items.length>1&&g()})}},v.focusSearchInput=function(e){v.search=e||v.search,v.searchInput[0].focus()},v.findGroupByName=function(e){return v.groups&&v.groups.filter(function(t){return t.name===e})[0]},v.parseRepeatAttr=function(e,n,r){function i(e){var i=t.$eval(n);if(v.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(i)?i(e):e[i],n=v.findGroupByName(t);n?n.items.push(e):v.groups.push({name:t,items:[e]})}),r){var o=t.$eval(r);angular.isFunction(o)?v.groups=o(v.groups):angular.isArray(o)&&(v.groups=h(v.groups,o))}v.items=[],v.groups.forEach(function(e){v.items=v.items.concat(e.items)})}function o(e){v.items=e}v.setItemsFn=n?i:o,v.parserResult=a.parse(e),v.isGrouped=!!n,v.itemProperty=v.parserResult.itemName;var l=v.parserResult.source,c=function(){var e=l(t);t.$uisSource=Object.keys(e).map(function(t){var n={};return n[v.parserResult.keyName]=t,n.value=e[t],n})};v.parserResult.keyName&&(c(),v.parserResult.source=u("$uisSource"+v.parserResult.filters),t.$watch(l,function(e,t){e!==t&&c()},!0)),v.refreshItems=function(e){e=e||v.parserResult.source(t);var n=v.selected;if(v.isEmpty()||angular.isArray(n)&&!n.length||!v.removeSelected)v.setItemsFn(e);else if(void 0!==e){var r=e.filter(function(e){return n.every(function(t){return!angular.equals(e,t)})});v.setItemsFn(r)}("auto"===v.dropdownPosition||"up"===v.dropdownPosition)&&t.calculateDropdownPos()},t.$watchCollection(v.parserResult.source,function(e){if(void 0===e||null===e)v.items=[];else{if(!angular.isArray(e))throw s("items","Expected an array but got '{0}'.",e);v.refreshItems(e),angular.isDefined(v.ngModel.$modelValue)&&(v.ngModel.$modelValue=null)}})};var y;v.refresh=function(e){void 0!==e&&(y&&r.cancel(y),y=r(function(){t.$eval(e)},v.refreshDelay))},v.isActive=function(e){if(!v.open)return!1;var t=v.items.indexOf(e[v.itemProperty]),n=t==v.activeIndex;return!n||0>t?!1:(n&&!angular.isUndefined(v.onHighlightCallback)&&e.$eval(v.onHighlightCallback),n)},v.isDisabled=function(e){if(v.open){var t,n=v.items.indexOf(e[v.itemProperty]),r=!1;return n>=0&&!angular.isUndefined(v.disableChoiceExpression)&&(t=v.items[n],r=!!e.$eval(v.disableChoiceExpression),t._uiSelectChoiceDisabled=r),r}},v.select=function(e,n,i){if(void 0===e||!e._uiSelectChoiceDisabled){if(!v.items&&!v.search&&!v.tagging.isActivated)return;if(!e||!e._uiSelectChoiceDisabled){if(v.tagging.isActivated){if(v.taggingLabel===!1)if(v.activeIndex<0){if(e=void 0!==v.tagging.fct?v.tagging.fct(v.search):v.search,!e||angular.equals(v.items[0],e))return}else e=v.items[v.activeIndex];else if(0===v.activeIndex){if(void 0===e)return;if(void 0!==v.tagging.fct&&"string"==typeof e){if(e=v.tagging.fct(e),!e)return}else"string"==typeof e&&(e=e.replace(v.taggingLabel,"").trim())}if(v.selected&&angular.isArray(v.selected)&&v.selected.filter(function(t){return angular.equals(t,e)}).length>0)return void v.close(n)}t.$broadcast("uis:select",e);var o={};o[v.parserResult.itemName]=e,r(function(){v.onSelectCallback(t,{$item:e,$model:v.parserResult.modelMapper(t,o)})}),v.closeOnSelect&&v.close(n),i&&"click"===i.type&&(v.clickTriggeredSelect=!0)}}},v.close=function(e){v.open&&(v.ngModel&&v.ngModel.$setTouched&&v.ngModel.$setTouched(),f(),v.open=!1,t.$broadcast("uis:close",e))},v.setFocus=function(){v.focus||v.focusInput[0].focus()},v.clear=function(e){v.select(void 0),e.stopPropagation(),r(function(){v.focusser[0].focus()},0,!1)},v.toggle=function(e){v.open?(v.close(),e.preventDefault(),e.stopPropagation()):v.activate()},v.isLocked=function(e,t){var n,r=v.selected[t];return r&&!angular.isUndefined(v.lockChoiceExpression)&&(n=!!e.$eval(v.lockChoiceExpression),r._uiSelectChoiceLocked=n),n};var C=null,E=!1;v.sizeSearchInput=function(){var e=v.searchInput[0],n=v.searchInput.parent().parent()[0],i=function(){return n.clientWidth*!!e.offsetParent},o=function(t){if(0===t)return!1;var n=t-e.offsetLeft-10;return 50>n&&(n=t),v.searchInput.css("width",n+"px"),!0};v.searchInput.css("width","10px"),r(function(){null!==C||o(i())||(C=t.$watch(angular.noop,function(){E||(E=!0,t.$$postDigest(function(){E=!1,o(i())&&(C(),C=null)}))}))})},v.searchInput.on("keydown",function(n){var i=n.which;~[e.ENTER,e.ESC].indexOf(i)&&(n.preventDefault(),n.stopPropagation()),t.$apply(function(){var t=!1;if((v.items.length>0||v.tagging.isActivated)&&(m(i),v.taggingTokens.isActivated)){for(var o=0;o<v.taggingTokens.tokens.length;o++)v.taggingTokens.tokens[o]===e.MAP[n.keyCode]&&v.search.length>0&&(t=!0);t&&r(function(){v.searchInput.triggerHandler("tagged");var t=v.search.replace(e.MAP[n.keyCode],"").trim();v.tagging.fct&&(t=v.tagging.fct(t)),t&&v.select(t,!0)})}}),e.isVerticalMovement(i)&&v.items.length>0&&g(),(i===e.ENTER||i===e.ESC)&&(n.preventDefault(),n.stopPropagation())}),v.searchInput.on("paste",function(t){var n;if(n=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(t.originalEvent||t).clipboardData.getData("text/plain"),n=v.search+n,n&&n.length>0)if(v.taggingTokens.isActivated){for(var r=[],i=0;i<v.taggingTokens.tokens.length;i++){var o=e.toSeparator(v.taggingTokens.tokens[i])||v.taggingTokens.tokens[i];if(n.indexOf(o)>-1){r=n.split(o);break}}if(0===r.length&&(r=[n]),r.length>0){var a=v.search;angular.forEach(r,function(e){var t=v.tagging.fct?v.tagging.fct(e):e;t&&v.select(t,!0)}),v.search=a||b,t.preventDefault(),t.stopPropagation()}}else v.paste&&(v.paste(n),v.search=b,t.preventDefault(),t.stopPropagation())}),v.searchInput.on("tagged",function(){r(function(){f()})});var T=o(function(){v.sizeSearchInput()},50);angular.element(d).bind("resize",T),t.$on("$destroy",function(){v.searchInput.off("keyup keydown tagged blur paste"),angular.element(d).off("resize",T)})}]),n.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,r,i,o,a){return{restrict:"EA",templateUrl:function(e,n){var r=n.theme||t.theme;return r+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(i,s){var l=/{(.*)}\s*{(.*)}/.exec(s.ngClass);if(l){var u="{"+l[1]+", "+l[2]+"}";s.ngClass=u,i.attr("ng-class",u)}return angular.isDefined(s.multiple)?i.append("<ui-select-multiple/>").removeAttr("multiple"):i.append("<ui-select-single/>"),s.inputId&&(i.querySelectorAll("input.ui-select-search")[0].id=s.inputId),function(i,s,l,u,c){function d(e){if(h.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(s[0],e.target):s[0].contains(e.target),!t&&!h.clickTriggeredSelect){var n;if(h.skipFocusser)n=!0;else{var r=["input","button","textarea","select"],o=angular.element(e.target).controller("uiSelect");n=o&&o!==h,n||(n=~r.indexOf(e.target.tagName.toLowerCase()))}h.close(n),i.$digest()}h.clickTriggeredSelect=!1}}function p(){var t=r(s);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",s.after(v),b=s[0].style.width,e.find("body").append(s),s[0].style.position="absolute",s[0].style.left=t.left+"px",s[0].style.top=t.top+"px",s[0].style.width=t.width+"px"}function f(){null!==v&&(v.replaceWith(s),v=null,s[0].style.position="",s[0].style.left="",s[0].style.top="",s[0].style.width=b,h.setFocus())}var h=u[0],m=u[1];h.generatedId=t.generateId(),h.baseTitle=l.title||"Select box",h.focusserTitle=h.baseTitle+" focus",h.focusserId="focusser-"+h.generatedId,h.closeOnSelect=function(){return angular.isDefined(l.closeOnSelect)?o(l.closeOnSelect)():t.closeOnSelect}(),i.$watch("skipFocusser",function(){var e=i.$eval(l.skipFocusser);h.skipFocusser=void 0!==e?e:t.skipFocusser}),h.onSelectCallback=o(l.onSelect),h.onRemoveCallback=o(l.onRemove),h.limit=angular.isDefined(l.limit)?parseInt(l.limit,10):void 0,h.ngModel=m,h.choiceGrouped=function(e){return h.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",function(e){h.focusInput.attr("tabindex",e),s.removeAttr("tabindex")}),i.$watch("searchEnabled",function(){var e=i.$eval(l.searchEnabled);h.searchEnabled=void 0!==e?e:t.searchEnabled}),i.$watch("sortable",function(){var e=i.$eval(l.sortable);h.sortable=void 0!==e?e:t.sortable}),l.$observe("disabled",function(){h.disabled=void 0!==l.disabled?l.disabled:!1}),l.$observe("resetSearchInput",function(){var e=i.$eval(l.resetSearchInput);h.resetSearchInput=void 0!==e?e:!0}),l.$observe("paste",function(){h.paste=i.$eval(l.paste)}),l.$observe("tagging",function(){if(void 0!==l.tagging){var e=i.$eval(l.tagging);h.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else h.tagging={isActivated:!1,fct:void 0}}),l.$observe("taggingLabel",function(){void 0!==l.tagging&&(h.taggingLabel="false"===l.taggingLabel?!1:void 0!==l.taggingLabel?l.taggingLabel:"(new)")}),l.$observe("taggingTokens",function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];h.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(l.autofocus)&&a(function(){h.setFocus()}),angular.isDefined(l.focusOn)&&i.$on(l.focusOn,function(){a(function(){h.setFocus()})}),e.on("click",d),i.$on("$destroy",function(){e.off("click",d)}),c(i,function(e){var t=angular.element("<div>").append(e),r=t.querySelectorAll(".ui-select-match");if(r.removeAttr("ui-select-match"),r.removeAttr("data-ui-select-match"),1!==r.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",r.length);s.querySelectorAll(".ui-select-match").replaceWith(r);var i=t.querySelectorAll(".ui-select-choices");if(i.removeAttr("ui-select-choices"),i.removeAttr("data-ui-select-choices"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",i.length);s.querySelectorAll(".ui-select-choices").replaceWith(i);var o=t.querySelectorAll(".ui-select-no-choice");o.removeAttr("ui-select-no-choice"),o.removeAttr("data-ui-select-no-choice"),1==o.length&&s.querySelectorAll(".ui-select-no-choice").replaceWith(o)});var g=i.$eval(l.appendToBody);(void 0!==g?g:t.appendToBody)&&(i.$watch("$select.open",function(e){e?p():f()}),i.$on("$destroy",function(){f()}));var v=null,b="",y=null,C="direction-up";i.$watch("$select.open",function(){("auto"===h.dropdownPosition||"up"===h.dropdownPosition)&&i.calculateDropdownPos()});var E=function(e,t){e=e||r(s),t=t||r(y),y[0].style.position="absolute",y[0].style.top=-1*t.height+"px",s.addClass(C)},T=function(e,t){s.removeClass(C),e=e||r(s),t=t||r(y),y[0].style.position="",y[0].style.top=""};i.calculateDropdownPos=function(){if(h.open){if(y=angular.element(s).querySelectorAll(".ui-select-dropdown"),0===y.length)return;y[0].style.opacity=0,a(function(){if("up"===h.dropdownPosition)E();else{s.removeClass(C);var t=r(s),n=r(y),i=e[0].documentElement.scrollTop||e[0].body.scrollTop;t.top+t.height+n.height>i+e[0].documentElement.clientHeight?E(t,n):T(t,n)}y[0].style.opacity=1})}else{if(null===y||0===y.length)return;y[0].style.position="",y[0].style.top="",s.removeClass(C)}}}}}}]),n.directive("uiSelectMatch",["uiSelectConfig",function(e){function t(e,t){return e[0].hasAttribute(t)?e.attr(t):e[0].hasAttribute("data-"+t)?e.attr("data-"+t):e[0].hasAttribute("x-"+t)?e.attr("x-"+t):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(n){n.addClass("ui-select-match");var r=n.parent(),i=t(r,"theme")||e.theme,o=angular.isDefined(t(r,"multiple"));return i+(o?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,r,i){function o(e){i.allowClear=angular.isDefined(e)?""===e?!0:"true"===e.toLowerCase():!1}i.lockChoiceExpression=r.uiLockChoice,r.$observe("placeholder",function(t){i.placeholder=void 0!==t?t:e.placeholder}),r.$observe("allowClear",o),o(r.allowClear),i.multiple&&i.sizeSearchInput()}}}]),n.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,r=this,i=e.$select;angular.isUndefined(i.selected)&&(i.selected=[]),e.$evalAsync(function(){n=e.ngModel}),r.activeMatchIndex=-1,r.updateModel=function(){n.$setViewValue(Date.now()),r.refreshComponent()},r.refreshComponent=function(){i.refreshItems(),i.sizeSearchInput()},r.removeChoice=function(n){var o=i.selected[n];if(!o._uiSelectChoiceLocked){var a={};a[i.parserResult.itemName]=o,i.selected.splice(n,1),r.activeMatchIndex=-1,i.sizeSearchInput(),t(function(){i.onRemoveCallback(e,{$item:o,$model:i.parserResult.modelMapper(e,a)})}),r.updateModel()}},r.getPlaceholder=function(){return i.selected&&i.selected.length?void 0:i.placeholder}}],controllerAs:"$selectMultiple",link:function(r,i,o,a){function s(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function l(t){function n(){switch(t){case e.LEFT:return~f.activeMatchIndex?c:a;case e.RIGHT:return~f.activeMatchIndex&&l!==a?u:(d.activate(),!1);case e.BACKSPACE:return~f.activeMatchIndex?(f.removeChoice(l),c):a;case e.DELETE:return~f.activeMatchIndex?(f.removeChoice(f.activeMatchIndex),l):!1}}var r=s(d.searchInput[0]),i=d.selected.length,o=0,a=i-1,l=f.activeMatchIndex,u=f.activeMatchIndex+1,c=f.activeMatchIndex-1,p=l;return r>0||d.search.length&&t==e.RIGHT?!1:(d.close(),p=n(),f.activeMatchIndex=d.selected.length&&p!==!1?Math.min(a,Math.max(o,p)):-1,!0)}function u(e){if(void 0===e||void 0===d.search)return!1;var t=e.filter(function(e){return void 0===d.search.toUpperCase()||void 0===e?!1:e.toUpperCase()===d.search.toUpperCase()}).length>0;return t}function c(e,t){var n=-1;if(angular.isArray(e))for(var r=angular.copy(e),i=0;i<r.length;i++)if(void 0===d.tagging.fct)r[i]+" "+d.taggingLabel===t&&(n=i);else{var o=r[i];angular.isObject(o)&&(o.isTag=!0),angular.equals(o,t)&&(n=i)}return n}var d=a[0],p=r.ngModel=a[1],f=r.$selectMultiple;d.multiple=!0,d.removeSelected=!0,d.focusInput=d.searchInput,p.$isEmpty=function(e){return!e||0===e.length},p.$parsers.unshift(function(){for(var e,t={},n=[],i=d.selected.length-1;i>=0;i--)t={},t[d.parserResult.itemName]=d.selected[i],e=d.parserResult.modelMapper(r,t),n.unshift(e);return n}),p.$formatters.unshift(function(e){var t,n=d.parserResult&&d.parserResult.source(r,{$select:{search:""}}),i={};if(!n)return e;var o=[],a=function(e,n){if(e&&e.length){for(var a=e.length-1;a>=0;a--){if(i[d.parserResult.itemName]=e[a],t=d.parserResult.modelMapper(r,i),d.parserResult.trackByExp){var s=/(\w*)\./.exec(d.parserResult.trackByExp),l=/\.([^\s]+)/.exec(d.parserResult.trackByExp);if(s&&s.length>0&&s[1]==d.parserResult.itemName&&l&&l.length>0&&t[l[1]]==n[l[1]])return o.unshift(e[a]),!0}if(angular.equals(t,n))return o.unshift(e[a]),!0}return!1}};if(!e)return o;for(var s=e.length-1;s>=0;s--)a(d.selected,e[s])||a(n,e[s])||o.unshift(e[s]);return o}),r.$watchCollection(function(){return p.$modelValue},function(e,t){t!=e&&(angular.isDefined(p.$modelValue)&&(p.$modelValue=null),f.refreshComponent())}),p.$render=function(){if(!angular.isArray(p.$viewValue)){if(!angular.isUndefined(p.$viewValue)&&null!==p.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",p.$viewValue);d.selected=[]}d.selected=p.$viewValue,f.refreshComponent(),r.$evalAsync()},r.$on("uis:select",function(e,t){d.selected.length>=d.limit||(d.selected.push(t),f.updateModel())}),r.$on("uis:activate",function(){f.activeMatchIndex=-1}),r.$watch("$select.disabled",function(e,t){t&&!e&&d.sizeSearchInput()}),d.searchInput.on("keydown",function(t){var n=t.which;r.$apply(function(){var r=!1;e.isHorizontalMovement(n)&&(r=l(n)),r&&n!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),d.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||r.$evalAsync(function(){d.activeIndex=d.taggingLabel===!1?-1:0}),d.tagging.isActivated&&d.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(d.activeIndex=d.taggingLabel===!1?-1:0,d.taggingLabel===!1)return;var n,i,o,a,s=angular.copy(d.items),l=angular.copy(d.items),p=!1,f=-1;if(void 0!==d.tagging.fct){if(o=d.$filter("filter")(s,{isTag:!0}),o.length>0&&(a=o[0]),s.length>0&&a&&(p=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.tagging.fct(d.search),l.some(function(e){return angular.equals(e,n)})||d.selected.some(function(e){return angular.equals(e,n)}))return void r.$evalAsync(function(){d.activeIndex=0,d.items=s});n&&(n.isTag=!0)}else{if(o=d.$filter("filter")(s,function(e){return e.match(d.taggingLabel)}),o.length>0&&(a=o[0]),i=s[0],void 0!==i&&s.length>0&&a&&(p=!0,s=s.slice(1,s.length),l=l.slice(1,l.length)),n=d.search+" "+d.taggingLabel,c(d.selected,d.search)>-1)return;if(u(l.concat(d.selected)))return void(p&&(s=l,r.$evalAsync(function(){d.activeIndex=0,d.items=s})));if(u(l))return void(p&&(d.items=l.slice(1,l.length)))}p&&(f=c(d.selected,n)),f>-1?s=s.slice(f+1,s.length-1):(s=[],n&&s.push(n),s=s.concat(l)),r.$evalAsync(function(){if(d.activeIndex=0,d.items=s,d.isGrouped){var e=n?s.slice(1):s;d.setItemsFn(e),n&&(d.items.unshift(n),d.groups.unshift({name:"",items:[n],tagging:!0}))}})}}),d.searchInput.on("blur",function(){n(function(){f.activeMatchIndex=-1})})}}}]),n.directive("uiSelectNoChoice",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var n=t.parent().attr("theme")||e.theme;return n+"/no-choice.tpl.html"}}}]),n.directive("uiSelectSingle",["$timeout","$compile",function(t,n){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(r,i,o,a){var s=a[0],l=a[1];l.$parsers.unshift(function(e){var t,n={};return n[s.parserResult.itemName]=e,t=s.parserResult.modelMapper(r,n)}),l.$formatters.unshift(function(e){var t,n=s.parserResult&&s.parserResult.source(r,{$select:{search:""}}),i={};if(n){var o=function(n){return i[s.parserResult.itemName]=n,t=s.parserResult.modelMapper(r,i),t===e};if(s.selected&&o(s.selected))return s.selected;for(var a=n.length-1;a>=0;a--)if(o(n[a]))return n[a]}return e}),r.$watch("$select.selected",function(e){l.$viewValue!==e&&l.$setViewValue(e)}),l.$render=function(){s.selected=l.$viewValue},r.$on("uis:select",function(e,t){s.selected=t}),r.$on("uis:close",function(e,n){t(function(){s.focusser.prop("disabled",!1),n||s.focusser[0].focus()},0,!1)}),r.$on("uis:activate",function(){u.prop("disabled",!0)});var u=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");n(u)(r),s.focusser=u,s.focusInput=u,i.parent().append(u),u.bind("focus",function(){r.$evalAsync(function(){s.focus=!0})}),u.bind("blur",function(){r.$evalAsync(function(){s.focus=!1})}),u.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),s.select(void 0),void r.$apply()):void(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||((t.which==e.DOWN||t.which==e.UP||t.which==e.ENTER||t.which==e.SPACE)&&(t.preventDefault(),t.stopPropagation(),s.activate()),r.$digest()))}),u.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(s.activate(u.val()),u.val(""),r.$digest())})}}}]),n.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:["^^uiSelect","^ngModel"],link:function(t,r,i,o){if(null===t[i.uiSelectSort])throw n("sort","Expected a list to sort");var a=o[0],s=o[1],l=angular.extend({axis:"horizontal"},t.$eval(i.uiSelectSortOptions)),u=l.axis,c="dragging",d="dropping",p="dropping-before",f="dropping-after";t.$watch(function(){return a.sortable},function(e){e?r.attr("draggable",!0):r.removeAttr("draggable")}),r.on("dragstart",function(e){r.addClass(c),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text",t.$index.toString())}),r.on("dragend",function(){g(c)});var h,m=function(e,t){this.splice(t,0,this.splice(e,1)[0])},g=function(e){angular.forEach(a.$element.querySelectorAll("."+e),function(t){angular.element(t).removeClass(e)})},v=function(e){e.preventDefault();var t="vertical"===u?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===u?"offsetHeight":"offsetWidth"]/2?(g(f),r.addClass(p)):(g(p),r.addClass(f))},b=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);e.cancel(h),h=e(function(){y(n)},20)},y=function(e){var n=t.$eval(i.uiSelectSort),o=n[e],a=null;a=r.hasClass(p)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,m.apply(n,[e,a]),s.$setViewValue(Date.now()),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:o,from:e,to:a})}),g(d),g(p),g(f),r.off("drop",b)};r.on("dragenter",function(){r.hasClass(c)||(r.addClass(d),r.on("dragover",v),r.on("drop",b))}),r.on("dragleave",function(e){e.target==r&&(g(d),g(p),g(f),r.off("dragover",v),r.off("drop",b))})}}}]),n.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var r;if(r=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!r)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var i=r[5],o="";if(r[3]){i=r[5].replace(/(^\()|(\)$)/g,"");var a=r[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);a&&a[1].trim()&&(o=a[1],i=i.replace(o,""))}return{itemName:r[4]||r[2],keyName:r[3],source:t(i),filters:o,trackByExp:r[6],modelMapper:t(r[1]||r[4]||r[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups"}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" role="listbox" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),
e.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]),/*! ng-formio v2.0.1 | https://npmcdn.com/ng-formio@2.0.1/LICENSE.txt */
function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){!function(e){function t(){this._events={},this._conf&&r.call(this,this._conf)}function r(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners&&(this._events.maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),this.wildcard&&(this.listenerTree={}))}function i(e){this._events={},this.newListener=!1,r.call(this,e)}function o(e,t,n,r){if(!n)return[];var i,a,s,l,u,c,d,p=[],f=t.length,h=t[r],m=t[r+1];if(r===f&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(i=0,a=n._listeners.length;a>i;i++)e&&e.push(n._listeners[i]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&(p=p.concat(o(e,t,n[s],r+1)));return p}if("**"===h){d=r+1===f||r+2===f&&"*"===m,d&&n._listeners&&(p=p.concat(o(e,t,n,f)));for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&("*"===s||"**"===s?(n[s]._listeners&&!d&&(p=p.concat(o(e,t,n[s],f))),p=p.concat(o(e,t,n[s],r))):p=p.concat(s===m?o(e,t,n[s],r+2):o(e,t,n[s],r)));return p}p=p.concat(o(e,t,n[h],r+1))}if(l=n["*"],l&&o(e,t,l,r+1),u=n["**"])if(f>r){u._listeners&&o(e,t,u,f);for(s in u)"_listeners"!==s&&u.hasOwnProperty(s)&&(s===m?o(e,t,u[s],r+2):s===h?o(e,t,u[s],r+1):(c={},c[s]=u[s],o(e,t,{"**":c},r+1)))}else u._listeners?o(e,t,u,f):u["*"]&&u["*"]._listeners&&o(e,t,u["*"],f);return p}function a(e,t){e="string"==typeof e?e.split(this.delimiter):e.slice();for(var n=0,r=e.length;r>n+1;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var i=this.listenerTree,o=e.shift();o;){if(i[o]||(i[o]={}),i=i[o],0===e.length){if(i._listeners){if("function"==typeof i._listeners)i._listeners=[i._listeners,t];else if(s(i._listeners)&&(i._listeners.push(t),!i._listeners.warned)){var a=l;"undefined"!=typeof this._events.maxListeners&&(a=this._events.maxListeners),a>0&&i._listeners.length>a&&(i._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",i._listeners.length),console.trace())}}else i._listeners=t;return!0}o=e.shift()}return!0}var s=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},l=10;i.prototype.delimiter=".",i.prototype.setMaxListeners=function(e){this._events||t.call(this),this._events.maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e},i.prototype.event="",i.prototype.once=function(e,t){return this.many(e,1,t),this},i.prototype.many=function(e,t,n){function r(){0===--t&&i.off(e,r),n.apply(this,arguments)}var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(e,r),i},i.prototype.emit=function(){this._events||t.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var n=arguments.length,r=new Array(n-1),i=1;n>i;i++)r[i-1]=arguments[i];for(i=0,n=this._all.length;n>i;i++)this.event=e,this._all[i].apply(this,r)}if("error"===e&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var a;if(this.wildcard){a=[];var s="string"==typeof e?e.split(this.delimiter):e.slice();o.call(this,a,s,this.listenerTree,0)}else a=this._events[e];if("function"==typeof a){if(this.event=e,1===arguments.length)a.call(this);else if(arguments.length>1)switch(arguments.length){case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:for(var n=arguments.length,r=new Array(n-1),i=1;n>i;i++)r[i-1]=arguments[i];a.apply(this,r)}return!0}if(a){for(var n=arguments.length,r=new Array(n-1),i=1;n>i;i++)r[i-1]=arguments[i];for(var l=a.slice(),i=0,n=l.length;n>i;i++)this.event=e,l[i].apply(this,r);return l.length>0||!!this._all}return!!this._all},i.prototype.on=function(e,n){if("function"==typeof e)return this.onAny(e),this;if("function"!=typeof n)throw new Error("on only accepts instances of Function");if(this._events||t.call(this),this.emit("newListener",e,n),this.wildcard)return a.call(this,e,n),this;if(this._events[e]){if("function"==typeof this._events[e])this._events[e]=[this._events[e],n];else if(s(this._events[e])&&(this._events[e].push(n),!this._events[e].warned)){var r=l;"undefined"!=typeof this._events.maxListeners&&(r=this._events.maxListeners),r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}}else this._events[e]=n;return this},i.prototype.onAny=function(e){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(e),this},i.prototype.addListener=i.prototype.on,i.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();r=o.call(this,null,i,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var a=0;a<r.length;a++){var l=r[a];if(n=l._listeners,s(n)){for(var u=-1,c=0,d=n.length;d>c;c++)if(n[c]===t||n[c].listener&&n[c].listener===t||n[c]._origin&&n[c]._origin===t){u=c;break}if(0>u)continue;return this.wildcard?l._listeners.splice(u,1):this._events[e].splice(u,1),0===n.length&&(this.wildcard?delete l._listeners:delete this._events[e]),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete l._listeners:delete this._events[e])}return this},i.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(t=this._all,n=0,r=t.length;r>n;n++)if(e===t[n])return t.splice(n,1),this}else this._all=[];return this},i.prototype.removeListener=i.prototype.off,i.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||t.call(this),this;if(this.wildcard)for(var n="string"==typeof e?e.split(this.delimiter):e.slice(),r=o.call(this,null,n,this.listenerTree,0),i=0;i<r.length;i++){var a=r[i];a._listeners=null}else{if(!this._events[e])return this;this._events[e]=null}return this},i.prototype.listeners=function(e){if(this.wildcard){var n=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return o.call(this,n,r,this.listenerTree,0),n}return this._events||t.call(this),this._events[e]||(this._events[e]=[]),s(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},i.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof n?n.EventEmitter2=i:window.EventEmitter2=i}()},{}],2:[function(e,t,n){"use strict";t.exports={isLayoutComponent:function(e){return e.columns&&Array.isArray(e.columns)||e.rows&&Array.isArray(e.rows)||e.components&&Array.isArray(e.components)?!0:!1},eachComponent:function r(e,t,n,i){e&&(i=i||"",e.forEach(function(e){var o=e.columns&&Array.isArray(e.columns),a=e.rows&&Array.isArray(e.rows),s=e.components&&Array.isArray(e.components),l=!1,u=e.key?i?i+"."+e.key:e.key:"";(n||e.tree||!o&&!a&&!s)&&(l=t(e,u));var c=function(){return!e.key||"datagrid"!==e.type&&"container"!==e.type?i:u};l||(o?e.columns.forEach(function(e){r(e.components,t,n,c())}):a?[].concat.apply([],e.rows).forEach(function(e){r(e.components,t,n,c())}):s&&r(e.components,t,n,c()))}))},getComponent:function(e,n){var r;return t.exports.eachComponent(e,function(e){e.key===n&&(r=e)}),r},flattenComponents:function(e,n){var r={};return t.exports.eachComponent(e,function(e,t){r[t]=e},n),r},getValue:function(e,t){var n=e.data||{},r=function i(e){var n,r;if(e instanceof Array){for(n=0;n<e.length;n++)if("object"==typeof e[n]&&(r=i(e[n])),r)return r}else if("object"==typeof e){if(e.hasOwnProperty(t))return e[t];var o=Object.keys(e);for(n=0;n<o.length;n++)if("object"==typeof e[o[n]]&&(r=i(e[o[n]])),r)return r}};return r(n)}}},{}],3:[function(e,t,n){"use strict";e("whatwg-fetch");var r=e("Q"),i=e("eventemitter2").EventEmitter2,o=e("shallow-copy"),a=e("./providers"),s="https://api.form.io",l=s,u=!1,c=[],d={},p=function(){},f=function(e){return e},h=function(e){var t=[].slice.call(arguments,1);return r.all(c.map(function(n){return(n[e]||p).apply(n,t)}))},m=function(e){var t=[].slice.call(arguments,0),n=function(e,i){var o=c[e];return o?r((o&&o[i]||p).apply(o,[].slice.call(arguments,2))).then(function(r){return null!==r&&void 0!==r?r:n.apply(null,[e+1].concat(t))}):r(null)};return n.apply(null,[0].concat(t))},g=function(e,t){var n=[].slice.call(arguments,2);return c.reduce(function(t,r){return(r[e]||f).apply(r,[t].concat(n))},t)},v=function(e){var t="^(http[s]?:\\/\\/)";return t+=s&&0===e.indexOf(s)?"("+s.replace(/^http[s]?:\/\//,"")+")":"([^/]+)",t+="($|\\/.*)",e.match(new RegExp(t))},b=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},y=function(e){if(!(this instanceof y))return new y(e);if(!e)return this.projectUrl=s+"/project",this.projectsUrl=s+"/project",this.projectId=!1,void(this.query="");this.projectsUrl="",this.projectUrl="",this.projectId="",this.formUrl="",this.formsUrl="",this.formId="",this.submissionsUrl="",this.submissionUrl="",this.submissionId="",this.actionsUrl="",this.actionId="",this.actionUrl="",this.query="",0!==e.indexOf("http")&&0!==e.indexOf("//")&&(s=s?s:window.location.href.match(/http[s]?:\/\/api./)[0],e=s+e);var t=v(e),n=[],r=t[1]+t[2];e=t.length>3?t[3]:"";var i=e.split("?");if(i.length>1&&(e=i[0],this.query="?"+i[1]),-1!==e.search(/(^|\/)(form|project)($|\/)/)){var o=function(t,r){this[t+"sUrl"]=r+"/"+t;var i=new RegExp("/"+t+"/([^/]+)");return-1!==e.search(i)&&(n=e.match(i),this[t+"Url"]=n?r+n[0]:"",this[t+"Id"]=n.length>1?n[1]:"",r+=n[0]),r}.bind(this),a=function(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i instanceof Array)a(i,t,!0);else{var s=o(i,t);t=n?t:s}}};a(["project","form",["submission","action"]],r),this.projectId||t.length>2&&t[2].split(".").length>2&&(this.projectUrl=r,this.projectId=t[2].split(".")[0])}else{this.projectUrl=r,this.projectId=t.length>2?t[2].split(".")[0]:"";var c=new RegExp("/(submission|action)($|/.*)"),d=e.match(c);this.pathType=d&&d.length>1?d[1]:"",e=e.replace(c,""),e=e.replace(/\/$/,""),this.formsUrl=r+"/form",this.formUrl=r+e,this.formId=e.replace(/^\/+|\/+$/g,"");var p=["submission","action"];for(var f in p)if(p.hasOwnProperty(f)){var h=p[f];this[h+"sUrl"]=r+e+"/"+h,this.pathType===h&&d.length>2&&d[2]&&(this[h+"Id"]=d[2].replace(/^\/+|\/+$/g,""),this[h+"Url"]=r+e+d[0])}}u||(l=this.projectUrl)},C=function(e){var t=e+"Id",n=e+"Url";return function(i,o){return i&&"object"==typeof i&&(i=b(i.params)),i=i?this.query?this.query+"&"+i:"?"+i:this.query,this[t]?this.makeRequest(e,this[n]+i,"get",null,o):r.reject("Missing "+t)}},E=function(e){var t=e+"Id",n=e+"Url";return function(r,i){var o=this[t]?"put":"post",a=this[t]?this[n]:this[e+"sUrl"];return d={},this.makeRequest(e,a+this.query,o,r,i)}},T=function(e){var t=e+"Id",n=e+"Url";return function(i){return this[t]||r.reject("Nothing to delete"),d={},this.makeRequest(e,this[n],"delete",null,i)}},w=function(e){var t=e+"Url";return function(n,r){return n=n||"",n&&"object"==typeof n&&(n="?"+b(n.params)),this.makeRequest(e,this[t]+n,"get",null,r)}};y.prototype.makeRequest=function(e,t,n,r,i){var o=this;n=(n||"GET").toUpperCase(),i&&"object"==typeof i||(i={});var a={formio:o,type:e,url:t,method:n,data:r,opts:i},s=h("preRequest",a).then(function(){return m("request",a).then(function(e){return null===e||void 0===e?y.request(t,n,r):e})});return g("wrapRequestPromise",s,a)},y.prototype.loadProject=C("project"),y.prototype.saveProject=E("project"),y.prototype.deleteProject=T("project"),y.prototype.loadForm=C("form"),y.prototype.saveForm=E("form"),y.prototype.deleteForm=T("form"),y.prototype.loadForms=w("forms"),y.prototype.loadSubmission=C("submission"),y.prototype.saveSubmission=E("submission"),y.prototype.deleteSubmission=T("submission"),y.prototype.loadSubmissions=w("submissions"),y.prototype.loadAction=C("action"),y.prototype.saveAction=E("action"),y.prototype.deleteAction=T("action"),y.prototype.loadActions=w("actions"),y.prototype.availableActions=function(){return this.makeRequest("availableActions",this.formUrl+"/actions")},y.prototype.actionInfo=function(e){return this.makeRequest("actionInfo",this.formUrl+"/actions/"+e)},y.prototype.uploadFile=function(e,t,n,r,i){var o={provider:e,method:"upload",file:t,fileName:n,dir:r},s=h("preRequest",o).then(function(){return m("fileRequest",o).then(function(o){if(null===o||void 0===o){if(a.storage.hasOwnProperty(e)){var s=new a.storage[e](this);return s.uploadFile(t,n,r,i)}throw"Storage provider not found"}return o}.bind(this))}.bind(this));return g("wrapFileRequestPromise",s,o)},y.prototype.downloadFile=function(e){var t={method:"download",file:e},n=h("preRequest",t).then(function(){return m("fileRequest",t).then(function(t){if(null===t||void 0===t){if(a.storage.hasOwnProperty(e.storage)){var n=new a.storage[e.storage](this);return n.downloadFile(e)}throw"Storage provider not found"}return t}.bind(this))}.bind(this));return g("wrapFileRequestPromise",n,t)},y.makeStaticRequest=function(e,t,n){t=(t||"GET").toUpperCase();var r={url:e,method:t,data:n},i=h("preRequest",r).then(function(){return m("staticRequest",r).then(function(r){return null===r||void 0===r?y.request(e,t,n):r})});return g("wrapStaticRequestPromise",i,r)},y.loadProjects=function(e){return e=e||"","object"==typeof e&&(e="?"+b(e.params)),this.makeStaticRequest(s+"/project"+e)},y.request=function(e,t,n){if(!e)return r.reject("No url provided");t=(t||"GET").toUpperCase();var i=btoa(e);return r().then(function(){return"GET"===t&&d.hasOwnProperty(i)?d[i]:r().then(function(){var r=new Headers({Accept:"application/json","Content-type":"application/json; charset=UTF-8"}),i=y.getToken();i&&r.append("x-jwt-token",i);var o={method:t,headers:r,mode:"cors"};return n&&(o.body=JSON.stringify(n)),fetch(e,o)})["catch"](function(e){throw e.message="Could not connect to API server ("+e.message+")",e.networkError=!0,e}).then(function(e){if(e.ok){var t=e.headers.get("x-jwt-token");return e.status>=200&&e.status<300&&t&&""!==t&&y.setToken(t),204===e.status?{}:(-1!==e.headers.get("content-type").indexOf("application/json")?e.json():e.text()).then(function(t){var n=e.headers.get("content-range");if(n&&"object"==typeof t){if(n=n.split("/"),"*"!==n[0]){var r=n[0].split("-");t.skip=Number(r[0]),t.limit=r[1]-r[0]+1}t.serverCount="*"===n[1]?n[1]:Number(n[1])}return t})}return 440===e.status?(y.setToken(null),y.events.emit("formio.sessionExpired",e.body)):401===e.status&&y.events.emit("formio.unauthorized",e.body),(-1!==e.headers.get("content-type").indexOf("application/json")?e.json():e.text()).then(function(e){throw e})})["catch"](function(e){throw"Bad Token"===e&&(y.setToken(null),y.events.emit("formio.badToken",e)),delete d[i],e})}).then(function(e){if("GET"===t&&(d[i]=r(e)),Array.isArray(e)){var n=e.map(o);return n.skip=e.skip,n.limit=e.limit,n.serverCount=e.serverCount,n}return o(e)})},y.setToken=function(e){if(e=e||"",e!==this.token){if(this.token=e,!e){y.setUser(null);try{return localStorage.removeItem("formioToken")}catch(t){return}}try{localStorage.setItem("formioToken",e)}catch(t){}y.currentUser()}},y.getToken=function(){if(this.token)return this.token;var e=localStorage.getItem("formioToken")||"";return this.token=e,e},y.setUser=function(e){if(!e){this.setToken(null);try{return localStorage.removeItem("formioUser")}catch(t){return}}try{localStorage.setItem("formioUser",JSON.stringify(e))}catch(t){}},y.getUser=function(){return JSON.parse(localStorage.getItem("formioUser")||null)},y.setBaseUrl=function(e){s=e,u||(l=e)},y.getBaseUrl=function(){return s},y.setAppUrl=function(e){l=e,u=!0},y.getAppUrl=function(){return l},y.clearCache=function(){d={}},y.currentUser=function(){var e=s+"/current",t=this.getUser();if(t)return g("wrapStaticRequestPromise",r(t),{url:e,method:"GET"});var n=this.getToken();return n?this.makeStaticRequest(e).then(function(e){return y.setUser(e),e}):g("wrapStaticRequestPromise",r(null),{url:e,method:"GET"})},y.logout=function(){return this.makeStaticRequest(s+"/logout")["finally"](function(){this.setToken(null),this.setUser(null),y.clearCache()}.bind(this))},y.fieldData=function(e,t){if(!e)return"";if(!t||!t.key)return e;if(-1!==t.key.indexOf(".")){for(var n=e,r=t.key.split("."),i="",o=0;o<r.length;o++){if(i=r[o],n.hasOwnProperty("_id")&&(n=n.data),!n.hasOwnProperty(i))return;i===r[r.length-1]&&t.multiple&&!Array.isArray(n[i])&&(n[i]=[n[i]]),n=n[i]}return n}return t.multiple&&!Array.isArray(e[t.key])&&(e[t.key]=[e[t.key]]),e[t.key]},y.providers=a,y.events=new i({wildcard:!1,maxListeners:0}),y.registerPlugin=function(e,t){c.push(e),c.sort(function(e,t){return(t.priority||0)-(e.priority||0)}),e.__name=t,(e.init||p).call(e,y)},y.getPlugin=function(e){return c.reduce(function(t,n){return t?t:n.__name===e?n:void 0},null)},y.deregisterPlugin=function(e){var t=c.length;return c=c.filter(function(t){return t!==e&&t.__name!==e?!0:((t.deregister||p).call(t,y),!1)}),t!==c.length},t.exports=y},{"./providers":4,Q:10,eventemitter2:1,"shallow-copy":11,"whatwg-fetch":12}],4:[function(e,t,n){t.exports={storage:e("./storage")}},{"./storage":6}],5:[function(e,t,n){var r=e("Q"),i=function(e){return{uploadFile:function(t,n,i,o){var a=r.defer(),s=new XMLHttpRequest;"function"==typeof o&&(s.upload.onprogress=o);var l=new FormData;return l.append("name",n),l.append("dir",i),l.append("file",t),s.onerror=function(e){e.networkError=!0,a.reject(e)},s.onload=function(){if(s.status>=200&&s.status<300){var e=JSON.parse(s.response);e.storage="dropbox",e.size=t.size,e.type=t.type,e.url=e.path_lower,a.resolve(e)}else a.reject(s.response||"Unable to upload file")},s.onabort=function(e){a.reject(e)},s.open("POST",e.formUrl+"/storage/dropbox"),s.setRequestHeader("x-jwt-token",localStorage.getItem("formioToken")),s.send(l),a.promise},downloadFile:function(t){return t.url=e.formUrl+"/storage/dropbox?path_lower="+t.path_lower+"&x-jwt-token="+localStorage.getItem("formioToken"),r(t)}}};i.title="Dropbox",i.name="dropbox",t.exports=i},{Q:10}],6:[function(e,t,n){t.exports={dropbox:e("./dropbox.js"),s3:e("./s3.js"),url:e("./url.js")}},{"./dropbox.js":5,"./s3.js":7,"./url.js":8}],7:[function(e,t,n){var r=e("Q"),i=function(e){return{uploadFile:function(t,n,i,o){var a=r.defer(),s=new XMLHttpRequest,l=new FormData;return l.append("name",n),l.append("size",t.size),l.append("type",t.type),s.onerror=function(e){e.networkError=!0,a.reject(e)},s.onabort=function(e){a.reject(e)},s.onload=function(){if(s.status>=200&&s.status<300){var e=JSON.parse(s.response),r=new XMLHttpRequest;"function"==typeof o&&(r.upload.onprogress=o),e.data.fileName=n,e.data.key+=i+n;var l=new FormData;for(var u in e.data)l.append(u,e.data[u]);l.append("file",t),r.onerror=function(e){e.networkError=!0,a.reject(e)},r.onload=function(){r.status>=200&&r.status<300?a.resolve({storage:"s3",name:n,bucket:e.bucket,key:e.data.key,url:e.url+e.data.key,acl:e.data.acl,size:t.size,type:t.type}):a.reject(r.response||"Unable to upload file")},r.onabort=function(e){a.reject(e)},r.open("POST",e.url),r.send(l)}else a.reject(s.response||"Unable to sign file")},s.open("POST",e.formUrl+"/storage/s3"),s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Content-Type","application/json; charset=UTF-8"),s.setRequestHeader("x-jwt-token",localStorage.getItem("formioToken")),s.send(JSON.stringify({name:n,size:t.size,type:t.type})),a.promise},downloadFile:function(t){return"public-read"!==t.acl?e.makeRequest("file",e.formUrl+"/storage/s3?bucket="+t.bucket+"&key="+t.key,"GET"):r(t)}}};i.title="S3",i.name="s3",t.exports=i},{Q:10}],8:[function(e,t,n){var r=e("Q"),i=function(e){return{title:"Url",name:"url",uploadFile:function(e,t,n,i){var o=r.defer(),a={dir:n,name:t,file:e},s=new XMLHttpRequest;"function"==typeof i&&(s.upload.onprogress=i),fd=new FormData;for(var l in a)fd.append(l,a[l]);return s.onload=function(){s.status>=200&&s.status<300?o.resolve({storage:"url",name:t,url:s.response.url,size:e.size,type:e.type}):o.reject(s.response||"Unable to upload file")},s.onerror=function(){o.reject(s)},s.onabort=function(){o.reject(s)},s.open("POST",response.url),s.send(fd),o.promise},downloadFile:function(e){r(e)}}};i.name="url",i.title="Url",t.exports=i},{Q:10}],9:[function(e,t,n){function r(){p&&c&&(p=!1,c.length?d=c.concat(d):f=-1,d.length&&i())}function i(){if(!p){var e=s(r);p=!0;for(var t=d.length;t;){for(c=d,d=[];++f<t;)c&&c[f].run();f=-1,t=d.length}c=null,p=!1,l(e)}}function o(e,t){this.fun=e,this.array=t}function a(){}var s,l,u=t.exports={};!function(){try{s=setTimeout}catch(e){s=function(){throw new Error("setTimeout is not defined")}}try{l=clearTimeout}catch(e){l=function(){throw new Error("clearTimeout is not defined")}}}();var c,d=[],p=!1,f=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new o(e,t)),1!==d.length||p||s(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],10:[function(e,t,n){(function(e){/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof n&&"object"==typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var r="undefined"!=typeof window?window:self,i=r.Q;r.Q=e(),r.Q.noConflict=function(){return r.Q=i,this}}}(function(){"use strict";function t(e){return function(){return Y.apply(e,arguments)}}function n(e){return e===Object(e)}function r(e){return"[object StopIteration]"===re(e)||e instanceof q}function i(e,t){if(U&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(ie)){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var i=n.join("\n"+ie+"\n");e.stack=o(i)}}function o(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];l(i)||a(i)||!i||n.push(i)}return n.join("\n")}function a(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function s(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function l(e){var t=s(e);if(!t)return!1;var n=t[0],r=t[1];return n===H&&r>=z&&ue>=r}function u(){if(U)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],r=s(n);if(!r)return;return H=r[0],r[1]}}function c(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}function d(e){return e instanceof m?e:y(e)?$(e):R(e)}function p(){function e(e){t=e,o.source=e,J(n,function(t,n){d.nextTick(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,r=void 0}var t,n=[],r=[],i=ee(p.prototype),o=ee(m.prototype);if(o.promiseDispatch=function(e,i,o){var a=X(arguments);n?(n.push(a),"when"===i&&o[1]&&r.push(o[1])):d.nextTick(function(){t.promiseDispatch.apply(t,a)})},o.valueOf=function(){if(n)return o;var e=v(t);return b(e)&&(t=e),e},o.inspect=function(){return t?t.inspect():{state:"pending"}},d.longStackSupport&&U)try{throw new Error}catch(a){o.stack=a.stack.substring(a.stack.indexOf("\n")+1)}return i.promise=o,i.resolve=function(n){t||e(d(n))},i.fulfill=function(n){t||e(R(n))},i.reject=function(n){t||e(I(n))},i.notify=function(e){t||J(r,function(t,n){d.nextTick(function(){n(e)})},void 0)},i}function f(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=p();try{e(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}return t.promise}function h(e){return f(function(t,n){for(var r=0,i=e.length;i>r;r++)d(e[r]).then(t,n)})}function m(e,t,n){void 0===t&&(t=function(e){return I(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=ee(m.prototype);if(r.promiseDispatch=function(n,i,o){var a;try{a=e[i]?e[i].apply(r,o):t.call(r,i,o)}catch(s){a=I(s)}n&&n(a)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function g(e,t,n,r){return d(e).then(t,n,r)}function v(e){if(b(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function b(e){return e instanceof m}function y(e){return n(e)&&"function"==typeof e.then}function C(e){return b(e)&&"pending"===e.inspect().state}function E(e){return!b(e)||"fulfilled"===e.inspect().state}function T(e){return b(e)&&"rejected"===e.inspect().state}function w(){oe.length=0,ae.length=0,le||(le=!0)}function D(t,n){le&&("object"==typeof e&&"function"==typeof e.emit&&d.nextTick.runAfter(function(){-1!==Z(ae,t)&&(e.emit("unhandledRejection",n,t),se.push(t))}),ae.push(t),oe.push(n&&"undefined"!=typeof n.stack?n.stack:"(no stack) "+n))}function O(t){if(le){var n=Z(ae,t);-1!==n&&("object"==typeof e&&"function"==typeof e.emit&&d.nextTick.runAfter(function(){var r=Z(se,t);-1!==r&&(e.emit("rejectionHandled",oe[n],t),se.splice(r,1))}),ae.splice(n,1),oe.splice(n,1))}}function I(e){var t=m({when:function(t){return t&&O(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return D(t,e),t}function R(e){return m({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},"delete":function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return ne(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function $(e){var t=p();return d.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}}),t.promise}function x(e){return m({isDef:function(){}},function(t,n){return K(e,t,n)},function(){return d(e).inspect()})}function k(e,t,n){return d(e).spread(t,n)}function _(e){return function(){function t(e,t){var a;if("undefined"==typeof StopIteration){try{a=n[e](t)}catch(s){return I(s)}return a.done?d(a.value):g(a.value,i,o)}try{a=n[e](t)}catch(s){return r(s)?d(s.value):I(s)}return g(a,i,o)}var n=e.apply(this,arguments),i=t.bind(t,"next"),o=t.bind(t,"throw");return i()}}function S(e){d.done(d.async(e)())}function A(e){throw new q(e)}function N(e){return function(){return k([this,P(arguments)],function(t,n){return e.apply(t,n)})}}function K(e,t,n){return d(e).dispatch(t,n)}function P(e){return g(e,function(e){var t=0,n=p();return J(e,function(r,i,o){var a;b(i)&&"fulfilled"===(a=i.inspect()).state?e[o]=a.value:(++t,g(i,function(r){e[o]=r,0===--t&&n.resolve(e)},n.reject,function(e){n.notify({index:o,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function M(e){if(0===e.length)return d.resolve();var t=d.defer(),n=0;return J(e,function(r,i,o){function a(e){t.resolve(e)}function s(){n--,0===n&&t.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function l(e){t.notify({index:o,value:e})}var u=e[o];n++,g(u,a,s,l)},void 0),t.promise}function L(e){return g(e,function(e){return e=Q(e,d),g(P(Q(e,function(e){return g(e,G,G)})),function(){return e})})}function F(e){return d(e).allSettled()}function B(e,t){return d(e).then(void 0,void 0,t)}function j(e,t){return d(e).nodeify(t)}var U=!1;try{throw new Error}catch(V){U=!!V.stack}var H,q,z=u(),G=function(){},W=function(){function t(){for(var e,t;r.next;)r=r.next,e=r.task,r.task=void 0,t=r.domain,t&&(r.domain=void 0,t.enter()),n(e,t);for(;l.length;)e=l.pop(),n(e);o=!1}function n(e,n){try{e()}catch(r){if(s)throw n&&n.exit(),setTimeout(t,0),n&&n.enter(),r;setTimeout(function(){throw r},0)}n&&n.exit()}var r={task:void 0,next:null},i=r,o=!1,a=void 0,s=!1,l=[];if(W=function(t){i=i.next={task:t,domain:s&&e.domain,next:null},o||(o=!0,a())},"object"==typeof e&&"[object process]"===e.toString()&&e.nextTick)s=!0,a=function(){e.nextTick(t)};else if("function"==typeof setImmediate)a="undefined"!=typeof window?setImmediate.bind(window,t):function(){setImmediate(t)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=function(){a=c,u.port1.onmessage=t,t()};var c=function(){u.port2.postMessage(0)};a=function(){setTimeout(t,0),c()}}else a=function(){setTimeout(t,0)};return W.runAfter=function(e){l.push(e),o||(o=!0,a())},W}(),Y=Function.call,X=t(Array.prototype.slice),J=t(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;r>n;n++)n in this&&(t=e(t,this[n],n));return t}),Z=t(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),Q=t(Array.prototype.map||function(e,t){var n=this,r=[];return J(n,function(i,o,a){r.push(e.call(t,o,a,n))},void 0),r}),ee=Object.create||function(e){function t(){}return t.prototype=e,new t},te=t(Object.prototype.hasOwnProperty),ne=Object.keys||function(e){var t=[];for(var n in e)te(e,n)&&t.push(n);return t},re=t(Object.prototype.toString);q="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var ie="From previous event:";d.resolve=d,d.nextTick=W,d.longStackSupport=!1,"object"==typeof e&&e&&e.env&&e.env.Q_DEBUG&&(d.longStackSupport=!0),d.defer=p,p.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):e.resolve(arguments.length>2?X(arguments,1):n)}},d.Promise=f,d.promise=f,f.race=h,f.all=P,f.reject=I,f.resolve=d,d.passByCopy=function(e){return e},m.prototype.passByCopy=function(){return this},d.join=function(e,t){return d(e).join(t)},m.prototype.join=function(e){return d([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},d.race=h,m.prototype.race=function(){return this.then(d.race)},d.makePromise=m,m.prototype.toString=function(){return"[object Promise]"},m.prototype.then=function(e,t,n){function r(t){try{return"function"==typeof e?e(t):t}catch(n){return I(n)}}function o(e){if("function"==typeof t){i(e,s);try{return t(e)}catch(n){return I(n)}}return I(e)}function a(e){return"function"==typeof n?n(e):e}var s=this,l=p(),u=!1;return d.nextTick(function(){s.promiseDispatch(function(e){u||(u=!0,l.resolve(r(e)))},"when",[function(e){u||(u=!0,l.resolve(o(e)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=a(e)}catch(r){if(n=!0,!d.onerror)throw r;d.onerror(r)}n||l.notify(t)}]),l.promise},d.tap=function(e,t){return d(e).tap(t)},m.prototype.tap=function(e){return e=d(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},d.when=g,m.prototype.thenResolve=function(e){return this.then(function(){return e})},d.thenResolve=function(e,t){return d(e).thenResolve(t)},m.prototype.thenReject=function(e){return this.then(function(){throw e})},d.thenReject=function(e,t){return d(e).thenReject(t)},d.nearer=v,d.isPromise=b,d.isPromiseAlike=y,d.isPending=C,m.prototype.isPending=function(){return"pending"===this.inspect().state},d.isFulfilled=E,m.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},d.isRejected=T,m.prototype.isRejected=function(){return"rejected"===this.inspect().state};var oe=[],ae=[],se=[],le=!0;d.resetUnhandledRejections=w,d.getUnhandledReasons=function(){return oe.slice()},d.stopUnhandledRejectionTracking=function(){w(),le=!1},w(),d.reject=I,d.fulfill=R,d.master=x,d.spread=k,m.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},d.async=_,d.spawn=S,d["return"]=A,d.promised=N,d.dispatch=K,m.prototype.dispatch=function(e,t){var n=this,r=p();return d.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},d.get=function(e,t){return d(e).dispatch("get",[t])},m.prototype.get=function(e){return this.dispatch("get",[e])},d.set=function(e,t,n){return d(e).dispatch("set",[t,n])},m.prototype.set=function(e,t){return this.dispatch("set",[e,t])},d.del=d["delete"]=function(e,t){return d(e).dispatch("delete",[t])},m.prototype.del=m.prototype["delete"]=function(e){return this.dispatch("delete",[e])},d.mapply=d.post=function(e,t,n){return d(e).dispatch("post",[t,n])},m.prototype.mapply=m.prototype.post=function(e,t){return this.dispatch("post",[e,t])},d.send=d.mcall=d.invoke=function(e,t){return d(e).dispatch("post",[t,X(arguments,2)])},m.prototype.send=m.prototype.mcall=m.prototype.invoke=function(e){return this.dispatch("post",[e,X(arguments,1)])},d.fapply=function(e,t){return d(e).dispatch("apply",[void 0,t])},m.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},d["try"]=d.fcall=function(e){return d(e).dispatch("apply",[void 0,X(arguments,1)])},m.prototype.fcall=function(){return this.dispatch("apply",[void 0,X(arguments)])},d.fbind=function(e){var t=d(e),n=X(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(X(arguments))])}},m.prototype.fbind=function(){var e=this,t=X(arguments);return function(){return e.dispatch("apply",[this,t.concat(X(arguments))])}},d.keys=function(e){return d(e).dispatch("keys",[])},m.prototype.keys=function(){return this.dispatch("keys",[])},d.all=P,m.prototype.all=function(){return P(this)},d.any=M,m.prototype.any=function(){return M(this)},d.allResolved=c(L,"allResolved","allSettled"),m.prototype.allResolved=function(){return L(this)},d.allSettled=F,m.prototype.allSettled=function(){return this.then(function(e){return P(Q(e,function(e){function t(){return e.inspect()}return e=d(e),e.then(t,t)}))})},d.fail=d["catch"]=function(e,t){return d(e).then(void 0,t)},m.prototype.fail=m.prototype["catch"]=function(e){return this.then(void 0,e)},d.progress=B,m.prototype.progress=function(e){return this.then(void 0,void 0,e)},d.fin=d["finally"]=function(e,t){return d(e)["finally"](t)},m.prototype.fin=m.prototype["finally"]=function(e){return e=d(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},d.done=function(e,t,n,r){return d(e).done(t,n,r)},m.prototype.done=function(t,n,r){var o=function(e){d.nextTick(function(){if(i(e,a),!d.onerror)throw e;d.onerror(e)})},a=t||n||r?this.then(t,n,r):this;"object"==typeof e&&e&&e.domain&&(o=e.domain.bind(o)),a.then(void 0,o)},d.timeout=function(e,t,n){return d(e).timeout(t,n)},m.prototype.timeout=function(e,t){var n=p(),r=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},d.delay=function(e,t){return void 0===t&&(t=e,e=void 0),d(e).delay(t)},m.prototype.delay=function(e){return this.then(function(t){var n=p();return setTimeout(function(){n.resolve(t)},e),n.promise})},d.nfapply=function(e,t){return d(e).nfapply(t)},m.prototype.nfapply=function(e){var t=p(),n=X(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},d.nfcall=function(e){var t=X(arguments,1);return d(e).nfapply(t)},m.prototype.nfcall=function(){var e=X(arguments),t=p();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},d.nfbind=d.denodeify=function(e){var t=X(arguments,1);return function(){var n=t.concat(X(arguments)),r=p();return n.push(r.makeNodeResolver()),d(e).fapply(n).fail(r.reject),r.promise}},m.prototype.nfbind=m.prototype.denodeify=function(){var e=X(arguments);return e.unshift(this),d.denodeify.apply(void 0,e)},d.nbind=function(e,t){var n=X(arguments,2);return function(){function r(){return e.apply(t,arguments)}var i=n.concat(X(arguments)),o=p();return i.push(o.makeNodeResolver()),d(r).fapply(i).fail(o.reject),o.promise}},m.prototype.nbind=function(){var e=X(arguments,0);return e.unshift(this),d.nbind.apply(void 0,e)},d.nmapply=d.npost=function(e,t,n){return d(e).npost(t,n)},m.prototype.nmapply=m.prototype.npost=function(e,t){var n=X(t||[]),r=p();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},d.nsend=d.nmcall=d.ninvoke=function(e,t){var n=X(arguments,2),r=p();return n.push(r.makeNodeResolver()),d(e).dispatch("post",[t,n]).fail(r.reject),r.promise},m.prototype.nsend=m.prototype.nmcall=m.prototype.ninvoke=function(e){var t=X(arguments,1),n=p();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},d.nodeify=j,m.prototype.nodeify=function(e){return e?void this.then(function(t){d.nextTick(function(){e(null,t)})},function(t){d.nextTick(function(){e(t)})}):this},d.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var ue=u();return d})}).call(this,e("_process"))},{_process:9}],11:[function(e,t,n){t.exports=function(e){if(!e||"object"!=typeof e)return e;var t;if(i(e)){var n=e.length;t=Array(n);for(var o=0;n>o;o++)t[o]=e[o]}else{var a=r(e);t={};for(var o=0,s=a.length;s>o;o++){var l=a[o];t[l]=e[l]}}return t};var r=Object.keys||function(e){var t=[];for(var n in e)({}).hasOwnProperty.call(e,n)&&t.push(n);return t},i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)}},{}],12:[function(e,t,n){!function(){"use strict";function e(e){if("string"!=typeof e&&(e=e.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function t(e){return"string"!=typeof e&&(e=e.toString()),e}function n(e){this.map={},e instanceof n?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function r(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function i(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function o(e){var t=new FileReader;return t.readAsArrayBuffer(e),i(t)}function a(e){var t=new FileReader;return t.readAsText(e),i(t)}function s(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(f.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(f.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else{if(e)throw new Error("unsupported BodyInit type");this._bodyText=""}},f.blob?(this.blob=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(o)},this.text=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return a(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=r(this);return e?e:Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(c)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(e){var t=e.toUpperCase();return h.indexOf(t)>-1?t:e}function u(e,t){if(t=t||{},this.url=e,this.credentials=t.credentials||"omit",this.headers=new n(t.headers),this.method=l(t.method||"GET"),this.mode=t.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&t.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(t.body)}function c(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function d(e){var t=new n,r=e.getAllResponseHeaders().trim().split("\n");return r.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)}),t}function p(e,t){t||(t={}),this._initBody(e),this.type="default",this.url=null,this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof n?t.headers:new n(t.headers),this.url=t.url||""}if(!self.fetch){n.prototype.append=function(n,r){n=e(n),r=t(r);var i=this.map[n];i||(i=[],this.map[n]=i),i.push(r)},n.prototype["delete"]=function(t){delete this.map[e(t)]},n.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},n.prototype.getAll=function(t){return this.map[e(t)]||[]},n.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},n.prototype.set=function(n,r){this.map[e(n)]=[t(r)]},n.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(n){this.map[n].forEach(function(r){e.call(t,r,n,this)},this)},this)};var f={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self},h=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];s.call(u.prototype),s.call(p.prototype),self.Headers=n,self.Request=u,self.Response=p,self.fetch=function(e,t){var n;return n=u.prototype.isPrototypeOf(e)&&!t?e:new u(e,t),new Promise(function(e,t){function r(){return"responseURL"in i?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):void 0}var i=new XMLHttpRequest;i.onload=function(){var n=1223===i.status?204:i.status;if(100>n||n>599)return void t(new TypeError("Network request failed"));var o={status:n,statusText:i.statusText,headers:d(i),url:r()},a="response"in i?i.response:i.responseText;e(new p(a,o))},i.onerror=function(){t(new TypeError("Network request failed"))},i.open(n.method,n.url,!0),"include"===n.credentials&&(i.withCredentials=!0),"responseType"in i&&f.blob&&(i.responseType="blob"),n.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send("undefined"==typeof n._bodyInit?null:n._bodyInit)})},self.fetch.polyfill=!0}}()},{}],13:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("address",{title:"Address",template:function(e){return e.component.multiple?"formio/components/address-multiple.html":"formio/components/address.html"},controller:["$scope","$http",function(e,t){e.address={},e.addresses=[],e.refreshAddress=function(n){var r={address:n,sensor:!1};if(n)return e.component.map&&e.component.map.region&&(r.region=e.component.map.region),e.component.map&&e.component.map.key&&(r.key=e.component.map.key),t.get("https://maps.googleapis.com/maps/api/geocode/json",{disableJWT:!0,params:r,headers:{Authorization:void 0,Pragma:void 0,"Cache-Control":void 0}}).then(function(t){e.addresses=t.data.results})}}],tableView:function(e){return e?e.formatted_address:""},group:"advanced",settings:{input:!0,tableView:!0,label:"",key:"addressField",placeholder:"",multiple:!1,"protected":!1,unique:!1,persistent:!0,map:{region:"",key:""},validate:{required:!1}}})}]),e.run(["$templateCache",function(e){e.put("formio/components/address.html",'<label ng-if="component.label && !component.hideLabel" for="{{ componentId }}" ng-class="{\'field-required\': component.validate.required}">{{ component.label | formioTranslate }}</label>\n<span ng-if="!component.label && component.validate.required" class="glyphicon glyphicon-asterisk form-control-feedback field-required-inline" aria-hidden="true"></span>\n<ui-select ng-model="data[component.key]" safe-multiple-to-single ng-disabled="readOnly" ng-required="component.validate.required" id="{{ componentId }}" name="{{ componentId }}" tabindex="{{ component.tabindex || 0 }}" theme="bootstrap">\n  <ui-select-match class="ui-select-match" placeholder="{{ component.placeholder | formioTranslate }}">{{$item.formatted_address || $select.selected.formatted_address}}</ui-select-match>\n  <ui-select-choices class="ui-select-choices" repeat="address in addresses" refresh="refreshAddress($select.search)" refresh-delay="500">\n    <div ng-bind-html="address.formatted_address | highlight: $select.search"></div>\n  </ui-select-choices>\n</ui-select>\n'),e.put("formio/components/address-multiple.html",e.get("formio/components/address.html").replace("<ui-select","<ui-select multiple"))}])}},{}],14:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("button",{title:"Button",template:"formio/components/button.html",settings:{input:!0,label:"Submit",tableView:!1,key:"submit",size:"md",leftIcon:"",rightIcon:"",block:!1,action:"submit",disableOnInvalid:!0,theme:"primary"},controller:["$scope",function(e){var t=e.component,n=function(){switch(t.action){case"submit":return;case"reset":e.resetForm();break;case"oauth":if(!t.oauth){e.showAlerts({type:"danger",message:"You must assign this button to an OAuth action before it will work."});break}if(t.oauth.error){e.showAlerts({type:"danger",message:t.oauth.error});break}e.openOAuth(t.oauth)}};e.$on("buttonClick",function(t,r,i){i===e.componentId&&n()}),e.openOAuth=function(t){var n={response_type:"code",client_id:t.clientId,redirect_uri:window.location.origin||window.location.protocol+"//"+window.location.host,state:t.state,scope:t.scope};t.display&&(n.display=t.display),n=Object.keys(n).map(function(e){return e+"="+encodeURIComponent(n[e])}).join("&");var r=t.authURI+"?"+n,i=window.open(r,t.provider,"width=1020,height=618"),o=setInterval(function(){try{var n=i.location.host,r=window.location.host;if(i&&!i.closed&&n===r&&i.location.search){i.close();var a=i.location.search.substr(1).split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=n[1],e},{});if(a.error)return void e.showAlerts({type:"danger",message:a.error_description||a.error});if(t.state!==a.state)return void e.showAlerts({type:"danger",message:"OAuth state does not match. Please try logging in again."});var s={data:{},oauth:{}};s.oauth[t.provider]=a,s.oauth[t.provider].redirectURI=window.location.origin||window.location.protocol+"//"+window.location.host,e.formioForm.submitting=!0,e.formio.saveSubmission(s).then(function(t){e.$emit("formSubmission",t)})["catch"](function(t){e.showAlerts({type:"danger",message:t.message||t})})["finally"](function(){e.formioForm.submitting=!1})}}catch(l){"SecurityError"!==l.name&&e.showAlerts({type:"danger",message:l.message||l})}(!i||i.closed||void 0===i.closed)&&clearInterval(o)},100)}}],viewTemplate:"formio/componentsView/button.html"})}]),e.run(["$templateCache",function(e){e.put("formio/components/button.html",'<button type="{{component.action == \'submit\' || component.action == \'reset\' ? component.action : \'button\'}}"\n  id="{{ componentId }}"\n  name="{{ componentId }}"\n  ng-class="{\'btn-block\': component.block}"\n  class="btn btn-{{ component.theme }} btn-{{ component.size }}"\n  ng-disabled="readOnly || formioForm.submitting || (component.disableOnInvalid && formioForm.$invalid)"\n  tabindex="{{ component.tabindex || 0 }}"\n  ng-click="$emit(\'buttonClick\', component, componentId)">\n  <span ng-if="component.leftIcon" class="{{ component.leftIcon }}" aria-hidden="true"></span>\n  <span ng-if="component.leftIcon && component.label">&nbsp;</span>{{ component.label | formioTranslate }}<span ng-if="component.rightIcon && component.label">&nbsp;</span>\n  <span ng-if="component.rightIcon" class="{{ component.rightIcon }}" aria-hidden="true"></span>\n   <i ng-if="component.action == \'submit\' && formioForm.submitting" class="glyphicon glyphicon-refresh glyphicon-spin"></i>\n</button>\n'),e.put("formio/componentsView/button.html","")}])}},{}],15:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("checkbox",{title:"Check Box",template:"formio/components/checkbox.html",tableView:function(e){return e?"Yes":"No"},controller:["$scope",function(e){var t=e.$watch("data."+e.component.key,function(){var n={"true":!0,"false":!1};!e.data||!e.data[e.component.key]||e.data[e.component.key]instanceof Boolean||(e.data[e.component.key]=n[e.data[e.component.key]]||!1,t())})}],settings:{input:!0,inputType:"checkbox",tableView:!0,hideLabel:!0,label:"",key:"checkboxField",defaultValue:!1,"protected":!1,persistent:!0,validate:{required:!1}}})}]),e.run(["$templateCache",function(e){e.put("formio/components/checkbox.html",'<div class="checkbox">\n  <label for="{{ componentId }}" ng-class="{\'field-required\': component.validate.required}">\n    <input type="{{ component.inputType }}"\n    id="{{ componentId }}"\n    tabindex="{{ component.tabindex || 0 }}"\n    ng-disabled="readOnly"\n    ng-model="data[component.key]"\n    ng-required="component.validate.required">\n    {{ component.label | formioTranslate }}\n  </label>\n</div>\n')}])}},{}],16:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("columns",{title:"Columns",template:"formio/components/columns.html",group:"layout",settings:{input:!1,columns:[{components:[]},{components:[]}]},viewTemplate:"formio/componentsView/columns.html"})}]),e.run(["$templateCache",function(e){e.put("formio/components/columns.html",'<div class="row">\n  <div class="col-sm-6" ng-repeat="column in component.columns track by $index">\n    <formio-component\n      ng-repeat="component in column.components track by $index"\n      component="component"\n      data="data"\n      formio="formio"\n      formio-form="formioForm"\n      read-only="readOnly"\n      grid-row="gridRow"\n      grid-col="gridCol"\n      ng-if="show[column.key || \'\'] && show[component.key || \'\']"\n      show="show"\n    ></formio-component>\n  </div>\n</div>\n'),e.put("formio/componentsView/columns.html",'<div class="row">\n  <div class="col-sm-6" ng-repeat="column in component.columns track by $index">\n    <formio-component-view ng-repeat="component in column.components track by $index" component="component" data="data" form="form" ignore="ignore"></formio-component-view>\n  </div>\n</div>\n')}])}},{}],17:[function(e,t,n){"use strict";t.exports=function(e){e.provider("formioComponents",function(){var e={},t={__component:{title:"Basic Components"},advanced:{title:"Special Components"},layout:{title:"Layout Components"}};return{addGroup:function(e,n){t[e]=n},register:function(t,n,r){e[t]?angular.extend(e[t],n):e[t]=n,e[t].group||(e[t].group=r||"__component"),e[t].settings.type=t},$get:function(){return{components:e,groups:t}}}}),e.directive("safeMultipleToSingle",[function(){return{require:"ngModel",restrict:"A",link:function(e,t,n,r){r.$formatters.push(function(t){return!e.component.multiple&&Array.isArray(t)?t[0]||"":t})}}}])}},{}],18:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("container",{title:"Container",template:"formio/components/container.html",viewTemplate:"formio/componentsView/container.html",group:"layout",icon:"fa fa-folder-open",settings:{input:!0,tree:!0,components:[],tableView:!0,label:"",key:"container","protected":!1,persistent:!0}})}]),e.controller("formioContainerComponent",["$scope",function(e){e.data[e.component.key]=e.data[e.component.key]||{},e.parentKey=e.component.key}]),e.run(["$templateCache","FormioUtils",function(e,t){e.put("formio/components/container.html",t.fieldWrap('<div ng-controller="formioContainerComponent" class="formio-container-component">\n  <formio-component\n    ng-repeat="_component in component.components track by $index"\n    component="_component"\n    data="data[parentKey]"\n    formio="formio"\n    formio-form="formioForm"\n    read-only="readOnly"\n    grid-row="gridRow"\n    grid-col="gridCol"\n    ng-if="show[component.key || \'\'] && show[_component.key || \'\']"\n    show="show"\n  ></formio-component>\n</div>\n'))}])}},{}],19:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("content",{title:"Content",template:"formio/components/content.html",settings:{input:!1,html:""},viewTemplate:"formio/components/content.html"})}]),e.run(["$templateCache",function(e){e.put("formio/components/content.html",'<div ng-bind-html="component.html | safehtml | formioTranslate:component.key" id="{{ component.key }}"></div>\n')}])}},{}],20:[function(e,t,n){"use strict";t.exports=function(e){e.directive("currencyInput",function(){var e=function(e,t,n,r){return e.slice(0,t)+r+e.slice(t+Math.abs(n))};return{restrict:"A",link:function(t,n){n.bind("keyup",function(){for(var n=t.data[t.component.key];"0"===n.charAt(0);)n=n.substr(1);n=n.replace(/[^\d.\',']/g,"");var r=n.indexOf(".");r>=0&&(n=n.slice(0,r+3));var i=n.split("."),o=i[0],a=i[1];if(o=o.replace(/[^\d]/g,""),o.length>3)for(var s=Math.floor(o.length/3);s>0;){var l=o.indexOf(",");0>l&&(l=o.length),l-3>0&&(o=e(o,l-3,0,",")),s--}a=void 0===a?"":"."+a;var u=o+a;t.$apply(function(){t.data[t.component.key]=u})})}}}),e.config(["formioComponentsProvider",function(e){e.register("currency",{title:"Currency",template:"formio/components/currency.html",group:"advanced",settings:{input:!0,tableView:!0,inputType:"text",inputMask:"",label:"",key:"currencyField",placeholder:"",prefix:"",suffix:"",defaultValue:"","protected":!1,persistent:!0,validate:{required:!1,multiple:"",custom:""},conditional:{
show:null,when:null,eq:""}}})}]),e.run(["$templateCache","FormioUtils",function(e,t){e.put("formio/components/currency.html",t.fieldWrap('<input type="{{ component.inputType }}"\nclass="form-control"\nid="{{ componentId }}"\nname="{{ componentId }}"\ntabindex="{{ component.tabindex || 0 }}"\nng-model="data[component.key]"\nng-required="component.validate.required"\nng-disabled="readOnly"\nsafe-multiple-to-single\nplaceholder="{{ component.placeholder }}"\ncustom-validator="component.validate.custom"\ncurrency-input\nui-mask-placeholder=""\nui-options="uiMaskOptions"\n>\n'))}])}},{}],21:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("custom",{title:"Custom",template:"formio/components/custom.html",group:"advanced",settings:{}})}]),e.run(["$templateCache",function(e){e.put("formio/components/custom.html",'<div class="panel panel-default">\n  <div class="panel-body text-muted text-center">\n    Custom Component ({{ component.type }})\n  </div>\n</div>\n')}])}},{}],22:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("datagrid",{title:"Data Grid",template:"formio/components/datagrid.html",group:"advanced",tableView:function(e,t,n,r){var i='<table class="table table-striped table-bordered"><thead><tr>';return angular.forEach(t.components,function(e){i+="<th>"+e.label+"</th>"}),i+="</tr></thead>",i+="<tbody>",angular.forEach(e,function(e){i+="<tr>",angular.forEach(t.components,function(t){var o=r.components.hasOwnProperty(t.type)?r.components[t.type]:{};o.tableView?i+="<td>"+o.tableView(e[t.key]||"",t,n,r)+"</td>":(i+="<td>",t.prefix&&(i+=t.prefix),i+=e[t.key]||"",t.suffix&&(i+=" "+t.suffix),i+="</td>")}),i+="</tr>"}),i+="</tbody></table>"},settings:{input:!0,tree:!0,components:[],tableView:!0,label:"",key:"datagrid","protected":!1,persistent:!0}})}]),e.controller("formioDataGrid",["$scope",function(e){e.data=e.data||{},e.data[e.component.key]=e.data[e.component.key]||[{}],e.rows=e.data[e.component.key],e.cols=e.component.components,e.addRow=function(){Array.isArray(e.rows)||(e.rows=[]),e.rows.push({})},e.removeRow=function(t){e.rows.splice(t,1)}}]),e.run(["$templateCache","FormioUtils",function(e,t){e.put("formio/components/datagrid.html",t.fieldWrap('<div class="formio-data-grid" ng-controller="formioDataGrid">\n  <table ng-class="{\'table-striped\': component.striped, \'table-bordered\': component.bordered, \'table-hover\': component.hover, \'table-condensed\': component.condensed}" class="table datagrid-table">\n    <tr>\n      <th ng-repeat="col in cols track by $index" ng-class="{\'field-required\': col.validate.required}">{{ col.label | formioTranslate }}</th>\n    </tr>\n    <tr ng-repeat="row in rows track by $index" ng-init="rowIndex = $index">\n      <td ng-repeat="col in cols track by $index" ng-init="col.hideLabel = true; colIndex = $index" class="formio-data-grid-row">\n        <formio-component\n          component="col"\n          data="rows[rowIndex]"\n          formio-form="formioForm"\n          formio="formio"\n          read-only="readOnly || col.disabled"\n          grid-row="rowIndex"\n          grid-col="colIndex"\n          ng-if="show[component.key || \'\'] && show[col.key || \'\']"\n          show="show"\n        ></formio-component>\n      </td>\n      <td>\n        <a ng-click="removeRow(rowIndex)" class="btn btn-default">\n          <span class="glyphicon glyphicon-remove-circle"></span>\n        </a>\n      </td>\n    </tr>\n  </table>\n  <div class="datagrid-add">\n    <a ng-click="addRow()" class="btn btn-primary">\n      <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> {{ component.addAnother || "Add Another" | formioTranslate}}\n    </a>\n  </div>\n</div>\n'))}])}},{}],23:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("datetime",{title:"Date / Time",template:"formio/components/datetime.html",tableView:function(e,t,n){return n('<span>{{ "'+e+'" | date: "'+t.format+'" }}</span>')()},group:"advanced",controller:["$scope","$timeout",function(e,t){var n=e.$watch("data."+e.component.key,function(){!e.data||!e.data[e.component.key]||e.data[e.component.key]instanceof Date||(e.data[e.component.key]=new Date(e.data[e.component.key]),n())});e.component.maxDate||delete e.component.maxDate,e.component.minDate||delete e.component.minDate,e.autoOpen=!0,e.onClosed=function(){e.autoOpen=!1,t(function(){e.autoOpen=!0},250)}}],settings:{input:!0,tableView:!0,label:"",key:"datetimeField",placeholder:"",format:"yyyy-MM-dd HH:mm",enableDate:!0,enableTime:!0,minDate:null,maxDate:null,datepickerMode:"day",datePicker:{showWeeks:!0,startingDay:0,initDate:"",minMode:"day",maxMode:"year",yearRange:"20"},timePicker:{hourStep:1,minuteStep:1,showMeridian:!0,readonlyInput:!1,mousewheel:!0,arrowkeys:!0},"protected":!1,persistent:!0,validate:{required:!1,custom:""}}})}]),e.run(["$templateCache","FormioUtils",function(e,t){e.put("formio/components/datetime.html",t.fieldWrap('<div class="input-group">\n  <input type="text" class="form-control"\n  name="{{ componentId }}"\n  id="{{ componentId }}"\n  ng-focus="calendarOpen = autoOpen"\n  ng-click="calendarOpen = true"\n  ng-init="calendarOpen = false"\n  ng-disabled="readOnly"\n  ng-required="component.validate.required"\n  is-open="calendarOpen"\n  datetime-picker="{{ component.format }}"\n  min-date="component.minDate"\n  max-date="component.maxDate"\n  datepicker-mode="component.datepickerMode"\n  when-closed="onClosed()"\n  enable-date="component.enableDate"\n  enable-time="component.enableTime"\n  ng-model="data[component.key]"\n  tabindex="{{ component.tabindex || 0 }}"\n  placeholder="{{ component.placeholder | formioTranslate }}"\n  datepicker-options="component.datePicker"\n  timepicker-options="component.timePicker" />\n  <span class="input-group-btn">\n    <button type="button" ng-disabled="readOnly" class="btn btn-default" ng-click="calendarOpen = true">\n      <i ng-if="component.enableDate" class="glyphicon glyphicon-calendar"></i>\n      <i ng-if="!component.enableDate" class="glyphicon glyphicon-time"></i>\n    </button>\n  </span>\n</div>\n'))}])}},{}],24:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("email",{title:"Email",template:"formio/components/textfield.html",group:"advanced",settings:{input:!0,tableView:!0,inputType:"email",label:"",key:"emailField",placeholder:"",prefix:"",suffix:"",defaultValue:"","protected":!1,unique:!1,persistent:!0}})}])}},{}],25:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("fieldset",{title:"Field Set",template:"formio/components/fieldset.html",group:"layout",settings:{input:!1,tableView:!0,legend:"",components:[]},viewTemplate:"formio/componentsView/fieldset.html"})}]),e.run(["$templateCache",function(e){e.put("formio/components/fieldset.html",'<fieldset id="{{ component.key }}">\n  <legend ng-if="component.legend">{{ component.legend | formioTranslate }}</legend>\n  <formio-component\n    ng-repeat="_component in component.components track by $index"\n    component="_component"\n    data="data"\n    formio="formio"\n    read-only="readOnly"\n    formio-form="formioForm"\n    grid-row="gridRow"\n    grid-col="gridCol"\n    ng-if="show[component.key || \'\'] && show[_component.key || \'\']"\n    show="show"\n  ></formio-component>\n</fieldset>\n'),e.put("formio/componentsView/fieldset.html",'<fieldset id="{{ component.key }}">\n  <legend ng-if="component.legend">{{ component.legend }}</legend>\n  <formio-component-view ng-repeat="component in component.components track by $index" component="component" data="data" form="form" ignore="ignore"></formio-component-view>\n</fieldset>\n')}])}},{}],26:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("file",{title:"File",template:"formio/components/file.html",group:"advanced",settings:{input:!0,tableView:!0,label:"",key:"file",placeholder:"",multiple:!1,defaultValue:"","protected":!1},viewTemplate:"formio/componentsView/file.html"})}]),e.directive("formioFileList",[function(){return{restrict:"E",replace:!0,scope:{files:"=",form:"=",readOnly:"="},templateUrl:"formio/components/formio-file-list.html",controller:["$scope",function(e){e.removeFile=function(t,n){t.preventDefault(),e.files.splice(n,1)},e.fileSize=function(e,t,n,r,i){return(t=Math,n=t.log,r=1024,i=n(e)/n(r)|0,e/t.pow(r,i)).toFixed(2)+" "+(i?"kMGTPEZY"[--i]+"B":"Bytes")}}]}}]),e.directive("formioFile",[function(){return{restrict:"E",replace:!0,scope:{file:"=",form:"="},template:'<a href="{{ file.url }}" ng-click="getFile($event)" target="_blank">{{ file.name }}</a>',controller:["$window","$rootScope","$scope","Formio",function(e,t,n,r){n.getFile=function(i){i.preventDefault(),n.form=n.form||t.filePath;var o=new r(n.form);o.downloadFile(n.file).then(function(t){t&&e.open(t.url,"_blank")})["catch"](function(e){alert(e)})}}]}}]),e.directive("formioImage",[function(){return{restrict:"E",replace:!0,scope:{file:"=",form:"="},template:'<img ng-src="{{ imageSrc }}" alt="{{ file.name }}" />',controller:["$rootScope","$scope","Formio",function(e,t,n){t.form=t.form||e.filePath;var r=new n(t.form);r.downloadFile(t.file).then(function(e){t.imageSrc=e.url,t.$apply()})}]}}]),e.controller("formioFileUpload",["$scope","FormioUtils",function(e,t){e.fileUploads={},e.removeUpload=function(t){delete e.fileUploads[t]},e.data&&""===e.data[e.component.key]&&(e.data[e.component.key]=[]),e.data&&e.data[e.component.key]&&""===e.data[e.component.key][0]&&e.data[e.component.key].splice(0,1),e.upload=function(n){e.component.storage&&n&&n.length&&angular.forEach(n,function(n){var r=t.uniqueName(n.name);e.fileUploads[r]={name:r,size:n.size,status:"info",message:"Starting upload"};var i=e.component.dir||"";e.formio.uploadFile(e.component.storage,n,r,i,function(t){e.fileUploads[r].status="progress",e.fileUploads[r].progress=parseInt(100*t.loaded/t.total),delete e.fileUploads[r].message,e.$apply()}).then(function(t){delete e.fileUploads[r],e.data[e.component.key]&&e.data[e.component.key]instanceof Array||(e.data[e.component.key]=[]),e.data[e.component.key].push(t),e.$apply()})["catch"](function(t){var n=new DOMParser,i=n.parseFromString(t.data,"text/xml"),o=i.getElementsByTagName("Message")[0].innerHTML;e.fileUploads[r].status="error",e.fileUploads[r].message=o,delete e.fileUploads[r].progress,e.$apply()})})}}]),e.run(["$templateCache",function(e){e.put("formio/components/formio-file-list.html",'<table class="table table-striped table-bordered">\n  <thead>\n    <tr>\n      <td ng-if="!readOnly" style="width:1%;white-space:nowrap;"></td>\n      <th>File Name</th>\n      <th>Size</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="file in files track by $index">\n      <td ng-if="!readOnly" style="width:1%;white-space:nowrap;"><a ng-if="!readOnly" href="#" ng-click="removeFile($event, $index)" style="padding: 2px 4px;" class="btn btn-sm btn-default"><span class="glyphicon glyphicon-remove"></span></a></td>\n      <td><formio-file file="file" form="form"></formio-file></td>\n      <td>{{ fileSize(file.size) }}</td>\n    </tr>\n  </tbody>\n</table>\n'),e.put("formio/components/file.html",'<label ng-if="component.label && !component.hideLabel" for="{{ componentId }}" class="control-label" ng-class="{\'field-required\': component.validate.required}">{{ component.label | formioTranslate }}</label>\n<span ng-if="!component.label && component.validate.required" class="glyphicon glyphicon-asterisk form-control-feedback field-required-inline" aria-hidden="true"></span>\n<div ng-controller="formioFileUpload">\n  <formio-file-list files="data[component.key]" form="formio.formUrl"></formio-file-list>\n  <div ng-if="!readOnly && (component.multiple || (!component.multiple && !data[component.key].length))">\n    <div ngf-drop="upload($files)" class="fileSelector" ngf-drag-over-class="\'fileDragOver\'" ngf-multiple="component.multiple" id="{{ componentId }}" name="{{ componentId }}"><span class="glyphicon glyphicon-cloud-upload"></span>Drop files to attach, or <a href="#" ngf-select="upload($files)" tabindex="{{ component.tabindex || 0 }}" ngf-multiple="component.multiple">browse</a>.</div>\n    <div ng-if="!component.storage" class="alert alert-warning">No storage has been set for this field. File uploads are disabled until storage is set up.</div>\n    <div ngf-no-file-drop>File Drag/Drop is not supported for this browser</div>\n  </div>\n  <div ng-repeat="fileUpload in fileUploads track by $index" ng-class="{\'has-error\': fileUpload.status === \'error\'}" class="file">\n    <div class="row">\n      <div class="fileName control-label col-sm-10">{{ fileUpload.name }} <span ng-click="removeUpload(fileUpload.name)" class="glyphicon glyphicon-remove"></span></div>\n      <div class="fileSize control-label col-sm-2 text-right">{{ fileSize(fileUpload.size) }}</div>\n    </div>\n    <div class="row">\n      <div class="col-sm-12">\n        <span ng-if="fileUpload.status === \'progress\'">\n          <div class="progress">\n            <div class="progress-bar" role="progressbar" aria-valuenow="{{fileUpload.progress}}" aria-valuemin="0" aria-valuemax="100" style="width:{{fileUpload.progress}}%">\n              <span class="sr-only">{{fileUpload.progress}}% Complete</span>\n            </div>\n          </div>\n        </span>\n        <div ng-if="!fileUpload.status !== \'progress\'" class="bg-{{ fileUpload.status }} control-label">{{ fileUpload.message }}</div>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("formio/componentsView/file.html",'<label ng-if="component.label && !component.hideLabel" for="{{ component.key }}" class="control-label" ng-class="{\'field-required\': component.validate.required}">{{ component.label | formioTranslate }}</label>\n<div ng-controller="formioFileUpload">\n  <formio-file-list files="data[component.key]" form="formUrl" read-only="true"></formio-file-list>\n</div>\n')}])}},{}],27:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("hidden",{title:"Hidden",template:"formio/components/hidden.html",group:"advanced",settings:{input:!0,tableView:!0,key:"hiddenField",label:"","protected":!1,unique:!1,persistent:!0}})}]),e.run(["$templateCache",function(e){e.put("formio/components/hidden.html",'<input type="hidden" id="{{ componentId }}" name="{{ componentId }}" ng-model="data[component.key]">\n')}])}},{}],28:[function(e,t,n){"use strict";t.exports=function(e){e.directive("formioHtmlElement",["$sanitize","$filter",function(e,t){return{restrict:"E",scope:{component:"="},templateUrl:"formio/components/htmlelement-directive.html",link:function(n){var r=function(){var r=angular.element("<"+n.component.tag+"></"+n.component.tag+">");r.html(t("formioTranslate")(n.component.content)),r.attr("class",n.component.className),angular.forEach(n.component.attrs,function(e){e.attr&&r.attr(e.attr,e.value)});try{n.html=e(r.prop("outerHTML")),n.parseError=null}catch(i){n.parseError=i.message.split("\n")[0].replace("[$sanitize:badparse]","")}};r(),n.$watch("component",r,!0)}}}]),e.config(["formioComponentsProvider",function(e){e.register("htmlelement",{title:"HTML Element",template:"formio/components/htmlelement.html",settings:{input:!1,tag:"p",attrs:[],className:"",content:""}})}]),e.run(["$templateCache",function(e){e.put("formio/components/htmlelement.html",'<formio-html-element component="component"></div>'),e.put("formio/components/htmlelement-directive.html",'<div id="{{ component.key }}">\n  <div class="alert alert-warning" ng-if="parseError">{{ parseError }}</div>\n  <div ng-bind-html="html"></div>\n</div>\n')}])}},{}],29:[function(e,t,n){"use strict";var r=angular.module("formio");e("./components")(r),e("./textfield")(r),e("./number")(r),e("./password")(r),e("./textarea")(r),e("./checkbox")(r),e("./selectboxes")(r),e("./select")(r),e("./radio")(r),e("./htmlelement")(r),e("./content")(r),e("./button")(r),e("./email")(r),e("./phonenumber")(r),e("./address")(r),e("./datetime")(r),e("./currency")(r),e("./hidden")(r),e("./resource")(r),e("./file")(r),e("./signature")(r),e("./custom")(r),e("./datagrid")(r),e("./survey")(r),e("./columns")(r),e("./fieldset")(r),e("./container")(r),e("./page")(r),e("./panel")(r),e("./table")(r),e("./well")(r)},{"./address":13,"./button":14,"./checkbox":15,"./columns":16,"./components":17,"./container":18,"./content":19,"./currency":20,"./custom":21,"./datagrid":22,"./datetime":23,"./email":24,"./fieldset":25,"./file":26,"./hidden":27,"./htmlelement":28,"./number":30,"./page":31,"./panel":32,"./password":33,"./phonenumber":34,"./radio":35,"./resource":36,"./select":37,"./selectboxes":38,"./signature":39,"./survey":40,"./table":41,"./textarea":42,"./textfield":43,"./well":44}],30:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){var t=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};e.register("number",{title:"Number",template:"formio/components/number.html",settings:{input:!0,tableView:!0,inputType:"number",label:"",key:"numberField",placeholder:"",prefix:"",suffix:"",defaultValue:0,"protected":!1,persistent:!0,validate:{required:!1,min:"",max:"",step:"any",integer:"",multiple:"",custom:""}},controller:["$scope",function(e){e.data.hasOwnProperty(e.component.key)&&t(e.data[e.component.key])&&(e.data[e.component.key]=parseFloat(e.data[e.component.key]))}]})}]),e.run(["$templateCache","FormioUtils",function(e,t){e.put("formio/components/number.html",t.fieldWrap('<input type="{{ component.inputType }}"\nclass="form-control"\nid="{{ componentId }}"\nname="{{ componentId }}"\ntabindex="{{ component.tabindex || 0 }}"\nng-model="data[component.key]"\nng-required="component.validate.required"\nng-disabled="readOnly"\nsafe-multiple-to-single\nmin="{{ component.validate.min }}"\nmax="{{ component.validate.max }}"\nstep="{{ component.validate.step }}"\nplaceholder="{{ component.placeholder | formioTranslate }}"\ncustom-validator="component.validate.custom"\nui-mask="{{ component.inputMask }}"\nui-mask-placeholder=""\nui-options="uiMaskOptions"\n>\n'))}])}},{}],31:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("page",{template:"formio/components/page.html",settings:{input:!1,components:[]}})}]),e.run(["$templateCache",function(e){e.put("formio/components/page.html",'<formio-component ng-repeat="component in component.components track by $index" component="component" data="data" formio="formio" formio-form="formioForm" grid-row="gridRow" grid-col="gridCol"></formio-component>\n')}])}},{}],32:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("panel",{title:"Panel",template:"formio/components/panel.html",group:"layout",settings:{input:!1,title:"",theme:"default",components:[]},viewTemplate:"formio/componentsView/panel.html"})}]),e.run(["$templateCache",function(e){e.put("formio/components/panel.html",'<div class="panel panel-{{ component.theme }}" id="{{ component.key }}">\n  <div ng-if="component.title" class="panel-heading">\n    <h3 class="panel-title">{{ component.title | formioTranslate }}</h3>\n  </div>\n  <div class="panel-body">\n    <formio-component\n      ng-repeat="_component in component.components track by $index"\n      component="_component"\n      data="data"\n      formio="formio"\n      read-only="readOnly"\n      formio-form="formioForm"\n      grid-row="gridRow"\n      grid-col="gridCol"\n      ng-if="show[component.key || \'\'] && show[_component.key || \'\']"\n      show="show"\n    ></formio-component>\n  </div>\n</div>\n'),e.put("formio/componentsView/panel.html",'<div class="panel panel-{{ component.theme }}" id="{{ component.key }}">\n  <div ng-if="component.title" class="panel-heading">\n    <h3 class="panel-title">{{ component.title }}</h3>\n  </div>\n  <div class="panel-body">\n    <formio-component-view ng-repeat="component in component.components track by $index" component="component" data="data" form="form" ignore="ignore"></formio-component-view>\n  </div>\n</div>\n')}])}},{}],33:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("password",{title:"Password",template:"formio/components/textfield.html",tableView:function(){return"--- PROTECTED ---"},settings:{input:!0,tableView:!1,inputType:"password",label:"",key:"passwordField",placeholder:"",prefix:"",suffix:"","protected":!0,persistent:!0}})}])}},{}],34:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("phoneNumber",{title:"Phone Number",template:"formio/components/textfield.html",group:"advanced",settings:{input:!0,tableView:!0,inputMask:"(999) 999-9999",label:"",key:"phonenumberField",placeholder:"",prefix:"",suffix:"",multiple:!1,"protected":!1,unique:!1,persistent:!0,defaultValue:"",validate:{required:!1}}})}])}},{}],35:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("radio",{title:"Radio",template:"formio/components/radio.html",tableView:function(e,t){for(var n in t.values)if(t.values[n].value===e)return t.values[n].label;return e},settings:{input:!0,tableView:!0,inputType:"radio",label:"",key:"radioField",values:[],defaultValue:"","protected":!1,persistent:!0,validate:{required:!1,custom:"",customPrivate:!1}}})}]),e.run(["$templateCache","FormioUtils",function(e,t){e.put("formio/components/radio.html",t.fieldWrap('<ng-form name="{{ componentId }}" ng-model="data[component.key]" custom-validator="component.validate.custom">\n  <div ng-class="component.inline ? \'radio-inline\' : \'radio\'" ng-repeat="v in component.values track by $index">\n    <label class="control-label" for="{{ componentId }}-{{ v.value }}">\n      <input type="{{ component.inputType }}"\n             id="{{ componentId }}-{{ v.value }}"\n             value="{{ v.value }}"\n             tabindex="{{ component.tabindex || 0 }}"\n             ng-model="data[component.key]"\n             ng-required="component.validate.required"\n             ng-disabled="readOnly">\n\n      {{ v.label | formioTranslate }}\n    </label>\n  </div>\n</ng-form>\n'))}])}},{}],36:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("resource",{title:"Resource",tableView:function(e,t,n){return n?n(t.template)({item:e}):e?e._id:""},template:function(e){return e.component.multiple?"formio/components/resource-multiple.html":"formio/components/resource.html"},controller:["$scope","Formio",function(e,t){var n=e.component,r=n.params||{};if(e.selectItems=[],e.hasNextPage=!1,e.resourceLoading=!1,r.limit=100,r.skip=0,n.multiple&&(n.defaultValue=[]),n.resource){var i="";n.project?i+="/project/"+n.project:e.formio&&e.formio.projectUrl&&(i+=e.formio.projectUrl),i+="/form/"+n.resource;var o=new t(i);e.refreshSubmissions=function(t,i){e.resourceLoading||(e.resourceLoading=!0,n.selectFields&&(r.select=n.selectFields),n.searchFields&&t&&angular.forEach(n.searchFields,function(e){r[e]=t}),o.loadSubmissions({params:r}).then(function(t){t=t||[],e.selectItems=i?e.selectItems.concat(t):t,e.hasNextPage=t.length>=r.limit&&e.selectItems.length<t.serverCount})["finally"](function(){e.resourceLoading=!1}))},e.loadMoreItems=function(t,n){n.stopPropagation(),n.preventDefault(),r.skip+=r.limit,e.refreshSubmissions(null,!0)},e.refreshSubmissions()}}],group:"advanced",settings:{input:!0,tableView:!0,label:"",key:"resourceField",placeholder:"",resource:"",project:"",defaultValue:"",template:"<span>{{ item.data }}</span>",selectFields:"",searchFields:"",multiple:!1,"protected":!1,persistent:!0,validate:{required:!1},defaultPermission:""}})}]),e.run(["$templateCache",function(e){e.put("formio/components/resource.html",'<label ng-if="component.label && !component.hideLabel" for="{{ componentId }}" class="control-label" ng-class="{\'field-required\': component.validate.required}">{{ component.label | formioTranslate}}</label>\n<span ng-if="!component.label && component.validate.required" class="glyphicon glyphicon-asterisk form-control-feedback field-required-inline" aria-hidden="true"></span>\n<ui-select ui-select-required safe-multiple-to-single ui-select-open-on-focus ng-model="data[component.key]" ng-disabled="readOnly" ng-required="component.validate.required" id="{{ componentId }}" name="{{ componentId }}" theme="bootstrap" tabindex="{{ component.tabindex || 0 }}">\n  <ui-select-match class="ui-select-match" placeholder="{{ component.placeholder | formioTranslate }}">\n    <formio-select-item template="component.template" item="$item || $select.selected" select="$select"></formio-select-item>\n  </ui-select-match>\n  <ui-select-choices class="ui-select-choices" repeat="item in selectItems | filter: $select.search" refresh="refreshSubmissions($select.search)" refresh-delay="250">\n    <formio-select-item template="component.template" item="item" select="$select"></formio-select-item>\n    <button ng-if="hasNextPage && ($index == $select.items.length-1)" class="btn btn-success btn-block" ng-click="loadMoreItems($select, $event)" ng-disabled="resourceLoading">Load more...</button>\n  </ui-select-choices>\n</ui-select>\n<formio-errors></formio-errors>\n'),e.put("formio/components/resource-multiple.html",e.get("formio/components/resource.html").replace("<ui-select","<ui-select multiple"))}])}},{}],37:[function(e,t,n){"use strict";t.exports=function(e){e.directive("formioSelectItem",["$compile",function(e){return{restrict:"E",scope:{template:"=",item:"=",select:"="},link:function(t,n){t.template&&n.html(e(angular.element(t.template))(t))}}}]),e.directive("uiSelectRequired",function(){return{require:"ngModel",link:function(e,t,n,r){var i=r.$isEmpty;r.$isEmpty=function(e){return Array.isArray(e)&&0===e.length||i(e)}}}}),e.directive("uiSelectOpenOnFocus",["$timeout",function(e){return{require:"uiSelect",restrict:"A",link:function(t,n,r,i){var o=!0;angular.element(i.focusser).on("focus",function(){o&&i.activate()}),t.$on("uis:activate",function(){o=!1}),t.$on("uis:close",function(){o=!1,e(function(){o=!0},250)})}}}]),e.config(["formioComponentsProvider",function(e){e.register("select",{title:"Select",template:function(e){return e.component.multiple?"formio/components/select-multiple.html":"formio/components/select.html"},tableView:function(e,t,n){var r=function(e){switch(t.dataSrc){case"values":return t.data.values.forEach(function(t){t.value===e&&(e=t)}),e;case"json":if(t.valueProperty){var n;try{n=angular.fromJson(t.data.json)}catch(r){n=[]}n.forEach(function(n){n[t.valueProperty]===e&&(e=n)})}return e;case"url":case"resource":default:return e}};if(t.multiple&&Array.isArray(e))return e.map(r).reduce(function(e,r){var i;return i="object"==typeof r?n(t.template)({item:r}):r,(""===e?"":", ")+i});var i,o=r(e);return i="object"==typeof o?n(t.template)({item:o}):o},controller:["$scope","$http","Formio","$interpolate",function(e,t,n,r){var i=e.component,o={cache:!0};e.nowrap=!0,e.hasNextPage=!1,e.selectItems=[];var a=e.component.valueProperty;switch(e.getSelectItem=function(e){if(!e)return"";if("values"===i.dataSrc)return e.value;if(-1!==a.indexOf(".")){var t=a.split("."),n=e;for(var r in t)n=n[t[r]];return n}return a?e[a]:e},i.multiple&&(i.defaultValue=[]),e.refreshItems=angular.noop,e.$on("refreshList",function(t,n,r){e.refreshItems(r,n)}),i.refreshOn&&e.$watch("data."+i.refreshOn,function(){e.refreshItems()}),i.dataSrc){case"values":e.selectItems=i.data.values;break;case"json":try{e.selectItems=angular.fromJson(i.data.json)}catch(s){e.selectItems=[]}break;case"url":case"resource":var l="";"url"===i.dataSrc?(l=i.data.url,"/"===l.substr(0,1)&&(l=n.getBaseUrl()+i.data.url),i.authenticate||-1!==l.indexOf(n.getBaseUrl())||(o={disableJWT:!0,headers:{Authorization:void 0,Pragma:void 0,"Cache-Control":void 0}})):(l=n.getBaseUrl(),i.data.project&&(l+="/project/"+i.data.project),l+="/form/"+i.data.resource+"/submission"),o.params={limit:100,skip:0},e.loadMoreItems=function(t,n){n.stopPropagation(),n.preventDefault(),o.params.skip+=o.params.limit,e.refreshItems(null,null,!0)},l&&(e.selectLoading=!1,e.hasNextPage=!0,e.refreshItems=function(n,a,s){if(a=a||l,a&&!e.selectLoading){if(i.searchField&&n&&(a+=(-1===a.indexOf("?")?"?":"&")+encodeURIComponent(i.searchField)+"="+encodeURIComponent(n)),i.filter){var u=r(i.filter)({data:e.data});a+=(-1===a.indexOf("?")?"?":"&")+u}var c=function(t){t.length<o.params.limit&&(e.hasNextPage=!1),e.selectItems=s?e.selectItems.concat(t):t};e.selectLoading=!0,t.get(a,o).then(function(e){var t=e.data;t&&c(t.hasOwnProperty("data")?t.data:t.hasOwnProperty("items")?t.items:t)})["finally"](function(){e.selectLoading=!1})}},e.refreshItems());break;default:e.selectItems=[]}}],settings:{input:!0,tableView:!0,label:"",key:"selectField",placeholder:"",data:{values:[],json:"",url:"",resource:""},dataSrc:"values",valueProperty:"",defaultValue:"",refreshOn:"",filter:"",authenticate:!1,template:"<span>{{ item.label }}</span>",multiple:!1,"protected":!1,unique:!1,persistent:!0,validate:{required:!1}}})}]),e.run(["$templateCache",function(e){e.put("formio/components/select.html",'<label ng-if="component.label && !component.hideLabel"  for="{{ componentId }}" class="control-label" ng-class="{\'field-required\': component.validate.required}">{{ component.label | formioTranslate }}</label>\n<span ng-if="!component.label && component.validate.required" class="glyphicon glyphicon-asterisk form-control-feedback field-required-inline" aria-hidden="true"></span>\n<ui-select\n  ui-select-required\n  ui-select-open-on-focus\n  ng-model="data[component.key]"\n  safe-multiple-to-single\n  name="{{ componentId }}"\n  ng-disabled="readOnly"\n  ng-required="component.validate.required"\n  id="{{ componentId }}"\n  theme="bootstrap"\n  tabindex="{{ component.tabindex || 0 }}"\n>\n  <ui-select-match class="ui-select-match" placeholder="{{ component.placeholder | formioTranslate }}">\n    <formio-select-item template="component.template" item="$item || $select.selected" select="$select"></formio-select-item>\n  </ui-select-match>\n  <ui-select-choices class="ui-select-choices" repeat="getSelectItem(item) as item in selectItems | filter: $select.search" refresh="refreshItems($select.search)" refresh-delay="250">\n    <formio-select-item template="component.template" item="item" select="$select"></formio-select-item>\n    <button ng-if="hasNextPage && ($index == $select.items.length-1)" class="btn btn-success btn-block" ng-click="loadMoreItems($select, $event)" ng-disabled="selectLoading">Load more...</button>\n  </ui-select-choices>\n</ui-select>\n<formio-errors></formio-errors>\n'),e.put("formio/components/select-multiple.html",e.get("formio/components/select.html").replace("<ui-select","<ui-select multiple"))}])}},{}],38:[function(e,t,n){"use strict";t.exports=function(e){e.directive("formioSelectBoxes",[function(){return{restrict:"E",replace:!0,require:"ngModel",scope:{component:"=",componentId:"=",readOnly:"=",model:"=ngModel",gridRow:"=",gridCol:"="},templateUrl:"formio/components/selectboxes-directive.html",link:function(e,t,n,r){var i={};angular.forEach(e.component.values,function(e){i[e.value]=r.$viewValue.hasOwnProperty(e.value)?!!r.$viewValue[e.value]:!1}),r.$setViewValue(e.model||i),r.$setPristine(!0),r.$isEmpty=function(e){return"undefined"==typeof e?!0:Object.keys(e).every(function(t){return!e[t]})},e.toggleCheckbox=function(e){var t=angular.copy(r.$viewValue||{});t[e]=!t[e],r.$setViewValue(t)}}}}]),e.config(["formioComponentsProvider",function(e){e.register("selectboxes",{title:"Select Boxes",template:"formio/components/selectboxes.html",tableView:function(e,t){return e?Object.keys(e).filter(function(t){return e[t]}).map(function(e){return t.values.forEach(function(t){
t.value===e&&(e=t.label)}),e}).join(", "):""},settings:{input:!0,tableView:!0,label:"",key:"selectboxesField",values:[],inline:!1,"protected":!1,persistent:!0,validate:{required:!1}}})}]),e.run(["$templateCache",function(e){e.put("formio/components/selectboxes-directive.html",'<div class="select-boxes">\n  <div ng-class="component.inline ? \'checkbox-inline\' : \'checkbox\'" ng-repeat="v in component.values track by $index">\n    <label class="control-label" for="{{ componentId }}-{{ v.value }}">\n      <input type="checkbox"\n        id="{{ componentId }}-{{ v.value }}"\n        name="{{ componentId }}-{{ v.value }}"\n        value="{{ v.value }}"\n        tabindex="{{ component.tabindex || 0 }}"\n        ng-disabled="readOnly"\n        ng-click="toggleCheckbox(v.value)"\n        ng-checked="model[v.value]"\n        grid-row="gridRow"\n        grid-col="gridCol"\n      >\n      {{ v.label | formioTranslate }}\n    </label>\n  </div>\n</div>\n'),e.put("formio/components/selectboxes.html",'<div class="select-boxes">\n  <label ng-if="component.label && !component.hideLabel" for="{{ componentId }}" class="control-label" ng-class="{\'field-required\': component.validate.required}">\n    {{ component.label }}\n  </label>\n  <formio-select-boxes\n    ng-model="data[component.key]"\n    ng-model-options="{allowInvalid: true}"\n    component="component"\n    component-id="componentId"\n    read-only="readOnly"\n    ng-required="component.validate.required"\n    custom-validator="component.validate.custom"\n    grid-row="gridRow"\n    grid-col="gridCol"\n  ></formio-select-boxes>\n  <formio-errors></formio-errors>\n</div>\n')}])}},{}],39:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("signature",{title:"Signature",template:"formio/components/signature.html",tableView:function(e){return e?"Yes":"No"},group:"advanced",settings:{input:!0,tableView:!0,label:"",key:"signature",placeholder:"",footer:"Sign above",width:"100%",height:"150",penColor:"black",backgroundColor:"rgb(245,245,235)",minWidth:"0.5",maxWidth:"2.5","protected":!1,persistent:!0,validate:{required:!1}},viewTemplate:"formio/componentsView/signature.html"})}]),e.directive("signature",function(){return{restrict:"A",scope:{component:"="},require:"?ngModel",link:function(e,t,n,r){function i(){r.$setViewValue(e.component.validate.required&&a.isEmpty()?"":a.toDataURL())}if(r){e.component.label="Signature",e.component.hideLabel=!0;var o=function(n){if("%"===e.component[n].slice(-1)){var r=parseFloat(e.component[n].slice(0,-1))/100;t[0][n]=t.parent()[n]()*r}else t[0][n]=parseInt(e.component[n],10),e.component[n]=t[0][n]+"px"};e.$watch("component.display",function(e){e&&(o("width"),o("height"))}),o("width"),o("height");var a=new SignaturePad(t[0],{minWidth:e.component.minWidth,maxWidth:e.component.maxWidth,penColor:e.component.penColor,backgroundColor:e.component.backgroundColor});e.$watch("component.penColor",function(e){a.penColor=e}),e.$watch("component.backgroundColor",function(e){a.backgroundColor=e,a.clear()}),e.component.clearSignature=function(){a.clear(),i()},t.css({"border-radius":"4px","box-shadow":"0 0 5px rgba(0, 0, 0, 0.02) inset",border:"1px solid #f4f4f4"}),r.$render=function(){a.fromDataURL(r.$viewValue)},a.onEnd=function(){e.$evalAsync(i)}}}}}),e.run(["$templateCache","FormioUtils",function(e,t){e.put("formio/components/signature.html",t.fieldWrap('<div ng-if="readOnly">\n  <div ng-if="data[component.key] === \'YES\'">\n    [ Signature is hidden ]\n  </div>\n  <div ng-if="data[component.key] !== \'YES\'">\n    <img class="signature" ng-attr-src="{{data[component.key]}}" src="" />\n  </div>\n</div>\n<div ng-if="!readOnly" style="width: {{ component.width }}; height: {{ component.height }};">\n  <a class="btn btn-xs btn-default" style="position:absolute; left: 0; top: 0; z-index: 1000" ng-click="component.clearSignature()">\n    <span class="glyphicon glyphicon-refresh"></span>\n  </a>\n  <canvas signature component="component" name="{{ componentId }}" ng-model="data[component.key]" ng-required="component.validate.required"></canvas>\n  <div class="formio-signature-footer" style="text-align: center;color:#C3C3C3;" ng-class="{\'field-required\': component.validate.required}">{{ component.footer | formioTranslate }}</div>\n</div>\n')),e.put("formio/componentsView/signature.html",t.fieldWrap('<div ng-if="data[component.key] === \'YES\'">\n  [ Signature is hidden ]\n</div>\n<div ng-if="data[component.key] !== \'YES\'">\n  <img class="signature" ng-attr-src="{{data[component.key]}}" src="" />\n</div>\n'))}])}},{}],40:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("survey",{title:"Survey",template:"formio/components/survey.html",group:"advanced",tableView:function(e,t){var n='<table class="table table-striped table-bordered"><thead>',r={};return angular.forEach(t.values,function(e){r[e.value]=e.label}),angular.forEach(t.questions,function(t){n+="<tr>",n+="<th>"+t.label+"</th>",n+="<td>"+r[e[t.value]]+"</td>",n+="</tr>"}),n+="</tbody></table>"},settings:{input:!0,tableView:!0,label:"",key:"survey",questions:[],values:[],defaultValue:"","protected":!1,persistent:!0,validate:{required:!1,custom:"",customPrivate:!1}}})}]),e.run(["$templateCache","FormioUtils",function(e,t){e.put("formio/components/survey.html",t.fieldWrap('<table class="table table-striped table-bordered">\n  <thead>\n    <tr>\n      <td></td>\n      <th ng-repeat="v in component.values track by $index" style="text-align: center;">{{ v.label }}</th>\n    </tr>\n  </thead>\n  <tr ng-repeat="question in component.questions">\n    <td>{{ question.label }}</td>\n    <td ng-repeat="v in component.values" style="text-align: center;">\n      <input\n        type="radio"\n        id="{{ componentId }}-{{ question.value }}-{{ v.value }}" name="{{ componentId }}-{{ question.value }}-{{ v.value }}"\n        tabindex="{{ component.tabindex || 0 }}"\n        value="{{ v.value }}"\n        ng-model="data[component.key][question.value]"\n        ng-required="component.validate.required"\n        ng-disabled="readOnly"\n        custom-validator="component.validate.custom"\n      >\n    </td>\n  </tr>\n</table>\n'))}])}},{}],41:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("table",{title:"Table",template:"formio/components/table.html",group:"layout",settings:{input:!1,numRows:3,numCols:3,rows:[[{components:[]},{components:[]},{components:[]}],[{components:[]},{components:[]},{components:[]}],[{components:[]},{components:[]},{components:[]}]],header:[],caption:"",striped:!1,bordered:!1,hover:!1,condensed:!1}})}]),e.run(["$templateCache",function(e){var t="{'table-striped': component.striped, ";t+="'table-bordered': component.bordered, ",t+="'table-hover': component.hover, ",t+="'table-condensed': component.condensed}",e.put("formio/components/table.html",'<div class="table-responsive" id="{{ component.key }}">\n  <table ng-class="{\'table-striped\': component.striped, \'table-bordered\': component.bordered, \'table-hover\': component.hover, \'table-condensed\': component.condensed}" class="table">\n    <thead ng-if="component.header.length">\n      <th ng-repeat="header in component.header track by $index">{{ header | formioTranslate }}</th>\n    </thead>\n    <tbody>\n      <tr ng-repeat="row in component.rows track by $index">\n        <td ng-repeat="column in row track by $index">\n          <formio-component\n            ng-repeat="component in column.components track by $index"\n            component="component"\n            data="data"\n            formio="formio"\n            formio-form="formioForm"\n            grid-row="gridRow"\n            grid-col="gridCol"\n            ng-if="show[column.key || \'\'] && show[component.key || \'\']"\n            show="show"\n          ></formio-component>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n'),e.put("formio/componentsView/table.html",'<div class="table-responsive" id="{{ component.key }}">\n  <table ng-class="{\'table-striped\': component.striped, \'table-bordered\': component.bordered, \'table-hover\': component.hover, \'table-condensed\': component.condensed}" class="table">\n    <thead ng-if="component.header.length">\n      <th ng-repeat="header in component.header track by $index">{{ header }}</th>\n    </thead>\n    <tbody>\n      <tr ng-repeat="row in component.rows track by $index">\n        <td ng-repeat="column in row track by $index">\n          <formio-component-view ng-repeat="component in column.components track by $index" component="component" data="data" form="form" ignore="ignore"></formio-component-view>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n')}])}},{}],42:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("textarea",{title:"Text Area",template:function(e){return e.component.wysiwyg?(e.wysiwyg=e.component.wysiwyg,"formio/components/texteditor.html"):"formio/components/textarea.html"},settings:{input:!0,tableView:!0,label:"",key:"textareaField",placeholder:"",prefix:"",suffix:"",rows:3,multiple:!1,defaultValue:"","protected":!1,persistent:!0,wysiwyg:!1,validate:{required:!1,minLength:"",maxLength:"",pattern:"",custom:""}}})}]),e.run(["$templateCache","FormioUtils",function(e,t){e.put("formio/components/textarea.html",t.fieldWrap('<textarea\nclass="form-control"\nng-model="data[component.key]"\nng-disabled="readOnly"\nng-required="component.validate.required"\nsafe-multiple-to-single\nid="{{ componentId }}"\nname="{{ componentId }}"\ntabindex="{{ component.tabindex || 0 }}"\nplaceholder="{{ component.placeholder | formioTranslate }}"\ncustom-validator="component.validate.custom"\nrows="{{ component.rows }}"></textarea>\n')),e.put("formio/components/texteditor.html",t.fieldWrap('<textarea\n  class="form-control"\n  ng-model="data[component.key]"\n  ng-disabled="readOnly"\n  ng-required="component.validate.required"\n  ckeditor="wysiwyg"\n  safe-multiple-to-single\n  id="{{ componentId }}"\n  name="{{ componentId }}"\n  tabindex="{{ component.tabindex || 0 }}"\n  placeholder="{{ component.placeholder }}"\n  custom-validator="component.validate.custom"\n  rows="{{ component.rows }}"></textarea>\n'))}])}},{}],43:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("textfield",{title:"Text Field",template:"formio/components/textfield.html",icon:"fa fa-terminal",settings:{input:!0,tableView:!0,inputType:"text",inputMask:"",label:"",key:"textField",placeholder:"",prefix:"",suffix:"",multiple:!1,defaultValue:"","protected":!1,unique:!1,persistent:!0,validate:{required:!1,minLength:"",maxLength:"",pattern:"",custom:"",customPrivate:!1},conditional:{show:null,when:null,eq:""}}})}]),e.run(["$templateCache","FormioUtils",function(e,t){e.put("formio/components/textfield.html",t.fieldWrap('<input type="{{ component.inputType }}"\n  class="form-control"\n  id="{{ componentId }}"\n  name="{{ componentId }}"\n  tabindex="{{ component.tabindex || 0 }}"\n  ng-disabled="readOnly"\n  ng-model="data[component.key]"\n  ng-model-options="{ debounce: 500 }"\n  safe-multiple-to-single\n  ng-required="component.validate.required"\n  ng-minlength="component.validate.minLength"\n  ng-maxlength="component.validate.maxLength"\n  ng-pattern="component.validate.pattern"\n  custom-validator="component.validate.custom"\n  placeholder="{{ component.placeholder | formioTranslate }}"\n  ui-mask="{{ component.inputMask }}"\n  ui-mask-placeholder=""\n  ui-options="uiMaskOptions"\n>\n'))}])}},{}],44:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("well",{title:"Well",template:"formio/components/well.html",group:"layout",settings:{input:!1,components:[]},viewTemplate:"formio/componentsView/well.html"})}]),e.run(["$templateCache",function(e){e.put("formio/components/well.html",'<div class="well" id="{{ component.key }}">\n  <formio-component\n    ng-repeat="_component in component.components track by $index"\n    component="_component"\n    data="data"\n    formio="formio"\n    read-only="readOnly"\n    formio-form="formioForm"\n    grid-row="gridRow"\n    grid-col="gridCol"\n    ng-if="show[component.key || \'\'] && show[_component.key || \'\']"\n    show="show"\n  ></formio-component>\n</div>\n'),e.put("formio/componentsView/well.html",'<div class="well" id="{{ component.key }}">\n  <formio-component-view ng-repeat="component in component.components track by $index" component="component" data="data" form="form" ignore="ignore"></formio-component-view>\n</div>\n')}])}},{}],45:[function(require,module,exports){"use strict";module.exports=function(){return{restrict:"A",require:"ngModel",link:function(scope,ele,attrs,ctrl){scope.component.validate&&scope.component.validate.custom&&(ctrl.$validators.custom=function(modelValue,viewValue){var valid=!0,input=modelValue||viewValue,custom=scope.component.validate.custom;return custom=custom.replace(/({{\s+(.*)\s+}})/,function(e,t,n){return scope.data[n]}),eval(custom),valid!==!0?(scope.component.customError=valid,!1):!0})}}}},{}],46:[function(require,module,exports){"use strict";module.exports=function(){return{restrict:"E",replace:!0,scope:{src:"=?",formAction:"=?",form:"=?",submission:"=?",readOnly:"=?",hideComponents:"=?",requireComponents:"=?",disableComponents:"=?",formioOptions:"=?",options:"=?"},controller:["$scope","$http","$element","FormioScope","Formio","FormioUtils",function($scope,$http,$element,FormioScope,Formio,FormioUtils){$scope._src=$scope.src||"",$scope.formioAlerts=[],this.showAlerts=$scope.showAlerts=function(e){$scope.formioAlerts=[].concat(e)},$scope._src&&-1===$scope._src.indexOf("live=")&&($scope._src+=-1===$scope._src.indexOf("?")?"?":"&",$scope._src+="live=1"),$scope.show={"":!0,undefined:!0,"null":!0};var boolean={"true":!0,"false":!1},sweepSubmission=function(){var e=$scope.show||{"":!0,undefined:!0,"null":!0},t=$scope.submission.data||{},n=function r(t,n){if(null!==t&&"undefined"!=typeof t)if("string"==typeof t){if(e.hasOwnProperty(t)&&e[t]===!1){if(n)return!0;return}}else{if(t instanceof Array){var i=[];return t.forEach(function(e){if("string"==typeof e)return void i.push(e);var t=r(e,!0);t||i.push(e)}),void(t=i)}if("object"==typeof t)return void Object.keys(t).forEach(function(e){var n=r(e,!0);n?delete t[e]:(t[e]instanceof Array||"object"==typeof t[e])&&r(t[e])})}else if(n)return!1};return n(t)},_conditionals={},_customConditionals={},_sweepConditionals=function(){$scope.form=$scope.form||{},$scope.form.components=$scope.form.components||[],FormioUtils.eachComponent($scope.form.components,function(e){e.hasOwnProperty("key")&&($scope.show[e.key]=!0,e.conditional&&null!==e.conditional.show&&""!==e.conditional.show&&null!==e.conditional.when&&""!==e.conditional.when?(e.conditional.show=boolean.hasOwnProperty(e.conditional.show)?boolean[e.conditional.show]:!0,e.conditional.eq=e.conditional.eq||"",_conditionals[e.key]=e.conditional,e.hasOwnProperty("defaultValue")&&(_conditionals[e.key].defaultValue=e.defaultValue)):e.customConditional&&(_customConditionals[e.key]=e.customConditional),$scope.hideComponents&&(e.hidden=-1!==$scope.hideComponents.indexOf(e.key)),$scope.requireComponents&&e.hasOwnProperty("validate")&&-1!==$scope.requireComponents.indexOf(e.key)&&(e.validate.required=-1!==$scope.requireComponents.indexOf(e.key)),$scope.disableComponents&&(e.disabled=-1!==$scope.disableComponents.indexOf(e.key)))},!0)},_toggleConditional=function(e){if(_conditionals.hasOwnProperty(e)){var t=_conditionals[e],n=FormioUtils.getValue($scope.submission,t.when);$scope.show[e]="undefined"!=typeof n&&"object"!=typeof n?n.toString()===t.eq.toString()?boolean[t.show]:!boolean[t.show]:"undefined"!=typeof n&&"object"==typeof n?n.hasOwnProperty(t.eq)?boolean.hasOwnProperty(n[t.eq])?boolean[n[t.eq]]:!0:!1:"undefined"==typeof n&&t.hasOwnProperty("defaultValue")&&t.defaultValue.toString()===t.eq.toString()?boolean[t.show]:!boolean[t.show]}},_toggleCustomConditional=function(componentKey){if(_customConditionals.hasOwnProperty(componentKey)){var cond=_customConditionals[componentKey];try{var data=$scope.submission.data,show=eval("(function() { "+cond.toString()+"; return show; })()");$scope.show[componentKey]=boolean.hasOwnProperty(show.toString())?boolean[show]:!0}catch(e){$scope.show[componentKey]=!0}}};$scope.$watch(function(){return $scope.submission&&$scope.submission.data?$scope.submission.data:{}},function(){var e=Object.keys(_conditionals);(e||[]).forEach(function(e){_toggleConditional(e)});var t=Object.keys(_customConditionals);(t||[]).forEach(function(e){_toggleCustomConditional(e)});var n=Object.keys($scope.show);(n||[]).forEach(function(e){return $scope.show[e]?void 0:sweepSubmission()})},!0);var cancelFormLoadEvent=$scope.$on("formLoad",function(){_sweepConditionals(),cancelFormLoadEvent()});$scope.options&&$scope.options.watchData&&$scope.$watch("submission.data",function(){_sweepConditionals()},!0),$scope._src||$scope.$watch("src",function(e){e&&($scope._src=e,$scope.formio=FormioScope.register($scope,$element,{form:!0,submission:!0}))}),$scope.formio=FormioScope.register($scope,$element,{form:!0,submission:!0}),$scope.onSubmit=function(e){if(e.$valid&&!e.submitting){e.submitting=!0,sweepSubmission();var t={data:{}};$scope.submission._id&&(t._id=$scope.submission._id),$scope.submission.data._id&&(t._id=$scope.submission.data._id);var n=function(e){if(!e)return[];e instanceof Array||(e=[e]);var t=[];return e.forEach(function(e){e&&e._id&&t.push(e._id)}),t},r={};FormioUtils.eachComponent($scope.form.components,function(e){if("resource"===e.type&&e.key&&e.defaultPermission&&(r[e.key]=e.defaultPermission),$scope.submission.data.hasOwnProperty(e.key)&&$scope.show[e.key]===!0){var n=$scope.submission.data[e.key];t.data[e.key]="number"===e.type?n?parseFloat(n):0:n}},!0),angular.forEach($scope.submission.data,function(e,i){e&&!e.hasOwnProperty("_id")&&(t.data[i]=e);var o=r[i];if(o){t.access=t.access||[],e instanceof Array||(e=[e]);var a=!1;t.access.forEach(function(t){t.type===o&&(a=!0,t.resources=t.resources||[],t.resources.concat(n(e)))}),a||t.access.push({type:o,resources:n(e)})}});var i=function(t,n){$scope.showAlerts({type:"success",message:n}),e.submitting=!1},o=function(e,t){var n="";n=$scope.options&&$scope.options.submitMessage?$scope.options.submitMessage:"Submission was "+("put"===e?"updated":"created")+".",i(t,n),$scope.$emit("formSubmission",t)};$scope.$on("submitDone",function(e,t,n){i(t,n)}),$scope.$on("submitError",function(e,t){FormioScope.onError($scope,$element)(t)});var a=$scope.$emit("formSubmit",t);if(a.defaultPrevented)return void(e.submitting=!1);if(t=angular.copy(t),$scope.action){var s=t._id?"put":"post";$http[s]($scope.action,t).success(function(e){Formio.clearCache(),o(s,e)}).error(FormioScope.onError($scope,$element))["finally"](function(){e.submitting=!1})}else $scope.formio?$scope.formio.saveSubmission(t,$scope.formioOptions).then(function(e){o(e.method,e)},FormioScope.onError($scope,$element))["finally"](function(){e.submitting=!1}):$scope.$emit("formSubmission",t)}}}],templateUrl:"formio.html"}}},{}],47:[function(e,t,n){"use strict";t.exports=["Formio","formioComponents",function(e,t){return{replace:!0,restrict:"E",require:"?^formio",scope:{component:"=",data:"=",formio:"=",formioForm:"=",readOnly:"=",gridRow:"=",gridCol:"=",show:"="},templateUrl:"formio/component.html",link:function(e,t,n,r){e.showAlerts=r?r.showAlerts.bind(r):function(){throw new Error("Cannot call $scope.showAlerts unless this component is inside a formio directive.")}},controller:["$scope","$http","$controller",function(n,r,i){n.uiMaskOptions={maskDefinitions:{9:/\d/,a:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!1,eventsToHandle:["input","keyup","click","focus"],silentEvents:["click","focus"]};var o=t.components[n.component.type]||t.components.custom;if(angular.forEach(o.settings,function(e,t){n.component.hasOwnProperty(t)||(n.component[t]=angular.copy(e))}),n.addFieldValue=function(){var e=n.component.hasOwnProperty("defaultValue")?n.component.defaultValue:"";n.data[n.component.key]=n.data[n.component.key]||[],n.data[n.component.key].push(e)},n.removeFieldValue=function(e){n.data[n.component.key].splice(e,1)},n.template="function"==typeof o.template?o.template(n):o.template,n.component.key&&-1!==n.component.key.indexOf("[")){var a=n.component.key.match(/([^\[]+)\[([^]+)\]/);3===a.length&&n.data.hasOwnProperty(a[1])&&(n.data=n.data[a[1]],n.component.key=a[2])}o.controller&&("function"==typeof o.controller?o.controller(n.component,n,r,e):i(o.controller,{$scope:n})),n.$watch("component.multiple",function(){if(n.data=n.data||{},n.component.multiple){var e=null;e=n.data.hasOwnProperty(n.component.key)?n.data[n.component.key]instanceof Array?n.data[n.component.key]:[n.data[n.component.key]]:n.component.hasOwnProperty("defaultValue")?n.component.defaultValue instanceof Array?n.component.defaultValue:[n.component.defaultValue]:[],n.data[n.component.key]=e}else n.data.hasOwnProperty(n.component.key)?n.data[n.component.key]=n.data[n.component.key]:n.component.hasOwnProperty("defaultValue")&&"selectboxes"!==n.component.type&&(n.data[n.component.key]=n.component.defaultValue)}),n.componentId=n.component.key,void 0!==n.gridRow&&(n.componentId+="-"+n.gridRow),void 0!==n.gridCol&&(n.componentId+="-"+n.gridCol)}]}}]},{}],48:[function(e,t,n){"use strict";t.exports=["formioComponents",function(e){return{replace:!0,restrict:"E",scope:{component:"=",data:"=",form:"=",ignore:"=?"},templateUrl:"formio/component-view.html",controller:["$scope","Formio",function(t,n){t.formUrl=t.form?n.getAppUrl()+"/form/"+t.form._id.toString():"";var r=e.components[t.component.type]||e.components.custom;t.template=r.viewTemplate?"function"==typeof r.viewTemplate?r.viewTemplate(t):r.viewTemplate:"formio/element-view.html",t.componentId=t.component.key,void 0!==t.gridRow&&(t.componentId+="-"+t.gridRow),void 0!==t.gridCol&&(t.componentId+="-"+t.gridCol),t.shouldShow=!t.ignore||-1===t.ignore.indexOf(t.componentId)}]}}]},{}],49:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"E",replace:!0,scope:{form:"=?",submission:"=?",src:"=?",formAction:"=?",resourceName:"=?",message:"=?"},templateUrl:"formio-delete.html",controller:["$scope","$element","FormioScope","Formio","$http",function(e,t,n,r,i){e._src=e.src||"",e.formioAlerts=[],e.showAlerts=function(t){e.formioAlerts=[].concat(t)};var o="resource",a="",s=n.register(e,t,{form:!0,submission:!0});if(s){o=s.submissionId?"submission":"form";var l=o.charAt(0).toUpperCase()+o.slice(1);a="delete"+l}e._resourceName=e.resourceName||o,e.deleteMessage=e.message||"Are you sure you wish to delete the "+e._resourceName+"?",e.onDelete=function(){var o=e.resourceName||e._resourceName,l=o.charAt(0).toUpperCase()+o.slice(1),u=function(t){e.showAlerts({type:"success",message:l+" was deleted."}),r.clearCache(),e.$emit("delete",t)};if(e.action)i["delete"](e.action).success(u).error(n.onError(e,t));else if(s){if(!a)return;if("function"!=typeof s[a])return;s[a]().then(u,n.onError(e,t))}},e.onCancel=function(){e.$emit("cancel")}}]}}},{}],50:[function(e,t,n){"use strict";t.exports=["$compile","$templateCache",function(e,t){return{scope:!1,link:function(n,r){r.replaceWith(e(t.get(n.template))(n)),n.$emit("formElementRender",r)}}}]},{}],51:[function(e,t,n){"use strict";t.exports=function(){return{scope:!1,restrict:"E",templateUrl:"formio/errors.html"}}},{}],52:[function(e,t,n){"use strict";t.exports=function(){return{replace:!0,restrict:"E",scope:{form:"=",submission:"=",ignore:"=?"},templateUrl:"formio/submission.html"}}},{}],53:[function(e,t,n){"use strict";t.exports=function(){return{replace:!0,restrict:"E",scope:{src:"=?",form:"=?",submissions:"=?",perPage:"=?"},templateUrl:"formio/submissions.html",controller:["$scope","$element","FormioScope",function(e,t,n){e._src=e.src||"",e.formioAlerts=[],this.showAlerts=e.showAlerts=function(t){e.formioAlerts=[].concat(t)},e.perPage=void 0===e.perPage?10:e.perPage,e.formio=n.register(e,t,{form:!0,submissions:!0}),e.currentPage=1,e.pageChanged=function(t){e.skip=(t-1)*e.perPage,e.updateSubmissions()},e.tableView=function(e){return!e.hasOwnProperty("tableView")||e.tableView},e.$watch("submissions",function(t){t&&t.length>0&&e.$emit("submissionLoad",e.submissions)})}]}}},{}],54:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"E",replace:!0,templateUrl:"formio-wizard.html",scope:{src:"=?",formAction:"=?",form:"=?",submission:"=?",readOnly:"=?",hideComponents:"=?",formioOptions:"=?",storage:"=?"},link:function(e,t){var n=function(e){try{return e.offset()}catch(t){}var n=e[0],r=0,i=0,o=document.documentElement||document.body,a=window.pageXOffset||o.scrollLeft,s=window.pageYOffset||o.scrollTop;return r=n.getBoundingClientRect().left+a,i=n.getBoundingClientRect().top+s,{left:r,top:i}};e.wizardLoaded=!1,e.wizardTop=n(t).top,e.wizardTop>50&&(e.wizardTop-=50),e.wizardElement=angular.element(".formio-wizard",t)},controller:["$scope","$compile","$element","Formio","FormioScope","FormioUtils","$http",function(e,t,n,r,i,o,a){var s=e.storage&&!e.readOnly?localStorage.getItem(e.storage):!1;s&&(s=angular.fromJson(s)),e.formio=null,e.page={},e.pages=[],e.hasTitles=!1,e.colclass="",e.submission&&Object.keys(e.submission.data).length||(e.submission=s?{data:s.data}:{data:{}}),e.currentPage=s?s.page:0,e.formioAlerts=[],this.showAlerts=e.showAlerts=function(t){e.formioAlerts=[].concat(t)},e.clear=function(){e.storage&&!e.readOnly&&localStorage.setItem(e.storage,""),e.submission={data:{}},e.currentPage=0};var l=function(n){e.currentPage>=e.form.components.length&&e.clear(),e.wizardLoaded=!1,e.storage&&!e.readOnly&&localStorage.setItem(e.storage,angular.toJson({page:e.currentPage,data:e.submission.data})),e.page.components=e.form.components[e.currentPage].components;var r=angular.element(document.createElement("formio"));e.wizardElement.html(t(r.attr({src:"'"+e.src+"'",form:"page",submission:"submission","read-only":"readOnly","hide-components":"hideComponents","formio-options":"formioOptions",id:"formio-wizard-form"}))(e)),e.wizardLoaded=!0,e.formioAlerts=[],n&&window.scrollTo(0,e.wizardTop),e.$emit("wizardPage",e.currentPage)};e.checkErrors=function(){return e.isValid()?!1:(angular.forEach(n.find('[name="formioForm"]').children(),function(e){var t=angular.element(e).scope(),n=t.formioForm;n[t.component.key]&&(n[t.component.key].$pristine=!1)}),e.formioAlerts.push({type:"danger",message:"Please fix the following errors before proceeding."}),!0)},e.submit=function(){if(!e.checkErrors()){var t=angular.copy(e.submission);o.eachComponent(e.form.components,function(e){t.data.hasOwnProperty(e.key)&&"number"===e.type&&(t.data[e.key]=t.data[e.key]?parseFloat(t.data[e.key]):0)});var s=function(t){e.storage&&!e.readOnly&&localStorage.setItem(e.storage,""),e.$emit("formSubmission",t)};if(e.action){var l=t._id?"put":"post";a[l](e.action,t).success(function(e){r.clearCache(),s(e)}).error(i.onError(e,n))}else e.formio?e.formio.saveSubmission(t).then(s)["catch"](i.onError(e,n)):s(t)}},e.cancel=function(){e.clear(),l(!0)},e.next=function(){e.checkErrors()||e.currentPage>=e.form.components.length-1||(e.currentPage++,l(!0),e.$emit("wizardNext",e.currentPage))},e.prev=function(){e.currentPage<1||(e.currentPage--,l(!0),e.$emit("wizardPrev",e.currentPage))},e["goto"]=function(t){0>t||t>=e.form.components.length||(e.currentPage=t,l(!0))},e.isValid=function(){var e=n.find("#formio-wizard-form");if(!e.length)return!1;var t=e.children().scope().formioForm;return t.$valid},e.$on("wizardGoToPage",function(t,n){e["goto"](n)});var u=function(){e.pages.length>6?(e.margin=(1-.0833333333*e.pages.length)/2*100,e.colclass="col-sm-1"):(e.margin=(1-.1666666667*e.pages.length)/2*100,e.colclass="col-sm-2")},c=function(t){e.pages=[],angular.forEach(t.components,function(t){"panel"===t.type&&(!e.hasTitles&&t.title&&(e.hasTitles=!0),e.pages.push(t))}),e.form=e.form?angular.merge(e.form,angular.copy(t)):angular.copy(t),e.form.components=e.pages,e.page=angular.copy(t),e.page.display="form",e.$emit("wizardFormLoad",t),u(),l()};e.$watch("form",function(t){if(!e.src&&t&&Object.keys(t).length&&t.components&&t.components.length){var n=t.project?"/project/"+t.project:"";n+="/form/"+t._id,e.formio=new r(n),c(t)}}),e.$watch("form.components.length",u),e.src?(e.formio=new r(e.src),e.formio.loadForm().then(function(e){c(e)})):(e.src="",e.formio=new r(e.src))}]}}},{}],55:[function(e,t,n){"use strict";t.exports=["Formio","formioComponents",function(e,t){return{onError:function(e,t){return function(n){if("ValidationError"===n.name&&t){t.find("#form-group-"+n.details[0].path).addClass("has-error");var r="ValidationError: "+n.details[0].message;e.showAlerts({type:"danger",message:r})}else n instanceof Error?n=n.toString():"object"==typeof n&&(n=JSON.stringify(n)),e.showAlerts({type:"danger",message:n});e.$emit("formError",n)}},register:function(n,r,i){var o=null;n.formLoading=!0,n.form=angular.isDefined(n.form)?n.form:{},n.submission=angular.isDefined(n.submission)?n.submission:{data:{}},n.submissions=angular.isDefined(n.submissions)?n.submissions:[];var a=0;n.$on("formElementRender",function(){a++,a===n.form.components.length&&setTimeout(function(){n.$emit("formRender",n.form)},1)});var s=function(t){return t?("/"===t.substr(0,1)&&(t=e.getBaseUrl()+t),t):""};n.action=s(n.formAction);var l={};return n.$on("addFormComponent",function(e,r){if(!l.hasOwnProperty(r.settings.key)){l[r.settings.key]=!0;var i=t.components[r.type];n.form.components.push(angular.extend(i.settings,r.settings))}}),n.$watch("form.action",function(e){if(e){var t=s(e);t&&(n.action=t)}}),n.$watch("form.components.length",function(){n.form&&n.form.components&&n.form.components.length&&(n.formLoading=!1,n.$emit("formLoad",n.form))}),n.updateSubmissions=function(){n.formLoading=!0;var e={};n.perPage&&(e.limit=n.perPage),n.skip&&(e.skip=n.skip),o.loadSubmissions({params:e}).then(function(e){angular.merge(n.submissions,angular.copy(e)),n.formLoading=!1,n.$emit("submissionsLoad",e)},this.onError(n))}.bind(this),n._src?(o=new e(n._src),i.form&&(n.formLoading=!0,n.form&&Object.keys(n.form).length?(n.formLoading=!1,n.$emit("formLoad",n.form)):o.loadForm().then(function(e){angular.merge(n.form,angular.copy(e)),n.formLoading=!1,n.$emit("formLoad",n.form)},this.onError(n))),i.submission&&o.submissionId&&(n.formLoading=!0,n.submission&&Object.keys(n.submission.data).length?(n.formLoading=!1,n.$emit("submissionLoad",n.submission)):o.loadSubmission().then(function(e){angular.merge(n.submission,angular.copy(e)),n.formLoading=!1,n.$emit("submissionLoad",e)},this.onError(n))),i.submissions&&n.updateSubmissions()):(n.formoLoaded=!0,n.formLoading=!n.form||0===Object.keys(n.form).length||!n.form.components.length,n.formLoading||n.$emit("formLoad",n.form),n.submission&&n.$emit("submissionLoad",n.submission),n.submissions&&n.$emit("submissionsLoad",n.submissions)),o}}}]},{}],56:[function(e,t,n){"use strict";var r=e("formio-utils");t.exports=function(){return{flattenComponents:r.flattenComponents,eachComponent:r.eachComponent,getComponent:r.getComponent,getValue:r.getValue,hideFields:function(e,t){this.eachComponent(e.components,function(e){for(var n in t)e.key===t[n]&&(e.type="hidden")})},uniqueName:function(e){var t=e.toLowerCase().replace(/[^0-9a-z\.]/g,"").split("."),n=t[0],r="";return t.length>1&&(r="."+t[t.length-1]),n.substr(0,10)+"-"+this.guid()+r},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})},fieldWrap:function(e){e+="<formio-errors></formio-errors>";var t=e.replace("data[component.key]","data[component.key][$index]"),n='<label ng-if="component.label && !component.hideLabel" for="{{ component.key }}" class="control-label" ng-class="{\'field-required\': component.validate.required}">{{ component.label | formioTranslate }}</label>',r='<span ng-if="(component.hideLabel === true || component.label === \'\' || !component.label) && component.validate.required" class="glyphicon glyphicon-asterisk form-control-feedback field-required-inline" aria-hidden="true"></span>',i='<div ng-if="!component.multiple">'+n+'<div class="input-group"><div class="input-group-addon" ng-if="!!component.prefix">{{ component.prefix }}</div>'+e+r+'<div class="input-group-addon" ng-if="!!component.suffix">{{ component.suffix }}</div></div></div><div ng-if="component.multiple"><table class="table table-bordered">'+n+'<tr ng-repeat="value in data[component.key] track by $index"><td><div class="input-group"><div class="input-group-addon" ng-if="!!component.prefix">{{ component.prefix }}</div>'+t+r+'<div class="input-group-addon" ng-if="!!component.suffix">{{ component.suffix }}</div></div></td><td><a ng-click="removeFieldValue($index)" class="btn btn-default"><span class="glyphicon glyphicon-remove-circle"></span></a></td></tr><tr><td colspan="2"><a ng-click="addFieldValue()" class="btn btn-primary"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> {{ component.addAnother || "Add Another" | formioTranslate }}</a></td></tr></table></div>';

return i}}}},{"formio-utils":2}],57:[function(e,t,n){"use strict";t.exports=["$q","$rootScope","Formio",function(e,t,n){var r={response:function(e){var t=e.headers("x-jwt-token");return e.status>=200&&e.status<300&&t&&""!==t&&n.setToken(t),e},responseError:function(r){return 440===parseInt(r.status,10)?(r.loggedOut=!0,n.setToken(null),t.$broadcast("formio.sessionExpired",r.body)):401===parseInt(r.status,10)&&t.$broadcast("formio.unauthorized",r.body),e.reject(r)},request:function(e){if(e.disableJWT)return e;var t=n.getToken();return t&&(e.headers["x-jwt-token"]=t),e}};return r}]},{}],58:[function(e,t,n){"use strict";t.exports=["Formio","formioComponents","$interpolate",function(e,t,n){return function(e,r){if(!e)return"";if(!r||!r.input||!r.type)return e;var i=t.components[r.type];if(!i.tableView)return e;if(r.multiple&&e.length>0){var o=[];return angular.forEach(e,function(e){o.push(i.tableView(e,r,n,t))}),o}return i.tableView(e,r,n,t)}}]},{}],59:[function(e,t,n){"use strict";t.exports=["FormioUtils",function(e){return e.flattenComponents}]},{}],60:[function(e,t,n){"use strict";t.exports=["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]},{}],61:[function(e,t,n){"use strict";t.exports=[function(){return function(e){var t=[];return e&&e.length?(e.forEach(function(e){e.tableView&&t.push(e)}),t):t}}]},{}],62:[function(e,t,n){"use strict";t.exports=["formioTableView",function(e){return function(t,n){return e(t,n)}}]},{}],63:[function(e,t,n){"use strict";t.exports=["Formio","formioTableView",function(e,t){return function(n,r){return t(e.fieldData(n,r),r)}}]},{}],64:[function(e,t,n){"use strict";t.exports=["$filter",function(e){return function(t,n){try{var r=e("translate");if(n){var i=r(n);return i===n&&(i=r(t)),i}return r(t)}catch(o){return t}}}]},{}],65:[function(e,t,n){"use strict";var r=angular.module("formio",["ngSanitize","ui.bootstrap","ui.bootstrap.datetimepicker","ui.select","ui.mask","angularMoment","ngFileUpload","ngFileSaver"]);r.provider("Formio",e("./providers/Formio")),r.factory("FormioScope",e("./factories/FormioScope")),r.factory("FormioUtils",e("./factories/FormioUtils")),r.factory("formioInterceptor",e("./factories/formioInterceptor")),r.factory("formioTableView",e("./factories/formioTableView")),r.directive("formio",e("./directives/formio")),r.directive("formioDelete",e("./directives/formioDelete")),r.directive("formioErrors",e("./directives/formioErrors")),r.directive("customValidator",e("./directives/customValidator")),r.directive("formioSubmissions",e("./directives/formioSubmissions")),r.directive("formioSubmission",e("./directives/formioSubmission")),r.directive("formioComponent",e("./directives/formioComponent")),r.directive("formioComponentView",e("./directives/formioComponentView")),r.directive("formioElement",e("./directives/formioElement")),r.directive("formioWizard",e("./directives/formioWizard")),r.filter("flattenComponents",e("./filters/flattenComponents")),r.filter("tableComponents",e("./filters/tableComponents")),r.filter("tableView",e("./filters/tableView")),r.filter("tableFieldView",e("./filters/tableFieldView")),r.filter("safehtml",e("./filters/safehtml")),r.filter("formioTranslate",e("./filters/translate")),r.config(["$httpProvider",function(e){e.defaults.headers.get||(e.defaults.headers.get={}),e.defaults.headers.get["Cache-Control"]="no-cache",e.defaults.headers.get.Pragma="no-cache",e.interceptors.push("formioInterceptor")}]),r.run(["$templateCache",function(e){e.put("formio.html",'<div>\n  <i style="font-size: 2em;" ng-if="formLoading" class="glyphicon glyphicon-refresh glyphicon-spin"></i>\n  <formio-wizard ng-if="form.display === \'wizard\'" src="src" form="form" submission="submission" form-action="formAction" read-only="readOnly" hide-components="hideComponents" formio-options="formioOptions" storage="form.name"></formio-wizard>\n  <form ng-if="!form.display || (form.display === \'form\')" role="form" name="formioForm" ng-submit="onSubmit(formioForm)" novalidate>\n    <div ng-repeat="alert in formioAlerts track by $index" class="alert alert-{{ alert.type }}" role="alert">\n      {{ alert.message }}\n    </div>\n    <!-- DO NOT PUT "track by $index" HERE SINCE DYNAMICALLY ADDING/REMOVING COMPONENTS WILL BREAK -->\n    <formio-component\n      ng-repeat="component in form.components"\n      component="component"\n      data="submission.data"\n      formio-form="formioForm"\n      formio="formio"\n      read-only="readOnly || component.disabled"\n      ng-if="show[component.key || \'\']"\n      show="show"\n    ></formio-component>\n  </form>\n</div>\n'),e.put("formio-wizard.html",'<div class="formio-wizard-wrapper">\n  <div class="row bs-wizard" style="border-bottom:0;" ng-class="{hasTitles: hasTitles}">\n    <div ng-class="{disabled: ($index > currentPage), active: ($index == currentPage), complete: ($index < currentPage), noTitle: !page.title}" class="{{ colclass }} bs-wizard-step" ng-repeat="page in pages track by $index">\n      <div class="text-center bs-wizard-stepnum" ng-if="page.title">{{ page.title }}</div>\n      <div class="progress"><div class="progress-bar progress-bar-primary"></div></div>\n      <a ng-click="goto($index)" class="bs-wizard-dot bg-primary"><div class="bs-wizard-dot-inner bg-success"></div></a>\n    </div>\n  </div>\n  <style type="text/css">.bs-wizard > .bs-wizard-step:first-child { margin-left: {{ margin }}%; }</style>\n  <i ng-show="!wizardLoaded" id="formio-loading" style="font-size: 2em;" class="glyphicon glyphicon-refresh glyphicon-spin"></i>\n  <div ng-repeat="alert in formioAlerts track by $index" class="alert alert-{{ alert.type }}" role="alert">{{ alert.message }}</div>\n  <div class="formio-wizard"></div>\n  <ul ng-show="wizardLoaded" class="list-inline">\n    <li><a class="btn btn-default" ng-click="cancel()">Cancel</a></li>\n    <li ng-if="currentPage > 0"><a class="btn btn-primary" ng-click="prev()">Previous</a></li>\n    <li ng-if="currentPage < (form.components.length - 1)">\n      <a class="btn btn-primary" ng-click="next()">Next</a>\n    </li>\n    <li ng-if="currentPage >= (form.components.length - 1)">\n      <a class="btn btn-primary" ng-click="submit()">Submit Form</a>\n    </li>\n  </ul>\n</div>\n'),e.put("formio-delete.html",'<form role="form">\n  <div ng-repeat="alert in formioAlerts track by $index" class="alert alert-{{ alert.type }}" role="alert">\n    {{ alert.message }}\n  </div>\n  <h3>{{ deleteMessage }}</h3>\n  <div class="btn-toolbar">\n    <button ng-click="onDelete()" class="btn btn-danger">Yes</button>\n    <button ng-click="onCancel()" class="btn btn-default">No</button>\n  </div>\n</form>\n'),e.put("formio/submission.html",'<div>\n  <div ng-repeat="component in form.components track by $index">\n    <formio-component-view form="form" component="component" data="submission.data" ignore="ignore"></formio-component-view>\n  </div>\n</div>\n'),e.put("formio/submissions.html",'<div>\n  <div ng-repeat="alert in formioAlerts track by $index" class="alert alert-{{ alert.type }}" role="alert">\n    {{ alert.message }}\n  </div>\n  <table class="table">\n    <thead>\n      <tr>\n        <th ng-repeat="component in form.components track by $index | flattenComponents" ng-if="tableView(component)">{{ component.label || component.key }}</th>\n        <th>Submitted</th>\n        <th>Updated</th>\n        <th>Operations</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr ng-repeat="submission in submissions track by $index" class="formio-submission" ng-click="$emit(\'submissionView\', submission)">\n        <td ng-repeat="component in form.components track by $index | flattenComponents" ng-if="tableView(component)">{{ submission.data | tableView:component }}</td>\n        <td>{{ submission.created | amDateFormat:\'l, h:mm:ss a\' }}</td>\n        <td>{{ submission.modified | amDateFormat:\'l, h:mm:ss a\' }}</td>\n        <td>\n          <div class="button-group" style="display:flex;">\n            <a ng-click="$emit(\'submissionView\', submission); $event.stopPropagation();" class="btn btn-primary btn-xs"><span class="glyphicon glyphicon-eye-open"></span></a>&nbsp;\n            <a ng-click="$emit(\'submissionEdit\', submission); $event.stopPropagation();" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-edit"></span></a>&nbsp;\n            <a ng-click="$emit(\'submissionDelete\', submission); $event.stopPropagation();" class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-remove-circle"></span></a>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <pagination\n    ng-if="submissions.serverCount > perPage"\n    ng-model="currentPage"\n    ng-change="pageChanged(currentPage)"\n    total-items="submissions.serverCount"\n    items-per-page="perPage"\n    direction-links="false"\n    boundary-links="true"\n    first-text="&laquo;"\n    last-text="&raquo;"\n    >\n  </pagination>\n</div>\n'),e.put("formio/component.html",'<div class="form-group has-feedback form-field-type-{{ component.type }} formio-component-{{ component.key }} {{component.customClass}}" id="form-group-{{ componentId }}" ng-class="{\'has-error\': formioForm[componentId].$invalid && !formioForm[componentId].$pristine }" ng-style="component.style" ng-hide="component.hidden">\n  <formio-element></formio-element>\n</div>\n'),e.put("formio/component-view.html",'<div name="{{ componentId }}" class="form-group has-feedback form-field-type-{{ component.type }} {{component.customClass}} formio-component-{{ component.key }}" id="form-group-{{ componentId }}" ng-style="component.style" ng-hide="component.hidden">\n  <formio-element ng-if="shouldShow"></formio-element>\n</div>\n'),e.put("formio/element-view.html",'<div>\n  <div><strong>{{ component.label }}</strong></div>\n  <div ng-bind-html="data | tableView:component"></div>\n</div>\n'),e.put("formio/errors.html",'<div ng-show="formioForm[componentId].$error && !formioForm[componentId].$pristine">\n  <p class="help-block" ng-show="formioForm[componentId].$error.email">{{ component.label || component.key }} must be a valid email.</p>\n  <p class="help-block" ng-show="formioForm[componentId].$error.required">{{ component.label || component.key }} is required.</p>\n  <p class="help-block" ng-show="formioForm[componentId].$error.number">{{ component.label || component.key }} must be a number.</p>\n  <p class="help-block" ng-show="formioForm[componentId].$error.maxlength">{{ component.label || component.key }} must be shorter than {{ component.validate.maxLength + 1 }} characters.</p>\n  <p class="help-block" ng-show="formioForm[componentId].$error.minlength">{{ component.label || component.key }} must be longer than {{ component.validate.minLength - 1 }} characters.</p>\n  <p class="help-block" ng-show="formioForm[componentId].$error.min">{{ component.label || component.key }} must be higher than {{ component.validate.min - 1 }}.</p>\n  <p class="help-block" ng-show="formioForm[componentId].$error.max">{{ component.label || component.key }} must be lower than {{ component.validate.max + 1 }}.</p>\n  <p class="help-block" ng-show="formioForm[componentId].$error.custom">{{ component.customError }}</p>\n  <p class="help-block" ng-show="formioForm[componentId].$error.pattern">{{ component.label || component.key }} does not match the pattern {{ component.validate.pattern }}</p>\n</div>\n')}]),e("./components")},{"./components":29,"./directives/customValidator":45,"./directives/formio":46,"./directives/formioComponent":47,"./directives/formioComponentView":48,"./directives/formioDelete":49,"./directives/formioElement":50,"./directives/formioErrors":51,"./directives/formioSubmission":52,"./directives/formioSubmissions":53,"./directives/formioWizard":54,"./factories/FormioScope":55,"./factories/FormioUtils":56,"./factories/formioInterceptor":57,"./factories/formioTableView":58,"./filters/flattenComponents":59,"./filters/safehtml":60,"./filters/tableComponents":61,"./filters/tableFieldView":62,"./filters/tableView":63,"./filters/translate":64,"./providers/Formio":66}],66:[function(e,t,n){"use strict";t.exports=function(){var t=e("formiojs");return{setBaseUrl:t.setBaseUrl,getBaseUrl:t.getBaseUrl,setApiUrl:t.setBaseUrl,getApiUrl:t.getBaseUrl,setAppUrl:t.setAppUrl,getAppUrl:t.getAppUrl,registerPlugin:t.registerPlugin,getPlugin:t.getPlugin,providers:t.providers,setDomain:function(){},$get:["$rootScope","$q",function(e,n){var r=function(t){return n.when(t)["catch"](function(t){throw"Unauthorized"===t?e.$broadcast("formio.unauthorized",t):"Login Timeout"===t&&e.$broadcast("formio.sessionExpired",t),t})};return t.registerPlugin({priority:-100,wrapRequestPromise:r,wrapStaticRequestPromise:r},"ngFormioPromiseWrapper"),t.events.onAny(function(){var t="formio."+this.event,n=[].splice.call(arguments,0);n.unshift(t),e.$apply(function(){e.$broadcast.apply(e,n)})}),t}]}}},{formiojs:3}]},{},[65]),/**
 * angular-drag-and-drop-lists v1.4.0
 *
 * Copyright (c) 2014 Marcel Juenemann marcel@juenemann.cc
 * Copyright (c) 2014-2016 Google Inc.
 * https://github.com/marceljuenemann/angular-drag-and-drop-lists
 *
 * License: MIT
 */
angular.module("dndLists",[]).directive("dndDraggable",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,t,n,r){return function(i,o,a){o.attr("draggable","true"),a.dndDisableIf&&i.$watch(a.dndDisableIf,function(e){o.attr("draggable",!e)}),o.on("dragstart",function(s){return s=s.originalEvent||s,"false"==o.attr("draggable")?!0:(s.dataTransfer.setData("Text",angular.toJson(i.$eval(a.dndDraggable))),s.dataTransfer.effectAllowed=a.dndEffectAllowed||"move",o.addClass("dndDragging"),t(function(){o.addClass("dndDraggingSource")},0),n.dropEffect="none",r.isDragging=!0,r.dragType=a.dndType?i.$eval(a.dndType):void 0,s._dndHandle&&s.dataTransfer.setDragImage&&s.dataTransfer.setDragImage(o[0],0,0),e(a.dndDragstart)(i,{event:s}),void s.stopPropagation())}),o.on("dragend",function(s){s=s.originalEvent||s;var l=n.dropEffect;i.$apply(function(){switch(l){case"move":e(a.dndMoved)(i,{event:s});break;case"copy":e(a.dndCopied)(i,{event:s});break;case"none":e(a.dndCanceled)(i,{event:s})}e(a.dndDragend)(i,{event:s,dropEffect:l})}),o.removeClass("dndDragging"),t(function(){o.removeClass("dndDraggingSource")},0),r.isDragging=!1,s.stopPropagation()}),o.on("click",function(t){a.dndSelected&&(t=t.originalEvent||t,i.$apply(function(){e(a.dndSelected)(i,{event:t})}),t.stopPropagation())}),o.on("selectstart",function(){this.dragDrop&&this.dragDrop()})}}]).directive("dndList",["$parse","$timeout","dndDropEffectWorkaround","dndDragTypeWorkaround",function(e,t,n,r){return function(i,o,a){function s(e,t,n){var r=v?e.offsetX||e.layerX:e.offsetY||e.layerY,i=v?t.offsetWidth:t.offsetHeight,o=v?t.offsetLeft:t.offsetTop;return o=n?o:0,o+i/2>r}function l(){var e;return angular.forEach(o.children(),function(t){var n=angular.element(t);n.hasClass("dndPlaceholder")&&(e=n)}),e||angular.element("<li class='dndPlaceholder'></li>")}function u(){return Array.prototype.indexOf.call(g.children,m)}function c(e){if(!r.isDragging&&!b)return!1;if(!f(e.dataTransfer.types))return!1;if(a.dndAllowedTypes&&r.isDragging){var t=i.$eval(a.dndAllowedTypes);if(angular.isArray(t)&&-1===t.indexOf(r.dragType))return!1}return a.dndDisableIf&&i.$eval(a.dndDisableIf)?!1:!0}function d(){return h.remove(),o.removeClass("dndDragover"),!0}function p(t,n,o,a){return e(t)(i,{event:n,index:o,item:a||void 0,external:!r.isDragging,type:r.isDragging?r.dragType:void 0})}function f(e){if(!e)return!0;for(var t=0;t<e.length;t++)if("Text"===e[t]||"text/plain"===e[t])return!0;return!1}var h=l(),m=h[0],g=o[0];h.remove();var v=a.dndHorizontalList&&i.$eval(a.dndHorizontalList),b=a.dndExternalSources&&i.$eval(a.dndExternalSources);o.on("dragenter",function(e){return e=e.originalEvent||e,c(e)?void e.preventDefault():!0}),o.on("dragover",function(e){if(e=e.originalEvent||e,!c(e))return!0;if(m.parentNode!=g&&o.append(h),e.target!==g){for(var t=e.target;t.parentNode!==g&&t.parentNode;)t=t.parentNode;t.parentNode===g&&t!==m&&(s(e,t)?g.insertBefore(m,t):g.insertBefore(m,t.nextSibling))}else if(s(e,m,!0))for(;m.previousElementSibling&&(s(e,m.previousElementSibling,!0)||0===m.previousElementSibling.offsetHeight);)g.insertBefore(m,m.previousElementSibling);else for(;m.nextElementSibling&&!s(e,m.nextElementSibling,!0);)g.insertBefore(m,m.nextElementSibling.nextElementSibling);return a.dndDragover&&!p(a.dndDragover,e,u())?d():(o.addClass("dndDragover"),e.preventDefault(),e.stopPropagation(),!1)}),o.on("drop",function(e){if(e=e.originalEvent||e,!c(e))return!0;e.preventDefault();var t,r=e.dataTransfer.getData("Text")||e.dataTransfer.getData("text/plain");try{t=JSON.parse(r)}catch(o){return d()}var s=u();return a.dndDrop&&(t=p(a.dndDrop,e,s,t),!t)?d():(t!==!0&&i.$apply(function(){i.$eval(a.dndList).splice(s,0,t)}),p(a.dndInserted,e,s,t),n.dropEffect="none"===e.dataTransfer.dropEffect?"copy"===e.dataTransfer.effectAllowed||"move"===e.dataTransfer.effectAllowed?e.dataTransfer.effectAllowed:e.ctrlKey?"copy":"move":e.dataTransfer.dropEffect,d(),e.stopPropagation(),!1)}),o.on("dragleave",function(e){e=e.originalEvent||e,o.removeClass("dndDragover"),t(function(){o.hasClass("dndDragover")||h.remove()},100)})}}]).directive("dndNodrag",function(){return function(e,t,n){t.attr("draggable","true"),t.on("dragstart",function(e){e=e.originalEvent||e,e._dndHandle||(e.dataTransfer.types&&e.dataTransfer.types.length||e.preventDefault(),e.stopPropagation())}),t.on("dragend",function(e){e=e.originalEvent||e,e._dndHandle||e.stopPropagation()})}}).directive("dndHandle",function(){return function(e,t,n){t.attr("draggable","true"),t.on("dragstart dragend",function(e){e=e.originalEvent||e,e._dndHandle=!0})}}).factory("dndDragTypeWorkaround",function(){return{}}).factory("dndDropEffectWorkaround",function(){return{}}),/*
Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.md or http://ckeditor.com/license
*/
function(){window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var e=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,t={timestamp:"G6DD",version:"4.5.10 (Standard)",revision:"b47abaf",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:e},status:"unloaded",basePath:function(){var t=window.CKEDITOR_BASEPATH||"";if(!t)for(var n=document.getElementsByTagName("script"),r=0;r<n.length;r++){var i=n[r].src.match(e);if(i){t=i[1];break}}if(-1==t.indexOf(":/")&&"//"!=t.slice(0,2)&&(t=0===t.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+t:location.href.match(/^[^\?]*\/(?:)/)[0]+t),!t)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return t}(),getUrl:function(e){return-1==e.indexOf(":/")&&0!==e.indexOf("/")&&(e=this.basePath+e),this.timestamp&&"/"!=e.charAt(e.length-1)&&!/[&?]t=/.test(e)&&(e+=(0<=e.indexOf("?")?"&":"?")+"t="+this.timestamp),e},domReady:function(){function e(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",e,!1),t()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),t())}catch(n){}}function t(){for(var e;e=n.shift();)e()}var n=[];return function(t){function r(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(r,1)}e()}if(n.push(t),"complete"===document.readyState&&setTimeout(e,1),1==n.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e),window.attachEvent("onload",e),t=!1;try{t=!window.frameElement}catch(i){}document.documentElement.doScroll&&t&&r()}}}()},n=window.CKEDITOR_GETURL;if(n){var r=t.getUrl;t.getUrl=function(e){return n.call(t,e)||r.call(t,e)}}return t}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(e){var t,n=CKEDITOR.event.prototype;for(t in n)null==e[t]&&(e[t]=n[t])},CKEDITOR.event.prototype=function(){function e(e){var r=t(this);return r[e]||(r[e]=new n(e))}var t=function(e){return e=e.getPrivate&&e.getPrivate()||e._||(e._={}),e.events||(e.events={})},n=function(e){this.name=e,this.listeners=[]};return n.prototype={getListenerIndex:function(e){for(var t=0,n=this.listeners;t<n.length;t++)if(n[t].fn==e)return t;return-1}},{define:function(t,n){var r=e.call(this,t);CKEDITOR.tools.extend(r,n,!0)},on:function(t,n,r,i,o){function a(e,o,a,l){return e={name:t,sender:this,editor:e,data:o,listenerData:i,stop:a,cancel:l,removeListener:s},!1===n.call(r,e)?!1:e.data}function s(){u.removeListener(t,n)}var l=e.call(this,t);if(0>l.getListenerIndex(n)){l=l.listeners,r||(r=this),isNaN(o)&&(o=10);var u=this;a.fn=n,a.priority=o;for(var c=l.length-1;c>=0;c--)if(l[c].priority<=o)return l.splice(c+1,0,a),{removeListener:s};l.unshift(a)}return{removeListener:s}},once:function(){var e=Array.prototype.slice.call(arguments),t=e[1];return e[1]=function(e){return e.removeListener(),t.apply(this,arguments)},this.on.apply(this,e)},capture:function(){CKEDITOR.event.useCapture=1;var e=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,e},fire:function(){var e=0,n=function(){e=1},r=0,i=function(){r=1};return function(o,a,s){var l=t(this)[o];o=e;var u=r;if(e=r=0,l){var c=l.listeners;if(c.length)for(var d,c=c.slice(0),p=0;p<c.length;p++){if(l.errorProof)try{d=c[p].call(this,s,a,n,i)}catch(f){}else d=c[p].call(this,s,a,n,i);if(!1===d?r=1:"undefined"!=typeof d&&(a=d),e||r)break}}return a=r?!1:"undefined"==typeof a?!0:a,e=o,r=u,a}}(),fireOnce:function(e,n,r){return n=this.fire(e,n,r),delete t(this)[e],n},removeListener:function(e,n){var r=t(this)[e];if(r){var i=r.getListenerIndex(n);i>=0&&r.listeners.splice(i,1)}},removeAllListeners:function(){var e,n=t(this);for(e in n)delete n[e]},hasListeners:function(e){return(e=t(this)[e])&&0<e.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fire.call(this,e,t,this)},CKEDITOR.editor.prototype.fireOnce=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fireOnce.call(this,e,t,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var e=navigator.userAgent.toLowerCase(),t=e.match(/edge[ \/](\d+.?\d*)/),n=-1<e.indexOf("trident/"),n=!(!t&&!n),n={ie:n,edge:!!t,webkit:!n&&-1<e.indexOf(" applewebkit/"),air:-1<e.indexOf(" adobeair/"),mac:-1<e.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<e.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(e),isCustomDomain:function(){if(!this.ie)return!1;var e=document.domain,t=window.location.hostname;return e!=t&&e!="["+t+"]"},secure:"https:"==location.protocol};n.gecko="Gecko"==navigator.product&&!n.webkit&&!n.ie,n.webkit&&(-1<e.indexOf("chrome")?n.chrome=!0:n.safari=!0);var r=0;return n.ie&&(r=t?parseFloat(t[1]):n.quirks||!document.documentMode?parseFloat(e.match(/msie (\d+)/)[1]):document.documentMode,n.ie9Compat=9==r,n.ie8Compat=8==r,n.ie7Compat=7==r,n.ie6Compat=7>r||n.quirks),n.gecko&&(t=e.match(/rv:([\d\.]+)/))&&(t=t[1].split("."),r=1e4*t[0]+100*(t[1]||0)+1*(t[2]||0)),n.air&&(r=parseFloat(e.match(/ adobeair\/(\d+)/)[1])),n.webkit&&(r=parseFloat(e.match(/ applewebkit\/(\d+)/)[1])),n.version=r,n.isCompatible=!(n.ie&&7>r||n.gecko&&4e4>r||n.webkit&&534>r),n.hidpi=2<=window.devicePixelRatio,n.needsBrFiller=n.gecko||n.webkit||n.ie&&r>10,n.needsNbspFiller=n.ie&&11>r,n.cssClass="cke_browser_"+(n.ie?"ie":n.gecko?"gecko":n.webkit?"webkit":"unknown"),n.quirks&&(n.cssClass+=" cke_browser_quirks"),n.ie&&(n.cssClass+=" cke_browser_ie"+(n.quirks?"6 cke_browser_iequirks":n.version)),n.air&&(n.cssClass+=" cke_browser_air"),n.iOS&&(n.cssClass+=" cke_browser_ios"),n.hidpi&&(n.cssClass+=" cke_hidpi"),n}()),"unloaded"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var e=document.createElement("script");e.type="text/javascript",e.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(e)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(e){(this._.pending||(this._.pending=[])).push(e)},function(){CKEDITOR.domReady(function(){var e=CKEDITOR.loadFullCore,t=CKEDITOR.loadFullCoreTimeout;e&&(CKEDITOR.status="basic_ready",e&&e._load?e():t&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1e3*t))})}(),CKEDITOR.status="basic_loaded"}(),CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(e,t){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:e,additionalData:t})},CKEDITOR.error=function(e,t){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:e,additionalData:t})},CKEDITOR.on("log",function(e){if(window.console&&window.console.log){var t=console[e.data.type]?e.data.type:"log",n=e.data.errorCode;(e=e.data.additionalData)?console[t]("[CKEDITOR] Error code: "+n+".",e):console[t]("[CKEDITOR] Error code: "+n+"."),console[t]("[CKEDITOR] For more information about this error go to http://docs.ckeditor.com/#!/guide/dev_errors-section-"+n)}},null,null,999),CKEDITOR.dom={},function(){var e=[],t=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",n=/&/g,r=/>/g,i=/</g,o=/"/g,a=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,s={lt:"<",gt:">",amp:"&",quot:'"',nbsp:" ",shy:"­"},l=function(e,t){return"#"==t[0]?String.fromCharCode(parseInt(t.slice(1),10)):s[t]};CKEDITOR.on("reset",function(){e=[]}),CKEDITOR.tools={arrayCompare:function(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0},getIndex:function(e,t){for(var n=0;n<e.length;++n)if(t(e[n]))return n;return-1},clone:function(e){var t;if(e&&e instanceof Array){t=[];for(var n=0;n<e.length;n++)t[n]=CKEDITOR.tools.clone(e[n]);return t}if(null===e||"object"!=typeof e||e instanceof String||e instanceof Number||e instanceof Boolean||e instanceof Date||e instanceof RegExp||e.nodeType||e.window===e)return e;t=new e.constructor;for(n in e)t[n]=CKEDITOR.tools.clone(e[n]);return t},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},extend:function(e){var t,n,r=arguments.length;"boolean"==typeof(t=arguments[r-1])?r--:"boolean"==typeof(t=arguments[r-2])&&(n=arguments[r-1],r-=2);for(var i=1;r>i;i++){var o,a=arguments[i];for(o in a)(!0===t||null==e[o])&&(!n||o in n)&&(e[o]=a[o])}return e},prototypedCopy:function(e){var t=function(){};return t.prototype=e,new t},copy:function(e){var t,n={};for(t in e)n[t]=e[t];return n},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},cssVendorPrefix:function(e,n,r){return r?t+e+":"+n+";"+e+":"+n:(r={},r[e]=n,r[t+e]=n,r)},cssStyleToDomStyle:function(){var e=document.createElement("div").style,t="undefined"!=typeof e.cssFloat?"cssFloat":"undefined"!=typeof e.styleFloat?"styleFloat":"float";return function(e){return"float"==e?t:e.replace(/-./g,function(e){return e.substr(1).toUpperCase()})}}(),buildStyleHtml:function(e){e=[].concat(e);for(var t,n=[],r=0;r<e.length;r++)(t=e[r])&&n.push(/@import|[{}]/.test(t)?"<style>"+t+"</style>":'<link type="text/css" rel=stylesheet href="'+t+'">');return n.join("")},htmlEncode:function(e){return void 0===e||null===e?"":String(e).replace(n,"&amp;").replace(r,"&gt;").replace(i,"&lt;")},htmlDecode:function(e){return e.replace(a,l)},htmlEncodeAttr:function(e){return CKEDITOR.tools.htmlEncode(e).replace(o,"&quot;")},htmlDecodeAttr:function(e){return CKEDITOR.tools.htmlDecode(e)},transformPlainTextToHtml:function(e,t){var n=t==CKEDITOR.ENTER_BR,r=this.htmlEncode(e.replace(/\r\n/g,"\n")),r=r.replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),i=t==CKEDITOR.ENTER_P?"p":"div";if(!n){var o=/\n{2}/g;if(o.test(r))var a="<"+i+">",s="</"+i+">",r=a+r.replace(o,function(){return s+a})+s}return r=r.replace(/\n/g,"<br>"),n||(r=r.replace(new RegExp("<br>(?=</"+i+">)"),function(e){return CKEDITOR.tools.repeat(e,2)})),r=r.replace(/^ | $/g,"&nbsp;"),r=r.replace(/(>|\s) /g,function(e,t){return t+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:function(){var e=0;return function(){return++e}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var e="e",t=0;8>t;t++)e+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e},override:function(e,t){var n=t(e);return n.prototype=e.prototype,n},setTimeout:function(e,t,n,r,i){return i||(i=window),n||(n=i),i.setTimeout(function(){r?e.apply(n,[].concat(r)):e.apply(n)},t||0)},trim:function(){var e=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(t){return t.replace(e,"")}}(),ltrim:function(){var e=/^[ \t\n\r]+/g;return function(t){return t.replace(e,"")}}(),rtrim:function(){var e=/[ \t\n\r]+$/g;return function(t){return t.replace(e,"")}}(),indexOf:function(e,t){if("function"==typeof t){for(var n=0,r=e.length;r>n;n++)if(t(e[n]))return n}else{if(e.indexOf)return e.indexOf(t);for(n=0,r=e.length;r>n;n++)if(e[n]===t)return n}return-1},search:function(e,t){var n=CKEDITOR.tools.indexOf(e,t);return n>=0?e[n]:null},bind:function(e,t){return function(){return e.apply(t,arguments)}},createClass:function(e){var t=e.$,n=e.base,r=e.privates||e._,i=e.proto;if(e=e.statics,!t&&(t=function(){n&&this.base.apply(this,arguments)}),r)var o=t,t=function(){var e,t=this._||(this._={});for(e in r){var n=r[e];t[e]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}o.apply(this,arguments)};return n&&(t.prototype=this.prototypedCopy(n.prototype),t.prototype.constructor=t,t.base=n,t.baseProto=n.prototype,t.prototype.base=function(){this.base=n.prototype.base,n.apply(this,arguments),this.base=arguments.callee}),i&&this.extend(t.prototype,i,!0),e&&this.extend(t,e,!0),t},addFunction:function(t,n){return e.push(function(){return t.apply(n||this,arguments)})-1},removeFunction:function(t){e[t]=null},callFunction:function(t){var n=e[t];return n&&n.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var e,t=/^-?\d+\.?\d*px$/;return function(n){return e=CKEDITOR.tools.trim(n+"")+"px",t.test(e)?e:n||""}}(),convertToPx:function(){var e;return function(t){return e||(e=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(e)),/%$/.test(t)?t:(e.setStyle("width",t),e.$.clientWidth)}}(),repeat:function(e,t){return Array(t+1).join(e)},tryThese:function(){for(var e,t=0,n=arguments.length;n>t;t++){var r=arguments[t];try{e=r();break}catch(i){}}return e},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(e){return function(){var t=arguments,n=this;window.setTimeout(function(){e.apply(n,t)},0)}},normalizeCssText:function(e,t){var n,r=[],i=CKEDITOR.tools.parseCssText(e,!0,t);for(n in i)r.push(n+":"+i[n]);return r.sort(),r.length?r.join(";")+";":""},convertRgbToHex:function(e){return e.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(e,t,n,r){for(e=[t,n,r],t=0;3>t;t++)e[t]=("0"+parseInt(e[t],10).toString(16)).slice(-2);return"#"+e.join("")})},normalizeHex:function(e){return e.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(e,t,n,r){return e=t.toLowerCase(),3==e.length&&(e=e.split(""),e=[e[0],e[0],e[1],e[1],e[2],e[2]].join("")),"#"+e+r})},parseCssText:function(e,t,n){var r={};return n&&(e=new CKEDITOR.dom.element("span").setAttribute("style",e).getAttribute("style")||""),e&&(e=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(e))),e&&";"!=e?(e.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(e,n,i){t&&(n=n.toLowerCase(),"font-family"==n&&(i=i.replace(/\s*,\s*/g,",")),i=CKEDITOR.tools.trim(i)),r[n]=i}),r):r},writeCssText:function(e,t){var n,r=[];for(n in e)r.push(n+":"+e[n]);return t&&r.sort(),r.join("; ")},objectCompare:function(e,t,n){var r;if(!e&&!t)return!0;if(!e||!t)return!1;for(r in e)if(e[r]!=t[r])return!1;if(!n)for(r in t)if(e[r]!=t[r])return!1;return!0},objectKeys:function(e){var t,n=[];for(t in e)n.push(t);return n},convertArrayToObject:function(e,t){var n={};1==arguments.length&&(t=!0);for(var r=0,i=e.length;i>r;++r)n[e[r]]=t;return n},fixDomain:function(){for(var e;;)try{e=window.parent.document.domain;break}catch(t){if(e=e?e.replace(/.+?(?:\.|$)/,""):document.domain,!e)break;document.domain=e}return!!e},eventsBuffer:function(e,t,n){function r(){o=(new Date).getTime(),i=!1,n?t.call(n):t()}var i,o=0;return{input:function(){if(!i){var t=(new Date).getTime()-o;e>t?i=setTimeout(r,e-t):r()}},reset:function(){i&&clearTimeout(i),i=o=0}}},enableHtml5Elements:function(e,t){for(var n,r="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),i=r.length;i--;)n=e.createElement(r[i]),t&&e.appendChild(n)},checkIfAnyArrayItemMatches:function(e,t){for(var n=0,r=e.length;r>n;++n)if(e[n].match(t))return!0;return!1},checkIfAnyObjectPropertyMatches:function(e,t){for(var n in e)if(n.match(t))return!0;return!1},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(e){e=e.toLowerCase();for(var t,n,r=document.cookie.split(";"),i=0;i<r.length;i++)if(t=r[i].split("="),n=decodeURIComponent(CKEDITOR.tools.trim(t[0]).toLowerCase()),n===e)return decodeURIComponent(1<t.length?t[1]:"");return null},setCookie:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/"},getCsrfToken:function(){var e=CKEDITOR.tools.getCookie("ckCsrfToken");if(!e||40!=e.length){var e=[],t="";if(window.crypto&&window.crypto.getRandomValues)e=new Uint8Array(40),window.crypto.getRandomValues(e);else for(var n=0;40>n;n++)e.push(Math.floor(256*Math.random()));for(n=0;n<e.length;n++)var r="abcdefghijklmnopqrstuvwxyz0123456789".charAt(e[n]%36),t=t+(.5<Math.random()?r.toUpperCase():r);e=t,CKEDITOR.tools.setCookie("ckCsrfToken",e)}return e},escapeCss:function(e){return e?window.CSS&&CSS.escape?CSS.escape(e):isNaN(parseInt(e.charAt(0),10))?e:"\\3"+e.charAt(0)+" "+e.substring(1,e.length):""}}}(),CKEDITOR.dtd=function(){var e=CKEDITOR.tools.extend,t=function(e,t){for(var n=CKEDITOR.tools.clone(e),r=1;r<arguments.length;r++){t=arguments[r];for(var i in t)delete n[i]}return n},n={},r={},i={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},o={command:1,link:1,meta:1,noscript:1,script:1,style:1},a={},s={"#":1},l={center:1,dir:1,noframes:1};return e(n,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},s,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),e(r,i,n,l),t={a:t(n,{a:1,button:1}),abbr:n,address:r,area:a,article:r,aside:r,audio:e({source:1,track:1},r),b:n,base:a,bdi:n,bdo:n,blockquote:r,body:r,br:a,button:t(n,{a:1,button:1}),canvas:n,caption:r,cite:n,code:n,col:a,colgroup:{col:1},command:a,datalist:e({option:1},n),dd:r,del:n,details:e({summary:1},r),dfn:n,div:r,dl:{dt:1,dd:1},dt:r,em:n,embed:a,fieldset:e({legend:1},r),figcaption:r,figure:e({figcaption:1},r),footer:r,form:r,h1:n,h2:n,h3:n,h4:n,h5:n,h6:n,head:e({title:1,base:1},o),header:r,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:a,html:e({head:1,body:1},r,o),i:n,iframe:s,img:a,input:a,ins:n,kbd:n,keygen:a,label:n,legend:n,li:r,link:a,main:r,map:r,mark:n,menu:e({li:1},r),meta:a,meter:t(n,{meter:1}),nav:r,noscript:e({link:1,meta:1,style:1},n),object:e({param:1},n),ol:{li:1},optgroup:{option:1},option:s,output:n,p:n,param:a,pre:n,progress:t(n,{progress:1}),q:n,rp:n,rt:n,ruby:e({rp:1,rt:1},n),s:n,samp:n,script:s,section:r,select:{optgroup:1,option:1},small:n,source:a,span:n,strong:n,style:s,sub:n,summary:e({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},n),sup:n,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:r,textarea:s,tfoot:{tr:1},th:r,thead:{tr:1},time:t(n,{time:1}),title:s,tr:{th:1,td:1},track:a,u:n,ul:{li:1},"var":n,video:e({source:1,track:1},r),wbr:a,acronym:n,applet:e({param:1},r),basefont:a,big:n,center:r,dialog:a,dir:{li:1},font:n,isindex:a,noframes:r,strike:n,tt:n},e(t,{$block:e({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},i,l),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:n,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:e({body:1,head:1,html:1},t.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),t}(),CKEDITOR.dom.event=function(e){this.$=e},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var e=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(e+=CKEDITOR.CTRL),this.$.shiftKey&&(e+=CKEDITOR.SHIFT),this.$.altKey&&(e+=CKEDITOR.ALT),e},preventDefault:function(e){var t=this.$;t.preventDefault?t.preventDefault():t.returnValue=!1,e&&this.stopPropagation()},stopPropagation:function(){var e=this.$;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getTarget:function(){var e=this.$.target||this.$.srcElement;return e?new CKEDITOR.dom.node(e):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var e=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(e.documentElement.scrollLeft||e.body.scrollLeft),y:this.$.pageY||this.$.clientY+(e.documentElement.scrollTop||e.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(e){e&&(this.$=e)},CKEDITOR.dom.domObject.prototype=function(){var e=function(e,t){return function(n){"undefined"!=typeof CKEDITOR&&e.fire(t,new CKEDITOR.dom.event(n))}};return{getPrivate:function(){var e;return(e=this.getCustomData("_"))||this.setCustomData("_",e={}),e},on:function(t){var n=this.getCustomData("_cke_nativeListeners");return n||(n={},this.setCustomData("_cke_nativeListeners",n)),n[t]||(n=n[t]=e(this,t),this.$.addEventListener?this.$.addEventListener(t,n,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+t,n)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(e){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(e)){var t=this.getCustomData("_cke_nativeListeners"),n=t&&t[e];n&&(this.$.removeEventListener?this.$.removeEventListener(e,n,!1):this.$.detachEvent&&this.$.detachEvent("on"+e,n),delete t[e])}},removeAllListeners:function(){var e,t=this.getCustomData("_cke_nativeListeners");for(e in t){var n=t[e];this.$.detachEvent?this.$.detachEvent("on"+e,n):this.$.removeEventListener&&this.$.removeEventListener(e,n,!1),delete t[e]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(e){var t={};CKEDITOR.on("reset",function(){t={}}),e.equals=function(e){try{return e&&e.$===this.$}catch(t){return!1}},e.setCustomData=function(e,n){var r=this.getUniqueId();return(t[r]||(t[r]={}))[e]=n,this},e.getCustomData=function(e){var n=this.$["data-cke-expando"];return(n=n&&t[n])&&e in n?n[e]:null},e.removeCustomData=function(e){var n,r,i=this.$["data-cke-expando"],i=i&&t[i];return i&&(n=i[e],r=e in i,delete i[e]),r?n:null},e.clearCustomData=function(){this.removeAllListeners();var e=this.$["data-cke-expando"];e&&delete t[e]},e.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(e)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(e){return e?new CKEDITOR.dom[e.nodeType==CKEDITOR.NODE_DOCUMENT?"document":e.nodeType==CKEDITOR.NODE_ELEMENT?"element":e.nodeType==CKEDITOR.NODE_TEXT?"text":e.nodeType==CKEDITOR.NODE_COMMENT?"comment":e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](e):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(e,t){return e.append(this,t),e},clone:function(e,t){function n(r){if(r["data-cke-expando"]&&(r["data-cke-expando"]=!1),(r.nodeType==CKEDITOR.NODE_ELEMENT||r.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(t||r.nodeType!=CKEDITOR.NODE_ELEMENT||r.removeAttribute("id",!1),e)){r=r.childNodes;for(var i=0;i<r.length;i++)n(r[i])}}function r(t){if(t.type==CKEDITOR.NODE_ELEMENT||t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(t.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var n=t.getName();":"==n[0]&&t.renameNode(n.substring(1))}if(e)for(n=0;n<t.getChildCount();n++)r(t.getChild(n))}}var i=this.$.cloneNode(e);return n(i),i=new CKEDITOR.dom.node(i),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&r(i),i},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(e){return e.$.parentNode.insertBefore(this.$,e.$.nextSibling),e},insertBefore:function(e){return e.$.parentNode.insertBefore(this.$,e.$),e},insertBeforeMe:function(e){return this.$.parentNode.insertBefore(e.$,this.$),e},getAddress:function(e){for(var t=[],n=this.getDocument().$.documentElement,r=this.$;r&&r!=n;){var i=r.parentNode;i&&t.unshift(this.getIndex.call({$:r},e)),r=i}return t},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(e){function t(e,r){var i=r?e.nextSibling:e.previousSibling;return i&&i.nodeType==CKEDITOR.NODE_TEXT?n(i)?t(i,r):i:null}function n(e){return!e.nodeValue||e.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var r,i=this.$,o=-1;if(!this.$.parentNode||e&&i.nodeType==CKEDITOR.NODE_TEXT&&n(i)&&!t(i)&&!t(i,!0))return-1;do e&&i!=this.$&&i.nodeType==CKEDITOR.NODE_TEXT&&(r||n(i))||(o++,r=i.nodeType==CKEDITOR.NODE_TEXT);while(i=i.previousSibling);return o},getNextSourceNode:function(e,t,n){if(n&&!n.call){var r=n;n=function(e){return!e.equals(r)}}e=!e&&this.getFirst&&this.getFirst();var i;if(!e){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;e=this.getNext()}for(;!e&&(i=(i||this).getParent());){if(n&&!1===n(i,!0))return null;e=i.getNext()}return!e||n&&!1===n(e)?null:t&&t!=e.type?e.getNextSourceNode(!1,t,n):e},getPreviousSourceNode:function(e,t,n){if(n&&!n.call){var r=n;n=function(e){return!e.equals(r)}}e=!e&&this.getLast&&this.getLast();var i;if(!e){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;e=this.getPrevious()}for(;!e&&(i=(i||this).getParent());){if(n&&!1===n(i,!0))return null;e=i.getPrevious()}return!e||n&&!1===n(e)?null:t&&e.type!=t?e.getPreviousSourceNode(!1,t,n):e},getPrevious:function(e){var t,n=this.$;do t=(n=n.previousSibling)&&10!=n.nodeType&&new CKEDITOR.dom.node(n);while(t&&e&&!e(t));return t},getNext:function(e){var t,n=this.$;do t=(n=n.nextSibling)&&new CKEDITOR.dom.node(n);while(t&&e&&!e(t));return t},getParent:function(e){var t=this.$.parentNode;return t&&(t.nodeType==CKEDITOR.NODE_ELEMENT||e&&t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(t):null},getParents:function(e){var t=this,n=[];do n[e?"push":"unshift"](t);while(t=t.getParent());return n},getCommonAncestor:function(e){if(e.equals(this))return this;if(e.contains&&e.contains(this))return e;var t=this.contains?this:this.getParent();do if(t.contains(e))return t;while(t=t.getParent());return null},getPosition:function(e){var t=this.$,n=e.$;if(t.compareDocumentPosition)return t.compareDocumentPosition(n);if(t==n)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&e.type==CKEDITOR.NODE_ELEMENT){if(t.contains){if(t.contains(n))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(n.contains(t))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in t)return 0>t.sourceIndex||0>n.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:t.sourceIndex<n.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}t=this.getAddress(),e=e.getAddress();for(var n=Math.min(t.length,e.length),r=0;n>r;r++)if(t[r]!=e[r])return t[r]<e[r]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return t.length<e.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(e,t){var n,r,i=this.$;t||(i=i.parentNode),"function"==typeof e?(r=!0,n=e):(r=!1,n=function(t){return t="string"==typeof t.nodeName?t.nodeName.toLowerCase():"","string"==typeof e?t==e:t in e});for(;i;){if(n(r?new CKEDITOR.dom.node(i):i))return new CKEDITOR.dom.node(i);try{i=i.parentNode}catch(o){i=null}}return null},hasAscendant:function(e,t){var n=this.$;for(t||(n=n.parentNode);n;){if(n.nodeName&&n.nodeName.toLowerCase()==e)return!0;n=n.parentNode}return!1},move:function(e,t){e.append(this.remove(),t)},remove:function(e){var t=this.$,n=t.parentNode;if(n){if(e)for(;e=t.firstChild;)n.insertBefore(t.removeChild(e),t);n.removeChild(t)}return this},replace:function(e){this.insertBefore(e),e.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var e;this.getFirst&&(e=this.getFirst());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.ltrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(n-t.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var e;this.getLast&&(e=this.getLast());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.rtrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(t.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(e=this.$.lastChild)&&1==e.type&&"br"==e.nodeName.toLowerCase()&&e.parentNode.removeChild(e)},isReadOnly:function(e){var t=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(t=this.getParent()),CKEDITOR.env.edge&&t&&t.is("textarea","input")&&(e=!0),!e&&t&&"undefined"!=typeof t.$.isContentEditable)return!(t.$.isContentEditable||t.data("cke-editable"));for(;t;){if(t.data("cke-editable"))return!1;if(t.hasAttribute("contenteditable"))return"false"==t.getAttribute("contenteditable");t=t.getParent()}return!0}}),CKEDITOR.dom.window=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var e=this.$.document,t="CSS1Compat"==e.compatMode;return{width:(t?e.documentElement.clientWidth:e.body.clientWidth)||0,height:(t?e.documentElement.clientHeight:e.body.clientHeight)||0}},getScrollPosition:function(){var e=this.$;return"pageXOffset"in e?{x:e.pageXOffset||0,y:e.pageYOffset||0}:(e=e.document,{x:e.documentElement.scrollLeft||e.body.scrollLeft||0,y:e.documentElement.scrollTop||e.body.scrollTop||0})},getFrame:function(){var e=this.$.frameElement;return e?new CKEDITOR.dom.element.get(e):null}}),CKEDITOR.dom.document=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(e){if(this.$.createStyleSheet)this.$.createStyleSheet(e);else{var t=new CKEDITOR.dom.element("link");t.setAttributes({rel:"stylesheet",type:"text/css",href:e}),this.getHead().append(t)}},appendStyleText:function(e){if(this.$.createStyleSheet){var t=this.$.createStyleSheet("");t.cssText=e}else{var n=new CKEDITOR.dom.element("style",this);n.append(new CKEDITOR.dom.text(e,this)),this.getHead().append(n)}return t||n.$.sheet},createElement:function(e,t){var n=new CKEDITOR.dom.element(e,this);

return t&&(t.attributes&&n.setAttributes(t.attributes),t.styles&&n.setStyles(t.styles)),n},createText:function(e){return new CKEDITOR.dom.text(e,this)},focus:function(){this.getWindow().focus()},getActive:function(){var e;try{e=this.$.activeElement}catch(t){return null}return new CKEDITOR.dom.element(e)},getById:function(e){return(e=this.$.getElementById(e))?new CKEDITOR.dom.element(e):null},getByAddress:function(e,t){for(var n=this.$.documentElement,r=0;n&&r<e.length;r++){var i=e[r];if(t)for(var o=-1,a=0;a<n.childNodes.length;a++){var s=n.childNodes[a];if((!0!==t||3!=s.nodeType||!s.previousSibling||3!=s.previousSibling.nodeType)&&(o++,o==i)){n=s;break}}else n=n.childNodes[i]}return n?new CKEDITOR.dom.node(n):null},getElementsByTag:function(e,t){return CKEDITOR.env.ie&&8>=document.documentMode||!t||(e=t+":"+e),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(e))},getHead:function(){var e=this.$.getElementsByTagName("head")[0];return e=e?new CKEDITOR.dom.element(e):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(e){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(e=e.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();</script>")),this.$.write(e),this.$.close()},find:function(e){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e))},findOne:function(e){return(e=this.$.querySelector(e))?new CKEDITOR.dom.element(e):null},_getHtml5ShivFrag:function(){var e=this.getCustomData("html5ShivFrag");return e||(e=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(e,!0),this.setCustomData("html5ShivFrag",e)),e}}),CKEDITOR.dom.nodeList=function(e){this.$=e},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(e){return 0>e||e>=this.$.length?null:(e=this.$[e])?new CKEDITOR.dom.node(e):null}},CKEDITOR.dom.element=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createElement(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.element.get=function(e){return(e="string"==typeof e?document.getElementById(e)||document.getElementsByName(e)[0]:e)&&(e.$?e:new CKEDITOR.dom.element(e))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(e,t){var n=new CKEDITOR.dom.element("div",t);return n.setHtml(e),n.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(e,t,n,r){var i=t.getCustomData("list_marker_id")||t.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),o=t.getCustomData("list_marker_names")||t.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return e[i]=t,o[n]=1,t.setCustomData(n,r)},CKEDITOR.dom.element.clearAllMarkers=function(e){for(var t in e)CKEDITOR.dom.element.clearMarkers(e,e[t],1)},CKEDITOR.dom.element.clearMarkers=function(e,t,n){var r,i=t.getCustomData("list_marker_names"),o=t.getCustomData("list_marker_id");for(r in i)t.removeCustomData(r);t.removeCustomData("list_marker_names"),n&&(t.removeCustomData("list_marker_id"),delete e[o])},function(){function e(e,t){return-1<(" "+e+" ").replace(o," ").indexOf(" "+t+" ")}function t(e){var t=!0;return e.$.id||(e.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),t=!1),function(){t||e.removeAttribute("id")}}function n(e,t){var n=CKEDITOR.tools.escapeCss(e.$.id);return"#"+n+" "+t.split(/,\s*/).join(", #"+n+" ")}function r(e){for(var t=0,n=0,r=a[e].length;r>n;n++)t+=parseInt(this.getComputedStyle(a[e][n])||0,10)||0;return t}var i=document.createElement("_").classList,i="undefined"!=typeof i&&null!==String(i.add).match(/\[Native code\]/gi),o=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:i?function(e){return this.$.classList.add(e),this}:function(t){var n=this.$.className;return n&&(e(n,t)||(n+=" "+t)),this.$.className=n||t,this},removeClass:i?function(e){var t=this.$;return t.classList.remove(e),t.className||t.removeAttribute("class"),this}:function(t){var n=this.getAttribute("class");return n&&e(n,t)&&((n=n.replace(new RegExp("(?:^|\\s+)"+t+"(?=\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",n):this.removeAttribute("class")),this},hasClass:function(t){return e(this.$.className,t)},append:function(e,t){return"string"==typeof e&&(e=this.getDocument().createElement(e)),t?this.$.insertBefore(e.$,this.$.firstChild):this.$.appendChild(e.$),e},appendHtml:function(e){if(this.$.childNodes.length){var t=new CKEDITOR.dom.element("div",this.getDocument());t.setHtml(e),t.moveChildren(this)}else this.setHtml(e)},appendText:function(e){null!=this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=e:this.append(new CKEDITOR.dom.text(e))},appendBogus:function(e){if(e||CKEDITOR.env.needsBrFiller){for(e=this.getLast();e&&e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(e.getText());)e=e.getPrevious();e&&e.is&&e.is("br")||(e=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&e.setAttribute("type","_moz"),this.append(e))}},breakParent:function(e,t){var n=new CKEDITOR.dom.range(this.getDocument());n.setStartAfter(this),n.setEndAfter(e);var r,i=n.extractContents(!1,t||!1);if(n.insertNode(this.remove()),CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(n=new CKEDITOR.dom.element("div");r=i.getFirst();)r.$.style.backgroundColor&&(r.$.style.backgroundColor=r.$.style.backgroundColor),n.append(r);n.insertAfter(this),n.remove(!0)}else i.insertAfterNode(this)},contains:document.compareDocumentPosition?function(e){return!!(16&this.$.compareDocumentPosition(e.$))}:function(e){var t=this.$;return e.type!=CKEDITOR.NODE_ELEMENT?t.contains(e.getParent().$):t!=e.$&&t.contains(e.$)},focus:function(){function e(){try{this.$.focus()}catch(e){}}return function(t){t?CKEDITOR.tools.setTimeout(e,100,this):e.call(this)}}(),getHtml:function(){var e=this.$.innerHTML;return CKEDITOR.env.ie?e.replace(/<\?[^>]*>/g,""):e},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var e=this.$.ownerDocument.createElement("div");return e.appendChild(this.$.cloneNode(!0)),e.innerHTML},getClientRect:function(){var e=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!e.width&&(e.width=e.right-e.left),!e.height&&(e.height=e.bottom-e.top),e},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(e){try{var t=this.$;if(this.getParent())return t.innerHTML=e;var n=this.getDocument()._getHtml5ShivFrag();return n.appendChild(t),t.innerHTML=e,n.removeChild(t),e}catch(r){for(this.$.innerHTML="",t=new CKEDITOR.dom.element("body",this.getDocument()),t.$.innerHTML=e,t=t.getChildren();t.count();)this.append(t.getItem(0));return e}}:function(e){return this.$.innerHTML=e},setText:function(){var e=document.createElement("p");return e.innerHTML="x",e=e.textContent,function(t){this.$[e?"textContent":"innerText"]=t}}(),getAttribute:function(){var e=function(e){return this.$.getAttribute(e,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){switch(e){case"class":e="className";break;case"http-equiv":e="httpEquiv";break;case"name":return this.$.name;case"tabindex":return e=this.$.getAttribute(e,2),0!==e&&0===this.$.tabIndex&&(e=null),e;case"checked":return e=this.$.attributes.getNamedItem(e),(e.specified?e.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[e];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(e,2)}:e}(),getAttributes:function(e){var t,n={},r=this.$.attributes;for(e=CKEDITOR.tools.isArray(e)?e:[],t=0;t<r.length;t++)-1===CKEDITOR.tools.indexOf(e,r[t].name)&&(n[r[t].name]=r[t].value);return n},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(e){var t=this.getWindow().$.getComputedStyle(this.$,null);return t?t.getPropertyValue(e):""}:function(e){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(e)]},getDtd:function(){var e=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return e},e},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var e=this.$.tabIndex;return 0!==e||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?e:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var e=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var t=this.$.scopeName;"HTML"!=t&&(e=t.toLowerCase()+":"+e)}return this.getName=function(){return e},this.getName()},getValue:function(){return this.$.value},getFirst:function(e){var t=this.$.firstChild;return(t=t&&new CKEDITOR.dom.node(t))&&e&&!e(t)&&(t=t.getNext(e)),t},getLast:function(e){var t=this.$.lastChild;return(t=t&&new CKEDITOR.dom.node(t))&&e&&!e(t)&&(t=t.getPrevious(e)),t},getStyle:function(e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]},is:function(){var e=this.getName();if("object"==typeof arguments[0])return!!arguments[0][e];for(var t=0;t<arguments.length;t++)if(arguments[t]==e)return!0;return!1},isEditable:function(e){var t=this.getName();return this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[t]||CKEDITOR.dtd.$empty[t]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount()?!1:!1!==e?(e=CKEDITOR.dtd[t]||CKEDITOR.dtd.span,!(!e||!e["#"])):!0},isIdentical:function(e){var t=this.clone(0,1);if(e=e.clone(0,1),t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.$.isEqualNode)return t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.isEqualNode(e.$);if(t=t.getOuterHtml(),e=e.getOuterHtml(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is("a")){var n=this.getParent();n.type==CKEDITOR.NODE_ELEMENT&&(n=n.clone(),n.setHtml(t),t=n.getHtml(),n.setHtml(e),e=n.getHtml())}return t==e},isVisible:function(){var e,t,n=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return n&&CKEDITOR.env.webkit&&(e=this.getWindow(),!e.equals(CKEDITOR.document.getWindow())&&(t=e.$.frameElement)&&(n=new CKEDITOR.dom.element(t).isVisible())),!!n},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var e=this.getChildren(),t=0,n=e.count();n>t;t++){var r=e.getItem(t);if((r.type!=CKEDITOR.NODE_ELEMENT||!r.data("cke-bookmark"))&&(r.type==CKEDITOR.NODE_ELEMENT&&!r.isEmptyInlineRemoveable()||r.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(r.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var e=this.$.attributes,t=0;t<e.length;t++){var n=e[t];switch(n.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(n.specified)return!0}}return!1}:function(){var e=this.$.attributes,t=e.length,n={"data-cke-expando":1,_moz_dirty:1};return t>0&&(t>2||!n[e[0].nodeName]||2==t&&!n[e[1].nodeName])},hasAttribute:function(){function e(e){var t=this.$.attributes.getNamedItem(e);if("input"==this.getName())switch(e){case"class":return 0<this.$.className.length;case"checked":return!!this.$.checked;case"value":return e=this.getAttribute("type"),"checkbox"==e||"radio"==e?"on"!=this.$.value:!!this.$.value}return t?t.specified:!1}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(t){return"name"==t?!!this.$.name:e.call(this,t)}:e:function(e){return!!this.$.attributes.getNamedItem(e)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(e,t){var n=this.$;if(e=e.$,n!=e){var r;if(t)for(;r=n.lastChild;)e.insertBefore(n.removeChild(r),e.firstChild);else for(;r=n.firstChild;)e.appendChild(n.removeChild(r))}},mergeSiblings:function(){function e(e,t,n){if(t&&t.type==CKEDITOR.NODE_ELEMENT){for(var r=[];t.data("cke-bookmark")||t.isEmptyInlineRemoveable();)if(r.push(t),t=n?t.getNext():t.getPrevious(),!t||t.type!=CKEDITOR.NODE_ELEMENT)return;if(e.isIdentical(t)){for(var i=n?e.getLast():e.getFirst();r.length;)r.shift().move(e,!n);t.moveChildren(e,!n),t.remove(),i&&i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings()}}}return function(t){(!1===t||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(e(this,this.getNext(),!0),e(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var e=function(e,t){return this.$.setAttribute(e,t),this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t,n){return"class"==t?this.$.className=n:"style"==t?this.$.style.cssText=n:"tabindex"==t?this.$.tabIndex=n:"checked"==t?this.$.checked=n:"contenteditable"==t?e.call(this,"contentEditable",n):e.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(t,n){if("src"==t&&n.match(/^http:\/\//))try{e.apply(this,arguments)}catch(r){}else e.apply(this,arguments);return this}:e}(),setAttributes:function(e){for(var t in e)this.setAttribute(t,e[t]);return this},setValue:function(e){return this.$.value=e,this},removeAttribute:function(){var e=function(e){this.$.removeAttribute(e)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){"class"==e?e="className":"tabindex"==e?e="tabIndex":"contenteditable"==e&&(e="contentEditable"),this.$.removeAttribute(e)}:e}(),removeAttributes:function(e){if(CKEDITOR.tools.isArray(e))for(var t=0;t<e.length;t++)this.removeAttribute(e[t]);else for(t in e=e||this.getAttributes())e.hasOwnProperty(t)&&this.removeAttribute(t)},removeStyle:function(e){var t=this.$.style;if(t.removeProperty||"border"!=e&&"margin"!=e&&"padding"!=e)t.removeProperty?t.removeProperty(e):t.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(e)),this.$.style.cssText||this.removeAttribute("style");else{var n,r=["top","left","right","bottom"];"border"==e&&(n=["color","style","width"]);for(var t=[],i=0;i<r.length;i++)if(n)for(var o=0;o<n.length;o++)t.push([e,r[i],n[o]].join("-"));else t.push([e,r[i]].join("-"));for(e=0;e<t.length;e++)this.removeStyle(t[e])}},setStyle:function(e,t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]=t,this},setStyles:function(e){for(var t in e)this.setStyle(t,e[t]);return this},setOpacity:function(e){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(e=Math.round(100*e),this.setStyle("filter",e>=100?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+e+")")):this.setStyle("opacity",e)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var e,t=this.getElementsByTag("*"),n=0,r=t.count();r>n;n++)e=t.getItem(n),e.setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var e=this;"html"!=e.getName();){if("static"!=e.getComputedStyle("position"))return e;e=e.getParent()}return null},getDocumentPosition:function(e){var t=0,n=0,r=this.getDocument(),i=r.getBody(),o="BackCompat"==r.$.compatMode;if(document.documentElement.getBoundingClientRect&&(CKEDITOR.env.ie?8!==CKEDITOR.env.version:1)){var a=this.$.getBoundingClientRect(),s=r.$.documentElement,l=s.clientTop||i.$.clientTop||0,u=s.clientLeft||i.$.clientLeft||0,c=!0;CKEDITOR.env.ie&&(c=r.getDocumentElement().contains(this),r=r.getBody().contains(this),c=o&&r||!o&&c),c&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(t=i.$.scrollLeft||s.scrollLeft,n=i.$.scrollTop||s.scrollTop):(n=o?i.$:s,t=n.scrollLeft,n=n.scrollTop),t=a.left+t-u,n=a.top+n-l)}else for(l=this,u=null;l&&"body"!=l.getName()&&"html"!=l.getName();){for(t+=l.$.offsetLeft-l.$.scrollLeft,n+=l.$.offsetTop-l.$.scrollTop,l.equals(this)||(t+=l.$.clientLeft||0,n+=l.$.clientTop||0);u&&!u.equals(l);)t-=u.$.scrollLeft,n-=u.$.scrollTop,u=u.getParent();u=l,l=(a=l.$.offsetParent)?new CKEDITOR.dom.element(a):null}return e&&(a=this.getWindow(),l=e.getWindow(),!a.equals(l)&&a.$.frameElement&&(e=new CKEDITOR.dom.element(a.$.frameElement).getDocumentPosition(e),t+=e.x,n+=e.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||o||(t+=this.$.clientLeft?1:0,n+=this.$.clientTop?1:0),{x:t,y:n}},scrollIntoView:function(e){var t=this.getParent();if(t)do if((t.$.clientWidth&&t.$.clientWidth<t.$.scrollWidth||t.$.clientHeight&&t.$.clientHeight<t.$.scrollHeight)&&!t.is("body")&&this.scrollIntoParent(t,e,1),t.is("html")){var n=t.getWindow();try{var r=n.$.frameElement;r&&(t=new CKEDITOR.dom.element(r))}catch(i){}}while(t=t.getParent())},scrollIntoParent:function(e,t,n){function r(t,n){/body|html/.test(e.getName())?e.getWindow().$.scrollBy(t,n):(e.$.scrollLeft+=t,e.$.scrollTop+=n)}function i(e,t){var n={x:0,y:0};if(!e.is(c?"body":"html")){var r=e.$.getBoundingClientRect();n.x=r.left,n.y=r.top}return r=e.getWindow(),r.equals(t)||(r=i(CKEDITOR.dom.element.get(r.$.frameElement),t),n.x+=r.x,n.y+=r.y),n}function o(e,t){return parseInt(e.getComputedStyle("margin-"+t)||0,10)||0}var a,s,l,u;!e&&(e=this.getWindow()),l=e.getDocument();var c="BackCompat"==l.$.compatMode;e instanceof CKEDITOR.dom.window&&(e=c?l.getBody():l.getDocumentElement()),l=e.getWindow(),s=i(this,l);var d=i(e,l),p=this.$.offsetHeight;a=this.$.offsetWidth;var f=e.$.clientHeight,h=e.$.clientWidth;l=s.x-o(this,"left")-d.x||0,u=s.y-o(this,"top")-d.y||0,a=s.x+a+o(this,"right")-(d.x+h)||0,s=s.y+p+o(this,"bottom")-(d.y+f)||0,(0>u||s>0)&&r(0,!0===t?u:!1===t?s:0>u?u:s),n&&(0>l||a>0)&&r(0>l?l:a,0)},setState:function(e,t,n){switch(t=t||"cke",e){case CKEDITOR.TRISTATE_ON:this.addClass(t+"_on"),this.removeClass(t+"_off"),this.removeClass(t+"_disabled"),n&&this.setAttribute("aria-pressed",!0),n&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(t+"_disabled"),this.removeClass(t+"_off"),this.removeClass(t+"_on"),n&&this.setAttribute("aria-disabled",!0),n&&this.removeAttribute("aria-pressed");break;default:this.addClass(t+"_off"),this.removeClass(t+"_on"),this.removeClass(t+"_disabled"),n&&this.removeAttribute("aria-pressed"),n&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var e=this.$;try{e.contentWindow.document}catch(t){e.src=e.src}return e&&new CKEDITOR.dom.document(e.contentWindow.document)},copyAttributes:function(e,t){var n=this.$.attributes;t=t||{};for(var r=0;r<n.length;r++){var i,o=n[r],a=o.nodeName.toLowerCase();a in t||("checked"==a&&(i=this.getAttribute(a))?e.setAttribute(a,i):(!CKEDITOR.env.ie||this.hasAttribute(a))&&(i=this.getAttribute(a),null===i&&(i=o.nodeValue),e.setAttribute(a,i)))}""!==this.$.style.cssText&&(e.$.style.cssText=this.$.style.cssText)},renameNode:function(e){if(this.getName()!=e){var t=this.getDocument();e=new CKEDITOR.dom.element(e,t),this.copyAttributes(e),this.moveChildren(e),this.getParent(!0)&&this.$.parentNode.replaceChild(e.$,this.$),e.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=e.$,delete this.getName}},getChild:function(){function e(e,t){var n=e.childNodes;return t>=0&&t<n.length?n[t]:void 0}return function(t){var n=this.$;if(t.slice)for(t=t.slice();0<t.length&&n;)n=e(n,t.shift());else n=e(n,t);return n?new CKEDITOR.dom.node(n):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function e(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(t){t.data.getTarget().getAscendant(e,!0)||t.data.preventDefault()})},getDirection:function(e){return e?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(e,t){return e="data-"+e,void 0===t?this.getAttribute(e):(!1===t?this.removeAttribute(e):this.setAttribute(e,t),null)},getEditor:function(){var e,t,n=CKEDITOR.instances;for(e in n)if(t=n[e],t.element.equals(this)&&t.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO)return t;return null},find:function(e){var r=t(this);return e=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(n(this,e))),r(),e},findOne:function(e){var r=t(this);return e=this.$.querySelector(n(this,e)),r(),e?new CKEDITOR.dom.element(e):null},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var r=e(this);if(!1!==r){n=this.getChildren();for(var i=0;i<n.count();i++)r=n.getItem(i),r.type==CKEDITOR.NODE_ELEMENT?r.forEach(e,t):t&&r.type!=t||e(r)}}});var a={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(e,t,n){"number"==typeof t&&(!n||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(t-=r.call(this,e)),this.setStyle(e,t+"px"))},CKEDITOR.dom.element.prototype.getSize=function(e,t){var n=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(e)],this.$["client"+CKEDITOR.tools.capitalize(e)])||0;return t&&(n-=r.call(this,e)),n}}(),CKEDITOR.dom.documentFragment=function(e){e=e||CKEDITOR.document,this.$=e.type==CKEDITOR.NODE_DOCUMENT?e.$.createDocumentFragment():e},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(e){e=e.$,e.parentNode.insertBefore(this.$,e.nextSibling)},getHtml:function(){var e=new CKEDITOR.dom.element("div");return this.clone(1,1).appendTo(e),e.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),function(){function e(e,t){var n=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,n.collapsed)return this.end(),null;n.optimize()}var r,i=n.startContainer;r=n.endContainer;var o,a=n.startOffset,s=n.endOffset,l=this.guard,u=this.type,c=e?"getPreviousSourceNode":"getNextSourceNode";if(!e&&!this._.guardLTR){var d=r.type==CKEDITOR.NODE_ELEMENT?r:r.getParent(),p=r.type==CKEDITOR.NODE_ELEMENT?r.getChild(s):r.getNext();this._.guardLTR=function(e,t){return!(t&&d.equals(e)||p&&e.equals(p)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}if(e&&!this._.guardRTL){var f=i.type==CKEDITOR.NODE_ELEMENT?i:i.getParent(),h=i.type==CKEDITOR.NODE_ELEMENT?a?i.getChild(a-1):null:i.getPrevious();this._.guardRTL=function(e,t){return!(t&&f.equals(e)||h&&e.equals(h)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}var m=e?this._.guardRTL:this._.guardLTR;for(o=l?function(e,t){return!1===m(e,t)?!1:l(e,t)}:m,this.current?r=this.current[c](!1,u,o):(e?r.type==CKEDITOR.NODE_ELEMENT&&(r=s>0?r.getChild(s-1):!1===o(r,!0)?null:r.getPreviousSourceNode(!0,u,o)):(r=i,r.type==CKEDITOR.NODE_ELEMENT&&((r=r.getChild(a))||(r=!1===o(i,!0)?null:i.getNextSourceNode(!0,u,o)))),r&&!1===o(r)&&(r=null));r&&!this._.end;){if(this.current=r,this.evaluator&&!1===this.evaluator(r)){if(t&&this.evaluator)return!1}else if(!t)return r;r=r[c](!1,u,o)}return this.end(),this.current=null}function t(t){for(var n,r=null;n=e.call(this,t);)r=n;return r}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(e){this.range=e,this._={}},proto:{end:function(){this._.end=1},next:function(){return e.call(this)},previous:function(){return e.call(this,1)},checkForward:function(){return!1!==e.call(this,0,1)},checkBackward:function(){return!1!==e.call(this,1,1)},lastForward:function(){return t.call(this)},lastBackward:function(){return t.call(this,1)},reset:function(){delete this.current,this._={}}}});var n={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},r={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(e){return"none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in r||!n[this.getComputedStyle("display")]?!!(this.is(CKEDITOR.dtd.$block)||e&&this.is(e)):!0},CKEDITOR.dom.walker.blockBoundary=function(e){return function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary(e))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(e,t){function n(e){return e&&e.getName&&"span"==e.getName()&&e.data("cke-bookmark")}return function(r){var i,o;return i=r&&r.type!=CKEDITOR.NODE_ELEMENT&&(o=r.getParent())&&n(o),i=e?i:i||n(r),!!(t^i)}},CKEDITOR.dom.walker.whitespaces=function(e){return function(t){var n;return t&&t.type==CKEDITOR.NODE_TEXT&&(n=!CKEDITOR.tools.trim(t.getText())||CKEDITOR.env.webkit&&t.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE),!!(e^n)}},CKEDITOR.dom.walker.invisible=function(e){var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.env.webkit?1:0;return function(r){return t(r)?r=1:(r.type==CKEDITOR.NODE_TEXT&&(r=r.getParent()),r=r.$.offsetWidth<=n),!!(e^r)}},CKEDITOR.dom.walker.nodeType=function(e,t){return function(n){return!!(t^n.type==e)}},CKEDITOR.dom.walker.bogus=function(e){function t(e){return!o(e)&&!a(e)}return function(n){var r=CKEDITOR.env.needsBrFiller?n.is&&n.is("br"):n.getText&&i.test(n.getText());return r&&(r=n.getParent(),n=n.getNext(t),r=r.isBlockBoundary()&&(!n||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary())),!!(e^r)}},CKEDITOR.dom.walker.temp=function(e){return function(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t=t&&t.hasAttribute("data-cke-temp"),!!(e^t)}};var i=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,o=CKEDITOR.dom.walker.whitespaces(),a=CKEDITOR.dom.walker.bookmark(),s=CKEDITOR.dom.walker.temp(),l=function(e){return a(e)||o(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$inline)&&!e.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(e){return function(t){return t=o(t)||a(t)||s(t),!!(e^t)}};var u=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(e){return function(t){for(var n=0,r=t.getChildCount();r>n;++n)if(!u(t.getChild(n)))return!!e;return!e}};var c=CKEDITOR.dom.walker.empty(),d=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(e){var t,n={};for(t in e)CKEDITOR.dtd[t]["#"]&&(n[t]=1);return n}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(e){return function(t){return t=u(t)?!1:t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&(t.is(CKEDITOR.dtd.$inline)||t.is("hr")||"false"==t.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&t.is(d)&&c(t))?!0:!1,!!(e^t)}},CKEDITOR.dom.element.prototype.getBogus=function(){var e=this;do e=e.getPreviousSourceNode();while(l(e));return e&&(CKEDITOR.env.needsBrFiller?e.is&&e.is("br"):e.getText&&i.test(e.getText()))?e:!1}}(),CKEDITOR.dom.range=function(e){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var t=e instanceof CKEDITOR.dom.document;this.document=t?e:e.getDocument(),this.root=t?e.getBody():e},function(){function e(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer.equals(e.endContainer)&&e.startOffset==e.endOffset}function t(e,t,n,r,i){function o(e,t,n,r){var o=n?e.getPrevious():e.getNext();return r&&l?o:(c||r?t.append(e.clone(!0,i),n):(e.remove(),u&&t.append(e)),o)}function a(){var e,t,n,r=Math.min(D.length,O.length);for(e=0;r>e;e++)if(t=D[e],n=O[e],!t.equals(n))return e;return e-1}function s(){var t=I-1,n=f&&h&&!v.equals(b);R-1>t||$-1>t||n?(n?e.moveToPosition(b,CKEDITOR.POSITION_BEFORE_START):$==t+1&&p?e.moveToPosition(O[t],CKEDITOR.POSITION_BEFORE_END):e.moveToPosition(O[t+1],CKEDITOR.POSITION_BEFORE_START),r&&(t=D[t+1])&&t.type==CKEDITOR.NODE_ELEMENT&&(n=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',e.document),n.insertAfter(t),t.mergeSiblings(!1),e.moveToBookmark({startNode:n}))):e.collapse(!0)}e.optimizeBookmark();var l=0===t,u=1==t,c=2==t;t=c||u;var d,p,f,h,m,g,v=e.startContainer,b=e.endContainer,y=e.startOffset,C=e.endOffset;if(c&&b.type==CKEDITOR.NODE_TEXT&&v.equals(b))v=e.document.createText(v.substring(y,C)),n.append(v);else{b.type==CKEDITOR.NODE_TEXT?c?g=!0:b=b.split(C):0<b.getChildCount()?C>=b.getChildCount()?(b=b.getChild(C-1),p=!0):b=b.getChild(C):h=p=!0,v.type==CKEDITOR.NODE_TEXT?c?m=!0:v.split(y):0<v.getChildCount()?0===y?(v=v.getChild(y),d=!0):v=v.getChild(y-1):f=d=!0;for(var E,T,w,D=v.getParents(),O=b.getParents(),I=a(),R=D.length-1,$=O.length-1,x=n,k=-1,_=I;R>=_;_++){for(T=D[_],w=T.getNext(),_!=R||T.equals(O[_])&&$>R?t&&(E=x.append(T.clone(0,i))):d?o(T,x,!1,f):m&&x.append(e.document.createText(T.substring(y)));w;){if(w.equals(O[_])){k=_;break}w=o(w,x)}x=E}for(x=n,_=I;$>=_;_++)if(n=O[_],w=n.getPrevious(),n.equals(D[_]))t&&(x=x.getChild(0));else{if(_!=$||n.equals(D[_])&&R>$?t&&(E=x.append(n.clone(0,i))):p?o(n,x,!1,h):g&&x.append(e.document.createText(n.substring(0,C))),_>k)for(;w;)w=o(w,x,!0);x=E}c||s()}}function n(){var e=!1,t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!0),r=CKEDITOR.dom.walker.bogus();return function(i){return n(i)||t(i)?!0:r(i)&&!e?e=!0:i.type==CKEDITOR.NODE_TEXT&&(i.hasAscendant("pre")||CKEDITOR.tools.trim(i.getText()).length)||i.type==CKEDITOR.NODE_ELEMENT&&!i.is(o)?!1:!0}}function r(e){var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(1);return function(r){return n(r)||t(r)?!0:!e&&a(r)||r.type==CKEDITOR.NODE_ELEMENT&&r.is(CKEDITOR.dtd.$removeEmpty)}}function i(e){return function(){var t;return this[e?"getPreviousNode":"getNextNode"](function(e){return!t&&u(e)&&(t=e),l(e)&&!(a(e)&&e.equals(t))})}}var o={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},a=CKEDITOR.dom.walker.bogus(),s=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,l=CKEDITOR.dom.walker.editable(),u=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var e=new CKEDITOR.dom.range(this.root);return e._setStartContainer(this.startContainer),e.startOffset=this.startOffset,e._setEndContainer(this.endContainer),e.endOffset=this.endOffset,e.collapsed=this.collapsed,e},collapse:function(e){e?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(e){var n=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||t(this,2,n,!1,"undefined"==typeof e?!0:e),n},deleteContents:function(e){this.collapsed||t(this,0,null,e)},extractContents:function(e,n){var r=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||t(this,1,r,e,"undefined"==typeof n?!0:n),r},createBookmark:function(e){var t,n,r,i,o=this.collapsed;return t=this.document.createElement("span"),t.data("cke-bookmark",1),t.setStyle("display","none"),t.setHtml("&nbsp;"),e&&(r="cke_bm_"+CKEDITOR.tools.getNextNumber(),t.setAttribute("id",r+(o?"C":"S"))),o||(n=t.clone(),n.setHtml("&nbsp;"),e&&n.setAttribute("id",r+"E"),i=this.clone(),i.collapse(),i.insertNode(n)),i=this.clone(),i.collapse(!0),i.insertNode(t),n?(this.setStartAfter(t),this.setEndBefore(n)):this.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),{startNode:e?r+(o?"C":"S"):t,endNode:e?r+"E":n,serializable:e,collapsed:o}},createBookmark2:function(){function e(e){var t,r=e.container,i=e.offset;t=r;var o=i;if(t=t.type!=CKEDITOR.NODE_ELEMENT||0===o||o==t.getChildCount()?0:t.getChild(o-1).type==CKEDITOR.NODE_TEXT&&t.getChild(o).type==CKEDITOR.NODE_TEXT,
t&&(r=r.getChild(i-1),i=r.getLength()),r.type==CKEDITOR.NODE_ELEMENT&&i>0){e:{for(t=r;i--;)if(o=t.getChild(i).getIndex(!0),o>=0){i=o;break e}i=-1}i+=1}if(r.type==CKEDITOR.NODE_TEXT){for(t=r,o=0;(t=t.getPrevious())&&t.type==CKEDITOR.NODE_TEXT;)o+=t.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;t=o,r.getText()?i+=t:(o=r.getPrevious(n),t?(i=t,r=o?o.getNext():r.getParent().getFirst()):(r=r.getParent(),i=o?o.getIndex(!0)+1:0))}e.container=r,e.offset=i}function t(e,t){var n=t.getCustomData("cke-fillingChar");if(n){var r=e.container;n.equals(r)&&(e.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=e.offset&&(e.offset=r.getIndex(),e.container=r.getParent()))}}var n=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(n){var r=this.collapsed,i={container:this.startContainer,offset:this.startOffset},o={container:this.endContainer,offset:this.endOffset};return n&&(e(i),t(i,this.root),r||(e(o),t(o,this.root))),{start:i.container.getAddress(n),end:r?null:o.container.getAddress(n),startOffset:i.offset,endOffset:o.offset,normalized:n,collapsed:r,is2:!0}}}(),moveToBookmark:function(e){if(e.is2){var t=this.document.getByAddress(e.start,e.normalized),n=e.startOffset,r=e.end&&this.document.getByAddress(e.end,e.normalized);e=e.endOffset,this.setStart(t,n),r?this.setEnd(r,e):this.collapse(!0)}else t=(n=e.serializable)?this.document.getById(e.startNode):e.startNode,e=n?this.document.getById(e.endNode):e.endNode,this.setStartBefore(t),t.remove(),e?(this.setEndBefore(e),e.remove()):this.collapse(!0)},getBoundaryNodes:function(){var e,t=this.startContainer,n=this.endContainer,r=this.startOffset,i=this.endOffset;if(t.type==CKEDITOR.NODE_ELEMENT)if(e=t.getChildCount(),e>r)t=t.getChild(r);else if(1>e)t=t.getPreviousSourceNode();else{for(t=t.$;t.lastChild;)t=t.lastChild;t=new CKEDITOR.dom.node(t),t=t.getNextSourceNode()||t}if(n.type==CKEDITOR.NODE_ELEMENT)if(e=n.getChildCount(),e>i)n=n.getChild(i).getPreviousSourceNode(!0);else if(1>e)n=n.getPreviousSourceNode();else{for(n=n.$;n.lastChild;)n=n.lastChild;n=new CKEDITOR.dom.node(n)}return t.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(t=n),{startNode:t,endNode:n}},getCommonAncestor:function(e,t){var n=this.startContainer,r=this.endContainer,n=n.equals(r)?e&&n.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?n.getChild(this.startOffset):n:n.getCommonAncestor(r);return t&&!n.is?n.getParent():n},optimize:function(){var e=this.startContainer,t=this.startOffset;e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setStartAfter(e):this.setStartBefore(e)),e=this.endContainer,t=this.endOffset,e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setEndAfter(e):this.setEndBefore(e))},optimizeBookmark:function(){var e=this.startContainer,t=this.endContainer;e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),t&&t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setEndAt(t,CKEDITOR.POSITION_AFTER_END)},trim:function(e,t){var n=this.startContainer,r=this.startOffset,i=this.collapsed;if((!e||i)&&n&&n.type==CKEDITOR.NODE_TEXT){if(r)if(r>=n.getLength())r=n.getIndex()+1,n=n.getParent();else{var o=n.split(r),r=n.getIndex()+1,n=n.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(o,this.endOffset-this.startOffset):n.equals(this.endContainer)&&(this.endOffset+=1)}else r=n.getIndex(),n=n.getParent();if(this.setStart(n,r),i)return void this.collapse(!0)}n=this.endContainer,r=this.endOffset,t||i||!n||n.type!=CKEDITOR.NODE_TEXT||(r?(r>=n.getLength()||n.split(r),r=n.getIndex()+1):r=n.getIndex(),n=n.getParent(),this.setEnd(n,r))},enlarge:function(e,t){function n(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable")?null:e}var r=new RegExp(/[^\s\ufeff]/);switch(e){case CKEDITOR.ENLARGE_INLINE:var i=1;case CKEDITOR.ENLARGE_ELEMENT:var o=function(e,t){var n=new CKEDITOR.dom.range(h);n.setStart(e,t),n.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);var i,n=new CKEDITOR.dom.walker(n);for(n.guard=function(e){return!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary())};i=n.next();){if(i.type!=CKEDITOR.NODE_TEXT)return!1;if(p=i!=e?i.getText():i.substring(t),r.test(p))return!1}return!0};if(this.collapsed)break;var a,s,l,u,c,d,p,f=this.getCommonAncestor(),h=this.root,m=!1;d=this.startContainer;var g=this.startOffset;for(d.type==CKEDITOR.NODE_TEXT?(g&&(d=!CKEDITOR.tools.trim(d.substring(0,g)).length&&d,m=!!d),d&&((u=d.getPrevious())||(l=d.getParent()))):(g&&(u=d.getChild(g-1)||d.getLast()),u||(l=d)),l=n(l);l||u;){if(l&&!u){if(!c&&l.equals(f)&&(c=!0),i?l.isBlockBoundary():!h.contains(l))break;m&&"inline"==l.getComputedStyle("display")||(m=!1,c?a=l:this.setStartBefore(l)),u=l.getPrevious()}for(;u;)if(d=!1,u.type==CKEDITOR.NODE_COMMENT)u=u.getPrevious();else{if(u.type==CKEDITOR.NODE_TEXT)p=u.getText(),r.test(p)&&(u=null),d=/[\s\ufeff]$/.test(p);else if((u.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||t&&u.is("br"))&&!u.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[u.getName()]){if(p=u.getText(),r.test(p))u=null;else for(var v,g=u.$.getElementsByTagName("*"),b=0;v=g[b++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){u=null;break}u&&(d=!!p.length)}else u=null;if(d&&(m?c?a=l:l&&this.setStartBefore(l):m=!0),u){if(d=u.getPrevious(),!l&&!d){l=u,u=null;break}u=d}else l=null}l&&(l=n(l.getParent()))}for(d=this.endContainer,g=this.endOffset,l=u=null,c=m=!1,d.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(d.substring(g)).length?m=!0:(m=!d.getLength(),g==d.getLength()?(u=d.getNext())||(l=d.getParent()):o(d,g)&&(l=d.getParent())):(u=d.getChild(g))||(l=d);l||u;){if(l&&!u){if(!c&&l.equals(f)&&(c=!0),i?l.isBlockBoundary():!h.contains(l))break;m&&"inline"==l.getComputedStyle("display")||(m=!1,c?s=l:l&&this.setEndAfter(l)),u=l.getNext()}for(;u;){if(d=!1,u.type==CKEDITOR.NODE_TEXT)p=u.getText(),o(u,0)||(u=null),d=/^[\s\ufeff]/.test(p);else if(u.type==CKEDITOR.NODE_ELEMENT){if((0<u.$.offsetWidth||t&&u.is("br"))&&!u.data("cke-bookmark"))if(m&&CKEDITOR.dtd.$removeEmpty[u.getName()]){if(p=u.getText(),r.test(p))u=null;else for(g=u.$.getElementsByTagName("*"),b=0;v=g[b++];)if(!CKEDITOR.dtd.$removeEmpty[v.nodeName.toLowerCase()]){u=null;break}u&&(d=!!p.length)}else u=null}else d=1;if(d&&m&&(c?s=l:this.setEndAfter(l)),u){if(d=u.getNext(),!l&&!d){l=u,u=null;break}u=d}else l=null}l&&(l=n(l.getParent()))}a&&s&&(f=a.contains(s)?s:a,this.setStartBefore(f),this.setEndAfter(f));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:l=new CKEDITOR.dom.range(this.root),h=this.root,l.setStartAt(h,CKEDITOR.POSITION_AFTER_START),l.setEnd(this.startContainer,this.startOffset),l=new CKEDITOR.dom.walker(l);var y,C,E=CKEDITOR.dom.walker.blockBoundary(e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),T=null,w=function(e){if(e.type==CKEDITOR.NODE_ELEMENT&&"false"==e.getAttribute("contenteditable"))if(T){if(T.equals(e))return void(T=null)}else T=e;else if(T)return;var t=E(e);return t||(y=e),t},i=function(e){var t=w(e);return!t&&e.is&&e.is("br")&&(C=e),t};if(l.guard=w,l=l.lastBackward(),y=y||h,this.setStartAt(y,!y.is("br")&&(!l&&this.checkStartOfBlock()||l&&y.contains(l))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){l=this.clone(),l=new CKEDITOR.dom.walker(l);var D=CKEDITOR.dom.walker.whitespaces(),O=CKEDITOR.dom.walker.bookmark();if(l.evaluator=function(e){return!D(e)&&!O(e)},(l=l.previous())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br"))break}l=this.clone(),l.collapse(),l.setEndAt(h,CKEDITOR.POSITION_BEFORE_END),l=new CKEDITOR.dom.walker(l),l.guard=e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?i:w,y=T=C=null,l=l.lastForward(),y=y||h,this.setEndAt(y,!l&&this.checkEndOfBlock()||l&&y.contains(l)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),C&&this.setEndAfter(C)}},shrink:function(e,t,n){if(!this.collapsed){e=e||CKEDITOR.SHRINK_TEXT;var r=this.clone(),i=this.startContainer,o=this.endContainer,a=this.startOffset,s=this.endOffset,l=1,u=1;i&&i.type==CKEDITOR.NODE_TEXT&&(a?a>=i.getLength()?r.setStartAfter(i):(r.setStartBefore(i),l=0):r.setStartBefore(i)),o&&o.type==CKEDITOR.NODE_TEXT&&(s?s>=o.getLength()?r.setEndAfter(o):(r.setEndAfter(o),u=0):r.setEndBefore(o));var r=new CKEDITOR.dom.walker(r),c=CKEDITOR.dom.walker.bookmark();r.evaluator=function(t){return t.type==(e==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var d;return r.guard=function(t,r){return c(t)?!0:e==CKEDITOR.SHRINK_ELEMENT&&t.type==CKEDITOR.NODE_TEXT||r&&t.equals(d)||!1===n&&t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary()||t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")?!1:(r||t.type!=CKEDITOR.NODE_ELEMENT||(d=t),!0)},l&&(i=r[e==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(i,t?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),u&&(r.reset(),(r=r[e==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(r,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!l&&!u)}},insertNode:function(e){this.optimizeBookmark(),this.trim(!1,!0);var t=this.startContainer,n=t.getChild(this.startOffset);n?e.insertBefore(n):t.append(e),e.getParent()&&e.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(e)},moveToPosition:function(e,t){this.setStartAt(e,t),this.collapse(!0)},moveToRange:function(e){this.setStart(e.startContainer,e.startOffset),this.setEnd(e.endContainer,e.endOffset)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e.type==CKEDITOR.NODE_TEXT?e.getLength():e.getChildCount())},setStart:function(t,n){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(n=t.getIndex(),t=t.getParent()),this._setStartContainer(t),this.startOffset=n,this.endContainer||(this._setEndContainer(t),this.endOffset=n),e(this)},setEnd:function(t,n){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(n=t.getIndex()+1,t=t.getParent()),this._setEndContainer(t),this.endOffset=n,this.startContainer||(this._setStartContainer(t),this.startOffset=n),e(this)},setStartAfter:function(e){this.setStart(e.getParent(),e.getIndex()+1)},setStartBefore:function(e){this.setStart(e.getParent(),e.getIndex())},setEndAfter:function(e){this.setEnd(e.getParent(),e.getIndex()+1)},setEndBefore:function(e){this.setEnd(e.getParent(),e.getIndex())},setStartAt:function(t,n){switch(n){case CKEDITOR.POSITION_AFTER_START:this.setStart(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setStart(t,t.getLength()):this.setStart(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(t)}e(this)},setEndAt:function(t,n){switch(n){case CKEDITOR.POSITION_AFTER_START:this.setEnd(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setEnd(t,t.getLength()):this.setEnd(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(t)}e(this)},fixBlock:function(e,t){var n=this.createBookmark(),r=this.document.createElement(t);this.collapse(e),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(r),r.trim(),this.insertNode(r);var i=r.getBogus();return i&&i.remove(),r.appendBogus(),this.moveToBookmark(n),r},splitBlock:function(e,t){var n=new CKEDITOR.dom.elementPath(this.startContainer,this.root),r=new CKEDITOR.dom.elementPath(this.endContainer,this.root),i=n.block,o=r.block,a=null;return n.blockLimit.equals(r.blockLimit)?("br"!=e&&(i||(i=this.fixBlock(!0,e),o=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),o||(o=this.fixBlock(!1,e))),n=i&&this.checkStartOfBlock(),r=o&&this.checkEndOfBlock(),this.deleteContents(),i&&i.equals(o)&&(r?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(o,CKEDITOR.POSITION_AFTER_END),o=null):n?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i=null):(o=this.splitElement(i,t||!1),i.is("ul","ol")||i.appendBogus())),{previousBlock:i,nextBlock:o,wasStartOfBlock:n,wasEndOfBlock:r,elementPath:a}):null},splitElement:function(e,t){if(!this.collapsed)return null;this.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);var n=this.extractContents(!1,t||!1),r=e.clone(!1,t||!1);return n.appendTo(r),r.insertAfter(e),this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),r},removeEmptyBlocksAtEnd:function(){function e(e){return function(r){return t(r)||n(r)||r.type==CKEDITOR.NODE_ELEMENT&&r.isEmptyInlineRemoveable()||e.is("table")&&r.is("caption")?!1:!0}}var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!1);return function(t){for(var n,r=this.createBookmark(),i=this[t?"endPath":"startPath"](),o=i.block||i.blockLimit;o&&!o.equals(i.root)&&!o.getFirst(e(o));)n=o.getParent(),this[t?"setEndAt":"setStartAt"](o,CKEDITOR.POSITION_AFTER_END),o.remove(1),o=n;this.moveToBookmark(r)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(e,t){var n=t==CKEDITOR.START,i=this.clone();return i.collapse(n),i[n?"setStartAt":"setEndAt"](e,n?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),i=new CKEDITOR.dom.walker(i),i.evaluator=r(n),i[n?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var e=this.startContainer,t=this.startOffset;return CKEDITOR.env.ie&&t&&e.type==CKEDITOR.NODE_TEXT&&(e=CKEDITOR.tools.ltrim(e.substring(0,t)),s.test(e)&&this.trim(0,1)),this.trim(),e=new CKEDITOR.dom.elementPath(this.startContainer,this.root),t=this.clone(),t.collapse(!0),t.setStartAt(e.block||e.blockLimit,CKEDITOR.POSITION_AFTER_START),e=new CKEDITOR.dom.walker(t),e.evaluator=n(),e.checkBackward()},checkEndOfBlock:function(){var e=this.endContainer,t=this.endOffset;return CKEDITOR.env.ie&&e.type==CKEDITOR.NODE_TEXT&&(e=CKEDITOR.tools.rtrim(e.substring(t)),s.test(e)&&this.trim(1,0)),this.trim(),e=new CKEDITOR.dom.elementPath(this.endContainer,this.root),t=this.clone(),t.collapse(!1),t.setEndAt(e.block||e.blockLimit,CKEDITOR.POSITION_BEFORE_END),e=new CKEDITOR.dom.walker(t),e.evaluator=n(),e.checkForward()},getPreviousNode:function(e,t,n){var r=this.clone();return r.collapse(1),r.setStartAt(n||this.root,CKEDITOR.POSITION_AFTER_START),n=new CKEDITOR.dom.walker(r),n.evaluator=e,n.guard=t,n.previous()},getNextNode:function(e,t,n){var r=this.clone();return r.collapse(),r.setEndAt(n||this.root,CKEDITOR.POSITION_BEFORE_END),n=new CKEDITOR.dom.walker(r),n.evaluator=e,n.guard=t,n.next()},checkReadOnly:function(){function e(e,t){for(;e;){if(e.type==CKEDITOR.NODE_ELEMENT){if("false"==e.getAttribute("contentEditable")&&!e.data("cke-editable"))return 0;if(e.is("html")||"true"==e.getAttribute("contentEditable")&&(e.contains(t)||e.equals(t)))break}e=e.getParent()}return 1}return function(){var t=this.startContainer,n=this.endContainer;return!(e(t,n)&&e(n,t))}}(),moveToElementEditablePosition:function(e,t){if(e.type==CKEDITOR.NODE_ELEMENT&&!e.isEditable(!1))return this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var n=0;e;){if(e.type==CKEDITOR.NODE_TEXT){t&&this.endContainer&&this.checkEndOfBlock()&&s.test(e.getText())?this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),n=1;break}if(e.type==CKEDITOR.NODE_ELEMENT)if(e.isEditable())this.moveToPosition(e,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),n=1;else if(t&&e.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START);else if("false"==e.getAttribute("contenteditable")&&e.is(CKEDITOR.dtd.$block))return this.setStartBefore(e),this.setEndAfter(e),!0;var r=e,i=n,o=void 0;r.type==CKEDITOR.NODE_ELEMENT&&r.isEditable(!1)&&(o=r[t?"getLast":"getFirst"](u)),i||o||(o=r[t?"getPrevious":"getNext"](u)),e=o}return!!n},moveToClosestEditablePosition:function(e,t){var n,r,i,o=0,a=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return e?(n=new CKEDITOR.dom.range(this.root),n.moveToPosition(e,a[t?0:1])):n=this.clone(),e&&!e.is(CKEDITOR.dtd.$block)?o=1:(r=n[t?"getNextEditableNode":"getPreviousEditableNode"]())&&(o=1,(i=r.type==CKEDITOR.NODE_ELEMENT)&&r.is(CKEDITOR.dtd.$block)&&"false"==r.getAttribute("contenteditable")?(n.setStartAt(r,CKEDITOR.POSITION_BEFORE_START),n.setEndAt(r,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&i&&r.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(n.setEnd(r,0),n.collapse()):n.moveToPosition(r,a[t?1:0])),o&&this.moveToRange(n),!!o},moveToElementEditStart:function(e){return this.moveToElementEditablePosition(e)},moveToElementEditEnd:function(e){return this.moveToElementEditablePosition(e,!0)},getEnclosedNode:function(){var e=this.clone();if(e.optimize(),e.startContainer.type!=CKEDITOR.NODE_ELEMENT||e.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var e=new CKEDITOR.dom.walker(e),t=CKEDITOR.dom.walker.bookmark(!1,!0),n=CKEDITOR.dom.walker.whitespaces(!0);e.evaluator=function(e){return n(e)&&t(e)};var r=e.next();return e.reset(),r&&r.equals(e.previous())?r:null},getTouchedStartNode:function(){var e=this.startContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.startOffset)||e},getTouchedEndNode:function(){var e=this.endContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.endOffset-1)||e},getNextEditableNode:i(),getPreviousEditableNode:i(1),scrollIntoView:function(){var e,t,n,r=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),i=this.clone();i.optimize(),(n=i.startContainer.type==CKEDITOR.NODE_TEXT)?(t=i.startContainer.getText(),e=i.startContainer.split(i.startOffset),r.insertAfter(i.startContainer)):i.insertNode(r),r.scrollIntoView(),n&&(i.startContainer.setText(t),e.remove()),r.remove()},_setStartContainer:function(e){this.startContainer=e},_setEndContainer:function(e){this.endContainer=e}}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function e(e){1>arguments.length||(this.range=e,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function t(e){var t=[];return e.forEach(function(e){return"true"==e.getAttribute("contenteditable")?(t.push(e),!1):void 0},CKEDITOR.NODE_ELEMENT,!0),t}function n(e,r,i,o){e:{null==o&&(o=t(i));for(var a;a=o.shift();)if(a.getDtd().p){o={element:a,remaining:o};break e}o=null}return o?(a=CKEDITOR.filter.instances[o.element.data("cke-filter")])&&!a.check(r)?n(e,r,i,o.remaining):(r=new CKEDITOR.dom.range(o.element),r.selectNodeContents(o.element),r=r.createIterator(),r.enlargeBr=e.enlargeBr,r.enforceRealBlocks=e.enforceRealBlocks,r.activeFilter=r.filter=a,e._.nestedEditable={element:o.element,container:i,remaining:o.remaining,iterator:r},1):0}function r(e,t,n){return t?(e=e.clone(),e.collapse(!n),e.checkBoundaryOfElement(t,n?CKEDITOR.START:CKEDITOR.END)):!1}var i=/^[\r\n\t ]+$/,o=CKEDITOR.dom.walker.bookmark(!1,!0),a=CKEDITOR.dom.walker.whitespaces(!0),s=function(e){return o(e)&&a(e)},l={dd:1,dt:1,li:1};e.prototype={getNextParagraph:function(e){var t,a,u,c,d;if(e=e||"p",this._.nestedEditable){if(t=this._.nestedEditable.iterator.getNextParagraph(e))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,t;if(this.activeFilter=this.filter,n(this,e,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(e);this._.nestedEditable=null}if(!this.range.root.getDtd()[e])return null;if(!this._.started){var p=this.range.clone();a=p.startPath();var f=p.endPath(),h=!p.collapsed&&r(p,a.block),m=!p.collapsed&&r(p,f.block,1);p.shrink(CKEDITOR.SHRINK_ELEMENT,!0),h&&p.setStartAt(a.block,CKEDITOR.POSITION_BEFORE_END),m&&p.setEndAt(f.block,CKEDITOR.POSITION_AFTER_START),a=p.endContainer.hasAscendant("pre",!0)||p.startContainer.hasAscendant("pre",!0),p.enlarge(this.forceBrBreak&&!a||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),p.collapsed||(a=new CKEDITOR.dom.walker(p.clone()),f=CKEDITOR.dom.walker.bookmark(!0,!0),a.evaluator=f,this._.nextNode=a.next(),a=new CKEDITOR.dom.walker(p.clone()),a.evaluator=f,a=a.previous(),this._.lastNode=a.getNextSourceNode(!0,null,p.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(f=this.range.clone(),f.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),f.checkEndOfBlock()&&(f=new CKEDITOR.dom.elementPath(f.endContainer,f.root),this._.lastNode=(f.block||f.blockLimit).getNextSourceNode(!0))),this._.lastNode&&p.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=p.document.createText(""),this._.lastNode.insertAfter(a)),p=null),this._.started=1,a=p}for(f=this._.nextNode,p=this._.lastNode,this._.nextNode=null;f;){var h=0,m=f.hasAscendant("pre"),g=f.type!=CKEDITOR.NODE_ELEMENT,v=0;if(g)f.type==CKEDITOR.NODE_TEXT&&i.test(f.getText())&&(g=0);else{var b=f.getName();if(CKEDITOR.dtd.$block[b]&&"false"==f.getAttribute("contenteditable")){t=f,n(this,e,t);break}if(f.isBlockBoundary(this.forceBrBreak&&!m&&{br:1})){if("br"==b)g=1;else if(!a&&!f.getChildCount()&&"hr"!=b){t=f,u=f.equals(p);break}a&&(a.setEndAt(f,CKEDITOR.POSITION_BEFORE_START),"br"!=b&&(this._.nextNode=f)),h=1}else{if(f.getFirst()){a||(a=this.range.clone(),a.setStartAt(f,CKEDITOR.POSITION_BEFORE_START)),f=f.getFirst();continue}g=1}}if(g&&!a&&(a=this.range.clone(),a.setStartAt(f,CKEDITOR.POSITION_BEFORE_START)),u=(!h||g)&&f.equals(p),a&&!h)for(;!f.getNext(s)&&!u;){if(b=f.getParent(),b.isBlockBoundary(this.forceBrBreak&&!m&&{br:1})){h=1,g=0,u||b.equals(p),a.setEndAt(b,CKEDITOR.POSITION_BEFORE_END);break}f=b,g=1,u=f.equals(p),v=1}if(g&&a.setEndAt(f,CKEDITOR.POSITION_AFTER_END),f=this._getNextSourceNode(f,v,p),(u=!f)||h&&a)break}if(!t){if(!a)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;t=new CKEDITOR.dom.elementPath(a.startContainer,a.root),f=t.blockLimit,h={div:1,th:1,td:1},t=t.block,!t&&f&&!this.enforceRealBlocks&&h[f.getName()]&&a.checkStartOfBlock()&&a.checkEndOfBlock()&&!f.equals(a.root)?t=f:!t||this.enforceRealBlocks&&t.is(l)?(t=this.range.document.createElement(e),a.extractContents().appendTo(t),t.trim(),a.insertNode(t),c=d=!0):"li"!=t.getName()?a.checkStartOfBlock()&&a.checkEndOfBlock()||(t=t.clone(!1),a.extractContents().appendTo(t),t.trim(),d=a.splitBlock(),c=!d.wasStartOfBlock,d=!d.wasEndOfBlock,a.insertNode(t)):u||(this._.nextNode=t.equals(p)?null:this._getNextSourceNode(a.getBoundaryNodes().endNode,1,p))}return c&&(c=t.getPrevious())&&c.type==CKEDITOR.NODE_ELEMENT&&("br"==c.getName()?c.remove():c.getLast()&&"br"==c.getLast().$.nodeName.toLowerCase()&&c.getLast().remove()),d&&(c=t.getLast())&&c.type==CKEDITOR.NODE_ELEMENT&&"br"==c.getName()&&(!CKEDITOR.env.needsBrFiller||c.getPrevious(o)||c.getNext(o))&&c.remove(),this._.nextNode||(this._.nextNode=u||t.equals(p)||!p?null:this._getNextSourceNode(t,1,p)),t},_getNextSourceNode:function(e,t,n){function r(e){return!(e.equals(n)||e.equals(i))}var i=this.range.root;for(e=e.getNextSourceNode(t,null,r);!o(e);)e=e.getNextSourceNode(t,null,r);return e}},CKEDITOR.dom.range.prototype.createIterator=function(){return new e(this)}}(),CKEDITOR.command=function(e,t){this.uiItems=[],this.exec=function(n){return this.state!=CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()?(this.editorFocus&&e.focus(),!1===this.fire("exec")?!0:!1!==t.exec.call(this,e,n)):!1},this.refresh=function(e,n){return!this.readOnly&&e.readOnly?!0:this.context&&!n.isContextFor(this.context)||!this.checkAllowed(!0)?(this.disable(),!0):(this.startDisabled||this.enable(),this.modes&&!this.modes[e.mode]&&this.disable(),!1===this.fire("refresh",{editor:e,path:n})?!0:t.refresh&&!1!==t.refresh.apply(this,arguments))};var n;this.checkAllowed=function(t){return t||"boolean"!=typeof n?n=e.activeFilter.checkFeature(this):n},CKEDITOR.tools.extend(this,t,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!t.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(e){return this.state==e||e!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed()?!1:(this.previousState=this.state,this.state=e,this.fire("state"),!0)},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function e(e,t,n,r,i){var o,s;e=[];for(o in t){s=t[o],s="boolean"==typeof s?{}:"function"==typeof s?{match:s}:R(s),"$"!=o.charAt(0)&&(s.elements=o),n&&(s.featureName=n.toLowerCase());var l=s;l.elements=a(l.elements,/\s+/)||null,l.propertiesOnly=l.propertiesOnly||!0===l.elements;var u=/\s*,\s*/,c=void 0;for(c in _){l[c]=a(l[c],u)||null;var d=l,p=S[c],f=a(l[S[c]],u),h=l[c],m=[],g=!0,b=void 0;f?g=!1:f={};for(b in h)"!"==b.charAt(0)&&(b=b.slice(1),m.push(b),f[b]=!0,g=!1);for(;b=m.pop();)h[b]=h["!"+b],delete h["!"+b];d[p]=(g?!1:f)||null}l.match=l.match||null,r.push(s),e.push(s)}t=i.elements,i=i.generic;var y;for(n=0,r=e.length;r>n;++n){o=R(e[n]),s=!0===o.classes||!0===o.styles||!0===o.attributes,l=o,c=p=u=void 0;for(u in _)l[u]=v(l[u]);d=!0;for(c in S){u=S[c],p=l[u],f=[],h=void 0;for(h in p)f.push(-1<h.indexOf("*")?new RegExp("^"+h.replace(/\*/g,".*")+"$"):h);p=f,p.length&&(l[u]=p,d=!1)}if(l.nothingRequired=d,l.noProperties=!(l.attributes||l.classes||l.styles),!0===o.elements||null===o.elements)i[s?"unshift":"push"](o);else for(y in l=o.elements,delete o.elements,l)t[y]?t[y][s?"unshift":"push"](o):t[y]=[o]}}function t(e,t,r,i){if((!e.match||e.match(t))&&(i||s(e,t))&&(e.propertiesOnly||(r.valid=!0),r.allAttributes||(r.allAttributes=n(e.attributes,t.attributes,r.validAttributes)),r.allStyles||(r.allStyles=n(e.styles,t.styles,r.validStyles)),!r.allClasses)){if(e=e.classes,t=t.classes,i=r.validClasses,e)if(!0===e)e=!0;else{for(var o,a=0,l=t.length;l>a;++a)o=t[a],i[o]||(i[o]=e(o));e=!1}else e=!1;r.allClasses=e}}function n(e,t,n){if(!e)return!1;if(!0===e)return!0;for(var r in t)n[r]||(n[r]=e(r));return!1}function r(e,t,n){if(!e.match||e.match(t)){if(e.noProperties)return!1;if(n.hadInvalidAttribute=i(e.attributes,t.attributes)||n.hadInvalidAttribute,n.hadInvalidStyle=i(e.styles,t.styles)||n.hadInvalidStyle,e=e.classes,t=t.classes,e){for(var r=!1,o=!0===e,a=t.length;a--;)(o||e(t[a]))&&(t.splice(a,1),r=!0);e=r}else e=!1;n.hadInvalidClass=e||n.hadInvalidClass}}function i(e,t){if(!e)return!1;var n,r=!1,i=!0===e;for(n in t)(i||e(n))&&(delete t[n],r=!0);return r}function o(e,t,n){return e.disabled||e.customConfig&&!n||!t?!1:(e._.cachedChecks={},!0)}function a(e,t){if(!e)return!1;if(!0===e)return e;if("string"==typeof e)return e=$(e),"*"==e?!0:CKEDITOR.tools.convertArrayToObject(e.split(t));if(CKEDITOR.tools.isArray(e))return e.length?CKEDITOR.tools.convertArrayToObject(e):!1;var n,r={},i=0;for(n in e)r[n]=e[n],i++;return i?r:!1}function s(e,t){if(e.nothingRequired)return!0;var n,r,i,o;if(i=e.requiredClasses)for(o=t.classes,n=0;n<i.length;++n)if(r=i[n],"string"==typeof r){if(-1==CKEDITOR.tools.indexOf(o,r))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(o,r))return!1;return l(t.styles,e.requiredStyles)&&l(t.attributes,e.requiredAttributes)}function l(e,t){if(!t)return!0;for(var n,r=0;r<t.length;++r)if(n=t[r],"string"==typeof n){if(!(n in e))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(e,n))return!1;return!0}function u(e){if(!e)return{};e=e.split(/\s*,\s*/).sort();for(var t={};e.length;)t[e.shift()]="cke-test";return t}function c(e){var t,n,r,i,o={},a=1;for(e=$(e);t=e.match(A);)(n=t[2])?(r=d(n,"styles"),i=d(n,"attrs"),n=d(n,"classes")):r=i=n=null,o["$"+a++]={elements:t[1],classes:n,styles:r,attributes:i},e=e.slice(t[0].length);return o}function d(e,t){var n=e.match(N[t]);return n?$(n[1]):null}function p(e){var t=e.styleBackup=e.attributes.style,n=e.classBackup=e.attributes["class"];e.styles||(e.styles=CKEDITOR.tools.parseCssText(t||"",1)),e.classes||(e.classes=n?n.split(/\s+/):[])}function f(e,n,i,o){var a,s=0;if(o.toHtml&&(n.name=n.name.replace(K,"$1")),o.doCallbacks&&e.elementCallbacks){e:{a=e.elementCallbacks;for(var l,u=0,c=a.length;c>u;++u)if(l=a[u](n)){a=l;break e}a=void 0}if(a)return a}if(o.doTransform&&(a=e._.transformations[n.name])){for(p(n),u=0;u<a.length;++u)E(e,n,a[u]);m(n)}if(o.doFilter){e:{u=n.name,c=e._,e=c.allowedRules.elements[u],a=c.allowedRules.generic,u=c.disallowedRules.elements[u],c=c.disallowedRules.generic,l=o.skipRequired;var d,f,h={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};if(e||a){if(p(n),u)for(d=0,f=u.length;f>d;++d)if(!1===r(u[d],n,h)){e=null;break e}if(c)for(d=0,f=c.length;f>d;++d)r(c[d],n,h);if(e)for(d=0,f=e.length;f>d;++d)t(e[d],n,h,l);if(a)for(d=0,f=a.length;f>d;++d)t(a[d],n,h,l);e=h}else e=null}if(!e||!e.valid)return i.push(n),1;f=e.validAttributes;var v=e.validStyles;a=e.validClasses;var u=n.attributes,b=n.styles,c=n.classes;l=n.classBackup;var y,C,T=n.styleBackup,w=[],h=[],D=/^data-cke-/;if(d=!1,delete u.style,delete u["class"],delete n.classBackup,delete n.styleBackup,!e.allAttributes)for(y in u)f[y]||(D.test(y)?y==(C=y.replace(/^data-cke-saved-/,""))||f[C]||(delete u[y],d=!0):(delete u[y],d=!0));if(!e.allStyles||e.hadInvalidStyle){for(y in b)e.allStyles||v[y]?w.push(y+":"+b[y]):d=!0;w.length&&(u.style=w.sort().join("; "))}else T&&(u.style=T);if(!e.allClasses||e.hadInvalidClass){for(y=0;y<c.length;++y)(e.allClasses||a[c[y]])&&h.push(c[y]);h.length&&(u["class"]=h.sort().join(" ")),l&&h.length<l.split(/\s+/).length&&(d=!0)}else l&&(u["class"]=l);if(d&&(s=1),!o.skipFinalValidation&&!g(n))return i.push(n),1}return o.toHtml&&(n.name=n.name.replace(P,"cke:$1")),s}function h(e){var t,n=[];for(t in e)-1<t.indexOf("*")&&n.push(t.replace(/\*/g,".*"));return n.length?new RegExp("^(?:"+n.join("|")+")$"):null}function m(e){var t,n=e.attributes;delete n.style,delete n["class"],(t=CKEDITOR.tools.writeCssText(e.styles,!0))&&(n.style=t),e.classes.length&&(n["class"]=e.classes.sort().join(" "))}function g(e){switch(e.name){case"a":if(!(e.children.length||e.attributes.name||e.attributes.id))return!1;break;case"img":if(!e.attributes.src)return!1}return!0}function v(e){if(!e)return!1;if(!0===e)return!0;var t=h(e);return function(n){return n in e||t&&n.match(t)}}function b(){return new CKEDITOR.htmlParser.element("br")}function y(e){return e.type==CKEDITOR.NODE_ELEMENT&&("br"==e.name||I.$block[e.name])}function C(e,t,n){var r=e.name;if(I.$empty[r]||!e.children.length)"hr"==r&&"br"==t?e.replaceWith(b()):(e.parent&&n.push({check:"it",el:e.parent}),e.remove());else if(I.$block[r]||"tr"==r)if("br"==t)e.previous&&!y(e.previous)&&(t=b(),t.insertBefore(e)),
e.next&&!y(e.next)&&(t=b(),t.insertAfter(e)),e.replaceWithChildren();else{var i,r=e.children;e:{i=I[t];for(var o,a=0,s=r.length;s>a;++a)if(o=r[a],o.type==CKEDITOR.NODE_ELEMENT&&!i[o.name]){i=!1;break e}i=!0}if(i)e.name=t,e.attributes={},n.push({check:"parent-down",el:e});else{i=e.parent;for(var l,u,a=i.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==i.name,s=r.length;s>0;)o=r[--s],a&&(o.type==CKEDITOR.NODE_TEXT||o.type==CKEDITOR.NODE_ELEMENT&&I.$inline[o.name])?(l||(l=new CKEDITOR.htmlParser.element(t),l.insertAfter(e),n.push({check:"parent-down",el:l})),l.add(o,0)):(l=null,u=I[i.name]||I.span,o.insertAfter(e),i.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||o.type!=CKEDITOR.NODE_ELEMENT||u[o.name]||n.push({check:"el-up",el:o}));e.remove()}}else r in{style:1,script:1}?e.remove():(e.parent&&n.push({check:"it",el:e.parent}),e.replaceWithChildren())}function E(e,t,n){var r,i;for(r=0;r<n.length;++r)if(i=n[r],!(i.check&&!e.check(i.check,!1)||i.left&&!i.left(t))){i.right(t,k);break}}function T(e,t){var n,r,i,o,a=t.getDefinition(),s=a.attributes,l=a.styles;if(e.name!=a.element)return!1;for(n in s)if("class"==n){for(a=s[n].split(/\s+/),i=e.classes.join("|");o=a.pop();)if(-1==i.indexOf(o))return!1}else if(e.attributes[n]!=s[n])return!1;for(r in l)if(e.styles[r]!=l[r])return!1;return!0}function w(e,t){var n,r;return"string"==typeof e?n=e:e instanceof CKEDITOR.style?r=e:(n=e[0],r=e[1]),[{element:n,left:r,right:function(e,n){n.transform(e,t)}}]}function D(e){return function(t){return T(t,e)}}function O(e){return function(t,n){n[e](t)}}var I=CKEDITOR.dtd,R=CKEDITOR.tools.copy,$=CKEDITOR.tools.trim,x=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(e){if(this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{}},CKEDITOR.filter.instances[this.id]=this,e instanceof CKEDITOR.editor){e=this.editor=e,this.customConfig=!0;var t=e.config.allowedContent;!0===t?this.disabled=!0:(t||(this.customConfig=!1),this.allow(t,"config",1),this.allow(e.config.extraAllowedContent,"extra",1),this.allow(x[e.enterMode]+" "+x[e.shiftEnterMode],"default",1),this.disallow(e.config.disallowedContent))}else this.customConfig=!1,this.allow(e,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(t,n,r){if(!o(this,t,r))return!1;var i,a;if("string"==typeof t)t=c(t);else if(t instanceof CKEDITOR.style){if(t.toAllowedContentRules)return this.allow(t.toAllowedContentRules(this.editor),n,r);i=t.getDefinition(),t={},r=i.attributes,t[i.element]=i={styles:i.styles,requiredStyles:i.styles&&CKEDITOR.tools.objectKeys(i.styles)},r&&(r=R(r),i.classes=r["class"]?r["class"].split(/\s+/):null,i.requiredClasses=i.classes,delete r["class"],i.attributes=r,i.requiredAttributes=r&&CKEDITOR.tools.objectKeys(r))}else if(CKEDITOR.tools.isArray(t)){for(i=0;i<t.length;++i)a=this.allow(t[i],n,r);return a}return e(this,t,n,this.allowedContent,this._.allowedRules),!0},applyTo:function(e,t,n,r){if(this.disabled)return!1;var i,o=this,a=[],s=this.editor&&this.editor.config.protectedSource,l=!1,u={doFilter:!n,doTransform:!0,doCallbacks:!0,toHtml:t};e.forEach(function(e){if(e.type==CKEDITOR.NODE_ELEMENT){if("off"==e.attributes["data-cke-filter"])return!1;if(!t||"span"!=e.name||!~CKEDITOR.tools.objectKeys(e.attributes).join("|").indexOf("data-cke-"))if(i=f(o,e,a,u),1&i)l=!0;else if(2&i)return!1}else if(e.type==CKEDITOR.NODE_COMMENT&&e.value.match(/^\{cke_protected\}(?!\{C\})/)){var n;e:{var r=decodeURIComponent(e.value.replace(/^\{cke_protected\}/,""));n=[];var c,d,p;if(s)for(d=0;d<s.length;++d)if((p=r.match(s[d]))&&p[0].length==r.length){n=!0;break e}r=CKEDITOR.htmlParser.fragment.fromHtml(r),1==r.children.length&&(c=r.children[0]).type==CKEDITOR.NODE_ELEMENT&&f(o,c,n,u),n=!n.length}n||a.push(e)}},null,!0),a.length&&(l=!0);var c;e=[],r=x[r||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];for(var d;n=a.pop();)n.type==CKEDITOR.NODE_ELEMENT?C(n,r,e):n.remove();for(;c=e.pop();)if(n=c.el,n.parent)switch(d=I[n.parent.name]||I.span,c.check){case"it":I.$removeEmpty[n.name]&&!n.children.length?C(n,r,e):g(n)||C(n,r,e);break;case"el-up":n.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||d[n.name]||C(n,r,e);break;case"parent-down":n.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||d[n.name]||C(n.parent,r,e)}return l},checkFeature:function(e){return this.disabled||!e?!0:(e.toFeature&&(e=e.toFeature(this.editor)),!e.requiredContent||this.check(e.requiredContent))},disable:function(){this.disabled=!0},disallow:function(t){return o(this,t,!0)?("string"==typeof t&&(t=c(t)),e(this,t,null,this.disallowedContent,this._.disallowedRules),!0):!1},addContentForms:function(e){if(!this.disabled&&e){var t,n,r,i=[];for(t=0;t<e.length&&!r;++t)n=e[t],("string"==typeof n||n instanceof CKEDITOR.style)&&this.check(n)&&(r=n);if(r){for(t=0;t<e.length;++t)i.push(w(e[t],r));this.addTransformations(i)}}},addElementCallback:function(e){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(e)},addFeature:function(e){return this.disabled||!e?!0:(e.toFeature&&(e=e.toFeature(this.editor)),this.allow(e.allowedContent,e.name),this.addTransformations(e.contentTransformations),this.addContentForms(e.contentForms),e.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(e.requiredContent):!0)},addTransformations:function(e){var t,n;if(!this.disabled&&e){var r,i=this._.transformations;for(r=0;r<e.length;++r){t=e[r];var o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0;for(n=[],a=0;a<t.length;++a)s=t[a],"string"==typeof s?(s=s.split(/\s*:\s*/),l=s[0],u=null,c=s[1]):(l=s.check,u=s.left,c=s.right),o||(o=s,o=o.element?o.element:l?l.match(/^([a-z0-9]+)/i)[0]:o.left.getDefinition().element),u instanceof CKEDITOR.style&&(u=D(u)),n.push({check:l==o?null:l,left:u,right:"string"==typeof c?O(c):c});t=o,i[t]||(i[t]=[]),i[t].push(n)}}},check:function(e,t,n){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(e)){for(var r=e.length;r--;)if(this.check(e[r],t,n))return!0;return!1}var i,o;if("string"==typeof e){if(o=e+"<"+(!1===t?"0":"1")+(n?"1":"0")+">",o in this._.cachedChecks)return this._.cachedChecks[o];r=c(e).$1,i=r.styles;var a=r.classes;r.name=r.elements,r.classes=a=a?a.split(/\s*,\s*/):[],r.styles=u(i),r.attributes=u(r.attributes),r.children=[],a.length&&(r.attributes["class"]=a.join(" ")),i&&(r.attributes.style=CKEDITOR.tools.writeCssText(r.styles)),i=r}else r=e.getDefinition(),i=r.styles,a=r.attributes||{},i&&!CKEDITOR.tools.isEmpty(i)?(i=R(i),a.style=CKEDITOR.tools.writeCssText(i,!0)):i={},i={name:r.element,attributes:a,classes:a["class"]?a["class"].split(/\s+/):[],styles:i,children:[]};var s,a=CKEDITOR.tools.clone(i),l=[];if(!1!==t&&(s=this._.transformations[i.name])){for(r=0;r<s.length;++r)E(this,i,s[r]);m(i)}return f(this,a,l,{doFilter:!0,doTransform:!1!==t,skipRequired:!n,skipFinalValidation:!n}),t=0<l.length?!1:CKEDITOR.tools.objectCompare(i.attributes,a.attributes,!0)?!0:!1,"string"==typeof e&&(this._.cachedChecks[o]=t),t},getAllowedEnterMode:function(){var e=["p","div","br"],t={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(n,r){var i,o=e.slice();if(this.check(x[n]))return n;for(r||(o=o.reverse());i=o.pop();)if(this.check(i))return t[i];return CKEDITOR.ENTER_BR}}(),destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var k,_={styles:1,attributes:1,classes:1},S={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},A=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,N={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},K=/^cke:(object|embed|param)$/,P=/^(object|embed|param)$/;k=CKEDITOR.filter.transformationsTools={sizeToStyle:function(e){this.lengthToStyle(e,"width"),this.lengthToStyle(e,"height")},sizeToAttribute:function(e){this.lengthToAttribute(e,"width"),this.lengthToAttribute(e,"height")},lengthToStyle:function(e,t,n){if(n=n||t,!(n in e.styles)){var r=e.attributes[t];r&&(/^\d+$/.test(r)&&(r+="px"),e.styles[n]=r)}delete e.attributes[t]},lengthToAttribute:function(e,t,n){if(n=n||t,!(n in e.attributes)){var r=e.styles[t],i=r&&r.match(/^(\d+)(?:\.\d*)?px$/);i?e.attributes[n]=i[1]:"cke-test"==r&&(e.attributes[n]="cke-test")}delete e.styles[t]},alignmentToStyle:function(e){if(!("float"in e.styles)){var t=e.attributes.align;("left"==t||"right"==t)&&(e.styles["float"]=t)}delete e.attributes.align},alignmentToAttribute:function(e){if(!("align"in e.attributes)){var t=e.styles["float"];("left"==t||"right"==t)&&(e.attributes.align=t)}delete e.styles["float"]},matchesStyle:T,transform:function(e,t){if("string"==typeof t)e.name=t;else{var n,r,i,o,a=t.getDefinition(),s=a.styles,l=a.attributes;e.name=a.element;for(n in l)if("class"==n)for(a=e.classes.join("|"),i=l[n].split(/\s+/);o=i.pop();)-1==a.indexOf(o)&&e.classes.push(o);else e.attributes[n]=l[n];for(r in s)e.styles[r]=s[r]}}}}(),function(){CKEDITOR.focusManager=function(e){return e.focusManager?e.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:e},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(e){this._.timer&&clearTimeout(this._.timer),e&&(this.currentActive=e),this.hasFocus||this._.locked||((e=CKEDITOR.currentInstance)&&e.focusManager.blur(1),this.hasFocus=!0,(e=this._.editor.container)&&e.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(e){function t(){if(this.hasFocus){this.hasFocus=!1;var e=this._.editor.container;e&&e.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var n=CKEDITOR.focusManager._.blurDelay;e||!n?t.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer,t.call(this)},n,this)}},add:function(e,t){var n=e.getCustomData("focusmanager");if(!n||n!=this){n&&n.remove(e);var n="focus",r="blur";t&&(CKEDITOR.env.ie?(n="focusin",r="focusout"):CKEDITOR.event.useCapture=1);var i={blur:function(){e.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(e)}};e.on(n,i.focus,this),e.on(r,i.blur,this),t&&(CKEDITOR.event.useCapture=0),e.setCustomData("focusmanager",this),e.setCustomData("focusmanager_handlers",i)}},remove:function(e){e.removeCustomData("focusmanager");var t=e.removeCustomData("focusmanager_handlers");e.removeListener("blur",t.blur),e.removeListener("focus",t.focus)}}}(),CKEDITOR.keystrokeHandler=function(e){return e.keystrokeHandler?e.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:e},this)},function(){var e,t=function(t){t=t.data;var n=t.getKeystroke(),r=this.keystrokes[n],i=this._.editor;return e=!1===i.fire("key",{keyCode:n,domEvent:t}),e||(r&&(e=!1!==i.execCommand(r,{from:"keystrokeHandler"})),e||(e=!!this.blockedKeystrokes[n])),e&&t.preventDefault(!0),!e},n=function(t){e&&(e=!1,t.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(e){e.on("keydown",t,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&e.on("keypress",n,this)}}}(),function(){CKEDITOR.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(e,t,n){e&&CKEDITOR.lang.languages[e]||(e=this.detect(t,e));var r=this;t=function(){r[e].dir=r.rtl[e]?"rtl":"ltr",n(e,r[e])},this[e]?t():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+e+".js"),t,this)},detect:function(e,t){var n=this.languages;t=t||navigator.userLanguage||navigator.language||e;var r=t.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),i=r[1],r=r[2];return n[i+"-"+r]?i=i+"-"+r:n[i]||(i=null),CKEDITOR.lang.detect=i?function(){return i}:function(e){return e},i||e}}}(),CKEDITOR.scriptLoader=function(){var e={},t={};return{load:function(n,r,i,o){var a="string"==typeof n;a&&(n=[n]),i||(i=CKEDITOR);var s=n.length,l=[],u=[],c=function(e){r&&(a?r.call(i,e):r.call(i,l,u))};if(0===s)c(!0);else{var d=function(e,t){(t?l:u).push(e),0>=--s&&(o&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),c(t))},p=function(n,r){e[n]=1;var i=t[n];delete t[n];for(var o=0;o<i.length;o++)i[o](n,r)},f=function(n){if(e[n])d(n,!0);else{var i=t[n]||(t[n]=[]);if(i.push(d),!(1<i.length)){var o=new CKEDITOR.dom.element("script");o.setAttributes({type:"text/javascript",src:n}),r&&(CKEDITOR.env.ie&&8>=CKEDITOR.env.version?o.$.onreadystatechange=function(){("loaded"==o.$.readyState||"complete"==o.$.readyState)&&(o.$.onreadystatechange=null,p(n,!0))}:(o.$.onload=function(){setTimeout(function(){p(n,!0)},0)},o.$.onerror=function(){p(n,!1)})),o.appendTo(CKEDITOR.document.getHead())}}};o&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var h=0;s>h;h++)f(n[h])}},queue:function(){function e(){var e;(e=t[0])&&this.load(e.scriptUrl,e.callback,CKEDITOR,0)}var t=[];return function(n,r){var i=this;t.push({scriptUrl:n,callback:function(){r&&r.apply(this,arguments),t.shift(),e.call(i)}}),1==t.length&&e.call(this)}}()}}(),CKEDITOR.resourceManager=function(e,t){this.basePath=e,this.fileName=t,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(e,t){if(this.registered[e])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+e+'" is already registered.');var n=this.registered[e]=t||{};return n.name=e,n.path=this.getPath(e),CKEDITOR.fire(e+CKEDITOR.tools.capitalize(this.fileName)+"Ready",n),this.get(e)},get:function(e){return this.registered[e]||null},getPath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(t&&t.dir||this.basePath+e+"/")},getFilePath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(this.getPath(e)+(t?t.file:this.fileName+".js"))},addExternal:function(e,t,n){e=e.split(",");for(var r=0;r<e.length;r++){var i=e[r];n||(t=t.replace(/[^\/]+$/,function(e){return n=e,""})),this.externals[i]={dir:t,file:n||this.fileName+".js"}}},load:function(e,t,n){CKEDITOR.tools.isArray(e)||(e=e?[e]:[]);for(var r=this.loaded,i=this.registered,o=[],a={},s={},l=0;l<e.length;l++){var u=e[l];if(u)if(r[u]||i[u])s[u]=this.get(u);else{var c=this.getFilePath(u);o.push(c),c in a||(a[c]=[]),a[c].push(u)}}CKEDITOR.scriptLoader.load(o,function(e,i){if(i.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+a[i[0]].join(",")+'" was not found at "'+i[0]+'".');for(var o=0;o<e.length;o++)for(var l=a[e[o]],u=0;u<l.length;u++){var c=l[u];s[c]=this.get(c),r[c]=1}t.call(n,s)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(e){var t={};return function(n,r,i){var o={},a=function(n){e.call(this,n,function(e){CKEDITOR.tools.extend(o,e);var n,s=[];for(n in e){var l=e[n],u=l&&l.requires;if(!t[n]){if(l.icons)for(var c=l.icons.split(","),d=c.length;d--;)CKEDITOR.skin.addIcon(c[d],l.path+"icons/"+(CKEDITOR.env.hidpi&&l.hidpi?"hidpi/":"")+c[d]+".png");t[n]=1}if(u)for(u.split&&(u=u.split(",")),l=0;l<u.length;l++)o[u[l]]||s.push(u[l])}if(s.length)a.call(this,s);else{for(n in o)l=o[n],l.onLoad&&!l.onLoad._called&&(!1===l.onLoad()&&delete o[n],l.onLoad._called=1);r&&r.call(i||window,o)}},this)};a.call(this,n)}}),CKEDITOR.plugins.setLang=function(e,t,n){var r=this.get(e);e=r.langEntries||(r.langEntries={}),r=r.lang||(r.lang=[]),r.split&&(r=r.split(",")),-1==CKEDITOR.tools.indexOf(r,t)&&r.push(t),e[t]=n},CKEDITOR.ui=function(e){return e.ui?e.ui:(this.items={},this.instances={},this.editor=e,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(e,t,n){n.name=e.toLowerCase();var r=this.items[e]={type:t,command:n.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(r,n)},get:function(e){return this.instances[e]},create:function(e){var t=this.items[e],n=t&&this._.handlers[t.type],r=t&&t.command&&this.editor.getCommand(t.command),n=n&&n.create.apply(this,t.args);return this.instances[e]=n,r&&r.uiItems.push(n),n&&!n.type&&(n.type=t.type),n},addHandler:function(e,t){this._.handlers[e]=t},space:function(e){return CKEDITOR.document.getById(this.spaceId(e))},spaceId:function(e){return this.editor.id+"_"+e}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function e(e,i,a){if(CKEDITOR.event.call(this),e=e&&CKEDITOR.tools.clone(e),void 0!==i){if(!(i instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!a)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!n(i,a))throw Error('The specified element mode is not supported on element: "'+i.getName()+'".');this.element=i,this.elementMode=a,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(i.getId()||i.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||t(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",r),this.on("selectionChange",function(e){o(this,e.data.path)}),this.on("activeFilterChange",function(){o(this,this.elementPath(),!0)}),this.on("mode",r),this.on("instanceReady",function(){this.config.startupFocus&&this.focus()}),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout(function(){"destroyed"!==this.status?s(this,e):CKEDITOR.warn("editor-incorrect-destroy")},0,this)}function t(){do var e="editor"+ ++f;while(CKEDITOR.instances[e]);return e}function n(e,t){return t==CKEDITOR.ELEMENT_MODE_INLINE?e.is(CKEDITOR.dtd.$editable)||e.is("textarea"):t==CKEDITOR.ELEMENT_MODE_REPLACE?!e.is(CKEDITOR.dtd.$nonBodyContent):1}function r(){var e,t=this.commands;for(e in t)i(this,t[e])}function i(e,t){t[t.startDisabled?"disable":e.readOnly&&!t.readOnly?"disable":t.modes[e.mode]?"enable":"disable"]()}function o(e,t,n){if(t){var r,i,o=e.commands;for(i in o)r=o[i],(n||r.contextSensitive)&&r.refresh(e,t)}}function a(e){var t=e.config.customConfig;if(!t)return!1;var t=CKEDITOR.getUrl(t),n=h[t]||(h[t]={});return n.fn?(n.fn.call(e,e.config),CKEDITOR.getUrl(e.config.customConfig)!=t&&a(e)||e.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(t,function(){n.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){},a(e)}),!0}function s(e,t){e.on("customConfigLoaded",function(){if(t){if(t.on)for(var n in t.on)e.on(n,t.on[n]);CKEDITOR.tools.extend(e.config,t,!0),delete e.config.on}n=e.config,e.readOnly=n.readOnly?!0:e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.is("textarea")?e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"):e.element.isReadOnly():e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"):!1,e.blockless=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(e.element.is("textarea")||CKEDITOR.dtd[e.element.getName()].p):!1,e.tabIndex=n.tabIndex||e.element&&e.element.getAttribute("tabindex")||0,e.activeEnterMode=e.enterMode=e.blockless?CKEDITOR.ENTER_BR:n.enterMode,e.activeShiftEnterMode=e.shiftEnterMode=e.blockless?CKEDITOR.ENTER_BR:n.shiftEnterMode,n.skin&&(CKEDITOR.skinName=n.skin),e.fireOnce("configLoaded"),e.dataProcessor=new CKEDITOR.htmlDataProcessor(e),e.filter=e.activeFilter=new CKEDITOR.filter(e),l(e)}),t&&null!=t.customConfig&&(e.config.customConfig=t.customConfig),a(e)||e.fireOnce("customConfigLoaded")}function l(e){CKEDITOR.skin.loadPart("editor",function(){u(e)})}function u(e){CKEDITOR.lang.load(e.config.language,e.config.defaultLanguage,function(t,n){var r=e.config.title;e.langCode=t,e.lang=CKEDITOR.tools.prototypedCopy(n),e.title="string"==typeof r||!1===r?r:[e.lang.editor,e.name].join(", "),e.config.contentsLangDirection||(e.config.contentsLangDirection=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.getDirection(1):e.lang.dir),e.fire("langLoaded"),c(e)})}function c(e){e.getStylesSet(function(t){e.once("loaded",function(){e.fire("stylesSet",{styles:t})},null,null,1),d(e)})}function d(e){var t=e.config,n=t.plugins,r=t.extraPlugins,i=t.removePlugins;if(r)var o=new RegExp("(?:^|,)(?:"+r.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),n=n.replace(o,""),n=n+(","+r);if(i)var a=new RegExp("(?:^|,)(?:"+i.replace(/\s*,\s*/g,"|")+")(?=,|$)","g"),n=n.replace(a,"");CKEDITOR.env.air&&(n+=",adobeair"),CKEDITOR.plugins.load(n.split(","),function(n){var r=[],i=[],o=[];e.plugins=n;for(var s in n){var l,u=n[s],c=u.lang,d=null,p=u.requires;if(CKEDITOR.tools.isArray(p)&&(p=p.join(",")),p&&(l=p.match(a)))for(;p=l.pop();)CKEDITOR.error("editor-plugin-required",{plugin:p.replace(",",""),requiredBy:s});c&&!e.lang[s]&&(c.split&&(c=c.split(",")),0<=CKEDITOR.tools.indexOf(c,e.langCode)?d=e.langCode:(d=e.langCode.replace(/-.*/,""),d=d!=e.langCode&&0<=CKEDITOR.tools.indexOf(c,d)?d:0<=CKEDITOR.tools.indexOf(c,"en")?"en":c[0]),u.langEntries&&u.langEntries[d]?(e.lang[s]=u.langEntries[d],d=null):o.push(CKEDITOR.getUrl(u.path+"lang/"+d+".js"))),i.push(d),r.push(u)}CKEDITOR.scriptLoader.load(o,function(){for(var n=["beforeInit","init","afterInit"],o=0;o<n.length;o++)for(var a=0;a<r.length;a++){var s=r[a];0===o&&i[a]&&s.lang&&s.langEntries&&(e.lang[s.name]=s.langEntries[i[a]]),s[n[o]]&&s[n[o]](e)}for(e.fireOnce("pluginsLoaded"),t.keystrokes&&e.setKeystroke(e.config.keystrokes),a=0;a<e.config.blockedKeystrokes.length;a++)e.keystrokeHandler.blockedKeystrokes[e.config.blockedKeystrokes[a]]=1;e.status="loaded",e.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,e)})})}function p(){var e=this.element;if(e&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var t=this.getData();return this.config.htmlEncodeOutput&&(t=CKEDITOR.tools.htmlEncode(t)),e.is("textarea")?e.setValue(t):e.setHtml(t),!0}return!1}e.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=e;var f=0,h={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(e,t){t.name=e.toLowerCase();var n=new CKEDITOR.command(this,t);return this.mode&&i(this,n),this.commands[e]=n},_attachToForm:function(){function e(e){n.updateElement(),n._.required&&!r.getValue()&&!1===n.fire("required")&&e.data.preventDefault()}function t(e){return!!(e&&e.call&&e.apply)}var n=this,r=n.element,i=new CKEDITOR.dom.element(r.$.form);r.is("textarea")&&i&&(i.on("submit",e),t(i.$.submit)&&(i.$.submit=CKEDITOR.tools.override(i.$.submit,function(t){return function(){e(),t.apply?t.apply(this):t()}})),n.on("destroy",function(){i.removeListener("submit",e)}))},destroy:function(e){this.fire("beforeDestroy"),!e&&p.call(this),this.editable(null),this.filter&&(this.filter.destroy(),delete this.filter),delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(e){if(!e){if(e=this.getSelection(),!e)return null;e=e.getStartElement()}return e?new CKEDITOR.dom.elementPath(e,this.editable()):null},createRange:function(){var e=this.editable();return e?new CKEDITOR.dom.range(e):null},execCommand:function(e,t){var n=this.getCommand(e),r={name:e,commandData:t,command:n};return n&&n.state!=CKEDITOR.TRISTATE_DISABLED&&!1!==this.fire("beforeCommandExec",r)&&(r.returnValue=n.exec(r.commandData),!n.async&&!1!==this.fire("afterCommandExec",r))?r.returnValue:!1},getCommand:function(e){return this.commands[e]},getData:function(e){!e&&this.fire("beforeGetData");var t=this._.data;return"string"!=typeof t&&(t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""),t={dataValue:t},!e&&this.fire("getData",t),t.dataValue},getSnapshot:function(){var e=this.fire("getSnapshot");return"string"!=typeof e&&(e=(e=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.is("textarea")?e.getValue():e.getHtml():""),e},loadSnapshot:function(e){this.fire("loadSnapshot",e)},setData:function(e,t,n){var r=!0,i=t;t&&"object"==typeof t&&(n=t.internal,i=t.callback,r=!t.noSnapshot),!n&&r&&this.fire("saveSnapshot"),(i||!n)&&this.once("dataReady",function(e){!n&&r&&this.fire("saveSnapshot"),i&&i.call(e.editor)}),e={dataValue:e},!n&&this.fire("setData",e),this._.data=e.dataValue,!n&&this.fire("afterSetData",e)},setReadOnly:function(e){e=null==e||e,this.readOnly!=e&&(this.readOnly=e,this.keystrokeHandler.blockedKeystrokes[8]=+e,this.editable().setReadOnly(e),this.fire("readOnly"))},insertHtml:function(e,t,n){this.fire("insertHtml",{dataValue:e,mode:t,range:n})},insertText:function(e){this.fire("insertText",e)},insertElement:function(e){this.fire("insertElement",e)},getSelectedHtml:function(e){var t=this.editable(),n=this.getSelection(),n=n&&n.getRanges();if(!t||!n||0===n.length)return null;for(var r,i,o,a=new CKEDITOR.dom.documentFragment,s=0;s<n.length;s++){var l=n[s],u=l.startContainer;u.getName&&"tr"==u.getName()?(r||(r=u.getAscendant("table").clone(),r.append(u.getAscendant("tbody").clone()),a.append(r),r=r.findOne("tbody")),i&&i.equals(u)||(i=u,o=u.clone(),r.append(o)),o.append(l.cloneContents())):a.append(l.cloneContents())}return t=r?a:t.getHtmlFromRange(n[0]),e?t.getHtml():t},extractSelectedHtml:function(e,t){var n=this.editable(),r=this.getSelection().getRanges();return n&&0!==r.length?(r=r[0],n=n.extractHtmlFromRange(r,t),t||this.getSelection().selectRanges([r]),e?n.getHtml():n):null},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return p.call(this)},setKeystroke:function(){for(var e,t,n=this.keystrokeHandler.keystrokes,r=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],i=r.length;i--;)e=r[i],t=0,CKEDITOR.tools.isArray(e)&&(t=e[1],e=e[0]),t?n[e]=t:delete n[e]},addFeature:function(e){return this.filter.addFeature(e)},setActiveFilter:function(e){e||(e=this.filter),this.activeFilter!==e&&(this.activeFilter=e,this.fire("activeFilterChange"),e===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(e.getAllowedEnterMode(this.enterMode),e.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(e,t){e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.enterMode,t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.shiftEnterMode,(this.activeEnterMode!=e||this.activeShiftEnterMode!=t)&&(this.activeEnterMode=e,this.activeShiftEnterMode=t,this.fire("activeEnterModeChange"))},showNotification:function(e){alert(e)}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},function(){var e=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,t={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(n){for(var r,i,o,a=0;r=this._.htmlPartsRegex.exec(n);)if(i=r.index,i>a&&(a=n.substring(a,i),o?o.push(a):this.onText(a)),a=this._.htmlPartsRegex.lastIndex,!(i=r[1])||(i=i.toLowerCase(),o&&CKEDITOR.dtd.$cdata[i]&&(this.onCDATA(o.join("")),o=null),o))if(o)o.push(r[0]);else if(i=r[3]){if(i=i.toLowerCase(),!/="/.test(i)){var s,l={},u=r[4];if(r=!!r[5],u)for(;s=e.exec(u);){var c=s[1].toLowerCase();s=s[2]||s[3]||s[4]||"",l[c]=!s&&t[c]?c:CKEDITOR.tools.htmlDecodeAttr(s)}this.onTagOpen(i,l,r),!o&&CKEDITOR.dtd.$cdata[i]&&(o=[])}}else(i=r[2])&&this.onComment(i);else this.onTagClose(i);n.length>a&&this.onText(n.substring(a,n.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(e){this._.output.push("<",e)},openTagClose:function(e,t){this._.output.push(t?" />":">")},attribute:function(e,t){"string"==typeof t&&(t=CKEDITOR.tools.htmlEncodeAttr(t)),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){this._.output.push("</",e,">")},text:function(e){this._.output.push(e)},comment:function(e){this._.output.push("<!--",e,"-->")},write:function(e){this._.output.push(e)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(e){var t=this._.output.join("");return e&&this.reset(),t}}}),function(){CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var e=this.parent.children,t=CKEDITOR.tools.indexOf(e,this),n=this.previous,r=this.next;n&&(n.next=r),r&&(r.previous=n),e.splice(t,1),this.parent=null},replaceWith:function(e){var t=this.parent.children,n=CKEDITOR.tools.indexOf(t,this),r=e.previous=this.previous,i=e.next=this.next;r&&(r.next=e),i&&(i.previous=e),t[n]=e,e.parent=this.parent,this.parent=null},insertAfter:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e),r=e.next;t.splice(n+1,0,this),this.next=e.next,this.previous=e,e.next=this,r&&(r.previous=this),this.parent=e.parent},insertBefore:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e);t.splice(n,0,this),this.next=e,(this.previous=e.previous)&&(e.previous.next=this),e.previous=this,this.parent=e.parent},getAscendant:function(e){for(var t=("function"==typeof e?e:"string"==typeof e?function(t){return t.name==e}:function(t){return t.name in e}),n=this.parent;n&&n.type==CKEDITOR.NODE_ELEMENT;){if(t(n))return n;n=n.parent}return null},wrapWith:function(e){return this.replaceWith(e),e.add(this),e},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(e){return e||{}}}}(),CKEDITOR.htmlParser.comment=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(e,t){var n=this.value;return(n=e.onComment(t,n,this))?"string"!=typeof n?(this.replaceWith(n),!1):(this.value=n,!0):(this.remove(),!1)},writeHtml:function(e,t){t&&this.filter(t),e.comment(this.value)}}),function(){CKEDITOR.htmlParser.text=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(e,t){return(this.value=e.onText(t,this.value,this))?void 0:(this.remove(),!1)},writeHtml:function(e,t){t&&this.filter(t),e.text(this.value)}})}(),function(){CKEDITOR.htmlParser.cdata=function(e){this.value=e},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(e){e.write(this.value)}})}(),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function e(e){return e.attributes["data-cke-survive"]?!1:"a"==e.name&&e.attributes.href||CKEDITOR.dtd.$removeEmpty[e.name]}var t=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),n={ol:1,ul:1},r=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),i={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(o,a,s){
function l(e){var t;if(0<g.length)for(var n=0;n<g.length;n++){var r=g[n],i=r.name,o=CKEDITOR.dtd[i],a=b.name&&CKEDITOR.dtd[b.name];a&&!a[i]||e&&o&&!o[e]&&CKEDITOR.dtd[e]?i==b.name&&(d(b,b.parent,1),n--):(t||(u(),t=1),r=r.clone(),r.parent=b,b=r,g.splice(n,1),n--)}}function u(){for(;v.length;)d(v.shift(),b)}function c(e){if(e._.isBlockLike&&"pre"!=e.name&&"textarea"!=e.name){var t,n=e.children.length,r=e.children[n-1];r&&r.type==CKEDITOR.NODE_TEXT&&((t=CKEDITOR.tools.rtrim(r.value))?r.value=t:e.children.length=n-1)}}function d(t,n,r){n=n||b||m;var i=b;void 0===t.previous&&(p(n,t)&&(b=n,h.onTagOpen(s,{}),t.returnPoint=n=b),c(t),e(t)&&!t.children.length||n.add(t),"pre"==t.name&&(C=!1),"textarea"==t.name&&(y=!1)),t.returnPoint?(b=t.returnPoint,delete t.returnPoint):b=r?n:i}function p(e,t){if((e==m||"body"==e.name)&&s&&(!e.name||CKEDITOR.dtd[e.name][s])){var n,r;return(n=t.attributes&&(r=t.attributes["data-cke-real-element-type"])?r:t.name)&&n in CKEDITOR.dtd.$inline&&!(n in CKEDITOR.dtd.head)&&!t.isOrphan||t.type==CKEDITOR.NODE_TEXT}}function f(e,t){return e in CKEDITOR.dtd.$listItem||e in CKEDITOR.dtd.$tableContent?e==t||"dt"==e&&"dd"==t||"dd"==e&&"dt"==t:!1}var h=new CKEDITOR.htmlParser,m=a instanceof CKEDITOR.htmlParser.element?a:"string"==typeof a?new CKEDITOR.htmlParser.element(a):new CKEDITOR.htmlParser.fragment,g=[],v=[],b=m,y="textarea"==m.name,C="pre"==m.name;h.onTagOpen=function(i,o,a,s){if(o=new CKEDITOR.htmlParser.element(i,o),o.isUnknown&&a&&(o.isEmpty=!0),o.isOptionalClose=s,e(o))g.push(o);else{if("pre"==i)C=!0;else{if("br"==i&&C)return void b.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==i&&(y=!0)}if("br"==i)v.push(o);else{for(;s=(a=b.name)?CKEDITOR.dtd[a]||(b._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):r,!(o.isUnknown||b.isUnknown||s[i]);)if(b.isOptionalClose)h.onTagClose(a);else if(i in n&&a in n)a=b.children,(a=a[a.length-1])&&"li"==a.name||d(a=new CKEDITOR.htmlParser.element("li"),b),!o.returnPoint&&(o.returnPoint=b),b=a;else if(i in CKEDITOR.dtd.$listItem&&!f(i,a))h.onTagOpen("li"==i?"ul":"dl",{},0,1);else if(a in t&&!f(i,a))!o.returnPoint&&(o.returnPoint=b),b=b.parent;else{if(a in CKEDITOR.dtd.$inline&&g.unshift(b),!b.parent){o.isOrphan=1;break}d(b,b.parent,1)}l(i),u(),o.parent=b,o.isEmpty?d(o):b=o}}},h.onTagClose=function(e){for(var t=g.length-1;t>=0;t--)if(e==g[t].name)return void g.splice(t,1);for(var n=[],r=[],i=b;i!=m&&i.name!=e;)i._.isBlockLike||r.unshift(i),n.push(i),i=i.returnPoint||i.parent;if(i!=m){for(t=0;t<n.length;t++){var o=n[t];d(o,o.parent)}b=i,i._.isBlockLike&&u(),d(i,i.parent),i==b&&(b=b.parent),g=g.concat(r)}"body"==e&&(s=!1)},h.onText=function(e){if(b._.hasInlineStarted&&!v.length||C||y||(e=CKEDITOR.tools.ltrim(e),0!==e.length)){var n=b.name,o=n?CKEDITOR.dtd[n]||(b._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):r;!y&&!o["#"]&&n in t?(h.onTagOpen(i[n]||""),h.onText(e)):(u(),l(),C||y||(e=e.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),e=new CKEDITOR.htmlParser.text(e),p(b,e)&&this.onTagOpen(s,{},0,1),b.add(e))}},h.onCDATA=function(e){b.add(new CKEDITOR.htmlParser.cdata(e))},h.onComment=function(e){u(),l(),b.add(new CKEDITOR.htmlParser.comment(e))},h.parse(o);for(u();b!=m;)d(b,b.parent,1);return c(m),m},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(e,t){isNaN(t)&&(t=this.children.length);var n=t>0?this.children[t-1]:null;if(n){if(e._.isBlockLike&&n.type==CKEDITOR.NODE_TEXT&&(n.value=CKEDITOR.tools.rtrim(n.value),0===n.value.length))return this.children.pop(),void this.add(e);n.next=e}e.previous=n,e.parent=this,this.children.splice(t,0,e),this._.hasInlineStarted||(this._.hasInlineStarted=e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&!e._.isBlockLike)},filter:function(e,t){t=this.getFilterContext(t),e.onRoot(t,this),this.filterChildren(e,!1,t)},filterChildren:function(e,t,n){if(this.childrenFilteredBy!=e.id)for(n=this.getFilterContext(n),t&&!this.parent&&e.onRoot(n,this),this.childrenFilteredBy=e.id,t=0;t<this.children.length;t++)!1===this.children[t].filter(e,n)&&t--},writeHtml:function(e,t){t&&this.filter(t),this.writeChildrenHtml(e)},writeChildrenHtml:function(e,t,n){var r=this.getFilterContext();for(n&&!this.parent&&t&&t.onRoot(r,this),t&&this.filterChildren(t,!1,r),t=0,n=this.children,r=n.length;r>t;t++)n[t].writeHtml(e)},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var r=e(this);if(!1!==r){n=this.children;for(var i=0;i<n.length;i++)r=n[i],r.type==CKEDITOR.NODE_ELEMENT?r.forEach(e,t):t&&r.type!=t||e(r)}},getFilterContext:function(e){return e||{}}}}(),function(){function e(){this.rules=[]}function t(t,n,r,i){var o,a;for(o in n)(a=t[o])||(a=t[o]=new e),a.add(n[o],r,i)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(t){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new e,this.attributeNameRules=new e,this.elementsRules={},this.attributesRules={},this.textRules=new e,this.commentRules=new e,this.rootRules=new e,t&&this.addRules(t,10)},proto:{addRules:function(e,n){var r;"number"==typeof n?r=n:n&&"priority"in n&&(r=n.priority),"number"!=typeof r&&(r=10),"object"!=typeof n&&(n={}),e.elementNames&&this.elementNameRules.addMany(e.elementNames,r,n),e.attributeNames&&this.attributeNameRules.addMany(e.attributeNames,r,n),e.elements&&t(this.elementsRules,e.elements,r,n),e.attributes&&t(this.attributesRules,e.attributes,r,n),e.text&&this.textRules.add(e.text,r,n),e.comment&&this.commentRules.add(e.comment,r,n),e.root&&this.rootRules.add(e.root,r,n)},applyTo:function(e){e.filter(this)},onElementName:function(e,t){return this.elementNameRules.execOnName(e,t)},onAttributeName:function(e,t){return this.attributeNameRules.execOnName(e,t)},onText:function(e,t,n){return this.textRules.exec(e,t,n)},onComment:function(e,t,n){return this.commentRules.exec(e,t,n)},onRoot:function(e,t){return this.rootRules.exec(e,t)},onElement:function(e,t){for(var n,r=[this.elementsRules["^"],this.elementsRules[t.name],this.elementsRules.$],i=0;3>i;i++)if(n=r[i]){if(n=n.exec(e,t,this),!1===n)return null;if(n&&n!=t)return this.onNode(e,n);if(t.parent&&!t.name)break}return t},onNode:function(e,t){var n=t.type;return n==CKEDITOR.NODE_ELEMENT?this.onElement(e,t):n==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(e,t.value)):n==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(e,t.value)):null},onAttribute:function(e,t,n,r){return(n=this.attributesRules[n])?n.exec(e,r,t,this):r}}}),CKEDITOR.htmlParser.filterRulesGroup=e,e.prototype={add:function(e,t,n){this.rules.splice(this.findIndex(t),0,{value:e,priority:t,options:n})},addMany:function(e,t,n){for(var r=[this.findIndex(t),0],i=0,o=e.length;o>i;i++)r.push({value:e[i],priority:t,options:n});this.rules.splice.apply(this.rules,r)},findIndex:function(e){for(var t=this.rules,n=t.length-1;n>=0&&e<t[n].priority;)n--;return n+1},exec:function(e,t){var n,r,i,o,a=t instanceof CKEDITOR.htmlParser.node||t instanceof CKEDITOR.htmlParser.fragment,s=Array.prototype.slice.call(arguments,1),l=this.rules,u=l.length;for(o=0;u>o;o++)if(a&&(n=t.type,r=t.name),i=l[o],!(e.nonEditable&&!i.options.applyToAll||e.nestedEditable&&i.options.excludeNestedEditable)){if(i=i.value.apply(null,s),!1===i||a&&i&&(i.name!=r||i.type!=n))return i;null!=i&&(s[0]=t=i)}return t},execOnName:function(e,t){for(var n,r=0,i=this.rules,o=i.length;t&&o>r;r++)n=i[r],e.nonEditable&&!n.options.applyToAll||e.nestedEditable&&n.options.excludeNestedEditable||(t=t.replace(n.value[0],n.value[1]));return t}}}(),function(){function e(e,t){function s(e){return e||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(" "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function l(e,t){return function(i){if(i.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var a,l,c=[],d=n(i);if(d)for(u(d,1)&&c.push(d);d;)o(d)&&(a=r(d))&&u(a)&&((l=r(a))&&!o(l)?c.push(a):(s(p).insertAfter(a),a.remove())),d=d.previous;for(d=0;d<c.length;d++)c[d].remove();(c=!e||!1!==("function"==typeof t?t(i):t))&&((p||CKEDITOR.env.needsBrFiller||i.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(p||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||i.name in CKEDITOR.dtd.tr||i.name in CKEDITOR.dtd.$listItem))?(c=n(i),c=!c||"form"==i.name&&"input"==c.name):c=!1),c&&i.add(s(e))}}}function u(e,t){if((!p||CKEDITOR.env.needsBrFiller)&&e.type==CKEDITOR.NODE_ELEMENT&&"br"==e.name&&!e.attributes["data-cke-eol"])return!0;var n;return e.type==CKEDITOR.NODE_TEXT&&(n=e.value.match(g))&&(n.index&&(new CKEDITOR.htmlParser.text(e.value.substring(0,n.index)).insertBefore(e),e.value=n[0]),!CKEDITOR.env.needsBrFiller&&p&&(!t||e.parent.name in f)||!p&&((n=e.previous)&&"br"==n.name||!n||o(n)))?!0:!1}var c,d={elements:{}},p="html"==t,f=CKEDITOR.tools.extend({},C);for(c in f)"#"in b[c]||delete f[c];for(c in f)d.elements[c]=l(p,e.config.fillEmptyBlocks);return d.root=l(p,!1),d.elements.br=function(e){return function(t){if(t.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var n=t.attributes;if("data-cke-bogus"in n||"data-cke-eol"in n)delete n["data-cke-bogus"];else{for(n=t.next;n&&i(n);)n=n.next;var l=r(t);!n&&o(t.parent)?a(t.parent,s(e)):o(n)&&l&&!o(l)&&s(e).insertBefore(n)}}}}(p),d}function t(e,t){return e!=CKEDITOR.ENTER_BR&&!1!==t?e==CKEDITOR.ENTER_DIV?"div":"p":!1}function n(e){for(e=e.children[e.children.length-1];e&&i(e);)e=e.previous;return e}function r(e){for(e=e.previous;e&&i(e);)e=e.previous;return e}function i(e){return e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(e.value)||e.type==CKEDITOR.NODE_ELEMENT&&e.attributes["data-cke-bookmark"]}function o(e){return e&&(e.type==CKEDITOR.NODE_ELEMENT&&e.name in C||e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function a(e,t){var n=e.children[e.children.length-1];e.children.push(t),t.parent=e,n&&(n.next=t,t.previous=n)}function s(e){e=e.attributes,"false"!=e.contenteditable&&(e["data-cke-editable"]=e.contenteditable?"true":1),e.contenteditable="false"}function l(e){switch(e=e.attributes,e["data-cke-editable"]){case"true":e.contenteditable="true";break;case"1":delete e.contenteditable}}function u(e){return e.replace(O,function(e,t,n){return"<"+t+n.replace(I,function(e,t){return R.test(t)&&-1==n.indexOf("data-cke-saved-"+t)?" data-cke-saved-"+e+" data-cke-"+CKEDITOR.rnd+"-"+e:e})+">"})}function c(e,t){return e.replace(t,function(e,t,n){return 0===e.indexOf("<textarea")&&(e=t+f(n).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(e)+"</cke:encoded>"})}function d(e){return e.replace(k,function(e,t){return decodeURIComponent(t)})}function p(e){return e.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,function(e){return"<!--"+v+"{C}"+encodeURIComponent(e).replace(/--/g,"%2D%2D")+"-->"})}function f(e){return e.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,function(e,t){return decodeURIComponent(t)})}function h(e,t){var n=t._.dataStore;return e.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(e,t){return decodeURIComponent(t)}).replace(/\{cke_protected_(\d+)\}/g,function(e,t){return n&&n[t]||""})}function m(e,t){var n=[],r=t.config.protectedSource,i=t._.dataStore||(t._.dataStore={id:1}),o=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g,r=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(r);e=e.replace(/\x3c!--[\s\S]*?--\x3e/g,function(e){return"<!--{cke_tempcomment}"+(n.push(e)-1)+"-->"});for(var a=0;a<r.length;a++)e=e.replace(r[a],function(e){return e=e.replace(o,function(e,t,r){return n[r]}),/cke_temp(comment)?/.test(e)?e:"<!--{cke_temp}"+(n.push(e)-1)+"-->"});return e=e.replace(o,function(e,t,r){return"<!--"+v+(t?"{C}":"")+encodeURIComponent(n[r]).replace(/--/g,"%2D%2D")+"-->"}),e=e.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(e){return e.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,function(e,t){return i[i.id]=decodeURIComponent(t),"{cke_protected_"+i.id++ +"}"})}),e=e.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(e,n,r,i){return"<"+n+r+">"+h(f(i),t)+"</"+n+">"})}CKEDITOR.htmlDataProcessor=function(n){var r,i,o=this;this.editor=n,this.dataFilter=r=new CKEDITOR.htmlParser.filter,this.htmlFilter=i=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,r.addRules(E),r.addRules(T,{applyToAll:!0}),r.addRules(e(n,"data"),{applyToAll:!0}),i.addRules(w),i.addRules(D,{applyToAll:!0}),i.addRules(e(n,"html"),{applyToAll:!0}),n.on("toHtml",function(e){e=e.data;var r,i=e.dataValue,i=m(i,n),i=c(i,x),i=u(i),i=c(i,$),i=i.replace(_,"$1cke:$2"),i=i.replace(A,"<cke:$1$2></cke:$1>"),i=i.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2"),i=i.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");r=e.context||n.editable().getName();var o;CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==r&&(r="div",i="<pre>"+i+"</pre>",o=1),r=n.document.createElement(r),r.setHtml("a"+i),i=r.getHtml().substr(1),i=i.replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),""),o&&(i=i.replace(/^<pre>|<\/pre>$/gi,"")),i=i.replace(S,"$1$2"),i=d(i),i=f(i),r=!1===e.fixForBody?!1:t(e.enterMode,n.config.autoParagraph),i=CKEDITOR.htmlParser.fragment.fromHtml(i,e.context,r),r&&(o=i,!o.children.length&&CKEDITOR.dtd[o.name][r]&&(r=new CKEDITOR.htmlParser.element(r),o.add(r))),e.dataValue=i},null,null,5),n.on("toHtml",function(e){e.data.filter.applyTo(e.data.dataValue,!0,e.data.dontFilter,e.data.enterMode)&&n.fire("dataFiltered")},null,null,6),n.on("toHtml",function(e){e.data.dataValue.filterChildren(o.dataFilter,!0)},null,null,10),n.on("toHtml",function(e){e=e.data;var t=e.dataValue,n=new CKEDITOR.htmlParser.basicWriter;t.writeChildrenHtml(n),t=n.getHtml(!0),e.dataValue=p(t)},null,null,15),n.on("toDataFormat",function(e){var r=e.data.dataValue;e.data.enterMode!=CKEDITOR.ENTER_BR&&(r=r.replace(/^<br *\/?>/i,"")),e.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(r,e.data.context,t(e.data.enterMode,n.config.autoParagraph))},null,null,5),n.on("toDataFormat",function(e){e.data.dataValue.filterChildren(o.htmlFilter,!0)},null,null,10),n.on("toDataFormat",function(e){e.data.filter.applyTo(e.data.dataValue,!1,!0)},null,null,11),n.on("toDataFormat",function(e){var t=e.data.dataValue,r=o.writer;r.reset(),t.writeChildrenHtml(r),t=r.getHtml(!0),t=f(t),t=h(t,n),e.data.dataValue=t},null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(e,t,n,r){var i,o,a,s,l=this.editor;return t&&"object"==typeof t?(i=t.context,n=t.fixForBody,r=t.dontFilter,o=t.filter,a=t.enterMode,s=t.protectedWhitespaces):i=t,i||null===i||(i=l.editable().getName()),l.fire("toHtml",{dataValue:e,context:i,fixForBody:n,dontFilter:r,filter:o||l.filter,enterMode:a||l.enterMode,protectedWhitespaces:s}).dataValue},toDataFormat:function(e,t){var n,r,i;return t&&(n=t.context,r=t.filter,i=t.enterMode),n||null===n||(n=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:e,filter:r||this.editor.filter,context:n,enterMode:i||this.editor.enterMode}).dataValue}};var g=/(?:&nbsp;|\xa0)$/,v="{cke_protected}",b=CKEDITOR.dtd,y="caption colgroup col thead tfoot tbody".split(" "),C=CKEDITOR.tools.extend({},b.$blockLimit,b.$block),E={elements:{input:s,textarea:s}},T={attributeNames:[[/^on/,"data-cke-pa-on"],[/^data-cke-expando$/,""]]},w={elements:{embed:function(e){var t=e.parent;if(t&&"object"==t.name){var n=t.attributes.width,t=t.attributes.height;n&&(e.attributes.width=n),t&&(e.attributes.height=t)}},a:function(e){var t=e.attributes;return e.children.length||t.name||t.id||e.attributes["data-cke-saved-name"]?void 0:!1}}},D={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(e){var t=e.attributes;if(t){if(t["data-cke-temp"])return!1;for(var n,r=["name","href","src"],i=0;i<r.length;i++)n="data-cke-saved-"+r[i],n in t&&delete t[r[i]]}return e},table:function(e){e.children.slice(0).sort(function(e,t){var n,r;return e.type==CKEDITOR.NODE_ELEMENT&&t.type==e.type&&(n=CKEDITOR.tools.indexOf(y,e.name),r=CKEDITOR.tools.indexOf(y,t.name)),n>-1&&r>-1&&n!=r||(n=e.parent?e.getIndex():-1,r=t.parent?t.getIndex():-1),n>r?1:-1})},param:function(e){return e.children=[],e.isEmpty=!0,e},span:function(e){"Apple-style-span"==e.attributes["class"]&&delete e.name},html:function(e){delete e.attributes.contenteditable,delete e.attributes["class"]},body:function(e){delete e.attributes.spellcheck,delete e.attributes.contenteditable},style:function(e){var t=e.children[0];t&&t.value&&(t.value=CKEDITOR.tools.trim(t.value)),e.attributes.type||(e.attributes.type="text/css")},title:function(e){var t=e.children[0];!t&&a(e,t=new CKEDITOR.htmlParser.text),t.value=e.attributes["data-cke-title"]||""},input:l,textarea:l},attributes:{"class":function(e){return CKEDITOR.tools.ltrim(e.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(D.attributes.style=function(e){return e.replace(/(^|;)([^\:]+)/g,function(e){return e.toLowerCase()})});var O=/<(a|area|img|input|source)\b([^>]*)>/gi,I=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,R=/^(href|src|name)$/i,$=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,x=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,k=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,_=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,S=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,A=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi}(),CKEDITOR.htmlParser.element=function(e,t){this.name=e,this.attributes=t||{},this.children=[];var n=e||"",r=n.match(/^cke:(.*)/);r&&(n=r[1]),n=!!(CKEDITOR.dtd.$nonBodyContent[n]||CKEDITOR.dtd.$block[n]||CKEDITOR.dtd.$listItem[n]||CKEDITOR.dtd.$tableContent[n]||CKEDITOR.dtd.$nonEditable[n]||"br"==n),this.isEmpty=!!CKEDITOR.dtd.$empty[e],this.isUnknown=!CKEDITOR.dtd[e],this._={isBlockLike:n,hasInlineStarted:this.isEmpty||!n}},CKEDITOR.htmlParser.cssStyle=function(e){var t={};return((e instanceof CKEDITOR.htmlParser.element?e.attributes.style:e)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(e,n,r){"font-family"==n&&(r=r.replace(/["']/g,"")),t[n.toLowerCase()]=r}),{rules:t,populate:function(e){var t=this.toString();t&&(e instanceof CKEDITOR.dom.element?e.setAttribute("style",t):e instanceof CKEDITOR.htmlParser.element?e.attributes.style=t:e.style=t)},toString:function(){var e,n=[];for(e in t)t[e]&&n.push(e,":",t[e],";");return n.join("")}}},function(){function e(e){return function(t){return t.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof e?t.name==e:t.name in e)}}var t=function(e,t){return e=e[0],t=t[0],t>e?-1:e>t?1:0},n=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:n.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(e,t){var n,r,i=this;if(t=i.getFilterContext(t),t.off)return!0;for(i.parent||e.onRoot(t,i);;){if(n=i.name,!(r=e.onElementName(t,n)))return this.remove(),!1;if(i.name=r,!(i=e.onElement(t,i)))return this.remove(),!1;if(i!==this)return this.replaceWith(i),!1;if(i.name==n)break;if(i.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(i),!1;if(!i.name)return this.replaceWithChildren(),!1}n=i.attributes;var o,a;for(o in n){for(r=n[o];;){if(!(a=e.onAttributeName(t,o))){delete n[o];break}if(a==o)break;delete n[o],o=a}a&&(!1===(r=e.onAttribute(t,i,a,r))?delete n[a]:n[a]=r)}return i.isEmpty||this.filterChildren(e,!1,t),!0},filterChildren:n.filterChildren,writeHtml:function(e,n){n&&this.filter(n);var r,i,o=this.name,a=[],s=this.attributes;e.openTag(o,s);for(r in s)a.push([r,s[r]]);for(e.sortAttributes&&a.sort(t),r=0,i=a.length;i>r;r++)s=a[r],e.attribute(s[0],s[1]);e.openTagClose(o,this.isEmpty),this.writeChildrenHtml(e),this.isEmpty||e.closeTag(o)},writeChildrenHtml:n.writeChildrenHtml,replaceWithChildren:function(){for(var e=this.children,t=e.length;t;)e[--t].insertAfter(this);this.remove()},forEach:n.forEach,getFirst:function(t){if(!t)return this.children.length?this.children[0]:null;"function"!=typeof t&&(t=e(t));for(var n=0,r=this.children.length;r>n;++n)if(t(this.children[n]))return this.children[n];return null},getHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(e),e.getHtml()},setHtml:function(e){e=this.children=CKEDITOR.htmlParser.fragment.fromHtml(e).children;for(var t=0,n=e.length;n>t;++t)e[t].parent=this},getOuterHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(e),e.getHtml()},split:function(e){for(var t=this.children.splice(e,this.children.length-e),n=this.clone(),r=0;r<t.length;++r)t[r].parent=n;return n.children=t,t[0]&&(t[0].previous=null),e>0&&(this.children[e-1].next=null),this.parent.add(n,this.getIndex()+1),n},addClass:function(e){if(!this.hasClass(e)){var t=this.attributes["class"]||"";this.attributes["class"]=t+(t?" ":"")+e}},removeClass:function(e){var t=this.attributes["class"];t&&((t=CKEDITOR.tools.trim(t.replace(new RegExp("(?:\\s+|^)"+e+"(?:\\s+|$)")," ")))?this.attributes["class"]=t:delete this.attributes["class"])},hasClass:function(e){var t=this.attributes["class"];return t?new RegExp("(?:^|\\s)"+e+"(?=\\s|$)").test(t):!1},getFilterContext:function(e){var t=[];if(e||(e={off:!1,nonEditable:!1,nestedEditable:!1}),e.off||"off"!=this.attributes["data-cke-processor"]||t.push("off",!0),e.nonEditable||"false"!=this.attributes.contenteditable?e.nonEditable&&!e.nestedEditable&&"true"==this.attributes.contenteditable&&t.push("nestedEditable",!0):t.push("nonEditable",!0),t.length){e=CKEDITOR.tools.copy(e);for(var n=0;n<t.length;n+=2)e[t[n]]=t[n+1]}return e}},!0)}(),function(){var e={},t=/{([^}]+)}/g,n=/([\\'])/g,r=/\n/g,i=/\r/g;CKEDITOR.template=function(o){if(e[o])this.output=e[o];else{var a=o.replace(n,"\\$1").replace(r,"\\n").replace(i,"\\r").replace(t,function(e,t){return"',data['"+t+"']==undefined?'{"+t+"}':data['"+t+"'],'"});this.output=e[o]=Function("data","buffer","return buffer?buffer.push('"+a+"'):['"+a+"'].join('');")}}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(e){CKEDITOR.instances[e.name]=e,e.on("focus",function(){CKEDITOR.currentInstance!=e&&(CKEDITOR.currentInstance=e,CKEDITOR.fire("currentInstance"))}),e.on("blur",function(){CKEDITOR.currentInstance==e&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}),CKEDITOR.fire("instance",null,e)},CKEDITOR.remove=function(e){delete CKEDITOR.instances[e.name]},function(){var e={};CKEDITOR.addTemplate=function(t,n){var r=e[t];return r?r:(r={name:t,source:n},CKEDITOR.fire("template",r),e[t]=new CKEDITOR.template(r.source))},CKEDITOR.getTemplate=function(t){return e[t]}}(),function(){var e=[];CKEDITOR.addCss=function(t){e.push(t)},CKEDITOR.getCss=function(){return e.join("\n")}}(),CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,function(){CKEDITOR.inline=function(e,t){if(!CKEDITOR.env.isCompatible)return null;if(e=CKEDITOR.dom.element.get(e),e.getEditor())throw'The editor instance "'+e.getEditor().name+'" is already attached to the provided element.';var n=new CKEDITOR.editor(t,e,CKEDITOR.ELEMENT_MODE_INLINE),r=e.is("textarea")?e:null;return r?(n.setData(r.getValue(),null,!0),e=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!n.readOnly+'" class="cke_textarea_inline">'+r.getValue()+"</div>",CKEDITOR.document),e.insertAfter(r),r.hide(),r.$.form&&n._attachToForm()):n.setData(e.getHtml(),null,!0),n.on("loaded",function(){n.fire("uiReady"),n.editable(e),n.container=e,n.ui.contentsElement=e,n.setData(n.getData(1)),n.resetDirty(),n.fire("contentDom"),n.mode="wysiwyg",n.fire("mode"),n.status="ready",n.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,n)},null,null,1e4),n.on("destroy",function(){r&&(n.container.clearCustomData(),n.container.remove(),r.show()),n.element.clearCustomData(),delete n.element}),n},CKEDITOR.inlineAll=function(){var e,t,n;for(n in CKEDITOR.dtd.$editable)for(var r=CKEDITOR.document.getElementsByTag(n),i=0,o=r.count();o>i;i++)e=r.getItem(i),"true"==e.getAttribute("contenteditable")&&(t={element:e,config:{}},!1!==CKEDITOR.fire("inline",t)&&CKEDITOR.inline(e,t.config))},CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})}(),CKEDITOR.replaceClass="ckeditor",function(){function e(e,r,i,o){if(!CKEDITOR.env.isCompatible)return null;if(e=CKEDITOR.dom.element.get(e),e.getEditor())throw'The editor instance "'+e.getEditor().name+'" is already attached to the provided element.';var a=new CKEDITOR.editor(r,e,o);return o==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.setStyle("visibility","hidden"),a._.required=e.hasAttribute("required"),e.removeAttribute("required")),i&&a.setData(i,null,!0),a.on("loaded",function(){n(a),o==CKEDITOR.ELEMENT_MODE_REPLACE&&a.config.autoUpdateElement&&e.$.form&&a._attachToForm(),a.setMode(a.config.startupMode,function(){a.resetDirty(),a.status="ready",a.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,a)})}),a.on("destroy",t),a}function t(){var e=this.container,t=this.element;e&&(e.clearCustomData(),e.remove()),t&&(t.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.show(),this._.required&&t.setAttribute("required","required")),delete this.element)}function n(e){var t=e.name,n=e.element,r=e.elementMode,i=e.fire("uiSpace",{space:"top",html:""}).html,o=e.fire("uiSpace",{space:"bottom",html:""}).html,a=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(e.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(e.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>'),t=CKEDITOR.dom.element.createFromHtml(a.output({id:e.id,name:t,langDir:e.lang.dir,langCode:e.langCode,voiceLabel:e.title,topHtml:i?'<span id="'+e.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+i+"</span>":"",contentId:e.ui.spaceId("contents"),bottomHtml:o?'<span id="'+e.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+o+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));r==CKEDITOR.ELEMENT_MODE_REPLACE?(n.hide(),t.insertAfter(n)):n.append(t),e.container=t,e.ui.contentsElement=e.ui.space("contents"),i&&e.ui.space("top").unselectable(),o&&e.ui.space("bottom").unselectable(),n=e.config.width,r=e.config.height,n&&t.setStyle("width",CKEDITOR.tools.cssLength(n)),r&&e.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(r)),t.disableContextMenu(),CKEDITOR.env.webkit&&t.on("focus",function(){e.focus()}),e.fireOnce("uiReady")}CKEDITOR.replace=function(t,n){return e(t,n,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(t,n,r){return e(t,n,r,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(){for(var e=document.getElementsByTagName("textarea"),t=0;t<e.length;t++){var n=null,r=e[t];if(r.name||r.id){if("string"==typeof arguments[0]){if(!new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(r.className))continue}else if("function"==typeof arguments[0]&&(n={},!1===arguments[0](r,n)))continue;this.replace(r,n)}}},CKEDITOR.editor.prototype.addMode=function(e,t){(this._.modes||(this._.modes={}))[e]=t},CKEDITOR.editor.prototype.setMode=function(e,t){var n=this,r=this._.modes;if(e!=n.mode&&r&&r[e]){if(n.fire("beforeSetMode",e),n.mode){var i,o=n.checkDirty(),r=n._.previousModeData,a=0;n.fire("beforeModeUnload"),n.editable(0),n._.previousMode=n.mode,n._.previousModeData=i=n.getData(1),"source"==n.mode&&r==i&&(n.fire("lockSnapshot",{forceUpdate:!0}),a=1),n.ui.space("contents").setHtml(""),n.mode=""}else n._.previousModeData=n.getData(1);this._.modes[e](function(){n.mode=e,void 0!==o&&!o&&n.resetDirty(),a?n.fire("unlockSnapshot"):"wysiwyg"==e&&n.fire("saveSnapshot"),setTimeout(function(){n.fire("mode"),t&&t.call(n)},0)})}},CKEDITOR.editor.prototype.resize=function(e,t,n,r){var i=this.container,o=this.ui.space("contents"),a=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;r=r?this.container.getFirst(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")}):i,r.setSize("width",e,!0),a&&(a.style.width="1%");var s=(r.$.offsetHeight||0)-(o.$.clientHeight||0),i=Math.max(t-(n?0:s),0);t=n?t+s:t,o.setStyle("height",i+"px"),a&&(a.style.width="100%"),this.fire("resize",{outerHeight:t,contentsHeight:i,outerWidth:e||r.getSize("width")})},CKEDITOR.editor.prototype.getResizable=function(e){return e?this.ui.space("contents"):this.container},CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode="wysiwyg",function(){function e(e){var n,i=e.editor,o=e.data.path,s=o.blockLimit,l=e.data.selection,u=l.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(l=t(l,o))&&(l.appendBogus(),n=CKEDITOR.env.ie),a(i,o.block,s)&&u.collapsed&&!u.getCommonAncestor().isReadOnly()&&(o=u.clone(),o.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),s=new CKEDITOR.dom.walker(o),s.guard=function(e){return!r(e)||e.type==CKEDITOR.NODE_COMMENT||e.isReadOnly()},!s.checkForward()||o.checkStartOfBlock()&&o.checkEndOfBlock())&&(i=u.fixBlock(!0,i.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(i=i.getFirst(r))&&i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText()).match(/^(?:&nbsp;|\xa0)$/)&&i.remove(),n=1,e.cancel()),n&&u.select()}function t(e,t){if(e.isFake)return 0;var n=t.block||t.blockLimit,i=n&&n.getLast(r);return!n||!n.isBlockBoundary()||i&&i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary()||n.is("pre")||n.getBogus()?void 0:n}function n(e){var t=e.data.getTarget();t.is("input")&&(t=t.getAttribute("type"),"submit"!=t&&"reset"!=t||e.data.preventDefault())}function r(e){return c(e)&&d(e)}function i(e,t){return function(n){var r=n.data.$.toElement||n.data.$.fromElement||n.data.$.relatedTarget;(r=r&&r.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(r):null)&&(t.equals(r)||t.contains(r))||e.call(this,n)}}function o(e){function t(e){return function(t,i){return i&&t.type==CKEDITOR.NODE_ELEMENT&&t.is(o)&&(n=t),i||!r(t)||e&&f(t)?void 0:!1}}var n,i=e.getRanges()[0];e=e.root;var o={table:1,ul:1,ol:1,dl:1};if(i.startPath().contains(o)){var a=i.clone();if(a.collapse(1),a.setStartAt(e,CKEDITOR.POSITION_AFTER_START),e=new CKEDITOR.dom.walker(a),e.guard=t(),e.checkBackward(),n)return a=i.clone(),a.collapse(),a.setEndAt(n,CKEDITOR.POSITION_AFTER_END),e=new CKEDITOR.dom.walker(a),e.guard=t(!0),n=!1,e.checkForward(),n}return null}function a(e,t,n){return!1!==e.config.autoParagraph&&e.activeEnterMode!=CKEDITOR.ENTER_BR&&(e.editable().equals(n)&&!t||t&&"true"==t.getAttribute("contenteditable"))}function s(e){return e.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==e.config.autoParagraph?e.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p":!1}function l(e){var t=e.editor;t.getSelection().scrollIntoView(),setTimeout(function(){t.fire("saveSnapshot")},0)}function u(e,t,n){var r=e.getCommonAncestor(t);for(t=e=n?t:e;(e=e.getParent())&&!r.equals(e)&&1==e.getChildCount();)t=e;t.remove()}var c,d,p,f,h,m,g,v,b;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(e,t){this.base(t.$||t),this.editor=e,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var e;if(CKEDITOR.env.webkit&&!this.hasFocus&&(e=this.editor._.previousActive||this.getDocument().getActive(),this.contains(e)))return void e.focus();try{this.$[CKEDITOR.env.ie&&this.getDocument().equals(CKEDITOR.document)?"setActive":"focus"]()}catch(t){if(!CKEDITOR.env.ie)throw t}CKEDITOR.env.safari&&!this.isInline()&&(e=CKEDITOR.document.getActive(),e.equals(this.getWindow().getFrame())||this.getWindow().focus());

},on:function(e,t){var n=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(e)&&(e="focus"==e?"focusin":"focusout",t=i(t,this),n[0]=e,n[1]=t),CKEDITOR.dom.element.prototype.on.apply(this,n)},attachListener:function(e){!this._.listeners&&(this._.listeners=[]);var t=Array.prototype.slice.call(arguments,1),t=e.on.apply(e,t);return this._.listeners.push(t),t},clearListeners:function(){var e=this._.listeners;try{for(;e.length;)e.pop().removeListener()}catch(t){}},restoreAttrs:function(){var e,t,n=this._.attrChanges;for(t in n)n.hasOwnProperty(t)&&(e=n[t],null!==e?this.setAttribute(t,e):this.removeAttribute(t))},attachClass:function(e){var t=this.getCustomData("classes");this.hasClass(e)||(!t&&(t=[]),t.push(e),this.setCustomData("classes",t),this.addClass(e))},changeAttr:function(e,t){var n=this.getAttribute(e);t!==n&&(!this._.attrChanges&&(this._.attrChanges={}),e in this._.attrChanges||(this._.attrChanges[e]=n),this.setAttribute(e,t))},insertText:function(e){this.editor.focus(),this.insertHtml(this.transformPlainTextToHtml(e),"text")},transformPlainTextToHtml:function(e){var t=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(e,t)},insertHtml:function(e,t,n){var r=this.editor;r.focus(),r.fire("saveSnapshot"),n||(n=r.getSelection().getRanges()[0]),m(this,t||"html",e,n),n.select(),l(this),this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(e,t,n){m(this,n||"html",e,t),this.editor.fire("afterInsertHtml",{intoRange:t})},insertElement:function(e,t){var n=this.editor;n.focus(),n.fire("saveSnapshot");var i=n.activeEnterMode,n=n.getSelection(),o=e.getName(),o=CKEDITOR.dtd.$block[o];t||(t=n.getRanges()[0]),this.insertElementIntoRange(e,t)&&(t.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),o&&((o=e.getNext(function(e){return r(e)&&!f(e)}))&&o.type==CKEDITOR.NODE_ELEMENT&&o.is(CKEDITOR.dtd.$block)?o.getDtd()["#"]?t.moveToElementEditStart(o):t.moveToElementEditEnd(e):o||i==CKEDITOR.ENTER_BR||(o=t.fixBlock(!0,i==CKEDITOR.ENTER_DIV?"div":"p"),t.moveToElementEditStart(o)))),n.selectRanges([t]),l(this)},insertElementIntoSelection:function(e){this.insertElement(e)},insertElementIntoRange:function(e,t){var n=this.editor,r=n.config.enterMode,i=e.getName(),o=CKEDITOR.dtd.$block[i];if(t.checkReadOnly())return!1;t.deleteContents(1),t.startContainer.type==CKEDITOR.NODE_ELEMENT&&t.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})&&g(t);var a,s;if(o)for(;(a=t.getCommonAncestor(0,1))&&(s=CKEDITOR.dtd[a.getName()])&&(!s||!s[i]);)a.getName()in CKEDITOR.dtd.span?t.splitElement(a):t.checkStartOfBlock()&&t.checkEndOfBlock()?(t.setStartBefore(a),t.collapse(!0),a.remove()):t.splitBlock(r==CKEDITOR.ENTER_DIV?"div":"p",n.editable());return t.insertNode(e),!0},setData:function(e,t){t||(e=this.editor.dataProcessor.toHtml(e)),this.setHtml(e),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(e){var t=this.getHtml();return e||(t=this.editor.dataProcessor.toDataFormat(t)),t},setReadOnly:function(e){this.setAttribute("contenteditable",!e)},detach:function(){this.removeClass("cke_editable"),this.status="detached";var e=this.editor;this._.detach(),delete e.document,delete e.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function e(){var e,t=n.getDocument().$,r=t.getSelection();e:if(r.anchorNode&&r.anchorNode==n.$)e=!0;else{if(CKEDITOR.env.webkit&&(e=n.getDocument().getActive())&&e.equals(n)&&!r.anchorNode){e=!0;break e}e=void 0}e&&(e=new CKEDITOR.dom.range(n),e.moveToElementEditStart(n),t=t.createRange(),t.setStart(e.startContainer.$,e.startOffset),t.collapse(!0),r.removeAllRanges(),r.addRange(t))}function t(){var e=n.getDocument().$,t=e.selection,r=n.getDocument().getActive();"None"==t.type&&r.equals(n)&&(t=new CKEDITOR.dom.range(n),e=e.body.createTextRange(),t.moveToElementEditStart(n),t=t.startContainer,t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),e.moveToElementText(t.$),e.collapse(!0),e.select())}var n=this;CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),t()):this.hasFocus?(this.focus(),e()):this.once("focus",function(){e()},null,null,-999)},getHtmlFromRange:function(e){return e.collapsed?new CKEDITOR.dom.documentFragment(e.document):(e={doc:this.getDocument(),range:e.clone()},v.eol.detect(e,this),v.bogus.exclude(e),v.cell.shrink(e),e.fragment=e.range.cloneContents(),v.tree.rebuild(e,this),v.eol.fix(e,this),new CKEDITOR.dom.documentFragment(e.fragment.$))},extractHtmlFromRange:function(e,t){var n=b,r={range:e,doc:e.document},i=this.getHtmlFromRange(e);if(e.collapsed)return e.optimize(),i;e.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.table.detectPurge(r),r.bookmark=e.createBookmark(),delete r.range;var o=this.editor.createRange();if(o.moveToPosition(r.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START),r.targetBookmark=o.createBookmark(),n.list.detectMerge(r,this),n.table.detectRanges(r,this),n.block.detectMerge(r,this),r.tableContentsRanges?(n.table.deleteRanges(r),e.moveToBookmark(r.bookmark),r.range=e):(e.moveToBookmark(r.bookmark),r.range=e,e.extractContents(n.detectExtractMerge(r))),e.moveToBookmark(r.targetBookmark),e.optimize(),n.fixUneditableRangePosition(e),n.list.merge(r,this),n.table.purge(r,this),n.block.merge(r,this),t){if(n=e.startPath(),r=e.checkStartOfBlock()&&e.checkEndOfBlock()&&n.block&&!e.root.equals(n.block)){e:{var a,r=n.block.getElementsByTag("span"),o=0;if(r)for(;a=r.getItem(o++);)if(!d(a)){r=!0;break e}r=!1}r=!r}r&&(e.moveToPosition(n.block,CKEDITOR.POSITION_BEFORE_START),n.block.remove())}else n.autoParagraph(this.editor,e),p(e.startContainer)&&e.startContainer.appendBogus();return e.startContainer.mergeSiblings(),i},setup:function(){var e=this.editor;if(this.attachListener(e,"beforeGetData",function(){var t=this.getData();this.is("textarea")||!1!==e.config.ignoreEmptyParagraph&&(t=t.replace(h,function(e,t){return t})),e.setData(t,null,1)},this),this.attachListener(e,"getSnapshot",function(e){e.data=this.getData(1)},this),this.attachListener(e,"afterSetData",function(){this.setData(e.getData(1))},this),this.attachListener(e,"loadSnapshot",function(e){this.setData(e.data,1)},this),this.attachListener(e,"beforeFocus",function(){var t=e.getSelection();(t=t&&t.getNative())&&"Control"==t.type||this.focus()},this),this.attachListener(e,"insertHtml",function(e){this.insertHtml(e.data.dataValue,e.data.mode,e.data.range)},this),this.attachListener(e,"insertElement",function(e){this.insertElement(e.data)},this),this.attachListener(e,"insertText",function(e){this.insertText(e.data)},this),this.setReadOnly(e.readOnly),this.attachClass("cke_editable"),e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):e.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&e.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed"),this.attachClass("cke_contents_"+e.config.contentsLangDirection),e.keystrokeHandler.blockedKeystrokes[8]=+e.readOnly,e.keystrokeHandler.attach(this),this.on("blur",function(){this.hasFocus=!1},null,null,-1),this.on("focus",function(){this.hasFocus=!0},null,null,-1),e.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,e.once("contentDom",function(){e.focusManager.focus(this)},this)),this.isInline()&&this.changeAttr("tabindex",e.tabIndex),!this.is("textarea")){e.document=this.getDocument(),e.window=this.getWindow();var t=e.document;this.changeAttr("spellcheck",!e.config.disableNativeSpellChecker);var i=e.config.contentsLangDirection;this.getDirection(1)!=i&&this.changeAttr("dir",i);var a=CKEDITOR.getCss();if(a){var i=t.getHead(),s=i.getCustomData("stylesheet");s?a!=s.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?s.$.styleSheet.cssText=a:s.setText(a)):(a=t.appendStyleText(a),a=new CKEDITOR.dom.element(a.ownerNode||a.owningElement),i.setCustomData("stylesheet",a),a.data("cke-temp",1))}i=t.getCustomData("stylesheet_ref")||0,t.setCustomData("stylesheet_ref",i+1),this.setCustomData("cke_includeReadonly",!e.config.disableReadonlyStyling),this.attachListener(this,"click",function(e){e=e.data;var t=new CKEDITOR.dom.elementPath(e.getTarget(),this).contains("a");t&&2!=e.$.button&&t.isReadOnly()&&e.preventDefault()});var l={8:1,46:1};this.attachListener(e,"key",function(t){if(e.readOnly)return!0;var n,r=t.data.domEvent.getKey();if(r in l){t=e.getSelection();var i,a,s,u,d=t.getRanges()[0],p=d.startPath(),r=8==r;CKEDITOR.env.ie&&11>CKEDITOR.env.version&&(i=t.getSelectedElement())||(i=o(t))?(e.fire("saveSnapshot"),d.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove(),d.select(),e.fire("saveSnapshot"),n=1):d.collapsed&&((a=p.block)&&(u=a[r?"getPrevious":"getNext"](c))&&u.type==CKEDITOR.NODE_ELEMENT&&u.is("table")&&d[r?"checkStartOfBlock":"checkEndOfBlock"]()?(e.fire("saveSnapshot"),d[r?"checkEndOfBlock":"checkStartOfBlock"]()&&a.remove(),d["moveToElementEdit"+(r?"End":"Start")](u),d.select(),e.fire("saveSnapshot"),n=1):p.blockLimit&&p.blockLimit.is("td")&&(s=p.blockLimit.getAscendant("table"))&&d.checkBoundaryOfElement(s,r?CKEDITOR.START:CKEDITOR.END)&&(u=s[r?"getPrevious":"getNext"](c))?(e.fire("saveSnapshot"),d["moveToElementEdit"+(r?"End":"Start")](u),d.checkStartOfBlock()&&d.checkEndOfBlock()?u.remove():d.select(),e.fire("saveSnapshot"),n=1):(s=p.contains(["td","th","caption"]))&&d.checkBoundaryOfElement(s,r?CKEDITOR.START:CKEDITOR.END)&&(n=1))}return!n}),e.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(t){t.data.getKeystroke()in l&&!this.getFirst(r)&&(this.appendBogus(),t=e.createRange(),t.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),t.select())}),this.attachListener(this,"dblclick",function(t){return e.readOnly?!1:(t={element:t.data.getTarget()},void e.fire("doubleclick",t))}),CKEDITOR.env.ie&&this.attachListener(this,"click",n),CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",function(t){var n=t.data.getTarget();n.is("img","hr","input","textarea","select")&&!n.isReadOnly()&&(e.getSelection().selectElement(n),n.is("input","textarea","select")&&t.data.preventDefault())}),CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(t){(t=t.data.getTarget())&&t.is("img")&&e.getSelection().selectElement(t)}),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(t){if(2==t.data.$.button&&(t=t.data.getTarget(),!t.getOuterHtml().replace(h,""))){var n=e.createRange();n.moveToElementEditStart(t),n.select(!0)}}),CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(e){e.data.getTarget().is("input","select")&&e.data.preventDefault()}),this.attachListener(this,"mouseup",function(e){e.data.getTarget().is("input","textarea")&&e.data.preventDefault()})),CKEDITOR.env.webkit&&this.attachListener(e,"key",function(t){if(e.readOnly)return!0;if(t=t.data.domEvent.getKey(),t in l){var n=8==t,r=e.getSelection().getRanges()[0];if(t=r.startPath(),r.collapsed)e:{var i=t.block;if(i&&r[n?"checkStartOfBlock":"checkEndOfBlock"]()&&r.moveToClosestEditablePosition(i,!n)&&r.collapsed){if(r.startContainer.type==CKEDITOR.NODE_ELEMENT){var o=r.startContainer.getChild(r.startOffset-(n?1:0));if(o&&o.type==CKEDITOR.NODE_ELEMENT&&o.is("hr")){e.fire("saveSnapshot"),o.remove(),t=!0;break e}}if(r=r.startPath().block,!r||r&&r.contains(i))t=void 0;else{e.fire("saveSnapshot");var a;(a=(n?r:i).getBogus())&&a.remove(),a=e.getSelection(),o=a.createBookmarks(),(n?i:r).moveChildren(n?r:i,!1),t.lastElement.mergeSiblings(),u(i,r,!n),a.selectBookmarks(o),t=!0}}else t=!1}else n=r,a=t.block,r=n.endPath().block,a&&r&&!a.equals(r)?(e.fire("saveSnapshot"),(i=a.getBogus())&&i.remove(),n.enlarge(CKEDITOR.ENLARGE_INLINE),n.deleteContents(),r.getParent()&&(r.moveChildren(a,!1),t.lastElement.mergeSiblings(),u(a,r,!0)),n=e.getSelection().getRanges()[0],n.collapse(1),n.optimize(),""===n.startContainer.getHtml()&&n.startContainer.appendBogus(),n.select(),t=!0):t=!1;if(!t)return;return e.getSelection().scrollIntoView(),e.fire("saveSnapshot"),!1}},this,null,100)}}},_:{detach:function(){this.editor.setData(this.editor.getData(),0,1),this.clearListeners(),this.restoreAttrs();var e;if(e=this.removeCustomData("classes"))for(;e.length;)this.removeClass(e.pop());if(!this.is("textarea")){e=this.getDocument();var t=e.getHead();if(t.getCustomData("stylesheet")){var n=e.getCustomData("stylesheet_ref");--n?e.setCustomData("stylesheet_ref",n):(e.removeCustomData("stylesheet_ref"),t.removeCustomData("stylesheet").remove())}}this.editor.fire("contentDomUnload"),delete this.editor}}}),CKEDITOR.editor.prototype.editable=function(e){var t=this._.editable;return t&&e?0:(arguments.length&&(t=this._.editable=e?e instanceof CKEDITOR.editable?e:new CKEDITOR.editable(this,e):(t&&t.detach(),null)),t)},CKEDITOR.on("instanceLoaded",function(t){var n=t.editor;n.on("insertElement",function(e){e=e.data,e.type==CKEDITOR.NODE_ELEMENT&&(e.is("input")||e.is("textarea"))&&("false"!=e.getAttribute("contentEditable")&&e.data("cke-editable",e.hasAttribute("contenteditable")?"true":"1"),e.setAttribute("contentEditable",!1))}),n.on("selectionChange",function(t){if(!n.readOnly){var r=n.getSelection();r&&!r.isLocked&&(r=n.checkDirty(),n.fire("lockSnapshot"),e(t),n.fire("unlockSnapshot"),!r&&n.resetDirty())}})}),CKEDITOR.on("instanceCreated",function(e){var t=e.editor;t.on("mode",function(){var e=t.editable();if(e&&e.isInline()){var n=t.title;e.changeAttr("role","textbox"),e.changeAttr("aria-label",n),n&&e.changeAttr("title",n);var r=t.fire("ariaEditorHelpLabel",{}).label;if(r&&(n=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var i=CKEDITOR.tools.getNextId(),r=CKEDITOR.dom.element.createFromHtml('<span id="'+i+'" class="cke_voice_label">'+r+"</span>");n.append(r),e.changeAttr("aria-describedby",i)}}})}),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"),c=CKEDITOR.dom.walker.whitespaces(!0),d=CKEDITOR.dom.walker.bookmark(!1,!0),p=CKEDITOR.dom.walker.empty(),f=CKEDITOR.dom.walker.bogus(),h=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,m=function(){function e(e){return e.type==CKEDITOR.NODE_ELEMENT}function t(n,r){var i,o,a,s,l=[],u=r.range.startContainer;i=r.range.startPath();for(var u=c[u.getName()],d=0,p=n.getChildren(),f=p.count(),h=-1,m=-1,g=0,v=i.contains(c.$list);f>d;++d)i=p.getItem(d),e(i)?(a=i.getName(),v&&a in CKEDITOR.dtd.$list?l=l.concat(t(i,r)):(s=!!u[a],"br"!=a||!i.data("cke-eol")||d&&d!=f-1||(g=(o=d?l[d-1].node:p.getItem(d+1))&&(!e(o)||!o.is("br")),o=o&&e(o)&&c.$block[o.getName()]),-1!=h||s||(h=d),s||(m=d),l.push({isElement:1,isLineBreak:g,isBlock:i.isBlockBoundary(),hasBlockSibling:o,node:i,name:a,allowed:s}),o=g=0)):l.push({isElement:0,node:i,allowed:1});return h>-1&&(l[h].firstNotAllowed=1),m>-1&&(l[m].lastNotAllowed=1),l}function n(t,r){var i,o=[],a=t.getChildren(),s=a.count(),l=0,u=c[r],d=!t.is(c.$inline)||t.is("br");for(d&&o.push(" ");s>l;l++)i=a.getItem(l),e(i)&&!i.is(u)?o=o.concat(n(i,r)):o.push(i);return d&&o.push(" "),o}function i(t){return e(t.startContainer)&&t.startContainer.getChild(t.startOffset-1)}function o(t){return t&&e(t)&&(t.is(c.$removeEmpty)||t.is("a")&&!t.isBlockBoundary())}function l(t,n,r,i){var o,a,s=t.clone();s.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),(o=new CKEDITOR.dom.walker(s).next())&&e(o)&&d[o.getName()]&&(a=o.getPrevious())&&e(a)&&!a.getParent().equals(t.startContainer)&&r.contains(a)&&i.contains(o)&&o.isIdentical(a)&&(o.moveChildren(a),o.remove(),l(t,n,r,i))}function u(t,n){function r(t,n){return n.isBlock&&n.isElement&&!n.node.is("br")&&e(t)&&t.is("br")?(t.remove(),1):void 0}var i=n.endContainer.getChild(n.endOffset),o=n.endContainer.getChild(n.endOffset-1);i&&r(i,t[t.length-1]),o&&r(o,t[0])&&(n.setEnd(n.endContainer,n.endOffset-1),n.collapse())}var c=CKEDITOR.dtd,d={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},p={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},f=CKEDITOR.tools.extend({},c.$inline);return delete f.br,function(d,h,m,g){var v=d.editor,b=!1;if("unfiltered_html"==h&&(h="html",b=!0),!g.checkReadOnly()){var y=new CKEDITOR.dom.elementPath(g.startContainer,g.root).blockLimit||g.root;d={type:h,dontFilter:b,editable:d,editor:v,range:g,blockLimit:y,mergeCandidates:[],zombies:[]},h=d.range,g=d.mergeCandidates;var C,E;if("text"==d.type&&h.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(C=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",h.document),h.insertNode(C),h.setStartAfter(C)),b=new CKEDITOR.dom.elementPath(h.startContainer),d.endPath=y=new CKEDITOR.dom.elementPath(h.endContainer),!h.collapsed){var v=y.block||y.blockLimit,T=h.getCommonAncestor();v&&!v.equals(T)&&!v.contains(T)&&h.checkEndOfBlock()&&d.zombies.push(v),h.deleteContents()}for(;(E=i(h))&&e(E)&&E.isBlockBoundary()&&b.contains(E);)h.moveToPosition(E,CKEDITOR.POSITION_BEFORE_END);for(l(h,d.blockLimit,b,y),C&&(h.setEndBefore(C),h.collapse(),C.remove()),C=h.startPath(),(v=C.contains(o,!1,1))&&(h.splitElement(v),d.inlineStylesRoot=v,d.inlineStylesPeak=C.lastElement),C=h.createBookmark(),(v=C.startNode.getPrevious(r))&&e(v)&&o(v)&&g.push(v),(v=C.startNode.getNext(r))&&e(v)&&o(v)&&g.push(v),v=C.startNode;(v=v.getParent())&&o(v);)g.push(v);if(h.moveToBookmark(C),C=m){if(C=d.range,"text"==d.type&&d.inlineStylesRoot){for(E=d.inlineStylesPeak,h=E.getDocument().createText("{cke-peak}"),g=d.inlineStylesRoot.getParent();!E.equals(g);)h=h.appendTo(E.clone()),E=E.getParent();m=h.getOuterHtml().split("{cke-peak}").join(m)}if(E=d.blockLimit.getName(),/^\s+|\s+$/.test(m)&&"span"in CKEDITOR.dtd[E]){var w='<span data-cke-marker="1">&nbsp;</span>';m=w+m+w}if(m=d.editor.dataProcessor.toHtml(m,{context:null,fixForBody:!1,protectedWhitespaces:!!w,dontFilter:d.dontFilter,filter:d.editor.activeFilter,enterMode:d.editor.activeEnterMode}),E=C.document.createElement("body"),E.setHtml(m),w&&(E.getFirst().remove(),E.getLast().remove()),(w=C.startPath().block)&&(1!=w.getChildCount()||!w.getBogus()))e:{var D;if(1==E.getChildCount()&&e(D=E.getFirst())&&D.is(p)&&!D.hasAttribute("contenteditable")){for(w=D.getElementsByTag("*"),C=0,g=w.count();g>C;C++)if(h=w.getItem(C),!h.is(f))break e;D.moveChildren(D.getParent(1)),D.remove()}}d.dataWrapper=E,C=m}if(C){D=d.range,C=D.document;var O;E=d.blockLimit,g=0;var I,R,$,w=[];m=v=0;var x,k;h=D.startContainer;var _,b=d.endPath.elements[0],y=b.getPosition(h),T=!(!b.getCommonAncestor(h)||y==CKEDITOR.POSITION_IDENTICAL||y&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);for(h=t(d.dataWrapper,d),u(h,D);g<h.length;g++){if(y=h[g],O=y.isLineBreak){O=D,x=E;var S=void 0,A=void 0;y.hasBlockSibling?O=1:(S=O.startContainer.getAscendant(c.$block,1))&&S.is({div:1,p:1})?(A=S.getPosition(x),A==CKEDITOR.POSITION_IDENTICAL||A==CKEDITOR.POSITION_CONTAINS?O=0:(x=O.splitElement(S),O.moveToPosition(x,CKEDITOR.POSITION_AFTER_START),O=1)):O=0}if(O)m=g>0;else{if(O=D.startPath(),!y.isBlock&&a(d.editor,O.block,O.blockLimit)&&($=s(d.editor))&&($=C.createElement($),$.appendBogus(),D.insertNode($),CKEDITOR.env.needsBrFiller&&(I=$.getBogus())&&I.remove(),D.moveToPosition($,CKEDITOR.POSITION_BEFORE_END)),(O=D.startPath().block)&&!O.equals(R)&&((I=O.getBogus())&&(I.remove(),w.push(O)),R=O),y.firstNotAllowed&&(v=1),v&&y.isElement){for(O=D.startContainer,x=null;O&&!c[O.getName()][y.name];){if(O.equals(E)){O=null;break}x=O,O=O.getParent()}if(O)x&&(k=D.splitElement(x),d.zombies.push(k),d.zombies.push(x));else{x=E.getName(),_=!g,O=g==h.length-1,x=n(y.node,x);for(var S=[],A=x.length,N=0,K=void 0,P=0,M=-1;A>N;N++)K=x[N]," "==K?(P||_&&!N||(S.push(new CKEDITOR.dom.text(" ")),M=S.length),P=1):(S.push(K),P=0);O&&M==S.length&&S.pop(),_=S}}if(_){for(;O=_.pop();)D.insertNode(O);_=0}else D.insertNode(y.node);y.lastNotAllowed&&g<h.length-1&&((k=T?b:k)&&D.setEndAt(k,CKEDITOR.POSITION_AFTER_START),v=0),D.collapse()}}1!=h.length?I=!1:(I=h[0],I=I.isElement&&"false"==I.node.getAttribute("contenteditable")),I&&(m=!0,O=h[0].node,D.setStartAt(O,CKEDITOR.POSITION_BEFORE_START),D.setEndAt(O,CKEDITOR.POSITION_AFTER_END)),d.dontMoveCaret=m,d.bogusNeededBlocks=w}I=d.range;var L;for(k=d.bogusNeededBlocks,_=I.createBookmark();R=d.zombies.pop();)R.getParent()&&($=I.clone(),$.moveToElementEditStart(R),$.removeEmptyBlocksAtEnd());if(k)for(;R=k.pop();)CKEDITOR.env.needsBrFiller?R.appendBogus():R.append(I.document.createText(" "));for(;R=d.mergeCandidates.pop();)R.mergeSiblings();if(I.moveToBookmark(_),!d.dontMoveCaret){for(R=i(I);R&&e(R)&&!R.is(c.$empty);){if(R.isBlockBoundary())I.moveToPosition(R,CKEDITOR.POSITION_BEFORE_END);else{if(o(R)&&R.getHtml().match(/(\s|&nbsp;)$/g)){L=null;break}L=I.clone(),L.moveToPosition(R,CKEDITOR.POSITION_BEFORE_END)}R=R.getLast(r)}L&&I.moveToRange(L)}}}}(),g=function(){function e(e){return e=new CKEDITOR.dom.walker(e),e.guard=function(e,t){return t?!1:e.type==CKEDITOR.NODE_ELEMENT?e.is(CKEDITOR.dtd.$tableContent):void 0},e.evaluator=function(e){return e.type==CKEDITOR.NODE_ELEMENT},e}function t(e,t,n){return t=e.getDocument().createElement(t),e.append(t,n),t}function n(e){var t,n=e.count();for(n;0<n--;)t=e.getItem(n),CKEDITOR.tools.trim(t.getHtml())||(t.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&t.getChildCount()&&t.getFirst().remove())}return function(r){var i=r.startContainer,o=i.getAscendant("table",1),a=!1;n(o.getElementsByTag("td")),n(o.getElementsByTag("th")),o=r.clone(),o.setStart(i,0),o=e(o).lastBackward(),o||(o=r.clone(),o.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),o=e(o).lastForward(),a=!0),o||(o=i),o.is("table")?(r.setStartAt(o,CKEDITOR.POSITION_BEFORE_START),r.collapse(!0),o.remove()):(o.is({tbody:1,thead:1,tfoot:1})&&(o=t(o,"tr",a)),o.is("tr")&&(o=t(o,o.getParent().is("thead")?"th":"td",a)),(i=o.getBogus())&&i.remove(),r.moveToPosition(o,a?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}(),v={eol:{detect:function(e,t){var n=e.range,r=n.clone(),i=n.clone(),o=new CKEDITOR.dom.elementPath(n.startContainer,t),a=new CKEDITOR.dom.elementPath(n.endContainer,t);r.collapse(1),i.collapse(),o.block&&r.checkBoundaryOfElement(o.block,CKEDITOR.END)&&(n.setStartAfter(o.block),e.prependEolBr=1),a.block&&i.checkBoundaryOfElement(a.block,CKEDITOR.START)&&(n.setEndBefore(a.block),e.appendEolBr=1)},fix:function(e,t){var n,r=t.getDocument();e.appendEolBr&&(n=this.createEolBr(r),e.fragment.append(n)),!e.prependEolBr||n&&!n.getPrevious()||e.fragment.append(this.createEolBr(r),1)},createEolBr:function(e){return e.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(e){var t=e.range.getBoundaryNodes(),n=t.startNode,t=t.endNode;!t||!f(t)||n&&n.equals(t)||e.range.setEndBefore(t)}},tree:{rebuild:function(e,t){var n,r=e.range,i=r.getCommonAncestor(),o=new CKEDITOR.dom.elementPath(i,t),a=new CKEDITOR.dom.elementPath(r.startContainer,t),r=new CKEDITOR.dom.elementPath(r.endContainer,t);if(i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),o.blockLimit.is({tr:1,table:1})){var s=o.contains("table").getParent();n=function(e){return!e.equals(s)}}else if(o.block&&o.block.is(CKEDITOR.dtd.$listItem)&&(a=a.contains(CKEDITOR.dtd.$list),r=r.contains(CKEDITOR.dtd.$list),!a.equals(r))){var l=o.contains(CKEDITOR.dtd.$list).getParent();n=function(e){return!e.equals(l)}}n||(n=function(e){return!e.equals(o.block)&&!e.equals(o.blockLimit)}),this.rebuildFragment(e,t,i,n)},rebuildFragment:function(e,t,n,r){for(var i;n&&!n.equals(t)&&r(n);)i=n.clone(0,1),e.fragment.appendTo(i),e.fragment=i,n=n.getParent()}},cell:{shrink:function(e){e=e.range;var t=e.startContainer,n=e.endContainer,r=e.startOffset,i=e.endOffset;t.type==CKEDITOR.NODE_ELEMENT&&t.equals(n)&&t.is("tr")&&++r==i&&e.shrink(CKEDITOR.SHRINK_TEXT)}}},b=function(){function e(e,t){var n=e.getParent();n.is(CKEDITOR.dtd.$inline)&&e[t?"insertBefore":"insertAfter"](n)}function t(t,n,r){e(n),e(r,1);for(var i;i=r.getNext();)i.insertAfter(n),n=i;p(t)&&t.remove()}function n(e,t){var n=new CKEDITOR.dom.range(e);return n.setStartAfter(t.startNode),n.setEndBefore(t.endNode),n}return{list:{detectMerge:function(e,t){var r=n(t,e.bookmark),i=r.startPath(),o=r.endPath(),a=i.contains(CKEDITOR.dtd.$list),s=o.contains(CKEDITOR.dtd.$list);e.mergeList=a&&s&&a.getParent().equals(s.getParent())&&!a.equals(s),e.mergeListItems=i.block&&o.block&&i.block.is(CKEDITOR.dtd.$listItem)&&o.block.is(CKEDITOR.dtd.$listItem),(e.mergeList||e.mergeListItems)&&(r=r.clone(),r.setStartBefore(e.bookmark.startNode),r.setEndAfter(e.bookmark.endNode),e.mergeListBookmark=r.createBookmark())},merge:function(e,n){if(e.mergeListBookmark){var r=e.mergeListBookmark.startNode,i=e.mergeListBookmark.endNode,o=new CKEDITOR.dom.elementPath(r,n),a=new CKEDITOR.dom.elementPath(i,n);if(e.mergeList){var s=o.contains(CKEDITOR.dtd.$list),l=a.contains(CKEDITOR.dtd.$list);s.equals(l)||(l.moveChildren(s),l.remove())}e.mergeListItems&&(o=o.contains(CKEDITOR.dtd.$listItem),a=a.contains(CKEDITOR.dtd.$listItem),o.equals(a)||t(a,r,i)),r.remove(),i.remove()}}},block:{detectMerge:function(e,t){if(!e.tableContentsRanges&&!e.mergeListBookmark){var n=new CKEDITOR.dom.range(t);n.setStartBefore(e.bookmark.startNode),n.setEndAfter(e.bookmark.endNode),e.mergeBlockBookmark=n.createBookmark()}},merge:function(e,n){if(e.mergeBlockBookmark&&!e.purgeTableBookmark){var r=e.mergeBlockBookmark.startNode,i=e.mergeBlockBookmark.endNode,o=new CKEDITOR.dom.elementPath(r,n),a=new CKEDITOR.dom.elementPath(i,n),o=o.block,a=a.block;o&&a&&!o.equals(a)&&t(a,r,i),r.remove(),i.remove()}}},table:function(){function e(e){var n,i=[],o=new CKEDITOR.dom.walker(e),a=e.startPath().contains(r),s=e.endPath().contains(r),l={};return o.guard=function(o,u){if(o.type==CKEDITOR.NODE_ELEMENT){var c="visited_"+(u?"out":"in");if(o.getCustomData(c))return;CKEDITOR.dom.element.setMarker(l,o,c,1)}u&&a&&o.equals(a)?(n=e.clone(),n.setEndAt(a,CKEDITOR.POSITION_BEFORE_END),i.push(n)):!u&&s&&o.equals(s)?(n=e.clone(),n.setStartAt(s,CKEDITOR.POSITION_AFTER_START),i.push(n)):((c=!u)&&(c=o.type==CKEDITOR.NODE_ELEMENT&&o.is(r)&&(!a||t(o,a))&&(!s||t(o,s))),c&&(n=e.clone(),n.selectNodeContents(o),i.push(n)))},o.lastForward(),CKEDITOR.dom.element.clearAllMarkers(l),i}function t(e,t){var n=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,r=e.getPosition(t);return r===CKEDITOR.POSITION_IDENTICAL?!1:0===(r&n)}var r={td:1,th:1,caption:1};return{detectPurge:function(e){var t=e.range,n=t.clone();n.enlarge(CKEDITOR.ENLARGE_ELEMENT);var n=new CKEDITOR.dom.walker(n),i=0;if(n.evaluator=function(e){e.type==CKEDITOR.NODE_ELEMENT&&e.is(r)&&++i},n.checkForward(),i>1){var n=t.startPath().contains("table"),o=t.endPath().contains("table");n&&o&&t.checkBoundaryOfElement(n,CKEDITOR.START)&&t.checkBoundaryOfElement(o,CKEDITOR.END)&&(t=e.range.clone(),t.setStartBefore(n),t.setEndAfter(o),e.purgeTableBookmark=t.createBookmark())}},detectRanges:function(i,o){var a,s,l=n(o,i.bookmark),u=l.clone(),c=l.getCommonAncestor();c.is(CKEDITOR.dtd.$tableContent)&&!c.is(r)&&(c=c.getAscendant("table",!0)),s=c,c=new CKEDITOR.dom.elementPath(l.startContainer,s),s=new CKEDITOR.dom.elementPath(l.endContainer,s),c=c.contains("table"),s=s.contains("table"),(c||s)&&(c&&s&&t(c,s)?(i.tableSurroundingRange=u,u.setStartAt(c,CKEDITOR.POSITION_AFTER_END),u.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),u=l.clone(),u.setEndAt(c,CKEDITOR.POSITION_AFTER_END),a=l.clone(),a.setStartAt(s,CKEDITOR.POSITION_BEFORE_START),a=e(u).concat(e(a))):c?s||(i.tableSurroundingRange=u,u.setStartAt(c,CKEDITOR.POSITION_AFTER_END),l.setEndAt(c,CKEDITOR.POSITION_AFTER_END)):(i.tableSurroundingRange=u,u.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),l.setStartAt(s,CKEDITOR.POSITION_AFTER_START)),i.tableContentsRanges=a?a:e(l))},deleteRanges:function(e){for(var t;t=e.tableContentsRanges.pop();)t.extractContents(),p(t.startContainer)&&t.startContainer.appendBogus();e.tableSurroundingRange&&e.tableSurroundingRange.extractContents()},purge:function(e){if(e.purgeTableBookmark){var t=e.doc,n=e.range.clone(),t=t.createElement("p");t.insertBefore(e.purgeTableBookmark.startNode),n.moveToBookmark(e.purgeTableBookmark),n.deleteContents(),e.range.moveToPosition(t,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(e){return!(e.range.startPath().contains(CKEDITOR.dtd.$listItem)&&e.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(e){e.startContainer.getDtd()["#"]||e.moveToClosestEditablePosition(null,!0)},autoParagraph:function(e,t){var n,r=t.startPath();a(e,r.block,r.blockLimit)&&(n=s(e))&&(n=t.document.createElement(n),n.appendBogus(),t.insertNode(n),t.moveToPosition(n,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function e(){var e,t=this._.fakeSelection;t&&(e=this.getSelection(1),e&&e.isHidden()||(t.reset(),t=0)),(t||(t=e||this.getSelection(1),t&&t.getType()!=CKEDITOR.SELECTION_NONE))&&(this.fire("selectionCheck",t),e=this.elementPath(),e.compare(this._.selectionPreviousPath)||(CKEDITOR.env.webkit&&(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=e,this.fire("selectionChange",{selection:t,path:e})))}function t(){p=!0,d||(n.call(this),d=CKEDITOR.tools.setTimeout(n,200,this))}function n(){d=null,p&&(CKEDITOR.tools.setTimeout(e,0,this),p=!1)}function r(e){return f(e)||e.type==CKEDITOR.NODE_ELEMENT&&!e.is(CKEDITOR.dtd.$empty)?!0:!1}function i(e){function t(t,n){return t&&t.type!=CKEDITOR.NODE_TEXT?e.clone()["moveToElementEdit"+(n?"End":"Start")](t):!1}if(!(e.root instanceof CKEDITOR.editable))return!1;var n=e.startContainer,i=e.getPreviousNode(r,null,n),o=e.getNextNode(r,null,n);return t(i)||t(o,1)||!(i||o||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()&&n.getBogus())?!0:!1}function o(e){a(e,!1);var t=e.getDocument().createText(b);return e.setCustomData("cke-fillingChar",t),t}function a(e,t){var n=e&&e.removeCustomData("cke-fillingChar");if(n){if(!1!==t){var r=e.getDocument().getSelection().getNative(),i=r&&"None"!=r.type&&r.getRangeAt(0),o=b.length;if(n.getLength()>o&&i&&i.intersectsNode(n.$)){var a=[{node:r.anchorNode,offset:r.anchorOffset},{node:r.focusNode,offset:r.focusOffset}];r.anchorNode==n.$&&r.anchorOffset>o&&(a[0].offset-=o),r.focusNode==n.$&&r.focusOffset>o&&(a[1].offset-=o)}}n.setText(s(n.getText(),1)),a&&(n=e.getDocument().$,r=n.getSelection(),n=n.createRange(),n.setStart(a[0].node,a[0].offset),n.collapse(!0),r.removeAllRanges(),r.addRange(n),r.extend(a[1].node,a[1].offset))}}function s(e,t){return t?e.replace(y,function(e,t){return t?" ":""}):e.replace(b,"")}function l(e,t){var n=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie?"display:none":"position:fixed;top:0;left:-1000px")+'">'+(t||"&nbsp;")+"</div>",e.document);e.fire("lockSnapshot"),e.editable().append(n);var r=e.getSelection(1),i=e.createRange(),o=r.root.on("selectionchange",function(e){e.cancel()},null,null,0);i.setStartAt(n,CKEDITOR.POSITION_AFTER_START),i.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),r.selectRanges([i]),o.removeListener(),e.fire("unlockSnapshot"),e._.hiddenSelectionContainer=n}function u(e){var t={37:1,39:1,8:1,46:1};return function(n){var r=n.data.getKeystroke();if(t[r]){var i=e.getSelection().getRanges(),o=i[0];1==i.length&&o.collapsed&&(r=o[38>r?"getPreviousEditableNode":"getNextEditableNode"]())&&r.type==CKEDITOR.NODE_ELEMENT&&"false"==r.getAttribute("contenteditable")&&(e.getSelection().fake(r),n.data.preventDefault(),n.cancel())}}}function c(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.getCommonAncestor().isReadOnly()&&e.splice(t,1),!n.collapsed){if(n.startContainer.isReadOnly())for(var r,i=n.startContainer;i&&!((r=i.type==CKEDITOR.NODE_ELEMENT)&&i.is("body")||!i.isReadOnly());)r&&"false"==i.getAttribute("contentEditable")&&n.setStartAfter(i),i=i.getParent();i=n.startContainer,r=n.endContainer;var o=n.startOffset,a=n.endOffset,s=n.clone();i&&i.type==CKEDITOR.NODE_TEXT&&(o>=i.getLength()?s.setStartAfter(i):s.setStartBefore(i)),r&&r.type==CKEDITOR.NODE_TEXT&&(a?s.setEndAfter(r):s.setEndBefore(r)),
i=new CKEDITOR.dom.walker(s),i.evaluator=function(r){if(r.type==CKEDITOR.NODE_ELEMENT&&r.isReadOnly()){var i=n.clone();return n.setEndBefore(r),n.collapsed&&e.splice(t--,1),r.getPosition(s.endContainer)&CKEDITOR.POSITION_CONTAINS||(i.setStartAfter(r),i.collapsed||e.splice(t+1,0,i)),!0}return!1},i.next()}}return e}var d,p,f=CKEDITOR.dom.walker.invisible(1),h=function(){function e(e){return function(t){var n=t.editor.createRange();return n.moveToClosestEditablePosition(t.selected,e)&&t.editor.getSelection().selectRanges([n]),!1}}function t(e){return function(t){var n,r=t.editor,i=r.createRange();return(n=i.moveToClosestEditablePosition(t.selected,e))||(n=i.moveToClosestEditablePosition(t.selected,!e)),n&&r.getSelection().selectRanges([i]),r.fire("saveSnapshot"),t.selected.remove(),n||(i.moveToElementEditablePosition(r.editable()),r.getSelection().selectRanges([i])),r.fire("saveSnapshot"),!1}}var n=e(),r=e(1);return{37:n,38:n,39:r,40:r,8:t(),46:t(1)}}();CKEDITOR.on("instanceCreated",function(n){function r(){var e=i.getSelection();e&&e.removeAllRanges()}var i=n.editor;i.on("contentDom",function(){function n(){s=new CKEDITOR.dom.selection(i.getSelection()),s.lock()}function r(){c.removeListener("mouseup",r),f.removeListener("mouseup",r);var e=CKEDITOR.document.$.selection,t=e.createRange();"None"!=e.type&&t.parentElement().ownerDocument==l.$&&t.select()}var o,s,l=i.document,c=CKEDITOR.document,d=i.editable(),p=l.getBody(),f=l.getDocumentElement(),h=d.isInline();if(CKEDITOR.env.gecko&&d.attachListener(d,"focus",function(e){e.removeListener(),0!==o&&(e=i.getSelection().getNative())&&e.isCollapsed&&e.anchorNode==d.$&&(e=i.createRange(),e.moveToElementEditStart(d),e.select())},null,null,-2),d.attachListener(d,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){o&&CKEDITOR.env.webkit&&(o=i._.previousActive&&i._.previousActive.equals(l.getActive())),i.unlockSelection(o),o=0},null,null,-1),d.attachListener(d,"mousedown",function(){o=0}),(CKEDITOR.env.ie||h)&&(m?d.attachListener(d,"beforedeactivate",n,null,null,-1):d.attachListener(i,"selectionCheck",n,null,null,-1),d.attachListener(d,CKEDITOR.env.webkit?"DOMFocusOut":"blur",function(){i.lockSelection(s),o=1},null,null,-1),d.attachListener(d,"mousedown",function(){o=0})),CKEDITOR.env.ie&&!h){var g;d.attachListener(d,"mousedown",function(e){2==e.data.$.button&&((e=i.document.getSelection())&&e.getType()!=CKEDITOR.SELECTION_NONE||(g=i.window.getScrollPosition()))}),d.attachListener(d,"mouseup",function(e){2==e.data.$.button&&g&&(i.document.$.documentElement.scrollLeft=g.x,i.document.$.documentElement.scrollTop=g.y),g=null}),"BackCompat"!=l.$.compatMode&&((CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&f.on("mousedown",function(e){function t(e){if(e=e.data.$,r){var t=p.$.createTextRange();try{t.moveToPoint(e.clientX,e.clientY)}catch(n){}r.setEndPoint(0>o.compareEndPoints("StartToStart",t)?"EndToEnd":"StartToStart",t),r.select()}}function n(){f.removeListener("mousemove",t),c.removeListener("mouseup",n),f.removeListener("mouseup",n),r.select()}if(e=e.data,e.getTarget().is("html")&&e.$.y<f.$.clientHeight&&e.$.x<f.$.clientWidth){var r=p.$.createTextRange();try{r.moveToPoint(e.$.clientX,e.$.clientY)}catch(i){}var o=r.duplicate();f.on("mousemove",t),c.on("mouseup",n),f.on("mouseup",n)}}),7<CKEDITOR.env.version&&11>CKEDITOR.env.version&&f.on("mousedown",function(e){e.data.getTarget().is("html")&&(c.on("mouseup",r),f.on("mouseup",r))}))}if(d.attachListener(d,"selectionchange",e,i),d.attachListener(d,"keyup",t,i),d.attachListener(d,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){i.forceNextSelectionCheck(),i.selectionChange(1)}),h&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var v;d.attachListener(d,"mousedown",function(){v=1}),d.attachListener(l.getDocumentElement(),"mouseup",function(){v&&t.call(i),v=0})}else d.attachListener(CKEDITOR.env.ie?d:l.getDocumentElement(),"mouseup",t,i);CKEDITOR.env.webkit&&d.attachListener(l,"keydown",function(e){switch(e.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:a(d)}},null,null,-1),d.attachListener(d,"keydown",u(i),null,null,-1)}),i.on("setData",function(){i.unlockSelection(),CKEDITOR.env.webkit&&r()}),i.on("contentDomUnload",function(){i.unlockSelection()}),CKEDITOR.env.ie9Compat&&i.on("beforeDestroy",r,null,null,9),i.on("dataReady",function(){delete i._.fakeSelection,delete i._.hiddenSelectionContainer,i.selectionChange(1)}),i.on("loadSnapshot",function(){var e=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),t=i.editable().getLast(e);t&&t.hasAttribute("data-cke-hidden-sel")&&(t.remove(),CKEDITOR.env.gecko&&(e=i.editable().getFirst(e))&&e.is("br")&&e.getAttribute("_moz_editor_bogus_node")&&e.remove())},null,null,100),i.on("key",function(e){if("wysiwyg"==i.mode){var t=i.getSelection();if(t.isFake){var n=h[e.data.keyCode];if(n)return n({editor:i,selected:t.getSelectedElement(),selection:t,keyEvent:e})}}})}),CKEDITOR.env.webkit&&CKEDITOR.on("instanceReady",function(e){var t=e.editor;t.on("selectionChange",function(){var e=t.editable(),n=e.getCustomData("cke-fillingChar");n&&(n.getCustomData("ready")?a(e):n.setCustomData("ready",1))},null,null,-1),t.on("beforeSetMode",function(){a(t.editable())},null,null,-1),t.on("getSnapshot",function(e){e.data&&(e.data=s(e.data))},t,null,20),t.on("toDataFormat",function(e){e.data.dataValue=s(e.data.dataValue)},null,null,0)}),CKEDITOR.editor.prototype.selectionChange=function(n){(n?e:t).call(this)},CKEDITOR.editor.prototype.getSelection=function(e){return!this._.savedSelection&&!this._.fakeSelection||e?(e=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(e):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.lockSelection=function(e){return e=e||this.getSelection(1),e.getType()!=CKEDITOR.SELECTION_NONE?(!e.isLocked&&e.lock(),this._.savedSelection=e,!0):!1},CKEDITOR.editor.prototype.unlockSelection=function(e){var t=this._.savedSelection;return t?(t.unlock(e),delete this._.savedSelection,!0):!1},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var e=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return e.selectRanges([this]),e},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3;var m="function"!=typeof window.getSelection,g=1;CKEDITOR.dom.selection=function(e){if(e instanceof CKEDITOR.dom.selection){var t=e;e=e.root}var n=e instanceof CKEDITOR.dom.element;if(this.rev=t?t.rev:g++,this.document=e instanceof CKEDITOR.dom.document?e:e.getDocument(),this.root=n?e:this.document.getBody(),this.isLocked=0,this._={cache:{}},t)return CKEDITOR.tools.extend(this._.cache,t._.cache),this.isFake=t.isFake,this.isLocked=t.isLocked,this;e=this.getNative();var r,i;if(e)if(e.getRangeAt)r=(i=e.rangeCount&&e.getRangeAt(0))&&new CKEDITOR.dom.node(i.commonAncestorContainer);else{try{i=e.createRange()}catch(o){}r=i&&CKEDITOR.dom.element.get(i.item&&i.item(0)||i.parentElement())}return(!r||r.type!=CKEDITOR.NODE_ELEMENT&&r.type!=CKEDITOR.NODE_TEXT||!this.root.equals(r)&&!this.root.contains(r))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var v={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1},b=CKEDITOR.tools.repeat("​",7),y=new RegExp(b+"( )?","g");CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:s,_createFillingCharSequenceNode:o,FILLING_CHAR_SEQUENCE:b}),CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=m?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:m?function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_NONE;try{var n=this.getNative(),r=n.type;"Text"==r&&(t=CKEDITOR.SELECTION_TEXT),"Control"==r&&(t=CKEDITOR.SELECTION_ELEMENT),n.createRange().parentElement()&&(t=CKEDITOR.SELECTION_TEXT)}catch(i){}return e.type=t}:function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_TEXT,n=this.getNative();if(n&&n.rangeCount){if(1==n.rangeCount){var n=n.getRangeAt(0),r=n.startContainer;r==n.endContainer&&1==r.nodeType&&1==n.endOffset-n.startOffset&&v[r.childNodes[n.startOffset].nodeName.toLowerCase()]&&(t=CKEDITOR.SELECTION_ELEMENT)}}else t=CKEDITOR.SELECTION_NONE;return e.type=t},getRanges:function(){var e=m?function(){function e(e){return new CKEDITOR.dom.node(e).getIndex()}var t=function(t,n){t=t.duplicate(),t.collapse(n);var r=t.parentElement();if(!r.hasChildNodes())return{container:r,offset:0};for(var i,o,a,s,l=r.children,u=t.duplicate(),c=0,d=l.length-1,p=-1;d>=c;)if(p=Math.floor((c+d)/2),i=l[p],u.moveToElementText(i),a=u.compareEndPoints("StartToStart",t),a>0)d=p-1;else{if(!(0>a))return{container:r,offset:e(i)};c=p+1}if(-1==p||p==l.length-1&&0>a){if(u.moveToElementText(r),u.setEndPoint("StartToStart",t),u=u.text.replace(/(\r\n|\r)/g,"\n").length,l=r.childNodes,!u)return i=l[l.length-1],i.nodeType!=CKEDITOR.NODE_TEXT?{container:r,offset:l.length}:{container:i,offset:i.nodeValue.length};for(r=l.length;u>0&&r>0;)o=l[--r],o.nodeType==CKEDITOR.NODE_TEXT&&(s=o,u-=o.nodeValue.length);return{container:s,offset:-u}}if(u.collapse(a>0?!0:!1),u.setEndPoint(a>0?"StartToStart":"EndToStart",t),u=u.text.replace(/(\r\n|\r)/g,"\n").length,!u)return{container:r,offset:e(i)+(a>0?0:1)};for(;u>0;)try{o=i[a>0?"previousSibling":"nextSibling"],o.nodeType==CKEDITOR.NODE_TEXT&&(u-=o.nodeValue.length,s=o),i=o}catch(f){return{container:r,offset:e(i)}}return{container:s,offset:a>0?-u:s.nodeValue.length+u}};return function(){var e=this.getNative(),n=e&&e.createRange(),r=this.getType();if(!e)return[];if(r==CKEDITOR.SELECTION_TEXT)return e=new CKEDITOR.dom.range(this.root),r=t(n,!0),e.setStart(new CKEDITOR.dom.node(r.container),r.offset),r=t(n),e.setEnd(new CKEDITOR.dom.node(r.container),r.offset),e.endContainer.getPosition(e.startContainer)&CKEDITOR.POSITION_PRECEDING&&e.endOffset<=e.startContainer.getIndex()&&e.collapse(),[e];if(r==CKEDITOR.SELECTION_ELEMENT){for(var r=[],i=0;i<n.length;i++){for(var o=n.item(i),a=o.parentNode,s=0,e=new CKEDITOR.dom.range(this.root);s<a.childNodes.length&&a.childNodes[s]!=o;s++);e.setStart(new CKEDITOR.dom.node(a),s),e.setEnd(new CKEDITOR.dom.node(a),s+1),r.push(e)}return r}return[]}}():function(){var e,t=[],n=this.getNative();if(!n)return t;for(var r=0;r<n.rangeCount;r++){var i=n.getRangeAt(r);e=new CKEDITOR.dom.range(this.root),e.setStart(new CKEDITOR.dom.node(i.startContainer),i.startOffset),e.setEnd(new CKEDITOR.dom.node(i.endContainer),i.endOffset),t.push(e)}return t};return function(t){var n=this._.cache,r=n.ranges;return r||(n.ranges=r=new CKEDITOR.dom.rangeList(e.call(this))),t?c(new CKEDITOR.dom.rangeList(r.slice())):r}}(),getStartElement:function(){var e=this._.cache;if(void 0!==e.startElement)return e.startElement;var t;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var n=this.getRanges()[0];if(n){if(n.collapsed)t=n.startContainer,t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent());else{for(n.optimize();t=n.startContainer,n.startOffset==(t.getChildCount?t.getChildCount():t.getLength())&&!t.isBlockBoundary();)n.setStartAfter(t);if(t=n.startContainer,t.type!=CKEDITOR.NODE_ELEMENT)return t.getParent();if((t=t.getChild(n.startOffset))&&t.type==CKEDITOR.NODE_ELEMENT)for(n=t.getFirst();n&&n.type==CKEDITOR.NODE_ELEMENT;)t=n,n=n.getFirst();else t=n.startContainer}t=t.$}}return e.startElement=t?new CKEDITOR.dom.element(t):null},getSelectedElement:function(){var e=this._.cache;if(void 0!==e.selectedElement)return e.selectedElement;var t=this,n=CKEDITOR.tools.tryThese(function(){return t.getNative().createRange().item(0)},function(){for(var e,n,r=t.getRanges()[0].clone(),i=2;i&&!((e=r.getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT&&v[e.getName()]&&(n=e));i--)r.shrink(CKEDITOR.SHRINK_ELEMENT);return n&&n.$});return e.selectedElement=n?new CKEDITOR.dom.element(n):null},getSelectedText:function(){var e=this._.cache;if(void 0!==e.selectedText)return e.selectedText;var t=this.getNative(),t=m?"Control"==t.type?"":t.createRange().text:t.toString();return e.selectedText=t},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(e){if(this.isLocked){if(e)var t=this.getSelectedElement(),n=!t&&this.getRanges(),r=this.isFake;this.isLocked=0,this.reset(),e&&(e=t||n[0]&&n[0].getCommonAncestor())&&e.getAscendant("body",1)&&(r?this.fake(t):t?this.selectElement(t):this.selectRanges(n))}},reset:function(){this._.cache={},this.isFake=0;var e=this.root.editor;if(e&&e._.fakeSelection)if(this.rev==e._.fakeSelection.rev){delete e._.fakeSelection;var t=e._.hiddenSelectionContainer;if(t){var n=e.checkDirty();e.fire("lockSnapshot"),t.remove(),e.fire("unlockSnapshot"),!n&&e.resetDirty()}delete e._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=g++},selectElement:function(e){var t=new CKEDITOR.dom.range(this.root);t.setStartBefore(e),t.setEndAfter(e),this.selectRanges([t])},selectRanges:function(e){var t=this.root.editor,t=t&&t._.hiddenSelectionContainer;if(this.reset(),t)for(var n,t=this.root,r=0;r<e.length;++r)n=e[r],n.endContainer.equals(t)&&(n.endOffset=Math.min(n.endOffset,t.getChildCount()));if(e.length)if(this.isLocked){var s=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(e),this.lock(),s&&!s.equals(this.root)&&s.focus()}else{var l,u,c;if((1!=e.length||(c=e[0]).collapsed||!(l=c.getEnclosedNode())||l.type!=CKEDITOR.NODE_ELEMENT||(c=c.clone(),c.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(u=c.getEnclosedNode())&&u.type==CKEDITOR.NODE_ELEMENT&&(l=u),"false"!=l.getAttribute("contenteditable")))&&(l=void 0),l)this.fake(l);else{if(m){c=CKEDITOR.dom.walker.whitespaces(!0),u=/\ufeff|\u00a0/,t={table:1,tbody:1,tr:1},1<e.length&&(l=e[e.length-1],e[0].setEnd(l.endContainer,l.endOffset)),l=e[0],e=l.collapsed;var d,p,f;if((n=l.getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in v&&(!n.is("a")||!n.getText()))try{return f=n.$.createControlRange(),f.addElement(n.$),void f.select()}catch(h){}(l.startContainer.type==CKEDITOR.NODE_ELEMENT&&l.startContainer.getName()in t||l.endContainer.type==CKEDITOR.NODE_ELEMENT&&l.endContainer.getName()in t)&&(l.shrink(CKEDITOR.NODE_ELEMENT,!0),e=l.collapsed),f=l.createBookmark(),t=f.startNode,e||(s=f.endNode),f=l.document.$.body.createTextRange(),f.moveToElementText(t.$),f.moveStart("character",1),s?(u=l.document.$.body.createTextRange(),u.moveToElementText(s.$),f.setEndPoint("EndToEnd",u),f.moveEnd("character",-1)):(d=t.getNext(c),p=t.hasAscendant("pre"),d=!(d&&d.getText&&d.getText().match(u))&&(p||!t.hasPrevious()||t.getPrevious().is&&t.getPrevious().is("br")),p=l.document.createElement("span"),p.setHtml("&#65279;"),p.insertBefore(t),d&&l.document.createText("").insertBefore(t)),l.setStartBefore(t),t.remove(),e?(d?(f.moveStart("character",-1),f.select(),l.document.$.selection.clear()):f.select(),l.moveToPosition(p,CKEDITOR.POSITION_BEFORE_START),p.remove()):(l.setEndBefore(s),s.remove(),f.select())}else{if(s=this.getNative(),!s)return;for(this.removeAllRanges(),f=0;f<e.length;f++)if(f<e.length-1&&(d=e[f],p=e[f+1],u=d.clone(),u.setStart(d.endContainer,d.endOffset),u.setEnd(p.startContainer,p.startOffset),!u.collapsed&&(u.shrink(CKEDITOR.NODE_ELEMENT,!0),l=u.getCommonAncestor(),u=u.getEnclosedNode(),l.isReadOnly()||u&&u.isReadOnly())))p.setStart(d.startContainer,d.startOffset),e.splice(f--,1);else{l=e[f],p=this.document.$.createRange(),l.collapsed&&CKEDITOR.env.webkit&&i(l)&&(u=o(this.root),l.insertNode(u),(d=u.getNext())&&!u.getPrevious()&&d.type==CKEDITOR.NODE_ELEMENT&&"br"==d.getName()?(a(this.root),l.moveToPosition(d,CKEDITOR.POSITION_BEFORE_START)):l.moveToPosition(u,CKEDITOR.POSITION_AFTER_END)),p.setStart(l.startContainer.$,l.startOffset);try{p.setEnd(l.endContainer.$,l.endOffset)}catch(g){if(!(0<=g.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")))throw g;l.collapse(1),p.setEnd(l.endContainer.$,l.endOffset)}s.addRange(p)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(e,t){var n=this.root.editor;void 0===t&&e.hasAttribute("aria-label")&&(t=e.getAttribute("aria-label")),this.reset(),l(n,t);var r=this._.cache,i=new CKEDITOR.dom.range(this.root);i.setStartBefore(e),i.setEndAfter(e),r.ranges=new CKEDITOR.dom.rangeList(i),r.selectedElement=r.startElement=e,r.type=CKEDITOR.SELECTION_ELEMENT,r.selectedText=r.nativeSel=null,this.isFake=1,this.rev=g++,n._.fakeSelection=this,this.root.fire("selectionchange")},isHidden:function(){var e=this.getCommonAncestor();return e&&e.type==CKEDITOR.NODE_TEXT&&(e=e.getParent()),!(!e||!e.data("cke-hidden-sel"))},createBookmarks:function(e){return e=this.getRanges().createBookmarks(e),this.isFake&&(e.isFake=1),e},createBookmarks2:function(e){return e=this.getRanges().createBookmarks2(e),this.isFake&&(e.isFake=1),e},selectBookmarks:function(e){for(var t,n=[],r=0;r<e.length;r++){var i=new CKEDITOR.dom.range(this.root);i.moveToBookmark(e[r]),n.push(i)}return e.isFake&&(t=n[0].getEnclosedNode(),t&&t.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),e.isFake=0)),e.isFake?this.fake(t):this.selectRanges(n),this},getCommonAncestor:function(){var e=this.getRanges();return e.length?e[0].startContainer.getCommonAncestor(e[e.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var e=this.getNative();try{e&&e[m?"empty":"removeAllRanges"]()}catch(t){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function e(e,t){for(var n,r;(e=e.getParent())&&!e.equals(t);)if(e.getAttribute("data-nostyle"))n=e;else if(!r){var i=e.getAttribute("contentEditable");"false"==i?n=e:"true"==i&&(r=1)}return n}function t(e,t,n,r){return(e.getPosition(t)|r)==r&&(!n.childRule||n.childRule(e))}function n(r){var o=r.document;if(r.collapsed)o=v(this,o),r.insertNode(o),r.moveToPosition(o,CKEDITOR.POSITION_BEFORE_END);else{var a,s=this.element,l=this._.definition,u=l.ignoreReadonly,c=u||l.includeReadonly;null==c&&(c=r.root.getCustomData("cke_includeReadonly"));var d=CKEDITOR.dtd[s];d||(a=!0,d=CKEDITOR.dtd.span),r.enlarge(CKEDITOR.ENLARGE_INLINE,1),r.trim();var p,f=r.createBookmark(),m=f.startNode,g=f.endNode,b=m;if(!u){var y=r.getCommonAncestor(),u=e(m,y),y=e(g,y);u&&(b=u.getNextSourceNode(!0)),y&&(g=y)}for(b.getPosition(g)==CKEDITOR.POSITION_FOLLOWING&&(b=0);b;){if(u=!1,b.equals(g))b=null,u=!0;else{var C=b.type==CKEDITOR.NODE_ELEMENT?b.getName():null,y=C&&"false"==b.getAttribute("contentEditable"),E=C&&b.getAttribute("data-nostyle");if(C&&b.data("cke-bookmark")){b=b.getNextSourceNode(!0);continue}if(y&&c&&CKEDITOR.dtd.$block[C])for(var T=b,w=i(T),D=void 0,O=w.length,I=0,T=O&&new CKEDITOR.dom.range(T.getDocument());O>I;++I){var D=w[I],R=CKEDITOR.filter.instances[D.data("cke-filter")];(R?R.check(this):1)&&(T.selectNodeContents(D),n.call(this,T))}if(w=C?!d[C]||E?0:y&&!c?0:t(b,g,l,k):1){if(D=b.getParent(),w=l,O=s,I=a,!D||!(D.getDtd()||CKEDITOR.dtd.span)[O]&&!I||w.parentRule&&!w.parentRule(D))u=!0;else if(p||C&&CKEDITOR.dtd.$removeEmpty[C]&&(b.getPosition(g)|k)!=k||(p=r.clone(),p.setStartBefore(b)),C=b.type,C==CKEDITOR.NODE_TEXT||y||C==CKEDITOR.NODE_ELEMENT&&!b.getChildCount()){for(var x,C=b;(u=!C.getNext($))&&(x=C.getParent(),d[x.getName()])&&t(x,m,l,_);)C=x;p.setEndAfter(C)}}else u=!0;b=b.getNextSourceNode(E||y)}if(u&&p&&!p.collapsed){for(var S,A,N,u=v(this,o),y=u.hasAttributes(),E=p.getCommonAncestor(),C={},w={},D={},O={};u&&E;){if(E.getName()==s){for(S in l.attributes)!O[S]&&(N=E.getAttribute(A))&&(u.getAttribute(S)==N?w[S]=1:O[S]=1);for(A in l.styles)!D[A]&&(N=E.getStyle(A))&&(u.getStyle(A)==N?C[A]=1:D[A]=1)}E=E.getParent()}for(S in w)u.removeAttribute(S);for(A in C)u.removeStyle(A);y&&!u.hasAttributes()&&(u=null),u?(p.extractContents().appendTo(u),p.insertNode(u),h.call(this,u),u.mergeSiblings(),CKEDITOR.env.ie||u.$.normalize()):(u=new CKEDITOR.dom.element("span"),p.extractContents().appendTo(u),p.insertNode(u),h.call(this,u),u.remove(!0)),p=null}}r.moveToBookmark(f),r.shrink(CKEDITOR.SHRINK_TEXT),r.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function r(e){function t(){for(var e=new CKEDITOR.dom.elementPath(r.getParent()),t=new CKEDITOR.dom.elementPath(u.getParent()),n=null,i=null,o=0;o<e.elements.length;o++){var a=e.elements[o];if(a==e.block||a==e.blockLimit)break;c.checkElementRemovable(a,!0)&&(n=a)}for(o=0;o<t.elements.length&&(a=t.elements[o],a!=t.block&&a!=t.blockLimit);o++)c.checkElementRemovable(a,!0)&&(i=a);i&&u.breakParent(i),n&&r.breakParent(n)}e.enlarge(CKEDITOR.ENLARGE_INLINE,1);var n=e.createBookmark(),r=n.startNode;if(e.collapsed){for(var i,o,a=new CKEDITOR.dom.elementPath(r.getParent(),e.root),s=0;s<a.elements.length&&(o=a.elements[s])&&o!=a.block&&o!=a.blockLimit;s++)if(this.checkElementRemovable(o)){var l;e.collapsed&&(e.checkBoundaryOfElement(o,CKEDITOR.END)||(l=e.checkBoundaryOfElement(o,CKEDITOR.START)))?(i=o,i.match=l?"start":"end"):(o.mergeSiblings(),o.is(this.element)?f.call(this,o):m(o,C(this)[o.getName()]))}if(i){for(o=r,s=0;l=a.elements[s],!l.equals(i);s++)l.match||(l=l.clone(),l.append(o),o=l);o["start"==i.match?"insertBefore":"insertAfter"](i)}}else{var u=n.endNode,c=this;for(t(),a=r;!a.equals(u);)i=a.getNextSourceNode(),a.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(a)&&(a.getName()==this.element?f.call(this,a):m(a,C(this)[a.getName()]),i.type==CKEDITOR.NODE_ELEMENT&&i.contains(r)&&(t(),i=r.getNext())),a=i}e.moveToBookmark(n),e.shrink(CKEDITOR.NODE_ELEMENT,!0)}function i(e){var t=[];return e.forEach(function(e){return"true"==e.getAttribute("contenteditable")?(t.push(e),!1):void 0},CKEDITOR.NODE_ELEMENT,!0),t}function o(e){var t=e.getEnclosedNode()||e.getCommonAncestor(!1,!0);(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1))&&!e.isReadOnly()&&b(e,this)}function a(e){var t=e.getCommonAncestor(!0,!0);if(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1)){var t=this._.definition,n=t.attributes;if(n)for(var r in n)e.removeAttribute(r,n[r]);if(t.styles)for(var i in t.styles)t.styles.hasOwnProperty(i)&&e.removeStyle(i)}}function s(e){var t=e.createBookmark(!0),n=e.createIterator();n.enforceRealBlocks=!0,this._.enterMode&&(n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var r,i,o=e.document;r=n.getNextParagraph();)!r.isReadOnly()&&(n.activeFilter?n.activeFilter.check(this):1)&&(i=v(this,o,r),u(r,i));e.moveToBookmark(t)}function l(e){var t=e.createBookmark(1),n=e.createIterator();n.enforceRealBlocks=!0,n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var r,i;r=n.getNextParagraph();)this.checkElementRemovable(r)&&(r.is("pre")?((i=this._.enterMode==CKEDITOR.ENTER_BR?null:e.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&r.copyAttributes(i),u(r,i)):f.call(this,r));e.moveToBookmark(t)}function u(e,t){var n=!t;n&&(t=e.getDocument().createElement("div"),e.copyAttributes(t));var r=t&&t.is("pre"),i=e.is("pre"),o=!r&&i;if(r&&!i){if(i=t,(o=e.getBogus())&&o.remove(),o=e.getHtml(),o=d(o,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,""),o=o.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1"),o=o.replace(/([ \t\n\r]+|&nbsp;)/g," "),o=o.replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var a=e.getDocument().createElement("div");a.append(i),i.$.outerHTML="<pre>"+o+"</pre>",i.copyAttributes(a.getFirst()),i=a.getFirst().remove()}else i.setHtml(o);t=i}else o?t=p(n?[e.getHtml()]:c(e),t):e.moveChildren(t);if(t.replace(e),r){var s,n=t;(s=n.getPrevious(x))&&s.type==CKEDITOR.NODE_ELEMENT&&s.is("pre")&&(r=d(s.getHtml(),/\n$/,"")+"\n\n"+d(n.getHtml(),/^\n/,""),CKEDITOR.env.ie?n.$.outerHTML="<pre>"+r+"</pre>":n.setHtml(r),s.remove())}else n&&g(t)}function c(e){var t=[];return d(e.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(e,t,n){return t+"</pre>"+n+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(e,n){t.push(n)}),t}function d(e,t,n){var r="",i="";return e=e.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(e,t,n){return t&&(r=t),n&&(i=n),""}),r+e.replace(t,n)+i}function p(e,t){var n;1<e.length&&(n=new CKEDITOR.dom.documentFragment(t.getDocument()));for(var r=0;r<e.length;r++){var i=e[r],i=i.replace(/(\r\n|\r)/g,"\n"),i=d(i,/^[ \t]*\n/,""),i=d(i,/\n$/,""),i=d(i,/^[ \t]+|[ \t]+$/g,function(e,t){return 1==e.length?"&nbsp;":t?" "+CKEDITOR.tools.repeat("&nbsp;",e.length-1):CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "}),i=i.replace(/\n/g,"<br>"),i=i.replace(/[ \t]{2,}/g,function(e){return CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "});if(n){var o=t.clone();o.setHtml(i),n.append(o)}else t.setHtml(i)}return n||t}function f(e,t){var n,r=this._.definition,i=r.attributes,r=r.styles,o=C(this)[e.getName()],a=CKEDITOR.tools.isEmpty(i)&&CKEDITOR.tools.isEmpty(r);for(n in i)("class"!=n&&!this._.definition.fullMatch||e.getAttribute(n)==E(n,i[n]))&&(t&&"data-"==n.slice(0,5)||(a=e.hasAttribute(n),e.removeAttribute(n)));for(var s in r)this._.definition.fullMatch&&e.getStyle(s)!=E(s,r[s],!0)||(a=a||!!e.getStyle(s),e.removeStyle(s));m(e,o,D[e.getName()]),a&&(this._.definition.alwaysRemoveElement?g(e,1):!CKEDITOR.dtd.$block[e.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!e.hasAttributes()?g(e):e.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function h(e){for(var t,n=C(this),r=e.getElementsByTag(this.element),i=r.count();0<=--i;)t=r.getItem(i),t.isReadOnly()||f.call(this,t,!0);for(var o in n)if(o!=this.element)for(r=e.getElementsByTag(o),i=r.count()-1;i>=0;i--)t=r.getItem(i),t.isReadOnly()||m(t,n[o])}function m(e,t,n){if(t=t&&t.attributes)for(var r=0;r<t.length;r++){var i,o=t[r][0];if(i=e.getAttribute(o)){var a=t[r][1];(null===a||a.test&&a.test(i)||"string"==typeof a&&i==a)&&e.removeAttribute(o)}}n||g(e)}function g(e,t){if(!e.hasAttributes()||t)if(CKEDITOR.dtd.$block[e.getName()]){var n=e.getPrevious(x),r=e.getNext(x);!n||n.type!=CKEDITOR.NODE_TEXT&&n.isBlockBoundary({br:1})||e.append("br",1),!r||r.type!=CKEDITOR.NODE_TEXT&&r.isBlockBoundary({br:1})||e.append("br"),e.remove(!0)}else n=e.getFirst(),r=e.getLast(),e.remove(!0),n&&(n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings(),r&&!n.equals(r)&&r.type==CKEDITOR.NODE_ELEMENT&&r.mergeSiblings())}function v(e,t,n){var r;return r=e.element,"*"==r&&(r="span"),r=new CKEDITOR.dom.element(r,t),n&&n.copyAttributes(r),r=b(r,e),t.getCustomData("doc_processing_style")&&r.hasAttribute("id")?r.removeAttribute("id"):t.setCustomData("doc_processing_style",1),r}function b(e,t){var n=t._.definition,r=n.attributes,n=CKEDITOR.style.getStyleText(n);if(r)for(var i in r)e.setAttribute(i,r[i]);return n&&e.setAttribute("style",n),e}function y(e,t){for(var n in e)e[n]=e[n].replace(R,function(e,n){return t[n]})}function C(e){if(e._.overrides)return e._.overrides;var t=e._.overrides={},n=e._.definition.overrides;if(n){CKEDITOR.tools.isArray(n)||(n=[n]);for(var r=0;r<n.length;r++){var i,o,a=n[r];if("string"==typeof a?i=a.toLowerCase():(i=a.element?a.element.toLowerCase():e.element,o=a.attributes),a=t[i]||(t[i]={}),o){var s,a=a.attributes=a.attributes||[];for(s in o)a.push([s.toLowerCase(),o[s]])}}}return t}function E(e,t,n){var r=new CKEDITOR.dom.element("span");return r[n?"setStyle":"setAttribute"](e,t),r[n?"getStyle":"getAttribute"](e)}function T(e,t){function n(e,t){return"font-family"==t.toLowerCase()?e.replace(/["']/g,""):e}"string"==typeof e&&(e=CKEDITOR.tools.parseCssText(e)),"string"==typeof t&&(t=CKEDITOR.tools.parseCssText(t,!0));for(var r in e)if(!(r in t)||n(t[r],r)!=n(e[r],r)&&"inherit"!=e[r]&&"inherit"!=t[r])return!1;return!0}function w(e,t,n){var r=e.document,i=e.getRanges();t=t?this.removeFromRange:this.applyToRange;for(var o,a=i.createIterator();o=a.getNextRange();)t.call(this,o,n);e.selectRanges(i),r.removeCustomData("doc_processing_style")}var D={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},O={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},I=/\s*(?:;\s*|$)/,R=/#\((.+?)\)/g,$=CKEDITOR.dom.walker.bookmark(0,1),x=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(e,t){if("string"==typeof e.type)return new CKEDITOR.style.customHandlers[e.type](e);var n=e.attributes;n&&n.style&&(e.styles=CKEDITOR.tools.extend({},e.styles,CKEDITOR.tools.parseCssText(n.style)),delete n.style),t&&(e=CKEDITOR.tools.clone(e),y(e.attributes,t),y(e.styles,t)),n=this.element=e.element?"string"==typeof e.element?e.element.toLowerCase():e.element:"*",this.type=e.type||(D[n]?CKEDITOR.STYLE_BLOCK:O[n]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:e}},CKEDITOR.style.prototype={apply:function(e){if(e instanceof CKEDITOR.dom.document)return w.call(this,e.getSelection());if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),w.call(this,e.getSelection(),0,e),this._.enterMode=t}},remove:function(e){if(e instanceof CKEDITOR.dom.document)return w.call(this,e.getSelection(),1);if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),w.call(this,e.getSelection(),1,e),this._.enterMode=t}},applyToRange:function(e){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?n:this.type==CKEDITOR.STYLE_BLOCK?s:this.type==CKEDITOR.STYLE_OBJECT?o:null,this.applyToRange(e)},removeFromRange:function(e){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?r:this.type==CKEDITOR.STYLE_BLOCK?l:this.type==CKEDITOR.STYLE_OBJECT?a:null,this.removeFromRange(e)},applyToObject:function(e){b(e,this)},checkActive:function(e,t){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(e.block||e.blockLimit,!0,t);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var n,r=e.elements,i=0;i<r.length;i++)if(n=r[i],this.type!=CKEDITOR.STYLE_INLINE||n!=e.block&&n!=e.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var o=n.getName();if(!("string"==typeof this.element?o==this.element:o in this.element))continue}if(this.checkElementRemovable(n,!0,t))return!0}}return!1},checkApplicable:function(e,t,n){if(t&&t instanceof CKEDITOR.filter&&(n=t),n&&!n.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!e.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!e.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(e,t){var n=this._.definition;if(!e||!n.ignoreReadonly&&e.isReadOnly())return!1;var r=e.getName();if("string"==typeof this.element?r==this.element:r in this.element){if(!t&&!e.hasAttributes())return!0;if(r=n._AC)n=r;else{var r={},i=0,o=n.attributes;if(o)for(var a in o)i++,r[a]=o[a];(a=CKEDITOR.style.getStyleText(n))&&(r.style||i++,r.style=a),r._length=i,n=n._AC=r}if(!n._length)return!0;for(var s in n)if("_length"!=s)if(r=e.getAttribute(s)||"","style"==s?T(n[s],r):n[s]==r){if(!t)return!0}else if(t)return!1;if(t)return!0}return!1},checkElementRemovable:function(e,t,n){if(this.checkElementMatch(e,t,n))return!0;if(t=C(this)[e.getName()]){var r;if(!(t=t.attributes))return!0;for(n=0;n<t.length;n++)if(r=t[n][0],r=e.getAttribute(r)){var i=t[n][1];if(null===i)return!0;if("string"==typeof i){if(r==i)return!0}else if(i.test(r))return!0}}return!1},buildPreview:function(e){var t=this._.definition,n=[],r=t.element;"bdo"==r&&(r="span");var n=["<",r],i=t.attributes;

if(i)for(var o in i)n.push(" ",o,'="',i[o],'"');return(i=CKEDITOR.style.getStyleText(t))&&n.push(' style="',i,'"'),n.push(">",e||t.name,"</",r,">"),n.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(e){var t=e._ST;if(t)return t;var t=e.styles,n=e.attributes&&e.attributes.style||"",r="";n.length&&(n=n.replace(I,";"));for(var i in t){var o=t[i],a=(i+":"+o).replace(I,";");"inherit"==o?r+=a:n+=a}return n.length&&(n=CKEDITOR.tools.normalizeCssText(n,!0)),e._ST=n+r},CKEDITOR.style.customHandlers={},CKEDITOR.style.addCustomHandler=function(e){var t=function(e){this._={definition:e},this.setup&&this.setup(e)};return t.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},e,!0),this.customHandlers[e.type]=t};var k=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,_=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(e,t){this.requiredContent=this.allowedContent=this.style=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.styleCommand.prototype.exec=function(e){e.focus(),this.state==CKEDITOR.TRISTATE_OFF?e.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&e.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(e,t,n){CKEDITOR.stylesSet.addExternal(e,t,""),CKEDITOR.stylesSet.load(e,n)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(e,t){var n=this._.styleStateChangeCallbacks;n||(n=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(e){for(var t=0;t<n.length;t++){var r=n[t],i=r.style.checkActive(e.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;r.fn.call(this,i)}})),n.push({style:e,fn:t})},applyStyle:function(e){e.apply(this)},removeStyle:function(e){e.remove(this)},getStylesSet:function(e){if(this._.stylesDefinitions)e(this._.stylesDefinitions);else{var t=this,n=t.config.stylesCombo_stylesSet||t.config.stylesSet;if(!1===n)e(null);else if(n instanceof Array)t._.stylesDefinitions=n,e(n);else{n||(n="default");var n=n.split(":"),r=n[0];CKEDITOR.stylesSet.addExternal(r,n[1]?n.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(r,function(n){t._.stylesDefinitions=n[r],e(t._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createComment(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"<!--"+this.$.nodeValue+"-->"}}),function(){var e,t={},n={};for(e in CKEDITOR.dtd.$blockLimit)e in CKEDITOR.dtd.$list||(t[e]=1);for(e in CKEDITOR.dtd.$block)e in CKEDITOR.dtd.$blockLimit||e in CKEDITOR.dtd.$empty||(n[e]=1);CKEDITOR.dom.elementPath=function(e,r){var i,o=null,a=null,s=[],l=e;r=r||e.getDocument().getBody();do if(l.type==CKEDITOR.NODE_ELEMENT){if(s.push(l),!this.lastElement&&(this.lastElement=l,l.is(CKEDITOR.dtd.$object)||"false"==l.getAttribute("contenteditable")))continue;if(l.equals(r))break;if(!a&&(i=l.getName(),"true"==l.getAttribute("contenteditable")?a=l:!o&&n[i]&&(o=l),t[i])){if(i=!o&&"div"==i){e:{i=l.getChildren();for(var u=0,c=i.count();c>u;u++){var d=i.getItem(u);if(d.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[d.getName()]){i=!0;break e}}i=!1}i=!i}i?o=l:a=l}}while(l=l.getParent());a||(a=r),this.block=o,this.blockLimit=a,this.root=r,this.elements=s}}(),CKEDITOR.dom.elementPath.prototype={compare:function(e){var t=this.elements;if(e=e&&e.elements,!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0},contains:function(e,t,n){var r;"string"==typeof e&&(r=function(t){return t.getName()==e}),e instanceof CKEDITOR.dom.element?r=function(t){return t.equals(e)}:CKEDITOR.tools.isArray(e)?r=function(t){return-1<CKEDITOR.tools.indexOf(e,t.getName())}:"function"==typeof e?r=e:"object"==typeof e&&(r=function(t){return t.getName()in e});var i=this.elements,o=i.length;for(t&&o--,n&&(i=Array.prototype.slice.call(i,0),i.reverse()),t=0;o>t;t++)if(r(i[t]))return i[t];return null},isContextFor:function(e){var t;return e in CKEDITOR.dtd.$block?(t=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!t.getDtd()[e]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createTextNode(e)),this.$=e},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(e){this.$.nodeValue=e},split:function(e){var t=this.$.parentNode,n=t.childNodes.length,r=this.getLength(),i=this.getDocument(),o=new CKEDITOR.dom.text(this.$.splitText(e),i);return t.childNodes.length==n&&(e>=r?(o=i.createText(""),o.insertAfter(this)):(e=i.createText(""),e.insertAfter(o),e.remove())),o},substring:function(e,t){return"number"!=typeof t?this.$.nodeValue.substr(e):this.$.nodeValue.substring(e,t)}}),function(){function e(e,t,n){var r=e.serializable,i=t[n?"endContainer":"startContainer"],o=n?"endOffset":"startOffset",a=r?t.document.getById(e.startNode):e.startNode;return e=r?t.document.getById(e.endNode):e.endNode,i.equals(a.getPrevious())?(t.startOffset=t.startOffset-i.getLength()-e.getPrevious().getLength(),i=e.getNext()):i.equals(e.getPrevious())&&(t.startOffset-=i.getLength(),i=e.getNext()),i.equals(a.getParent())&&t[o]++,i.equals(e.getParent())&&t[o]++,t[n?"endContainer":"startContainer"]=i,t}CKEDITOR.dom.rangeList=function(e){return e instanceof CKEDITOR.dom.rangeList?e:(e?e instanceof CKEDITOR.dom.range&&(e=[e]):e=[],CKEDITOR.tools.extend(e,t))};var t={createIterator:function(){var e,t=this,n=CKEDITOR.dom.walker.bookmark(),r=[];return{getNextRange:function(i){e=void 0===e?0:e+1;var o=t[e];if(o&&1<t.length){if(!e)for(var a=t.length-1;a>=0;a--)r.unshift(t[a].createBookmark(!0));if(i)for(var s=0;t[e+s+1];){var l=o.document;for(i=0,a=l.getById(r[s].endNode),l=l.getById(r[s+1].startNode);;){if(a=a.getNextSourceNode(!1),l.equals(a))i=1;else if(n(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())continue;break}if(!i)break;s++}for(o.moveToBookmark(r.shift());s--;)a=t[++e],a.moveToBookmark(r.shift()),o.setEnd(a.endContainer,a.endOffset)}return o}}},createBookmarks:function(t){for(var n,r=[],i=0;i<this.length;i++){r.push(n=this[i].createBookmark(t,!0));for(var o=i+1;o<this.length;o++)this[o]=e(n,this[o]),this[o]=e(n,this[o],!0)}return r},createBookmarks2:function(e){for(var t=[],n=0;n<this.length;n++)t.push(this[n].createBookmark2(e));return t},moveToBookmarks:function(e){for(var t=0;t<this.length;t++)this[t].moveToBookmark(e[t])}}}(),function(){function e(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function t(t){var n=CKEDITOR.skin["ua_"+t],r=CKEDITOR.env;if(n)for(var i,n=n.split(",").sort(function(e,t){return e>t?-1:1}),o=0;o<n.length;o++)if(i=n[o],r.ie&&(i.replace(/^ie/,"")==r.version||r.quirks&&"iequirks"==i)&&(i="ie"),r[i]){t+="_"+n[o];break}return CKEDITOR.getUrl(e()+t+".css")}function n(e,n){o[e]||(CKEDITOR.document.appendStyleSheet(t(e)),o[e]=1),n&&n()}function r(e){var t=e.getById(a);return t||(t=e.getHead().append("style"),t.setAttribute("id",a),t.setAttribute("type","text/css")),t}function i(e,t,n){var r,i,o;if(CKEDITOR.env.webkit)for(t=t.split("}").slice(0,-1),i=0;i<t.length;i++)t[i]=t[i].split("{");for(var a=0;a<e.length;a++)if(CKEDITOR.env.webkit)for(i=0;i<t.length;i++){for(o=t[i][1],r=0;r<n.length;r++)o=o.replace(n[r][0],n[r][1]);e[a].$.sheet.addRule(t[i][0],o)}else{for(o=t,r=0;r<n.length;r++)o=o.replace(n[r][0],n[r][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?e[a].$.styleSheet.cssText+=o:e[a].$.innerHTML+=o}}var o={};CKEDITOR.skin={path:e,loadPart:function(t,r){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e()+"skin.js"),function(){n(t,r)}):n(t,r)},getPath:function(e){return CKEDITOR.getUrl(t(e))},icons:{},addIcon:function(e,t,n,r){e=e.toLowerCase(),this.icons[e]||(this.icons[e]={path:t,offset:n||0,bgsize:r||"16px"})},getIconStyle:function(e,t,n,r,i){var o;return e&&(e=e.toLowerCase(),t&&(o=this.icons[e+"-rtl"]),o||(o=this.icons[e])),e=n||o&&o.path||"",r=r||o&&o.offset,i=i||o&&o.bgsize||"16px",e&&(e=e.replace(/'/g,"\\'")),e&&"background-image:url('"+CKEDITOR.getUrl(e)+"');background-position:0 "+r+"px;background-size:"+i+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(e){var t=r(CKEDITOR.document);return(this.setUiColor=function(e){this.uiColor=e;var n=CKEDITOR.skin.chameleon,r="",o="";"function"==typeof n&&(r=n(this,"editor"),o=n(this,"panel")),e=[[l,e]],i([t],r,e),i(s,o,e)}).call(this,e)}});var a="cke_ui_color",s=[],l=/\$color/g;CKEDITOR.on("instanceLoaded",function(e){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var t=e.editor;e=function(e){if(e=(e.data[0]||e.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument(),!e.getById("cke_ui_color")){e=r(e),s.push(e);var n=t.getUiColor();n&&i([e],CKEDITOR.skin.chameleon(t,"panel"),[[l,n]])}},t.on("panelShow",e),t.on("menuShow",e),t.config.uiColor&&t.setUiColor(t.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var e=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);e.appendTo(CKEDITOR.document.getHead());try{var t=e.getComputedStyle("border-top-color"),n=e.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!t||t!=n)}catch(r){CKEDITOR.env.hc=!1}e.remove()}if(CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),e=CKEDITOR._.pending)for(delete CKEDITOR._.pending,t=0;t<e.length;t++)CKEDITOR.editor.prototype.constructor.apply(e[t][0],e[t][1]),CKEDITOR.add(e[t][0])}(),CKEDITOR.skin.name="moono",CKEDITOR.skin.ua_editor="ie,iequirks,ie7,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie7,ie8",CKEDITOR.skin.chameleon=function(){var e=function(){return function(e,t){for(var n=e.match(/[^#]./g),r=0;3>r;r++){var i,o=r;i=parseInt(n[r],16),i=("0"+(0>t?0|i*(1+t):0|i+(255-i)*t).toString(16)).slice(-2),n[o]=i}return"#"+n.join("")}}(),t=function(){var e=new CKEDITOR.template("background:#{to};background-image:linear-gradient(to bottom,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType=0,startColorstr='{from}',endColorstr='{to}');");return function(t,n){return e.output({from:t,to:n})}}(),n={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};return function(r,i){var o=r.uiColor,o={id:"."+r.id,defaultBorder:e(o,-.1),defaultGradient:t(e(o,.9),o),lightGradient:t(e(o,1),e(o,.7)),mediumGradient:t(e(o,.8),e(o,.5)),ckeButtonOn:t(e(o,.6),e(o,.7)),ckeResizer:e(o,-.4),ckeToolbarSeparator:e(o,.5),ckeColorauto:e(o,.8),dialogBody:e(o,.7),dialogTabSelected:t("#FFFFFF","#FFFFFF"),dialogTabSelectedBorder:"#FFF",elementsPathColor:e(o,-.6),elementsPathBg:o,menubuttonIcon:e(o,.5),menubuttonIconHover:e(o,.3)};return n[i].output(o).replace(/\[/g,"{").replace(/\]/g,"}")}}(),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var e=function(e){this._||(this._={}),this._["default"]=this._.initValue=e["default"]||"",this._.required=e.required||!1;for(var t=[this._],n=1;n<arguments.length;n++)t.push(arguments[n]);return t.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,t),this._},t={build:function(e,t,n){return new CKEDITOR.ui.dialog.textInput(e,t,n)}},n={build:function(e,t,n){return new CKEDITOR.ui.dialog[t.type](e,t,n)}},r={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(e){this.setValue(this.getInitValue(),e)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},i=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(e,t){this._.domOnChangeRegistered||(e.on("load",function(){this.getInputElement().on("change",function(){e.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",t)}},!0),o=/^on([A-Z]\w+)/,a=function(e){for(var t in e)(o.test(t)||"title"==t||"type"==t)&&delete e[t];return e},s=function(e){e=e.data.getKeystroke(),e==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):e==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(t,n,r,i){if(!(4>arguments.length)){var o=e.call(this,n);o.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var a={role:n.role||"presentation"};n.includeLabel&&(a["aria-labelledby"]=o.labelId),CKEDITOR.ui.dialog.uiElement.call(this,t,n,r,"div",null,a,function(){var e=[],r=n.required?" cke_required":"";return"horizontal"!=n.labelLayout?e.push('<label class="cke_dialog_ui_labeled_label'+r+'" ',' id="'+o.labelId+'"',o.inputId?' for="'+o.inputId+'"':"",(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",n.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',n.controlStyle?' style="'+n.controlStyle+'"':"",' role="presentation">',i.call(this,t,n),"</div>"):(r={type:"hbox",widths:n.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+r+'" id="'+o.labelId+'" for="'+o.inputId+'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(n.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(n.controlStyle?' style="'+n.controlStyle+'"':"")+">"+i.call(this,t,n)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(t,r,e)),e.join("")})}},textInput:function(t,n,r){if(!(3>arguments.length)){e.call(this,n);var i=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",o={"class":"cke_dialog_ui_input_"+n.type,id:i,type:n.type};n.validate&&(this.validate=n.validate),n.maxLength&&(o.maxlength=n.maxLength),n.size&&(o.size=n.size),n.inputStyle&&(o.style=n.inputStyle);var a=this,l=!1;t.on("load",function(){a.getInputElement().on("keydown",function(e){13==e.data.getKeystroke()&&(l=!0)}),a.getInputElement().on("keyup",function(e){13==e.data.getKeystroke()&&l&&(t.getButton("ok")&&setTimeout(function(){t.getButton("ok").click()},0),l=!1),a.bidi&&s.call(a,e)},null,null,1e3)}),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,r,function(){var e=['<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'];n.width&&e.push('style="width:'+n.width+'" '),e.push("><input "),o["aria-labelledby"]=this._.labelId,this._.required&&(o["aria-required"]=this._.required);for(var t in o)e.push(t+'="'+o[t]+'" ');return e.push(" /></div>"),e.join("")})}},textarea:function(t,n,r){if(!(3>arguments.length)){e.call(this,n);var i=this,o=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",a={};n.validate&&(this.validate=n.validate),a.rows=n.rows||5,a.cols=n.cols||20,a["class"]="cke_dialog_ui_input_textarea "+(n["class"]||""),"undefined"!=typeof n.inputStyle&&(a.style=n.inputStyle),n.dir&&(a.dir=n.dir),i.bidi&&t.on("load",function(){i.getInputElement().on("keyup",s)},i),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,r,function(){a["aria-labelledby"]=this._.labelId,this._.required&&(a["aria-required"]=this._.required);var e,t=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',o,'" '];for(e in a)t.push(e+'="'+CKEDITOR.tools.htmlEncode(a[e])+'" ');return t.push(">",CKEDITOR.tools.htmlEncode(i._["default"]),"</textarea></div>"),t.join("")})}},checkbox:function(t,n,r){if(!(3>arguments.length)){var i=e.call(this,n,{"default":!!n["default"]});n.validate&&(this.validate=n.validate),CKEDITOR.ui.dialog.uiElement.call(this,t,n,r,"span",null,null,function(){var e=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),r=[],o=CKEDITOR.tools.getNextId()+"_label",s={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":o};return a(e),n["default"]&&(s.checked="checked"),"undefined"!=typeof e.inputStyle&&(e.style=e.inputStyle),i.checkbox=new CKEDITOR.ui.dialog.uiElement(t,e,r,"input",null,s),r.push(' <label id="',o,'" for="',s.id,'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(n.label),"</label>"),r.join("")})}},radio:function(t,n,r){if(!(3>arguments.length)){e.call(this,n),this._["default"]||(this._["default"]=this._.initValue=n.items[0][1]),n.validate&&(this.validate=n.validate);var i=[],o=this;n.role="radiogroup",n.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,t,n,r,function(){for(var e=[],r=[],s=(n.id?n.id:CKEDITOR.tools.getNextId())+"_radio",l=0;l<n.items.length;l++){var u=n.items[l],c=void 0!==u[2]?u[2]:u[0],d=void 0!==u[1]?u[1]:u[0],p=CKEDITOR.tools.getNextId()+"_radio_input",f=p+"_label",p=CKEDITOR.tools.extend({},n,{id:p,title:null,type:null},!0),c=CKEDITOR.tools.extend({},p,{title:c},!0),h={type:"radio","class":"cke_dialog_ui_radio_input",name:s,value:d,"aria-labelledby":f},m=[];o._["default"]==d&&(h.checked="checked"),a(p),a(c),"undefined"!=typeof p.inputStyle&&(p.style=p.inputStyle),p.keyboardFocusable=!0,i.push(new CKEDITOR.ui.dialog.uiElement(t,p,m,"input",null,h)),m.push(" "),new CKEDITOR.ui.dialog.uiElement(t,c,m,"label",null,{id:f,"for":h.id},u[0]),e.push(m.join(""))}return new CKEDITOR.ui.dialog.hbox(t,i,e,r),r.join("")}),this._.children=i}},button:function(t,n,r){if(arguments.length){"function"==typeof n&&(n=n(t.getParentEditor())),e.call(this,n,{disabled:n.disabled||!1}),CKEDITOR.event.implementOn(this);var i=this;t.on("load",function(){var e=this.getElement();!function(){e.on("click",function(e){i.click(),e.data.preventDefault()}),e.on("keydown",function(e){e.data.getKeystroke()in{32:1}&&(i.click(),e.data.preventDefault())})}(),e.unselectable()},this);var o=CKEDITOR.tools.extend({},n);delete o.style;var a=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,t,o,r,"a",null,{style:n.style,href:"javascript:void(0)",title:n.label,hidefocus:"true","class":n["class"],role:"button","aria-labelledby":a},'<span id="'+a+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(n.label)+"</span>")}},select:function(t,n,r){if(!(3>arguments.length)){var i=e.call(this,n);n.validate&&(this.validate=n.validate),i.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,t,n,r,function(){var e=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),r=[],o=[],s={id:i.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};r.push('<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'),n.width&&r.push('style="width:'+n.width+'" '),r.push(">"),void 0!==n.size&&(s.size=n.size),void 0!==n.multiple&&(s.multiple=n.multiple),a(e);for(var l,u=0;u<n.items.length&&(l=n.items[u]);u++)o.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==l[1]?l[1]:l[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(l[0]));return"undefined"!=typeof e.inputStyle&&(e.style=e.inputStyle),i.select=new CKEDITOR.ui.dialog.uiElement(t,e,r,"select",null,s,o.join("")),r.push("</div>"),r.join("")})}},file:function(t,n,r){if(!(3>arguments.length)){void 0===n["default"]&&(n["default"]="");var i=CKEDITOR.tools.extend(e.call(this,n),{definition:n,buttons:[]});n.validate&&(this.validate=n.validate),t.on("load",function(){CKEDITOR.document.getById(i.frameId).getParent().addClass("cke_dialog_ui_input_file")}),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,r,function(){i.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var e=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',i.frameId,'" title="',n.label,'" src="javascript:void('];return e.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),e.push(')"></iframe>'),e.join("")})}},fileButton:function(t,n,r){var i=this;if(!(3>arguments.length)){e.call(this,n),n.validate&&(this.validate=n.validate);var o=CKEDITOR.tools.extend({},n),a=o.onClick;o.className=(o.className?o.className+" ":"")+"cke_dialog_ui_button",o.onClick=function(e){var r=n["for"];a&&!1===a.call(this,e)||(t.getContentElement(r[0],r[1]).submit(),this.disable())},t.on("load",function(){t.getContentElement(n["for"][0],n["for"][1])._.buttons.push(i)}),CKEDITOR.ui.dialog.button.call(this,t,o,r)}},html:function(){var e=/^\s*<[\w:]+\s+([^>]*)?>/,t=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,n=/\/$/;return function(r,i,o){if(!(3>arguments.length)){var a=[],s=i.html;"<"!=s.charAt(0)&&(s="<span>"+s+"</span>");var l=i.focus;if(l){var u=this.focus;this.focus=function(){("function"==typeof l?l:u).call(this),this.fire("focus")},i.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,r,i,a,"span",null,null,""),a=a.join("").match(e),s=s.match(t)||["","",""],n.test(s[1])&&(s[1]=s[1].slice(0,-1),s[2]="/"+s[2]),o.push([s[1]," ",a[1]||"",s[2]].join(""))}}}(),fieldset:function(e,t,n,r,i){var o=i.label;this._={children:t},CKEDITOR.ui.dialog.uiElement.call(this,e,i,r,"fieldset",null,null,function(){var e=[];o&&e.push("<legend"+(i.labelStyle?' style="'+i.labelStyle+'"':"")+">"+o+"</legend>");for(var t=0;t<n.length;t++)e.push(n[t]);return e.join("")})}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(e){var t=CKEDITOR.document.getById(this._.labelId);return 1>t.getChildCount()?new CKEDITOR.dom.text(e,CKEDITOR.document).appendTo(t):t.getChild(0).$.nodeValue=e,this},getLabel:function(){var e=CKEDITOR.document.getById(this._.labelId);return!e||1>e.getChildCount()?"":e.getChild(0).getText()},eventProcessors:i},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return this._.disabled?!1:this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var e=this.getElement();e&&e.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(e,t){this.on("click",function(){t.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&t.$.focus()},0)},select:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&(t.$.focus(),t.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(e){if(this.bidi){var t=e&&e.charAt(0);(t="‪"==t?"ltr":"‫"==t?"rtl":null)&&(e=e.slice(1)),this.setDirectionMarker(t)}return e||(e=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var e=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&e){var t=this.getDirectionMarker();t&&(e=("ltr"==t?"‪":"‫")+e)}return e},setDirectionMarker:function(e){var t=this.getInputElement();e?t.setAttributes({dir:e,"data-cke-dir-marker":e}):this.getDirectionMarker()&&t.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},r,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(e,t,n){var r=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),i=this.getInputElement().$;return r.$.text=e,r.$.value=void 0===t||null===t?e:t,void 0===n||null===n?CKEDITOR.env.ie?i.add(r.$):i.add(r.$,null):i.add(r.$,n),this},remove:function(e){return this.getInputElement().$.remove(e),this},clear:function(){for(var e=this.getInputElement().$;0<e.length;)e.remove(0);return this},keyboardFocusable:!0},r,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(e,t){this.getInputElement().$.checked=e,!t&&this.fire("change",{value:e})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(e,t){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?i.onChange.apply(this,arguments):(e.on("load",function(){var e=this._.checkbox.getElement();e.on("propertychange",function(t){t=t.data.$,"checked"==t.propertyName&&this.fire("change",{value:e.$.checked})},this)},this),this.on("change",t),null)}},keyboardFocusable:!0},r,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(e,t){for(var n,r=this._.children,i=0;i<r.length&&(n=r[i]);i++)n.getElement().$.checked=n.getValue()==e;!t&&this.fire("change",{value:e})},getValue:function(){for(var e=this._.children,t=0;t<e.length;t++)if(e[t].getElement().$.checked)return e[t].getValue();return null},accessKeyUp:function(){var e,t=this._.children;for(e=0;e<t.length;e++)if(t[e].getElement().$.checked)return void t[e].getElement().focus();t[0].getElement().focus()},eventProcessors:{onChange:function(e,t){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?i.onChange.apply(this,arguments):(e.on("load",function(){for(var e=this._.children,t=this,n=0;n<e.length;n++)e[n].getElement().on("propertychange",function(e){e=e.data.$,"checked"==e.propertyName&&this.$.checked&&t.fire("change",{value:this.getAttribute("value")})})},this),this.on("change",t),null)}}},r,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,r,{getInputElement:function(){var e=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<e.$.forms.length?new CKEDITOR.dom.element(e.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(e){var t,n,r=/^on([A-Z]\w+)/,i=function(e,t,n,r){e.on("formLoaded",function(){e.getInputElement().on(n,r,e)})};for(n in e)(t=n.match(r))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,e[n]):i(this,this._.dialog,t[1].toLowerCase(),e[n]));return this},reset:function(){function e(){n.$.open();var e="";r.size&&(e=r.size-(CKEDITOR.env.ie?7:0));var u=t.frameId+"_input";for(n.$.write(['<html dir="'+s+'" lang="'+l+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+s+'" lang="'+l+'" action="',CKEDITOR.tools.htmlEncode(r.action),'"><label id="',t.labelId,'" for="',u,'" style="display:none">',CKEDITOR.tools.htmlEncode(r.label),'</label><input style="width:100%" id="',u,'" aria-labelledby="',t.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(r.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(e>0?e:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+o+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+a+")}","</script>"].join("")),n.$.close(),e=0;e<i.length;e++)i[e].enable()}var t=this._,n=CKEDITOR.document.getById(t.frameId).getFrameDocument(),r=t.definition,i=t.buttons,o=this.formLoadedNumber,a=this.formUnloadNumber,s=t.dialog._.editor.lang.dir,l=t.dialog._.editor.langCode;o||(o=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),a=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(o),CKEDITOR.tools.removeFunction(a)})),CKEDITOR.env.gecko?setTimeout(e,500):e()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(e,t){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",t)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",t),CKEDITOR.dialog.addUIElement("password",t),CKEDITOR.dialog.addUIElement("textarea",n),CKEDITOR.dialog.addUIElement("checkbox",n),CKEDITOR.dialog.addUIElement("radio",n),CKEDITOR.dialog.addUIElement("button",n),CKEDITOR.dialog.addUIElement("select",n),CKEDITOR.dialog.addUIElement("file",n),CKEDITOR.dialog.addUIElement("fileButton",n),CKEDITOR.dialog.addUIElement("html",n),
CKEDITOR.dialog.addUIElement("fieldset",{build:function(e,t,n){for(var r,i=t.children,o=[],a=[],s=0;s<i.length&&(r=i[s]);s++){var l=[];o.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[r.type].build(e,r,l))}return new CKEDITOR.ui.dialog[t.type](e,a,o,n,t)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function e(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+e,n=t-1;n>t-e;n--)if(this._.tabs[this._.tabIdList[n%e]][0].$.offsetHeight)return this._.tabIdList[n%e];return null}function t(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),n=t+1;t+e>n;n++)if(this._.tabs[this._.tabIdList[n%e]][0].$.offsetHeight)return this._.tabIdList[n%e];return null}function n(e,t){for(var n=e.$.getElementsByTagName("input"),r=0,i=n.length;i>r;r++){var o=new CKEDITOR.dom.element(n[r]);"text"==o.getAttribute("type").toLowerCase()&&(t?(o.setAttribute("value",o.getCustomData("fake_value")||""),o.removeCustomData("fake_value")):(o.setCustomData("fake_value",o.getAttribute("value")),o.setAttribute("value","")))}}function r(e,t){var n=this.getInputElement();n&&(e?n.removeAttribute("aria-invalid"):n.setAttribute("aria-invalid",!0)),e||(this.select?this.select():this.focus()),t&&alert(t),this.fire("validated",{valid:e,msg:t})}function i(){var e=this.getInputElement();e&&e.removeAttribute("aria-invalid")}function o(e){var t=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",m).output({id:CKEDITOR.tools.getNextNumber(),editorId:e.id,langDir:e.lang.dir,langCode:e.langCode,editorDialogClass:"cke_editor_"+e.name.replace(/\./g,"\\.")+"_dialog",closeTitle:e.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),n=t.getChild([0,0,0,0,0]),r=n.getChild(0),i=n.getChild(1);return e.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(n),!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(e="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+e+'" tabIndex="-1"></iframe>').appendTo(n.getParent())),r.unselectable(),i.unselectable(),{element:t,parts:{dialog:t.getChild(0),title:r,close:i,tabs:n.getChild(2),contents:n.getChild([3,0,0,0]),footer:n.getChild([3,0,1,0])}}}function a(e,t,n){this.element=t,this.focusIndex=n,this.tabIndex=0,this.isFocusable=function(){return!t.getAttribute("disabled")&&t.isVisible()},this.focus=function(){e._.currentFocusIndex=this.focusIndex,this.element.focus()},t.on("keydown",function(e){e.data.getKeystroke()in{32:1,13:1}&&this.fire("click")}),t.on("focus",function(){this.fire("mouseover")}),t.on("blur",function(){this.fire("mouseout")})}function s(e){function t(){e.layout()}var n=CKEDITOR.document.getWindow();n.on("resize",t),e.on("hide",function(){n.removeListener("resize",t)})}function l(e,t){this._={dialog:e},CKEDITOR.tools.extend(this,t)}function u(e){function t(t){var n=e.getSize(),l=CKEDITOR.document.getWindow().getViewPaneSize(),u=t.data.$.screenX,c=t.data.$.screenY,d=u-r.x,p=c-r.y;r={x:u,y:c},i.x+=d,i.y+=p,e.move(i.x+s[3]<a?-s[3]:i.x-s[1]>l.width-n.width-a?l.width-n.width+("rtl"==o.lang.dir?0:s[1]):i.x,i.y+s[0]<a?-s[0]:i.y-s[2]>l.height-n.height-a?l.height-n.height+s[2]:i.y,1),t.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mousemove",t),CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.env.ie6Compat){var e=T.getChild(0).getFrameDocument();e.removeListener("mousemove",t),e.removeListener("mouseup",n)}}var r=null,i=null,o=e.getParentEditor(),a=o.config.dialog_magnetDistance,s=CKEDITOR.skin.margins||[0,0,0,0];"undefined"==typeof a&&(a=20),e.parts.title.on("mousedown",function(o){if(r={x:o.data.$.screenX,y:o.data.$.screenY},CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),i=e.getPosition(),CKEDITOR.env.ie6Compat){var a=T.getChild(0).getFrameDocument();a.on("mousemove",t),a.on("mouseup",n)}o.data.preventDefault()},e)}function c(e){function t(t){var n="rtl"==d.lang.dir,c=u.width,p=u.height,f=c+(t.data.$.screenX-l.x)*(n?-1:1)*(e._.moved?1:2),h=p+(t.data.$.screenY-l.y)*(e._.moved?1:2),m=e._.element.getFirst(),m=n&&m.getComputedStyle("right"),g=e.getPosition();g.y+h>s.height&&(h=s.height-g.y),(n?m:g.x)+f>s.width&&(f=s.width-(n?m:g.x)),(i==CKEDITOR.DIALOG_RESIZE_WIDTH||i==CKEDITOR.DIALOG_RESIZE_BOTH)&&(c=Math.max(r.minWidth||0,f-o)),(i==CKEDITOR.DIALOG_RESIZE_HEIGHT||i==CKEDITOR.DIALOG_RESIZE_BOTH)&&(p=Math.max(r.minHeight||0,h-a)),e.resize(c,p),e._.moved||e.layout(),t.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.document.removeListener("mousemove",t),c&&(c.remove(),c=null),CKEDITOR.env.ie6Compat){var e=T.getChild(0).getFrameDocument();e.removeListener("mouseup",n),e.removeListener("mousemove",t)}}var r=e.definition,i=r.resizable;if(i!=CKEDITOR.DIALOG_RESIZE_NONE){var o,a,s,l,u,c,d=e.getParentEditor(),p=CKEDITOR.tools.addFunction(function(r){u=e.getSize();var i=e.parts.contents;i.$.getElementsByTagName("iframe").length&&(c=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'),i.append(c)),a=u.height-e.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks)),o=u.width-e.parts.contents.getSize("width",1),l={x:r.screenX,y:r.screenY},s=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),CKEDITOR.env.ie6Compat&&(i=T.getChild(0).getFrameDocument(),i.on("mousemove",t),i.on("mouseup",n)),r.preventDefault&&r.preventDefault()});e.on("load",function(){var t="";i==CKEDITOR.DIALOG_RESIZE_WIDTH?t=" cke_resizer_horizontal":i==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(t=" cke_resizer_vertical"),t=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+t+" cke_resizer_"+d.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(d.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+p+', event )">'+("ltr"==d.lang.dir?"◢":"◣")+"</div>"),e.parts.footer.append(t,1)}),d.on("destroy",function(){CKEDITOR.tools.removeFunction(p)})}}function d(e){e.data.preventDefault(1)}function p(e){var t=CKEDITOR.document.getWindow(),n=e.config,r=n.dialog_backgroundCoverColor||"white",i=n.dialog_backgroundCoverOpacity,o=n.baseFloatZIndex,n=CKEDITOR.tools.genKey(r,i,o),a=w[n];a?a.show():(o=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",o,"; top: 0px; left: 0px; ",CKEDITOR.env.ie6Compat?"":"background-color: "+r,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(r="<html><body style=\\'background-color:"+r+";\\'></body></html>",o.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),o.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+r+"' );document.close();")+"})())"),o.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),o.push("</div>"),a=CKEDITOR.dom.element.createFromHtml(o.join("")),a.setOpacity(void 0!==i?i:.5),a.on("keydown",d),a.on("keypress",d),a.on("keyup",d),a.appendTo(CKEDITOR.document.getBody()),w[n]=a),e.focusManager.add(a),T=a,e=function(){var e=t.getViewPaneSize();a.setStyles({width:e.width+"px",height:e.height+"px"})};var s=function(){var e=t.getScrollPosition(),n=CKEDITOR.dialog._.currentTop;if(a.setStyles({left:e.x+"px",top:e.y+"px"}),n)do e=n.getPosition(),n.move(e.x,e.y);while(n=n._.parentDialog)};if(E=e,t.on("resize",e),e(),CKEDITOR.env.mac&&CKEDITOR.env.webkit||a.focus(),CKEDITOR.env.ie6Compat){var l=function(){s(),arguments.callee.prevScrollHandler.apply(this,arguments)};t.$.setTimeout(function(){l.prevScrollHandler=window.onscroll||function(){},window.onscroll=l},0),s()}}function f(e){T&&(e.focusManager.remove(T),e=CKEDITOR.document.getWindow(),T.hide(),e.removeListener("resize",E),CKEDITOR.env.ie6Compat&&e.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),E=null)}var h=CKEDITOR.tools.cssLength,m='<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(n,a){function s(){var e=w._.focusList;e.sort(function(e,t){return e.tabIndex!=t.tabIndex?t.tabIndex-e.tabIndex:e.focusIndex-t.focusIndex});for(var t=e.length,n=0;t>n;n++)e[n].focusIndex=n}function l(e){var t=w._.focusList;if(e=e||0,!(1>t.length)){var n=w._.currentFocusIndex;w._.tabBarMode&&0>e&&(n=0);try{t[n].getInputElement().$.blur()}catch(r){}var i=n,o=1<w._.pageCount;do{if(i+=e,o&&!w._.tabBarMode&&(i==t.length||-1==i))return w._.tabBarMode=!0,w._.tabs[w._.currentTabId][0].focus(),void(w._.currentFocusIndex=-1);if(i=(i+t.length)%t.length,i==n)break}while(e&&!t[i].isFocusable());t[i].focus(),"text"==t[i].type&&t[i].select()}}function d(r){if(w==CKEDITOR.dialog._.currentTop){var i=r.data.getKeystroke(),o="rtl"==n.lang.dir,a=[37,38,39,40];if(f=h=0,9==i||i==CKEDITOR.SHIFT+9)l(i==CKEDITOR.SHIFT+9?-1:1),f=1;else if(i==CKEDITOR.ALT+121&&!w._.tabBarMode&&1<w.getPageCount())w._.tabBarMode=!0,w._.tabs[w._.currentTabId][0].focus(),w._.currentFocusIndex=-1,f=1;else if(-1!=CKEDITOR.tools.indexOf(a,i)&&w._.tabBarMode)i=-1!=CKEDITOR.tools.indexOf([o?39:37,38],i)?e.call(w):t.call(w),w.selectPage(i),w._.tabs[i][0].focus(),f=1;else if(13!=i&&32!=i||!w._.tabBarMode)if(13==i)i=r.data.getTarget(),i.is("a","button","select","textarea")||i.is("input")&&"button"==i.$.type||((i=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(i.click,0,i),f=1),h=1;else{if(27!=i)return;(i=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(i.click,0,i):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),h=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1),f=1;p(r)}}function p(e){f?e.data.preventDefault(1):h&&e.data.stopPropagation()}var f,h,m=CKEDITOR.dialog._.dialogDefinitions[a],v=CKEDITOR.tools.clone(g),b=n.config.dialog_buttonsOrder||"OS",y=n.lang.dir,E={};if(("OS"==b&&CKEDITOR.env.mac||"rtl"==b&&"ltr"==y||"ltr"==b&&"rtl"==y)&&v.buttons.reverse(),m=CKEDITOR.tools.extend(m(n),v),m=CKEDITOR.tools.clone(m),m=new C(this,m),v=o(n),this._={editor:n,element:v.element,name:a,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=v.parts,CKEDITOR.tools.setTimeout(function(){n.fire("ariaWidget",this.parts.contents)},0,this),v={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"},v["rtl"==y?"right":"left"]=0,this.parts.dialog.setStyles(v),CKEDITOR.event.call(this),this.definition=m=CKEDITOR.fire("dialogDefinition",{name:a,definition:m},n).definition,!("removeDialogTabs"in n._)&&n.config.removeDialogTabs){for(v=n.config.removeDialogTabs.split(";"),y=0;y<v.length;y++)if(b=v[y].split(":"),2==b.length){var T=b[0];E[T]||(E[T]=[]),E[T].push(b[1])}n._.removeDialogTabs=E}if(n._.removeDialogTabs&&(E=n._.removeDialogTabs[a]))for(y=0;y<E.length;y++)m.removeContents(E[y]);m.onLoad&&this.on("load",m.onLoad),m.onShow&&this.on("show",m.onShow),m.onHide&&this.on("hide",m.onHide),m.onOk&&this.on("ok",function(e){n.fire("saveSnapshot"),setTimeout(function(){n.fire("saveSnapshot")},0),!1===m.onOk.call(this,e)&&(e.data.hide=!1)}),this.state=CKEDITOR.DIALOG_STATE_IDLE,m.onCancel&&this.on("cancel",function(e){!1===m.onCancel.call(this,e)&&(e.data.hide=!1)});var w=this,D=function(e){var t,n=w._.contents,r=!1;for(t in n)for(var i in n[t])if(r=e.call(this,n[t][i]))return};this.on("ok",function(e){D(function(t){if(t.validate){var n=t.validate(this),i="string"==typeof n||!1===n;return i&&(e.data.hide=!1,e.stop()),r.call(t,!i,"string"==typeof n?n:void 0),i}})},this,null,0),this.on("cancel",function(e){D(function(t){return t.isChanged()?(n.config.dialog_noConfirmCancel||confirm(n.lang.common.confirmCancel)||(e.data.hide=!1),!0):void 0})},this,null,0),this.parts.close.on("click",function(e){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),e.data.preventDefault()},this),this.changeFocus=l;var O=this._.element;for(n.focusManager.add(O,1),this.on("show",function(){O.on("keydown",d,this),CKEDITOR.env.gecko&&O.on("keypress",p,this)}),this.on("hide",function(){O.removeListener("keydown",d),CKEDITOR.env.gecko&&O.removeListener("keypress",p),D(function(e){i.apply(e)})}),this.on("iframeAdded",function(e){new CKEDITOR.dom.document(e.data.iframe.$.contentWindow.document).on("keydown",d,this,null,0)}),this.on("show",function(){s();var e=1<w._.pageCount;n.config.dialog_startupFocusTab&&e?(w._.tabBarMode=!0,w._.tabs[w._.currentTabId][0].focus(),w._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=e?-1:this._.focusList.length-1,m.onFocus?(e=m.onFocus.call(this))&&e.focus():l(1))},this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",function(){var e=this.getElement(),t=e.getFirst();t.remove(),t.appendTo(e)},this),u(this),c(this),new CKEDITOR.dom.text(m.title,CKEDITOR.document).appendTo(this.parts.title),y=0;y<m.contents.length;y++)(E=m.contents[y])&&this.addPage(E);for(this.parts.tabs.on("click",function(e){var t=e.data.getTarget();t.hasClass("cke_dialog_tab")&&(t=t.$.id,this.selectPage(t.substring(4,t.lastIndexOf("_"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,l(1)),e.data.preventDefault())},this),y=[],E=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:m.buttons},y).getChild(),this.parts.footer.setHtml(y.join("")),y=0;y<E.length;y++)this._.buttons[E[y].id]=E[y]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(){return function(e,t){this._.contentSize&&this._.contentSize.width==e&&this._.contentSize.height==t||(CKEDITOR.dialog.fire("resize",{dialog:this,width:e,height:t},this._.editor),this.fire("resize",{width:e,height:t},this._.editor),this.parts.contents.setStyles({width:e+"px",height:t+"px"}),"rtl"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)),this._.contentSize={width:e,height:t})}}(),getSize:function(){var e=this._.element.getFirst();return{width:e.$.offsetWidth||0,height:e.$.offsetHeight||0}},move:function(e,t,n){var r=this._.element.getFirst(),i="rtl"==this._.editor.lang.dir,o="fixed"==r.getComputedStyle("position");CKEDITOR.env.ie&&r.setStyle("zoom","100%"),o&&this._.position&&this._.position.x==e&&this._.position.y==t||(this._.position={x:e,y:t},o||(o=CKEDITOR.document.getWindow().getScrollPosition(),e+=o.x,t+=o.y),i&&(o=this.getSize(),e=CKEDITOR.document.getWindow().getViewPaneSize().width-o.width-e),t={top:(t>0?t:0)+"px"},t[i?"right":"left"]=(e>0?e:0)+"px",r.setStyles(t),n&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var e=this._.element,t=this.definition;e.getParent()&&e.getParent().equals(CKEDITOR.document.getBody())?e.setStyle("display","block"):e.appendTo(CKEDITOR.document.getBody()),this.resize(this._.contentSize&&this._.contentSize.width||t.width||t.minWidth,this._.contentSize&&this._.contentSize.height||t.height||t.minHeight),this.reset(),this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10),null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,p(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this),e.on("keydown",O),e.on("keyup",I),this._.hasFocus=!1;for(var n in t.contents)if(t.contents[n]){var e=t.contents[n],r=this._.tabs[e.id],i=e.requiredContent,o=0;if(r){for(var a in this._.contents[e.id]){var l=this._.contents[e.id][a];"hbox"!=l.type&&"vbox"!=l.type&&l.getInputElement()&&(l.requiredContent&&!this._.editor.activeFilter.check(l.requiredContent)?l.disable():(l.enable(),o++))}!o||i&&!this._.editor.activeFilter.check(i)?r[0].addClass("cke_dialog_tab_disabled"):r[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout(),s(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach(function(e){e.setInitValue&&e.setInitValue()})},100,this)},layout:function(){var e=this.parts.dialog,t=this.getSize(),n=CKEDITOR.document.getWindow().getViewPaneSize(),r=(n.width-t.width)/2,i=(n.height-t.height)/2;CKEDITOR.env.ie6Compat||(t.height+(i>0?i:0)>n.height||t.width+(r>0?r:0)>n.width?e.setStyle("position","absolute"):e.setStyle("position","fixed")),this.move(this._.moved?this._.position.x:r,this._.moved?this._.position.y:i)},foreach:function(e){for(var t in this._.contents)for(var n in this._.contents[t])e.call(this,this._.contents[t][n]);return this},reset:function(){var e=function(e){e.reset&&e.reset(1)};return function(){return this.foreach(e),this}}(),setupContent:function(){var e=arguments;this.foreach(function(t){t.setup&&t.setup.apply(t,e)})},commitContent:function(){var e=arguments;this.foreach(function(t){CKEDITOR.env.ie&&this._.currentFocusIndex==t.focusIndex&&t.getInputElement().$.blur(),t.commit&&t.commit.apply(t,e)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var e=this._.element;for(e.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),$(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var t=this._.parentDialog.getElement().getFirst();t.setStyle("z-index",parseInt(t.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else f(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null,e.removeListener("keydown",O),e.removeListener("keyup",I);var n=this._.editor;n.focus(),setTimeout(function(){n.focusManager.unlock(),CKEDITOR.env.iOS&&n.window.focus()},0)}delete this._.parentDialog,this.foreach(function(e){e.resetInitValue&&e.resetInitValue()}),this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(e){if(!e.requiredContent||this._.editor.filter.check(e.requiredContent)){for(var t=[],n=e.label?' title="'+CKEDITOR.tools.htmlEncode(e.label)+'"':"",r=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:e.elements,expand:!!e.expand,padding:e.padding,style:e.style||"width: 100%;"},t),i=this._.contents[e.id]={},o=r.getChild(),a=0;r=o.shift();)r.notAllowed||"hbox"==r.type||"vbox"==r.type||a++,i[r.id]=r,"function"==typeof r.getChild&&o.push.apply(o,r.getChild());a||(e.hidden=!0),t=CKEDITOR.dom.element.createFromHtml(t.join("")),t.setAttribute("role","tabpanel"),r=CKEDITOR.env,i="cke_"+e.id+"_"+CKEDITOR.tools.getNextNumber(),n=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",n,e.hidden?' style="display:none"':"",' id="',i,'"',r.gecko&&!r.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',e.label,"</a>"].join("")),t.setAttribute("aria-labelledby",i),this._.tabs[e.id]=[n,t],this._.tabIdList.push(e.id),!e.hidden&&this._.pageCount++,this._.lastTab=n,this.updateStyle(),t.setAttribute("name",e.id),t.appendTo(this.parts.contents),n.unselectable(),this.parts.tabs.append(n),e.accessKey&&(R(this,this,"CTRL+"+e.accessKey,k,x),this._.accessKeyMap["CTRL+"+e.accessKey]=e.id)}},selectPage:function(e){if(this._.currentTabId!=e&&!this._.tabs[e][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:e,currentPage:this._.currentTabId})){for(var t in this._.tabs){var r=this._.tabs[t][0],i=this._.tabs[t][1];t!=e&&(r.removeClass("cke_dialog_tab_selected"),i.hide()),i.setAttribute("aria-hidden",t!=e)}var o=this._.tabs[e];o[0].addClass("cke_dialog_tab_selected"),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(n(o[1]),o[1].show(),setTimeout(function(){n(o[1],1)},0)):o[1].show(),this._.currentTabId=e,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,e)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(t){var n=this._.tabs[t]&&this._.tabs[t][0];n&&1!=this._.pageCount&&n.isVisible()&&(t==this._.currentTabId&&this.selectPage(e.call(this)),n.hide(),this._.pageCount--,this.updateStyle())},showPage:function(e){(e=this._.tabs[e]&&this._.tabs[e][0])&&(e.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(e,t){var n=this._.contents[e];return n&&n[t]},getValueOf:function(e,t){return this.getContentElement(e,t).getValue()},setValueOf:function(e,t,n){return this.getContentElement(e,t).setValue(n)},getButton:function(e){return this._.buttons[e]},click:function(e){return this._.buttons[e].click()},disableButton:function(e){return this._.buttons[e].disable()},enableButton:function(e){return this._.buttons[e].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(e,t){if("undefined"==typeof t)t=this._.focusList.length,this._.focusList.push(new a(this,e,t));else{this._.focusList.splice(t,0,new a(this,e,t));for(var n=t+1;n<this._.focusList.length;n++)this._.focusList[n].focusIndex++}},setState:function(e){if(this.state!=e){if(this.state=e,e==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var t=this.getParentEditor().lang.dir,n={attributes:{"class":"cke_dialog_spinner"},styles:{"float":"rtl"==t?"right":"left"}};n.styles["margin-"+("rtl"==t?"left":"right")]="8px",this.parts.spinner=CKEDITOR.document.createElement("div",n),this.parts.spinner.setHtml("&#8987;"),this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show(),this.getButton("ok").disable()}else e==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok").enable());this.fire("state",e)}}},CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(e,t){this._.dialogDefinitions[e]&&"function"!=typeof t||(this._.dialogDefinitions[e]=t)},exists:function(e){return!!this._.dialogDefinitions[e]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(e,t,n){return e=e.config.removeDialogTabs,!(e&&e.match(new RegExp("(?:^|;)"+t+":"+n+"(?:$|;)","i")))},okButton:function(){var e=function(e,t){return t=t||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:e.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(e){e=e.data.dialog,!1!==e.fire("ok",{hide:!0}).hide&&e.hide()}},t,!0)};return e.type="button",e.override=function(t){return CKEDITOR.tools.extend(function(n){return e(n,t)},{type:"button"},!0)},e}(),cancelButton:function(){var e=function(e,t){return t=t||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:e.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(e){e=e.data.dialog,!1!==e.fire("cancel",{hide:!0}).hide&&e.hide()}},t,!0)};return e.type="button",e.override=function(t){return CKEDITOR.tools.extend(function(n){return e(n,t)},{type:"button"},!0)},e}(),addUIElement:function(e,t){this._.uiElementBuilders[e]=t}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var g={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},v=function(e,t,n){for(var r,i=0;r=e[i];i++)if(r.id==t||n&&r[n]&&(r=v(r[n],t,n)))return r;return null},b=function(e,t,n,r,i){if(n){for(var o,a=0;o=e[a];a++){if(o.id==n)return e.splice(a,0,t),t;if(r&&o[r]&&(o=b(o[r],t,n,r,!0)))return o}if(i)return null}return e.push(t),t},y=function(e,t,n){for(var r,i=0;r=e[i];i++){if(r.id==t)return e.splice(i,1);if(n&&r[n]&&(r=y(r[n],t,n)))return r}return null},C=function(e,t){this.dialog=e;for(var n,r=t.contents,i=0;n=r[i];i++)r[i]=n&&new l(e,n);CKEDITOR.tools.extend(this,t)};C.prototype={getContents:function(e){return v(this.contents,e)},getButton:function(e){return v(this.buttons,e)},addContents:function(e,t){return b(this.contents,e,t)},addButton:function(e,t){return b(this.buttons,e,t)},removeContents:function(e){y(this.contents,e)},removeButton:function(e){y(this.buttons,e)}},l.prototype={get:function(e){return v(this.elements,e,"children")},add:function(e,t){return b(this.elements,e,t,"children")},remove:function(e){y(this.elements,e,"children")}};var E,T,w={},D={},O=function(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,n=e.data.$.altKey,r=e.data.$.shiftKey,i=String.fromCharCode(e.data.$.keyCode);(t=D[(t?"CTRL+":"")+(n?"ALT+":"")+(r?"SHIFT+":"")+i])&&t.length&&(t=t[t.length-1],t.keydown&&t.keydown.call(t.uiElement,t.dialog,t.key),e.data.preventDefault())},I=function(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,n=e.data.$.altKey,r=e.data.$.shiftKey,i=String.fromCharCode(e.data.$.keyCode);(t=D[(t?"CTRL+":"")+(n?"ALT+":"")+(r?"SHIFT+":"")+i])&&t.length&&(t=t[t.length-1],t.keyup&&(t.keyup.call(t.uiElement,t.dialog,t.key),e.data.preventDefault()))},R=function(e,t,n,r,i){(D[n]||(D[n]=[])).push({uiElement:e,dialog:t,key:n,keyup:i||e.accessKeyUp,keydown:r||e.accessKeyDown})},$=function(e){for(var t in D){for(var n=D[t],r=n.length-1;r>=0;r--)n[r].dialog!=e&&n[r].uiElement!=e||n.splice(r,1);0===n.length&&delete D[t]}},x=function(e,t){e._.accessKeyMap[t]&&e.selectPage(e._.accessKeyMap[t])},k=function(){};!function(){CKEDITOR.ui.dialog={uiElement:function(e,t,n,r,i,o,a){if(!(4>arguments.length)){var s=(r.call?r(t):r)||"div",l=["<",s," "],u=(i&&i.call?i(t):i)||{},c=(o&&o.call?o(t):o)||{},d=(a&&a.call?a.call(this,e,t):a)||"",p=this.domId=c.id||CKEDITOR.tools.getNextId()+"_uiElement";t.requiredContent&&!e.getParentEditor().filter.check(t.requiredContent)&&(u.display="none",this.notAllowed=!0),c.id=p;var f={};t.type&&(f["cke_dialog_ui_"+t.type]=1),t.className&&(f[t.className]=1),t.disabled&&(f.cke_disabled=1);for(var h=c["class"]&&c["class"].split?c["class"].split(" "):[],p=0;p<h.length;p++)h[p]&&(f[h[p]]=1);h=[];for(p in f)h.push(p);c["class"]=h.join(" "),t.title&&(c.title=t.title),f=(t.style||"").split(";"),t.align&&(h=t.align,u["margin-left"]="left"==h?0:"auto",u["margin-right"]="right"==h?0:"auto");for(p in u)f.push(p+":"+u[p]);for(t.hidden&&f.push("display:none"),p=f.length-1;p>=0;p--)""===f[p]&&f.splice(p,1);0<f.length&&(c.style=(c.style?c.style+"; ":"")+f.join("; "));for(p in c)l.push(p+'="'+CKEDITOR.tools.htmlEncode(c[p])+'" ');l.push(">",d,"</",s,">"),n.push(l.join("")),(this._||(this._={})).dialog=e,"boolean"==typeof t.isChanged&&(this.isChanged=function(){return t.isChanged}),"function"==typeof t.isChanged&&(this.isChanged=t.isChanged),"function"==typeof t.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(e){return function(n){e.call(this,t.setValue.call(this,n))}})),"function"==typeof t.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(e){return function(){return t.getValue.call(this,e.call(this))}})),CKEDITOR.event.implementOn(this),this.registerEvents(t),this.accessKeyUp&&this.accessKeyDown&&t.accessKey&&R(this,e,"CTRL+"+t.accessKey);var m=this;e.on("load",function(){var t=m.getInputElement();if(t){var n=m.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?"cke_dialog_ui_focused":"";t.on("focus",function(){e._.tabBarMode=!1,e._.hasFocus=!0,m.fire("focus"),n&&this.addClass(n)}),t.on("blur",function(){m.fire("blur"),n&&this.removeClass(n)})}}),CKEDITOR.tools.extend(this,t),this.keyboardFocusable&&(this.tabIndex=t.tabIndex||0,this.focusIndex=e._.focusList.push(this)-1,this.on("focus",function(){e._.currentFocusIndex=m.focusIndex}))}},hbox:function(e,t,n,r,i){if(!(4>arguments.length)){this._||(this._={});var o,a=this._.children=t,s=i&&i.widths||null,l=i&&i.height||null,u={role:"presentation"};i&&i.align&&(u.align=i.align),CKEDITOR.ui.dialog.uiElement.call(this,e,i||{type:"hbox"},r,"table",{},u,function(){var e=['<tbody><tr class="cke_dialog_ui_hbox">'];for(o=0;o<n.length;o++){var t="cke_dialog_ui_hbox_child",r=[];0===o&&(t="cke_dialog_ui_hbox_first"),o==n.length-1&&(t="cke_dialog_ui_hbox_last"),e.push('<td class="',t,'" role="presentation" '),s?s[o]&&r.push("width:"+h(s[o])):r.push("width:"+Math.floor(100/n.length)+"%"),l&&r.push("height:"+h(l)),i&&void 0!==i.padding&&r.push("padding:"+h(i.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a[o].align&&r.push("text-align:"+a[o].align),0<r.length&&e.push('style="'+r.join("; ")+'" '),e.push(">",n[o],"</td>")}return e.push("</tr></tbody>"),e.join("")})}},vbox:function(e,t,n,r,i){if(!(3>arguments.length)){this._||(this._={});var o=this._.children=t,a=i&&i.width||null,s=i&&i.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,e,i||{type:"vbox"},r,"div",null,{role:"presentation"},function(){var t=['<table role="presentation" cellspacing="0" border="0" '];t.push('style="'),i&&i.expand&&t.push("height:100%;"),t.push("width:"+h(a||"100%"),";"),CKEDITOR.env.webkit&&t.push("float:none;"),t.push('"'),t.push('align="',CKEDITOR.tools.htmlEncode(i&&i.align||("ltr"==e.getParentEditor().lang.dir?"left":"right")),'" '),t.push("><tbody>");for(var r=0;r<n.length;r++){var l=[];t.push('<tr><td role="presentation" '),a&&l.push("width:"+h(a||"100%")),s?l.push("height:"+h(s[r])):i&&i.expand&&l.push("height:"+Math.floor(100/n.length)+"%"),i&&void 0!==i.padding&&l.push("padding:"+h(i.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&o[r].align&&l.push("text-align:"+o[r].align),0<l.length&&t.push('style="',l.join("; "),'" '),t.push(' class="cke_dialog_ui_vbox_child">',n[r],"</td></tr>")}return t.push("</tbody></table>"),t.join("")})}}}}(),CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(e,t){return this.getInputElement().setValue(e),!t&&this.fire("change",{value:e}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var e=this.getInputElement();(e=e.getParent())&&-1==e.$.className.search("cke_dialog_page_contents"););return e?(e=e.getAttribute("name"),
this._.dialog._.currentTabId!=e&&this._.dialog.selectPage(e),this):this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(e){var t,n,r=/^on([A-Z]\w+)/,i=function(e,t,n,r){t.on("load",function(){e.getInputElement().on(n,r,e)})};for(n in e)(t=n.match(r))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,e[n]):i(this,this._.dialog,t[1].toLowerCase(),e[n]));return this},eventProcessors:{onLoad:function(e,t){e.on("load",t,this)},onShow:function(e,t){e.on("show",t,this)},onHide:function(e,t){e.on("hide",t,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var e=this.getElement();this.getInputElement().setAttribute("disabled","true"),e.addClass("cke_disabled")},enable:function(){var e=this.getElement();this.getInputElement().removeAttribute("disabled"),e.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return this.isEnabled()&&this.isVisible()?!0:!1}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(e){return 1>arguments.length?this._.children.concat():(e.splice||(e=[e]),2>e.length?this._.children[e[0]]:this._.children[e[0]]&&this._.children[e[0]].getChild?this._.children[e[0]].getChild(e.slice(1,e.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,function(){var e={build:function(e,t,n){for(var r,i=t.children,o=[],a=[],s=0;s<i.length&&(r=i[s]);s++){var l=[];o.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[r.type].build(e,r,l))}return new CKEDITOR.ui.dialog[t.type](e,a,o,n,t)}};CKEDITOR.dialog.addUIElement("hbox",e),CKEDITOR.dialog.addUIElement("vbox",e)}(),CKEDITOR.dialogCommand=function(e,t){this.dialogName=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.dialogCommand.prototype={exec:function(e){e.openDialog(this.dialogName)},canUndo:!1,editorFocus:1},function(){var e=/^([a]|[^a])+$/,t=/^\d*$/,n=/^\d*(?:\.\d+)?$/,r=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,i=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,o=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var e=arguments;return function(){var t,n,r=this&&this.getValue?this.getValue():e[0],i=CKEDITOR.VALIDATE_AND,o=[];for(n=0;n<e.length&&"function"==typeof e[n];n++)o.push(e[n]);n<e.length&&"string"==typeof e[n]&&(t=e[n],n++),n<e.length&&"number"==typeof e[n]&&(i=e[n]);var a=i==CKEDITOR.VALIDATE_AND?!0:!1;for(n=0;n<o.length;n++)a=i==CKEDITOR.VALIDATE_AND?a&&o[n](r):a||o[n](r);return a?!0:t}},regex:function(e,t){return function(n){return n=this&&this.getValue?this.getValue():n,e.test(n)?!0:t}},notEmpty:function(t){return this.regex(e,t)},integer:function(e){return this.regex(t,e)},number:function(e){return this.regex(n,e)},cssLength:function(e){return this.functions(function(e){return i.test(CKEDITOR.tools.trim(e))},e)},htmlLength:function(e){return this.functions(function(e){return r.test(CKEDITOR.tools.trim(e))},e)},inlineStyle:function(e){return this.functions(function(e){return o.test(CKEDITOR.tools.trim(e))},e)},equals:function(e,t){return this.functions(function(t){return t==e},t)},notEqual:function(e,t){return this.functions(function(t){return t!=e},t)}},CKEDITOR.on("instanceDestroyed",function(e){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var t;t=CKEDITOR.dialog._.currentTop;)t.hide();for(var n in w)w[n].remove();w={}}e=e.editor._.storedDialogs;for(var r in e)e[r].destroy()})}(),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(e,t){var n=null,r=CKEDITOR.dialog._.dialogDefinitions[e];if(null===CKEDITOR.dialog._.currentTop&&p(this),"function"==typeof r)n=this._.storedDialogs||(this._.storedDialogs={}),n=n[e]||(n[e]=new CKEDITOR.dialog(this,e)),t&&t.call(n,n),n.show();else{if("failed"==r)throw f(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+e+'" failed when loading definition.');"string"==typeof r&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(r),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[e]&&(CKEDITOR.dialog._.dialogDefinitions[e]="failed"),this.openDialog(e,t)},this,0,1)}return CKEDITOR.skin.loadPart("dialog"),n}})}(),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(e){e.on("doubleclick",function(t){t.data.dialog&&e.openDialog(t.data.dialog)},null,null,999)}}),function(){CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-gb":1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(e){var t=this;e.addCommand("a11yHelp",{exec:function(){var n=e.langCode,n=t.availableLangs[n]?n:t.availableLangs[n.replace(/-.*/,"")]?n.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path+"dialogs/lang/"+n+".js"),function(){e.lang.a11yhelp=t.langEntries[n],e.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),e.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),e.on("ariaEditorHelpLabel",function(t){t.data.label=e.lang.common.editorHelp})}})}(),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(e){var t=e.addCommand("about",new CKEDITOR.dialogCommand("about"));t.modes={wysiwyg:1,source:1},t.canUndo=!1,t.readOnly=1,e.ui.addButton&&e.ui.addButton("About",{label:e.lang.about.title,command:"about",toolbar:"about"}),CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),CKEDITOR.plugins.add("basicstyles",{init:function(e){var t=0,n=function(n,i,o,a){if(a){a=new CKEDITOR.style(a);var s=r[o];s.unshift(a),e.attachStyleStateChange(a,function(t){!e.readOnly&&e.getCommand(o).setState(t)}),e.addCommand(o,new CKEDITOR.styleCommand(a,{contentForms:s})),e.ui.addButton&&e.ui.addButton(n,{label:i,command:o,toolbar:"basicstyles,"+(t+=10)})}},r={bold:["strong","b",["span",function(e){return e=e.styles["font-weight"],"bold"==e||+e>=700}]],italic:["em","i",["span",function(e){return"italic"==e.styles["font-style"]}]],underline:["u",["span",function(e){return"underline"==e.styles["text-decoration"]}]],strike:["s","strike",["span",function(e){return"line-through"==e.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},i=e.config,o=e.lang.basicstyles;n("Bold",o.bold,"bold",i.coreStyles_bold),n("Italic",o.italic,"italic",i.coreStyles_italic),n("Underline",o.underline,"underline",i.coreStyles_underline),n("Strike",o.strike,"strike",i.coreStyles_strike),n("Subscript",o.subscript,"subscript",i.coreStyles_subscript),n("Superscript",o.superscript,"superscript",i.coreStyles_superscript),e.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},function(){var e={exec:function(e){var t=e.getCommand("blockquote").state,n=e.getSelection(),r=n&&n.getRanges()[0];if(r){var i=n.createBookmarks();if(CKEDITOR.env.ie){var o,a=i[0].startNode,s=i[0].endNode;if(a&&"blockquote"==a.getParent().getName())for(o=a;o=o.getNext();)if(o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()){a.move(o,!0);break}if(s&&"blockquote"==s.getParent().getName())for(o=s;o=o.getPrevious();)if(o.type==CKEDITOR.NODE_ELEMENT&&o.isBlockBoundary()){s.move(o);break}}var l=r.createIterator();if(l.enlargeBr=e.config.enterMode!=CKEDITOR.ENTER_BR,t==CKEDITOR.TRISTATE_OFF){for(a=[];t=l.getNextParagraph();)a.push(t);for(1>a.length&&(t=e.document.createElement(e.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),s=i.shift(),r.insertNode(t),t.append(new CKEDITOR.dom.text("",e.document)),r.moveToBookmark(s),r.selectNodeContents(t),r.collapse(!0),s=r.createBookmark(),a.push(t),i.unshift(s)),o=a[0].getParent(),r=[],s=0;s<a.length;s++)t=a[s],o=o.getCommonAncestor(t.getParent());for(t={table:1,tbody:1,tr:1,ol:1,ul:1};t[o.getName()];)o=o.getParent();for(s=null;0<a.length;){for(t=a.shift();!t.getParent().equals(o);)t=t.getParent();t.equals(s)||r.push(t),s=t}for(;0<r.length;)if(t=r.shift(),"blockquote"==t.getName()){for(s=new CKEDITOR.dom.documentFragment(e.document);t.getFirst();)s.append(t.getFirst().remove()),a.push(s.getLast());s.replace(t)}else a.push(t);for(r=e.document.createElement("blockquote"),r.insertBefore(a[0]);0<a.length;)t=a.shift(),r.append(t)}else if(t==CKEDITOR.TRISTATE_ON){for(s=[],o={};t=l.getNextParagraph();){for(a=r=null;t.getParent();){if("blockquote"==t.getParent().getName()){r=t.getParent(),a=t;break}t=t.getParent()}r&&a&&!a.getCustomData("blockquote_moveout")&&(s.push(a),CKEDITOR.dom.element.setMarker(o,a,"blockquote_moveout",!0))}for(CKEDITOR.dom.element.clearAllMarkers(o),t=[],a=[],o={};0<s.length;)l=s.shift(),r=l.getParent(),l.getPrevious()?l.getNext()?(l.breakParent(l.getParent()),a.push(l.getNext())):l.remove().insertAfter(r):l.remove().insertBefore(r),r.getCustomData("blockquote_processed")||(a.push(r),CKEDITOR.dom.element.setMarker(o,r,"blockquote_processed",!0)),t.push(l);for(CKEDITOR.dom.element.clearAllMarkers(o),s=a.length-1;s>=0;s--){r=a[s];e:{o=r;for(var l=0,u=o.getChildCount(),c=void 0;u>l&&(c=o.getChild(l));l++)if(c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()){o=!1;break e}o=!0}o&&r.remove()}if(e.config.enterMode==CKEDITOR.ENTER_BR)for(r=!0;t.length;)if(l=t.shift(),"div"==l.getName()){for(s=new CKEDITOR.dom.documentFragment(e.document),!r||!l.getPrevious()||l.getPrevious().type==CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary()||s.append(e.document.createElement("br")),r=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(s);r&&s.append(e.document.createElement("br")),s.replace(l),r=!1}}n.selectBookmarks(i),e.focus()}},refresh:function(e,t){this.setState(e.elementPath(t.block||t.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(t){t.blockless||(t.addCommand("blockquote",e),t.ui.addButton&&t.ui.addButton("Blockquote",{label:t.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}})}(),function(){function e(e,t,n){return t.type||(t.type="auto"),n&&!1===e.fire("beforePaste",t)||!t.dataValue&&t.dataTransfer.isEmpty()?!1:(t.dataValue||(t.dataValue=""),CKEDITOR.env.gecko&&"drop"==t.method&&e.toolbox&&e.once("afterPaste",function(){e.toolbox.focus()}),e.fire("paste",t))}function t(t){function n(){var e=t.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var n=function(e){t.readOnly&&"cut"==e.name||m.initPasteDataTransfer(e,t),e.data.preventDefault()};e.on("copy",n),e.on("cut",n),e.on("cut",function(){t.readOnly||t.extractSelectedHtml()},null,null,999)}e.on(m.mainPasteEvent,function(e){"beforepaste"==m.mainPasteEvent&&g||p(e)}),"beforepaste"==m.mainPasteEvent&&(e.on("paste",function(e){v||(o(),e.data.preventDefault(),p(e),s("paste")||t.openDialog("paste"))}),e.on("contextmenu",a,null,null,0),e.on("beforepaste",function(e){!e.data||e.data.$.ctrlKey||e.data.$.shiftKey||a()},null,null,0)),e.on("beforecut",function(){!g&&l(t)});var r;e.attachListener(CKEDITOR.env.ie?e:t.document.getDocumentElement(),"mouseup",function(){r=setTimeout(function(){f()},0)}),t.on("destroy",function(){clearTimeout(r)}),e.on("keyup",f)}function r(e){return{type:e,canUndo:"cut"==e,startDisabled:!0,exec:function(){"cut"==this.type&&l();var e,n=this.type;if(CKEDITOR.env.ie)e=s(n);else try{e=t.document.$.execCommand(n,!1,null)}catch(r){e=!1}return e||t.showNotification(t.lang.clipboard[this.type+"Error"]),e}}}function i(){return{canUndo:!1,async:!0,exec:function(t,n){var r=this,i=function(n,i){n&&e(t,n,!!i),t.fire("afterCommandExec",{name:"paste",command:r,returnValue:!!n})};"string"==typeof n?i({dataValue:n,method:"paste",dataTransfer:m.initPasteDataTransfer()},1):t.getClipboardData(i)}}}function o(){v=1,setTimeout(function(){v=0},100)}function a(){g=1,setTimeout(function(){g=0},10)}function s(e){var n=t.document,r=n.getBody(),i=!1,o=function(){i=!0};return r.on(e,o),7<CKEDITOR.env.version?n.$.execCommand(e):n.$.selection.createRange().execCommand(e),r.removeListener(e,o),i}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var e,n,r,i=t.getSelection();i.getType()==CKEDITOR.SELECTION_ELEMENT&&(e=i.getSelectedElement())&&(n=i.getRanges()[0],r=t.document.createText(""),r.insertBefore(e),n.setStartBefore(r),n.setEndAfter(e),i.selectRanges([n]),setTimeout(function(){e.getParent()&&(r.remove(),i.selectElement(e))},0))}}function u(e,n){var r,i=t.document,o=t.editable(),a=function(e){e.cancel()};if(!i.getById("cke_pastebin")){var s=t.getSelection(),l=s.createBookmarks();CKEDITOR.env.ie&&s.root.fire("selectionchange");var u=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!o.is("body")||CKEDITOR.env.ie?"div":"body",i);u.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var c=0,i=i.getWindow();CKEDITOR.env.webkit?(o.append(u),u.addClass("cke_editable"),o.is("body")||(c="static"!=o.getComputedStyle("position")?o:CKEDITOR.dom.element.get(o.$.offsetParent),c=c.getDocumentPosition().y)):o.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(u),u.setStyles({position:"absolute",top:i.getScrollPosition().y-c+10+"px",width:"1px",height:Math.max(1,i.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&u.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(c=u.getParent().isReadOnly())?(u.setOpacity(0),u.setAttribute("contenteditable",!0)):u.setStyle("ltr"==t.config.contentsLangDirection?"left":"right","-10000px"),t.on("selectionChange",a,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(r=o.once("blur",a,null,null,-100)),c&&u.focus(),c=new CKEDITOR.dom.range(u),c.selectNodeContents(u);var d=c.select();CKEDITOR.env.ie&&(r=o.once("blur",function(){t.lockSelection(d)}));var p=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=p),r&&r.removeListener(),CKEDITOR.env.ie&&o.focus(),s.selectBookmarks(l),u.remove();var e;CKEDITOR.env.webkit&&(e=u.getFirst())&&e.is&&e.hasClass("Apple-style-span")&&(u=e),t.removeListener("selectionChange",a),n(u.getHtml())},0)}}function c(){if("paste"==m.mainPasteEvent)return t.fire("beforePaste",{type:"auto",method:"paste"}),!1;t.focus(),o();var e=t.focusManager;return e.lock(),t.editable().fire(m.mainPasteEvent)&&!s("paste")?(e.unlock(),!1):(e.unlock(),!0)}function d(e){if("wysiwyg"==t.mode)switch(e.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:e=t.editable(),o(),"paste"==m.mainPasteEvent&&e.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:t.fire("saveSnapshot"),setTimeout(function(){t.fire("saveSnapshot")},50)}}function p(n){var r={type:"auto",method:"paste",dataTransfer:m.initPasteDataTransfer(n)};r.dataTransfer.cacheData();var i=!1!==t.fire("beforePaste",r);i&&m.canClipboardApiBeTrusted(r.dataTransfer,t)?(n.data.preventDefault(),setTimeout(function(){e(t,r)},0)):u(n,function(n){r.dataValue=n.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),i&&e(t,r)})}function f(){if("wysiwyg"==t.mode){var e=h("paste");t.getCommand("cut").setState(h("cut")),t.getCommand("copy").setState(h("copy")),t.getCommand("paste").setState(e),t.fire("pasteState",e)}}function h(e){if(b&&e in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==e)return CKEDITOR.TRISTATE_OFF;e=t.getSelection();var n=e.getRanges();return e.getType()==CKEDITOR.SELECTION_NONE||1==n.length&&n[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var m=CKEDITOR.plugins.clipboard,g=0,v=0,b=0;!function(){t.on("key",d),t.on("contentDom",n),t.on("selectionChange",function(e){b=e.data.selection.getRanges()[0].checkReadOnly(),f()}),t.contextMenu&&t.contextMenu.addListener(function(e,t){return b=t.getRanges()[0].checkReadOnly(),{cut:h("cut"),copy:h("copy"),paste:h("paste")}})}(),function(){function e(e,n,r,i,o){var a=t.lang.clipboard[n];t.addCommand(n,r),t.ui.addButton&&t.ui.addButton(e,{label:a,command:n,toolbar:"clipboard,"+i}),t.addMenuItems&&t.addMenuItem(n,{label:a,command:n,group:"clipboard",order:o})}e("Cut","cut",r("cut"),10,1),e("Copy","copy",r("copy"),20,4),e("Paste","paste",i(),30,8)}(),t.getClipboardData=function(e,n){function r(e){e.removeListener(),e.cancel(),n(e.data)}function i(e){e.removeListener(),e.cancel(),l=!0,n({type:s,dataValue:e.data.dataValue,dataTransfer:e.data.dataTransfer,method:"paste"})}function o(){this.customTitle=e&&e.title}var a=!1,s="auto",l=!1;n||(n=e,e=null),t.on("paste",r,null,null,0),t.on("beforePaste",function(e){e.removeListener(),a=!0,s=e.data.type},null,null,1e3),!1===c()&&(t.removeListener("paste",r),a&&t.fire("pasteDialog",o)?(t.on("pasteDialogCommit",i),t.on("dialogHide",function(e){e.removeListener(),e.data.removeListener("pasteDialogCommit",i),setTimeout(function(){l||n(null)},10)})):n(null))}}function n(e){if(CKEDITOR.env.webkit){if(!e.match(/^[^<]*$/g)&&!e.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!e.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}function r(e,t){function n(e){return CKEDITOR.tools.repeat("</p><p>",~~(e/2))+(1==e%2?"<br>":"")}return t=t.replace(/\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>"),t=t.replace(/<\/?[A-Z]+>/g,function(e){return e.toLowerCase()}),t.match(/^[^<]$/)?t:(CKEDITOR.env.webkit&&-1<t.indexOf("<div>")&&(t=t.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>"),t.match(/<div>(<br>|)<\/div>/)&&(t="<p>"+t.replace(/(<div>(<br>|)<\/div>)+/g,function(e){return n(e.split("</div><div>").length+1)})+"</p>"),t=t.replace(/<\/div><div>/g,"<br>"),t=t.replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(t=t.replace(/^<br><br>$/,"<br>")),-1<t.indexOf("<br><br>")&&(t="<p>"+t.replace(/(<br>){2,}/g,function(e){return n(e.length/4)})+"</p>")),a(e,t))}function i(){function e(){var e,t={};for(e in CKEDITOR.dtd)"$"!=e.charAt(0)&&"div"!=e&&"span"!=e&&(t[e]=1);return t}var t={};return{get:function(n){return"plain-text"==n?t.plainText||(t.plainText=new CKEDITOR.filter("br")):"semantic-content"==n?((n=t.semanticContent)||(n=new CKEDITOR.filter,n.allow({$1:{elements:e(),attributes:!0,styles:!1,classes:!1}}),n=t.semanticContent=n),n):n?new CKEDITOR.filter(n):null}}}function o(e,t,n){t=CKEDITOR.htmlParser.fragment.fromHtml(t);var r=new CKEDITOR.htmlParser.basicWriter;return n.applyTo(t,!0,!1,e.activeEnterMode),t.writeHtml(r),r.getHtml()}function a(e,t){return e.enterMode==CKEDITOR.ENTER_BR?t=t.replace(/(<\/p><p>)+/g,function(e){return CKEDITOR.tools.repeat("<br>",e.length/7*2)}).replace(/<\/?p>/g,""):e.enterMode==CKEDITOR.ENTER_DIV&&(t=t.replace(/<(\/)?p>/g,"<$1div>")),t}function s(e){e.data.preventDefault(),e.data.$.dataTransfer.dropEffect="none"}function l(t){var n=CKEDITOR.plugins.clipboard;t.on("contentDom",function(){function r(n,r,i){r.select(),e(t,{dataTransfer:i,method:"drop"},1),i.sourceEditor.fire("saveSnapshot"),i.sourceEditor.editable().extractHtmlFromRange(n),i.sourceEditor.getSelection().selectRanges([n]),i.sourceEditor.fire("saveSnapshot")}function i(r,i){r.select(),e(t,{dataTransfer:i,method:"drop"},1),n.resetDragDataTransfer()}function o(e,n,r){var i={$:e.data.$,target:e.data.getTarget()};n&&(i.dragRange=n),r&&(i.dropRange=r),!1===t.fire(e.name,i)&&e.data.preventDefault()}function a(e){return e.type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),e.getChildCount()}var s=t.editable(),l=CKEDITOR.plugins.clipboard.getDropTarget(t),u=t.ui.space("top"),c=t.ui.space("bottom");n.preventDefaultDropOnElement(u),n.preventDefaultDropOnElement(c),s.attachListener(l,"dragstart",o),s.attachListener(t,"dragstart",n.resetDragDataTransfer,n,null,1),s.attachListener(t,"dragstart",function(e){n.initDragDataTransfer(e,t)},null,null,2),s.attachListener(t,"dragstart",function(){var e=n.dragRange=t.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(n.dragStartContainerChildCount=e?a(e.startContainer):null,n.dragEndContainerChildCount=e?a(e.endContainer):null)},null,null,100),s.attachListener(l,"dragend",o),s.attachListener(t,"dragend",n.initDragDataTransfer,n,null,1),s.attachListener(t,"dragend",n.resetDragDataTransfer,n,null,100),s.attachListener(l,"dragover",function(e){var t=e.data.getTarget();t&&t.is&&t.is("html")?e.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&e.data.$.dataTransfer.types.contains("Files")&&e.data.preventDefault()}),s.attachListener(l,"drop",function(e){if(!e.data.$.defaultPrevented){e.data.preventDefault();var r=e.data.getTarget();if(!r.isReadOnly()||r.type==CKEDITOR.NODE_ELEMENT&&r.is("html")){var r=n.getRangeAtDropPosition(e,t),i=n.dragRange;r&&o(e,i,r)}}},null,null,9999),s.attachListener(t,"drop",n.initDragDataTransfer,n,null,1),s.attachListener(t,"drop",function(e){if(e=e.data){var o=e.dropRange,a=e.dragRange,s=e.dataTransfer;s.getTransferType(t)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){n.internalDrop(a,o,s,t)},0):s.getTransferType(t)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?r(a,o,s):i(o,s)}},null,null,9999)})}CKEDITOR.plugins.add("clipboard",{requires:"dialog",init:function(e){var a,s=i();e.config.forcePasteAsPlainText?a="plain-text":e.config.pasteFilter?a=e.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in e.config||(a="semantic-content"),e.pasteFilter=s.get(a),t(e),l(e),CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js")),e.on("paste",function(t){if(t.data.dataTransfer||(t.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer),!t.data.dataValue){var n=t.data.dataTransfer,r=n.getData("text/html");r?(t.data.dataValue=r,t.data.type="html"):(r=n.getData("text/plain"))&&(t.data.dataValue=e.editable().transformPlainTextToHtml(r),t.data.type="text")}},null,null,1),e.on("paste",function(e){var t=e.data.dataValue,n=CKEDITOR.dtd.$block;if(-1<t.indexOf("Apple-")&&(t=t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=e.data.type&&(t=t.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(e,t){return t.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")})),-1<t.indexOf('<br class="Apple-interchange-newline">')&&(e.data.startsWithEOL=1,e.data.preSniffing="html",t=t.replace(/<br class="Apple-interchange-newline">/,"")),t=t.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),t.match(/^<[^<]+cke_(editable|contents)/i)){var r,i,o=new CKEDITOR.dom.element("div");for(o.setHtml(t);1==o.getChildCount()&&(r=o.getFirst())&&r.type==CKEDITOR.NODE_ELEMENT&&(r.hasClass("cke_editable")||r.hasClass("cke_contents"));)o=i=r;i&&(t=i.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?t=t.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(t,r){return r.toLowerCase()in n?(e.data.preSniffing="html","<"+r):t}):CKEDITOR.env.webkit?t=t.replace(/<\/(\w+)><div><br><\/div>$/,function(t,r){return r in n?(e.data.endsWithEOL=1,"</"+r+">"):t}):CKEDITOR.env.gecko&&(t=t.replace(/(\s)<br>$/,"$1")),e.data.dataValue=t},null,null,3),e.on("paste",function(t){t=t.data;var i,a=t.type,l=t.dataValue,u=e.config.clipboard_defaultContentType||"html",c=t.dataTransfer.getTransferType(e);i="html"==a||"html"==t.preSniffing?"html":n(l),"htmlifiedtext"==i&&(l=r(e.config,l)),"text"==a&&"html"==i?l=o(e,l,s.get("plain-text")):c==CKEDITOR.DATA_TRANSFER_EXTERNAL&&e.pasteFilter&&!t.dontFilter&&(l=o(e,l,e.pasteFilter)),t.startsWithEOL&&(l='<br data-cke-eol="1">'+l),t.endsWithEOL&&(l+='<br data-cke-eol="1">'),"auto"==a&&(a="html"==i||"html"==u?"html":"text"),t.type=a,t.dataValue=l,delete t.preSniffing,delete t.startsWithEOL,delete t.endsWithEOL},null,null,6),e.on("paste",function(t){t=t.data,t.dataValue&&(e.insertHtml(t.dataValue,t.type,t.range),setTimeout(function(){e.fire("afterPaste")},0))},null,null,1e3),e.on("pasteDialog",function(t){setTimeout(function(){e.openDialog("paste",t.data)},0)})}}),CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:!CKEDITOR.env.ie&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",canClipboardApiBeTrusted:function(e,t){return e.getTransferType(t)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!e.isEmpty()||CKEDITOR.env.gecko&&(e.getData("text/html")||e.getFilesCount())?!0:!1},getDropTarget:function(e){var t=e.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||t.isInline()?t:e.document},fixSplitNodesAfterDrop:function(e,t,n,r){function i(e,n,r){var i=e;return i.type==CKEDITOR.NODE_TEXT&&(i=e.getParent()),i.equals(n)&&r!=n.getChildCount()?(e=t.startContainer.getChild(t.startOffset-1),n=t.startContainer.getChild(t.startOffset),e&&e.type==CKEDITOR.NODE_TEXT&&n&&n.type==CKEDITOR.NODE_TEXT&&(r=e.getLength(),e.setText(e.getText()+n.getText()),n.remove(),t.setStart(e,r),t.collapse(!0)),!0):void 0}var o=t.startContainer;"number"==typeof r&&"number"==typeof n&&o.type==CKEDITOR.NODE_ELEMENT&&(i(e.startContainer,o,n)||i(e.endContainer,o,r))},isDropRangeAffectedByDragRange:function(e,t){var n=t.startContainer,r=t.endOffset;return e.endContainer.equals(n)&&e.endOffset<=r||e.startContainer.getParent().equals(n)&&e.startContainer.getIndex()<r||e.endContainer.getParent().equals(n)&&e.endContainer.getIndex()<r?!0:!1},internalDrop:function(t,n,r,i){var o,a,s=CKEDITOR.plugins.clipboard,l=i.editable();i.fire("saveSnapshot"),i.fire("lockSnapshot",{dontUpdate:1}),CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(t,n,s.dragStartContainerChildCount,s.dragEndContainerChildCount),(a=this.isDropRangeAffectedByDragRange(t,n))||(o=t.createBookmark(!1)),s=n.clone().createBookmark(!1),a&&(o=t.createBookmark(!1)),t=o.startNode,n=o.endNode,a=s.startNode,n&&t.getPosition(a)&CKEDITOR.POSITION_PRECEDING&&n.getPosition(a)&CKEDITOR.POSITION_FOLLOWING&&a.insertBefore(t),t=i.createRange(),t.moveToBookmark(o),l.extractHtmlFromRange(t,1),n=i.createRange(),n.moveToBookmark(s),e(i,{dataTransfer:r,method:"drop",range:n},1),i.fire("unlockSnapshot")},getRangeAtDropPosition:function(e,t){var n=e.data.$,r=n.clientX,i=n.clientY,o=t.getSelection(!0).getRanges()[0],a=t.createRange();if(e.data.testRange)return e.data.testRange;if(document.caretRangeFromPoint)n=t.document.$.caretRangeFromPoint(r,i),a.setStart(CKEDITOR.dom.node(n.startContainer),n.startOffset),a.collapse(!0);else if(n.rangeParent)a.setStart(CKEDITOR.dom.node(n.rangeParent),n.rangeOffset),a.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&o&&t.editable().hasFocus)return o;if(!document.body.createTextRange)return null;t.focus(),n=t.document.getBody().$.createTextRange();try{for(var s=!1,l=0;20>l&&!s;l++){if(!s)try{n.moveToPoint(r,i-l),s=!0}catch(u){}if(!s)try{n.moveToPoint(r,i+l),s=!0}catch(c){}}if(s){var d="cke-temp-"+(new Date).getTime();n.pasteHTML('<span id="'+d+'">​</span>');var p=t.document.getById(d);a.moveToPosition(p,CKEDITOR.POSITION_BEFORE_START),p.remove()}else{var f,h=t.document.$.elementFromPoint(r,i),m=new CKEDITOR.dom.element(h);if(m.equals(t.editable())||"html"==m.getName())return o&&o.startContainer&&!o.startContainer.equals(t.editable())?o:null;f=m.getClientRect(),r<f.left?a.setStartAt(m,CKEDITOR.POSITION_AFTER_START):a.setStartAt(m,CKEDITOR.POSITION_BEFORE_END),a.collapse(!0)}}catch(g){return null}}return a},initDragDataTransfer:function(e,t){var n=e.data.$?e.data.$.dataTransfer:null,r=new this.dataTransfer(n,t);n?this.dragData&&r.id==this.dragData.id?r=this.dragData:this.dragData=r:this.dragData?r=this.dragData:this.dragData=r,e.data.dataTransfer=r},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(e,t){if(this.isCustomCopyCutSupported&&e&&e.data&&e.data.$){var n=new this.dataTransfer(e.data.$.clipboardData,t);return this.copyCutData&&n.id==this.copyCutData.id?(n=this.copyCutData,n.$=e.data.$.clipboardData):this.copyCutData=n,n}return new this.dataTransfer(null,t)},preventDefaultDropOnElement:function(e){e&&e.on("dragover",s)}};var u=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text";CKEDITOR.plugins.clipboard.dataTransfer=function(e,t){if(e&&(this.$=e),this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\x3c!--(?:Start|End)Fragment--\x3e/g,data:{},files:[],normalizeType:function(e){return e=e.toLowerCase(),"text"==e||"text/plain"==e?"Text":"url"==e?"URL":e}},this.id=this.getData(u),this.id||(this.id="Text"==u?"":"cke-"+CKEDITOR.tools.getUniqueId()),"Text"!=u)try{this.$.setData(u,this.id)}catch(n){}t&&(this.sourceEditor=t,this.setData("text/html",t.getSelectedHtml(1)),"Text"==u||this.getData("text/plain")||this.setData("text/plain",t.getSelection().getSelectedText()))},CKEDITOR.DATA_TRANSFER_INTERNAL=1,CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2,CKEDITOR.DATA_TRANSFER_EXTERNAL=3,CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(e){e=this._.normalizeType(e);var t=this._.data[e];if(void 0===t||null===t||""===t)try{t=this.$.getData(e)}catch(n){}return(void 0===t||null===t||""===t)&&(t=""),"text/html"==e?(t=t.replace(this._.metaRegExp,""),(e=this._.bodyRegExp.exec(t))&&e.length&&(t=e[1],t=t.replace(this._.fragmentRegExp,""))):"Text"==e&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==t.substring(0,7)&&(t=""),t},setData:function(e,t){if(e=this._.normalizeType(e),this._.data[e]=t,CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==e||"Text"==e){"Text"==u&&"Text"==e&&(this.id=t);try{this.$.setData(e,t)}catch(n){}}},getTransferType:function(e){return this.sourceEditor?this.sourceEditor==e?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function e(e){e=r._.normalizeType(e);var t=r.getData(e);t&&(r._.data[e]=t)}if(this.$){var t,n,r=this;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(t=0;t<this.$.types.length;t++)e(this.$.types[t])}else e("Text"),e("URL");if(n=this._getImageFromClipboard(),this.$&&this.$.files||n){for(this._.files=[],t=0;t<this.$.files.length;t++)this._.files.push(this.$.files[t]);0===this._.files.length&&n&&this._.files.push(n)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(e){return this._.files.length?this._.files[e]:this.$&&this.$.files&&this.$.files.length?this.$.files[e]:0===e?this._getImageFromClipboard():void 0},isEmpty:function(){var e,t={};if(this.getFilesCount())return!1;for(e in this._.data)t[e]=1;if(this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var n=0;n<this.$.types.length;n++)t[this.$.types[n]]=1}else t.Text=1,t.URL=1;"Text"!=u&&(t[u]=0);for(e in t)if(t[e]&&""!==this.getData(e))return!1;return!0},_getImageFromClipboard:function(){var e;if(this.$&&this.$.items&&this.$.items[0])try{if((e=this.$.items[0].getAsFile())&&e.type)return e}catch(t){}}}}(),function(){CKEDITOR.plugins.add("panel",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(e,t){t&&CKEDITOR.tools.extend(this,t),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),
this.document=e,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(e){return new CKEDITOR.ui.panel(e)}};var e=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),t=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),n=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(r,i){this.getHolderElement=function(){var e=this._.holder;if(!e){if(this.isFramed){var e=this.document.getById(this.id+"_frame"),t=e.getParent(),e=e.getFrameDocument();CKEDITOR.env.iOS&&t.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),t=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0,this.onLoad&&this.onLoad()},this)),e.write(n.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+t+");"},o))),e.getWindow().$.CKEDITOR=CKEDITOR,e.on("keydown",function(e){var t=e.data.getKeystroke(),n=this.document.getById(this.id).getAttribute("dir");this._.onKeyDown&&!1===this._.onKeyDown(t)?e.data.preventDefault():(27==t||t==("rtl"==n?39:37))&&this.onEscape&&!1===this.onEscape(t)&&e.data.preventDefault()},this),e=e.getBody(),e.unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(t)}else e=this.document.getById(this.id);this._.holder=e}return e};var o={editorId:r.id,id:this.id,langCode:r.langCode,dir:r.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":r.config.baseFloatZIndex+1};if(this.isFramed){var a=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";o.frame=t.output({id:this.id+"_frame",src:a})}return a=e.output(o),i&&i.push(a),a},addBlock:function(e,t){return t=this._.blocks[e]=t instanceof CKEDITOR.ui.panel.block?t:new CKEDITOR.ui.panel.block(this.getHolderElement(),t),this._.currentBlock||this.showBlock(e),t},getBlock:function(e){return this._.blocks[e]},showBlock:function(e){e=this._.blocks[e];var t=this._.currentBlock,n=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return t&&t.hide(),this._.currentBlock=e,CKEDITOR.fire("ariaWidget",n),e._.focusIndex=-1,this._.onKeyDown=e.onKeyDown&&CKEDITOR.tools.bind(e.onKeyDown,e),e.show(),e},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(e,t){this.element=e.append(e.getDocument().createElement("div",{attributes:{tabindex:-1,"class":"cke_panel_block"},styles:{display:"none"}})),t&&CKEDITOR.tools.extend(this,t),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(e){-1!=e&&(e=this.element.getElementsByTag("a").getItem(this._.focusIndex=e),CKEDITOR.env.webkit&&e.getDocument().getWindow().focus(),e.focus(),this.onMark&&this.onMark(e))}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(e,t){var n=this.keys[e];switch(n){case"next":for(var r,i=this._.focusIndex,n=this.element.getElementsByTag("a");r=n.getItem(++i);)if(r.getAttribute("_cke_focus")&&r.$.offsetWidth){this._.focusIndex=i,r.focus();break}return r||t?!1:(this._.focusIndex=-1,this.onKeyDown(e,1));case"prev":for(i=this._.focusIndex,n=this.element.getElementsByTag("a");i>0&&(r=n.getItem(--i));){if(r.getAttribute("_cke_focus")&&r.$.offsetWidth){this._.focusIndex=i,r.focus();break}r=null}return r||t?!1:(this._.focusIndex=n.count(),this.onKeyDown(e,1));case"click":case"mouseup":return i=this._.focusIndex,(r=i>=0&&this.element.getElementsByTag("a").getItem(i))&&(r.$[n]?r.$[n]():r.$["on"+n]()),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){function e(e,n,r,i,o){o=CKEDITOR.tools.genKey(n.getUniqueId(),r.getUniqueId(),e.lang.dir,e.uiColor||"",i.css||"",o||"");var a=t[o];return a||(a=t[o]=new CKEDITOR.ui.panel(n,i),a.element=r.append(CKEDITOR.dom.element.createFromHtml(a.render(e),n)),a.element.setStyles({display:"none",position:"absolute"})),a}var t={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(t,n,r,i){function o(){u.hide()}r.forceIFrame=1,r.toolbarRelated&&t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(n=CKEDITOR.document.getById("cke_"+t.name));var a=n.getDocument();i=e(t,a,n,r,i||0);var s=i.element,l=s.getFirst(),u=this;s.disableContextMenu(),this.element=s,this._={editor:t,panel:i,parentElement:n,definition:r,document:a,iframe:l,children:[],dir:t.lang.dir,showBlockParams:null},t.on("mode",o),t.on("resize",o),a.getWindow().on("resize",function(){this.reposition()},this)},proto:{addBlock:function(e,t){return this._.panel.addBlock(e,t)},addListBlock:function(e,t){return this._.panel.addListBlock(e,t)},getBlock:function(e){return this._.panel.getBlock(e)},showBlock:function(e,t,n,r,i,o){var a=this._.panel,s=a.showBlock(e);this._.showBlockParams=[].slice.call(arguments),this.allowBlur(!1);var l=this._.editor.editable();this._.returnFocus=l.hasFocus?l:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var u=this.element,l=this._.iframe,l=CKEDITOR.env.ie&&!CKEDITOR.env.edge?l:new CKEDITOR.dom.window(l.$.contentWindow),c=u.getDocument(),d=this._.parentElement.getPositionedAncestor(),p=t.getDocumentPosition(c),c=d?d.getDocumentPosition(c):{x:0,y:0},f="rtl"==this._.dir,h=p.x+(r||0)-c.x,m=p.y+(i||0)-c.y;!f||1!=n&&4!=n?f||2!=n&&3!=n||(h+=t.$.offsetWidth-1):h+=t.$.offsetWidth,(3==n||4==n)&&(m+=t.$.offsetHeight-1),this._.panel._.offsetParentId=t.getId(),u.setStyles({top:m+"px",left:0,display:""}),u.setOpacity(0),u.getFirst().removeStyle("width"),this._.editor.focusManager.add(l),this._.blurSet||(CKEDITOR.event.useCapture=!0,l.on("blur",function(e){function t(){delete this._.returnFocus,this.hide()}this.allowBlur()&&e.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(t,0,this)):t.call(this))},this),l.on("focus",function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(l.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),l.on("touchend",function(){this._.hideTimeout=0,this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),a.onEscape=CKEDITOR.tools.bind(function(e){return this.onEscape&&!1===this.onEscape(e)?!1:void 0},this),CKEDITOR.tools.setTimeout(function(){var e=CKEDITOR.tools.bind(function(){var e=u;if(e.removeStyle("width"),s.autoSize){var t=s.element.getDocument(),t=(CKEDITOR.env.webkit||CKEDITOR.env.edge?s.element:t.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&t>0&&(t+=(e.$.offsetWidth||0)-(e.$.clientWidth||0)+3),e.setStyle("width",t+10+"px"),t=s.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&t>0&&(t+=(e.$.offsetHeight||0)-(e.$.clientHeight||0)+3),e.setStyle("height",t+"px"),a._.currentBlock.element.setStyle("display","none").removeStyle("display")}else e.removeStyle("height");f&&(h-=u.$.offsetWidth),u.setStyle("left",h+"px");var t=a.element.getWindow(),e=u.$.getBoundingClientRect(),t=t.getViewPaneSize(),n=e.width||e.right-e.left,r=e.height||e.bottom-e.top,i=f?e.right:t.width-e.left,l=f?t.width-e.right:e.left;f?n>i&&(h=l>n?h+n:t.width>n?h-e.left:h-e.right+t.width):n>i&&(h=l>n?h-n:t.width>n?h-e.right+t.width:h-e.left),n=e.top,t.height-e.top<r&&(m=n>r?m-r:t.height>r?m-e.bottom+t.height:m-e.top),CKEDITOR.env.ie&&(t=e=new CKEDITOR.dom.element(u.$.offsetParent),"html"==t.getName()&&(t=t.getDocument().getBody()),"rtl"==t.getComputedStyle("direction")&&(h=CKEDITOR.env.ie8Compat?h-2*u.getDocument().getDocumentElement().$.scrollLeft:h-(e.$.scrollWidth-e.$.clientWidth)));var c,e=u.getFirst();(c=e.getCustomData("activePanel"))&&c.onHide&&c.onHide.call(this,1),e.setCustomData("activePanel",this),u.setStyles({top:m+"px",left:h+"px"}),u.setOpacity(1),o&&o()},this);a.isLoaded?e():a.onLoad=e,CKEDITOR.tools.setTimeout(function(){var e=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),s.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=e),this.allowBlur(!0),this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},reposition:function(){var e=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,e))},focus:function(){if(CKEDITOR.env.webkit){var e=CKEDITOR.document.getActive();e&&!e.equals(this._.iframe)&&e.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var e=this._.iframe.getFrameDocument().getActive();e&&e.is("a")&&(this._.lastFocused=e)},hide:function(e){!this.visible||this.onHide&&!0===this.onHide.call(this)||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(e=e&&this._.returnFocus)&&(CKEDITOR.env.webkit&&e.type&&e.getWindow().$.focus(),e.focus()),delete this._.lastFocused,this._.showBlockParams=null,this._.editor.fire("panelHide",this))},allowBlur:function(e){var t=this._.panel;return void 0!==e&&(t.allowBlur=e),t.allowBlur},showAsChild:function(e,t,n,r,i,o){(this._.activeChild!=e||e._.panel._.offsetParentId!=n.getId())&&(this.hideChild(),e.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=e,this._.focused=!1,e.showBlock(t,n,r,i,o),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){e.element.getChild(0).$.style.cssText+=""},100))},hideChild:function(e){var t=this._.activeChild;t&&(delete t.onHide,delete this._.activeChild,t.hide(),e&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",function(){var e,n=CKEDITOR.tools.isEmpty(CKEDITOR.instances);for(e in t){var r=t[e];n?r.destroy():r.element.hide()}n&&(t={})})}(),CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(e){for(var t=e.config.menu_groups.split(","),n=e._.menuGroups={},r=e._.menuItems={},i=0;i<t.length;i++)n[t[i]]=i+1;e.addMenuGroup=function(e,t){n[e]=t||100},e.addMenuItem=function(e,t){n[t.group]&&(r[e]=new CKEDITOR.menuItem(this,e,t))},e.addMenuItems=function(e){for(var t in e)this.addMenuItem(t,e[t])},e.getMenuItem=function(e){return r[e]},e.removeMenuItem=function(e){delete r[e]}}}),function(){function e(e){e.sort(function(e,t){return e.group<t.group?-1:e.group>t.group?1:e.order<t.order?-1:e.order>t.order?1:0})}var t='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1"_cke_focus=1 hidefocus="true" role="{role}" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked}';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');var t=t+(' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">'),n=CKEDITOR.addTemplate("menuItem",t+'<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{arrowHtml}</span></a></span>'),r=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(e,t){t=this._.definition=t||{},this.id=CKEDITOR.tools.getNextId(),this.editor=e,this.items=[],this._.listeners=[],this._.level=t.level||1;var n=CKEDITOR.tools.extend({},t.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),r=n.block.attributes=n.attributes||{};!r.role&&(r.role="menu"),this._.panelDefinition=n},_:{onShow:function(){var e=this.editor.getSelection(),t=e&&e.getStartElement(),n=this.editor.elementPath(),r=this._.listeners;this.removeAll();for(var i=0;i<r.length;i++){var o=r[i](t,e,n);if(o)for(var a in o){var s=this.editor.getMenuItem(a);!s||s.command&&!this.editor.getCommand(s.command).state||(s.state=o[a],this.add(s))}}},onClick:function(e){this.hide(),e.onClick?e.onClick():e.command&&this.editor.execCommand(e.command)},onEscape:function(e){var t=this.parent;return t?t._.panel.hideChild(1):27==e&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(e){var t=this._.subMenu,n=this.items[e];if(n=n.getItems&&n.getItems()){t?t.removeAll():(t=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),t.parent=this,t._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var r in n){var i=this.editor.getMenuItem(r);i&&(i.state=n[r],t.add(i))}var o=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(e));setTimeout(function(){t.show(o,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(e){e.order||(e.order=this.items.length),this.items.push(e)},removeAll:function(){this.items=[]},show:function(t,n,r,i){if(this.parent||(this._.onShow(),this.items.length)){n=n||("rtl"==this.editor.lang.dir?2:1);var o=this.items,a=this.editor,s=this._.panel,l=this._.element;if(!s){s=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level),s.onEscape=CKEDITOR.tools.bind(function(e){return!1===this._.onEscape(e)?!1:void 0},this),s.onShow=function(){s._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")},s.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this),l=s.addBlock(this.id,this._.panelDefinition.block),l.autoSize=!0;var u=l.keys;u[40]="next",u[9]="next",u[38]="prev",u[CKEDITOR.SHIFT+9]="prev",u["rtl"==a.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",u[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(u[13]="mouseup"),l=this._.element=l.element,u=l.getDocument(),u.getBody().setStyle("overflow","hidden"),u.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction(function(e){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,a.config.menu_subMenuDelay||400,this,[e])},this),this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this),this._.itemClickFn=CKEDITOR.tools.addFunction(function(e){var t=this.items[e];t.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):t.getItems?this._.showSubMenu(e):this._.onClick(t)},this)}e(o);for(var u=a.elementPath(),u=['<div class="cke_menu'+(u&&u.direction()!=a.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],c=o.length,d=c&&o[0].group,p=0;c>p;p++){var f=o[p];d!=f.group&&(u.push('<div class="cke_menuseparator" role="separator"></div>'),d=f.group),f.render(this,p,u)}u.push("</div>"),l.setHtml(u.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(s,this.id,t,n,r,i):s.showBlock(this.id,t,n,r,i),a.fire("menuShow",[s])}},addListener:function(e){this._.listeners.push(e)},hide:function(e){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(e)}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(e,t,n){CKEDITOR.tools.extend(this,n,{order:0,className:"cke_menubutton__"+t}),this.group=e._.menuGroups[this.group],this.editor=e,this.name=t},proto:{render:function(e,t,i){var o=e.id+String(t),a="undefined"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,s="",l=a==CKEDITOR.TRISTATE_ON?"on":a==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(s=' aria-checked="'+(a==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var u=this.getItems,c="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",d=this.name;this.icon&&!/\./.test(this.icon)&&(d=this.icon),e={id:o,name:this.name,iconName:d,label:this.label,cls:this.className||"",state:l,hasPopup:u?"true":"false",disabled:a==CKEDITOR.TRISTATE_DISABLED,title:this.label,href:"javascript:void('"+(this.label||"").replace("'")+"')",hoverFn:e._.itemOverFn,moveOutFn:e._.itemOutFn,clickFn:e._.itemClickFn,index:t,iconStyle:CKEDITOR.skin.getIconStyle(d,"rtl"==this.editor.lang.dir,d==this.icon?null:this.icon,this.iconOffset),arrowHtml:u?r.output({label:c}):"",role:this.role?this.role:"menuitem",ariaChecked:s},n.output(e,i)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(e){this.base.call(this,e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.contextmenu.options}}})},proto:{addTarget:function(e,t){if(e.on("contextmenu",function(e){e=e.data;var r=CKEDITOR.env.webkit?n:CKEDITOR.env.mac?e.$.metaKey:e.$.ctrlKey;if(!t||!r){if(e.preventDefault(),CKEDITOR.env.mac&&CKEDITOR.env.webkit){var r=this.editor,i=new CKEDITOR.dom.elementPath(e.getTarget(),r.editable()).contains(function(e){return e.hasAttribute("contenteditable")},!0);i&&"false"==i.getAttribute("contenteditable")&&r.getSelection().fake(i)}var i=e.getTarget().getDocument(),o=e.getTarget().getDocument().getDocumentElement(),r=!i.equals(CKEDITOR.document),i=i.getWindow().getScrollPosition(),a=r?e.$.clientX:e.$.pageX||i.x+e.$.clientX,s=r?e.$.clientY:e.$.pageY||i.y+e.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(o,null,a,s)},CKEDITOR.env.ie?200:0,this)}},this),CKEDITOR.env.webkit){var n,r=function(){n=0};e.on("keydown",function(e){n=CKEDITOR.env.mac?e.data.$.metaKey:e.data.$.ctrlKey}),e.on("keyup",r),e.on("contextmenu",r)}},open:function(e,t,n,r){this.editor.focus(),e=e||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(e,t,n,r)}}})},beforeInit:function(e){var t=e.contextMenu=new CKEDITOR.plugins.contextMenu(e);e.on("contentDom",function(){t.addTarget(e.editable(),!1!==e.config.browserContextMenuOnCtrl)}),e.addCommand("contextMenu",{exec:function(){e.contextMenu.open(e.document.getBody())}}),e.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),e.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){function e(e,n){function i(t){if(t=l.list[t],t.equals(e.editable())||"true"==t.getAttribute("contenteditable")){var n=e.createRange();n.selectNodeContents(t),n.select()}else e.getSelection().selectElement(t);e.focus()}function o(){a&&a.setHtml('<span class="cke_path_empty">&nbsp;</span>'),delete l.list}var a,s=e.ui.spaceId("path"),l=e._.elementsPath,u=l.idBase;n.html+='<span id="'+s+'_label" class="cke_voice_label">'+e.lang.elementspath.eleLabel+'</span><span id="'+s+'" class="cke_path" role="group" aria-labelledby="'+s+'_label"><span class="cke_path_empty">&nbsp;</span></span>',e.on("uiReady",function(){var t=e.ui.space("path");t&&e.focusManager.add(t,1)}),l.onClick=i;var c=CKEDITOR.tools.addFunction(i),d=CKEDITOR.tools.addFunction(function(t,n){var r,o=l.idBase;switch(n=new CKEDITOR.dom.event(n),r="rtl"==e.lang.dir,n.getKeystroke()){case r?39:37:case 9:return(r=CKEDITOR.document.getById(o+(t+1)))||(r=CKEDITOR.document.getById(o+"0")),r.focus(),!1;case r?37:39:case CKEDITOR.SHIFT+9:return(r=CKEDITOR.document.getById(o+(t-1)))||(r=CKEDITOR.document.getById(o+(l.list.length-1))),r.focus(),!1;case 27:return e.focus(),!1;case 13:case 32:return i(t),!1}return!0});e.on("selectionChange",function(){for(var t,n=[],i=l.list=[],o=[],p=l.filters,f=!0,h=e.elementPath().elements,m=h.length;m--;){var g=h[m],v=0;t=g.data("cke-display-name")?g.data("cke-display-name"):g.data("cke-real-element-type")?g.data("cke-real-element-type"):g.getName(),(f=g.hasAttribute("contenteditable")?"true"==g.getAttribute("contenteditable"):f)||g.hasAttribute("contenteditable")||(v=1);for(var b=0;b<p.length;b++){var y=p[b](g,t);if(!1===y){v=1;break}t=y||t}v||(i.unshift(g),o.unshift(t))}for(i=i.length,p=0;i>p;p++)t=o[p],f=e.lang.elementspath.eleTitle.replace(/%1/,t),t=r.output({id:u+p,label:f,text:t,jsTitle:"javascript:void('"+t+"')",index:p,keyDownFn:d,clickFn:c}),n.unshift(t);a||(a=CKEDITOR.document.getById(s)),o=a,o.setHtml(n.join("")+'<span class="cke_path_empty">&nbsp;</span>'),e.fire("elementsPathUpdate",{space:o})}),e.on("readOnly",o),e.on("contentDomUnload",o),e.addCommand("elementsPathFocus",t.toolbarFocus),e.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var t={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(e){(e=CKEDITOR.document.getById(e._.elementsPath.idBase+"0"))&&e.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},n="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(n+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(n+=' onblur="this.style.cssText = this.style.cssText;"');var r=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+n+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(t){t._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},t.on("uiSpace",function(n){"bottom"==n.data.space&&e(t,n.data)})}})}(),function(){function e(e,r){var i,o;r.on("refresh",function(e){var r,i=[t];for(r in e.data.states)i.push(e.data.states[r]);this.setState(CKEDITOR.tools.search(i,n)?n:t)},r,null,100),r.on("exec",function(t){i=e.getSelection(),o=i.createBookmarks(1),t.data||(t.data={}),t.data.done=!1},r,null,0),r.on("exec",function(){e.forceNextSelectionCheck(),i.selectBookmarks(o)},r,null,100)}var t=CKEDITOR.TRISTATE_DISABLED,n=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(t){var n=CKEDITOR.plugins.indent.genericDefinition;e(t,t.addCommand("indent",new n(!0))),e(t,t.addCommand("outdent",new n)),t.ui.addButton&&(t.ui.addButton("Indent",{label:t.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),t.ui.addButton("Outdent",{label:t.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),t.on("dirChanged",function(e){var n=t.createRange(),r=e.data.node;n.setStartBefore(r),n.setEndAfter(r);for(var i,o=new CKEDITOR.dom.walker(n);i=o.next();)if(i.type==CKEDITOR.NODE_ELEMENT)if(!i.equals(r)&&i.getDirection())n.setStartAfter(i),o=new CKEDITOR.dom.walker(n);else{var a=t.config.indentClasses;if(a)for(var s="ltr"==e.data.dir?["_rtl",""]:["","_rtl"],l=0;l<a.length;l++)i.hasClass(a[l]+s[0])&&(i.removeClass(a[l]+s[0]),i.addClass(a[l]+s[1]));a=i.getStyle("margin-right"),s=i.getStyle("margin-left"),a?i.setStyle("margin-left",a):i.removeStyle("margin-left"),s?i.setStyle("margin-right",s):i.removeStyle("margin-right")}})}}),CKEDITOR.plugins.indent={genericDefinition:function(e){this.isIndent=!!e,this.startDisabled=!this.isIndent},specificDefinition:function(e,t,n){this.name=t,this.editor=e,this.jobs={},this.enterBr=e.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!n,this.relatedGlobal=n?"indent":"outdent",this.indentKey=n?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(e,t){e.on("pluginsLoaded",function(){for(var e in t)(function(e,t){var n,r=e.getCommand(t.relatedGlobal);for(n in t.jobs)r.on("exec",function(r){r.data.done||(e.fire("lockSnapshot"),t.execJob(e,n)&&(r.data.done=!0),e.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(t.database))},this,null,n),r.on("refresh",function(r){r.data.states||(r.data.states={}),r.data.states[t.name+"@"+n]=t.refreshJob(e,n,r.data.path)},this,null,n);e.addFeature(t)})(this,t[e])})}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(e,n){var r=this.jobs[n];return r.state!=t?r.exec.call(this,e):void 0},refreshJob:function(e,n,r){return n=this.jobs[n],n.state=e.activeFilter.checkFeature(this)?n.refresh.call(this,e,r):t,n.state},getContext:function(e){return e.contains(this.context)}}}(),function(){function e(e){function r(t){for(var r=i.startContainer,l=i.endContainer;r&&!r.getParent().equals(t);)r=r.getParent();for(;l&&!l.getParent().equals(t);)l=l.getParent();if(!r||!l)return!1;for(var u=r,r=[],c=!1;!c;)u.equals(l)&&(c=!0),r.push(u),u=u.getNext();if(1>r.length)return!1;for(u=t.getParents(!0),l=0;l<u.length;l++)if(u[l].getName&&s[u[l].getName()]){t=u[l];break}for(var u=o.isIndent?1:-1,l=r[0],r=r[r.length-1],c=CKEDITOR.plugins.list.listToArray(t,a),d=c[r.getCustomData("listarray_index")].indent,l=l.getCustomData("listarray_index");l<=r.getCustomData("listarray_index");l++)if(c[l].indent+=u,u>0){var p=c[l].parent;c[l].parent=new CKEDITOR.dom.element(p.getName(),p.getDocument())}for(l=r.getCustomData("listarray_index")+1;l<c.length&&c[l].indent>d;l++)c[l].indent+=u;if(r=CKEDITOR.plugins.list.arrayToList(c,a,null,e.config.enterMode,t.getDirection()),!o.isIndent){var f;if((f=t.getParent())&&f.is("li"))for(var h,u=r.listNode.getChildren(),m=[],l=u.count()-1;l>=0;l--)(h=u.getItem(l))&&h.is&&h.is("li")&&m.push(h)}if(r&&r.listNode.replace(t),m&&m.length)for(l=0;l<m.length;l++){for(h=t=m[l];(h=h.getNext())&&h.is&&h.getName()in s;)CKEDITOR.env.needsNbspFiller&&!t.getFirst(n)&&t.append(i.document.createText(" ")),t.append(h);t.insertAfter(f)}return r&&e.fire("contentDomInvalidated"),!0}for(var i,o=this,a=this.database,s=this.context,l=e.getSelection(),l=(l&&l.getRanges()).createIterator();i=l.getNextRange();){for(var u=i.getCommonAncestor();u&&(u.type!=CKEDITOR.NODE_ELEMENT||!s[u.getName()]);){if(e.editable().equals(u)){u=!1;break}u=u.getParent()}if(u||(u=i.startPath().contains(s))&&i.setEndAt(u,CKEDITOR.POSITION_BEFORE_END),!u){var c=i.getEnclosedNode();c&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in s&&(i.setStartAt(c,CKEDITOR.POSITION_AFTER_START),i.setEndAt(c,CKEDITOR.POSITION_BEFORE_END),u=c)}if(u&&i.startContainer.type==CKEDITOR.NODE_ELEMENT&&i.startContainer.getName()in s&&(c=new CKEDITOR.dom.walker(i),c.evaluator=t,i.startContainer=c.next()),u&&i.endContainer.type==CKEDITOR.NODE_ELEMENT&&i.endContainer.getName()in s&&(c=new CKEDITOR.dom.walker(i),c.evaluator=t,i.endContainer=c.previous()),u)return r(u)}return 0}function t(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is("li")}function n(e){return r(e)&&i(e)}var r=CKEDITOR.dom.walker.whitespaces(!0),i=CKEDITOR.dom.walker.bookmark(!1,!0),o=CKEDITOR.TRISTATE_DISABLED,a=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(t){function n(t){r.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],t.on("key",function(e){if("wysiwyg"==t.mode&&e.data.keyCode==this.indentKey){var n=this.getContext(t.elementPath());!n||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,t.elementPath(),n)||(t.execCommand(this.relatedGlobal),e.cancel())}},this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(e,t){var n=this.getContext(t),r=CKEDITOR.plugins.indentList.firstItemInPath(this.context,t,n);return n&&this.isIndent&&!r?a:o}:function(e,t){return!this.getContext(t)||this.isIndent?o:a},exec:CKEDITOR.tools.bind(e,this)}}var r=CKEDITOR.plugins.indent;r.registerCommands(t,{indentlist:new n(t,"indentlist",!0),outdentlist:new n(t,"outdentlist")}),CKEDITOR.tools.extend(n.prototype,r.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(e,n,r){var i=n.contains(t);return r||(r=n.contains(e)),r&&i&&i.equals(r.getFirst(t))}}(),function(){function e(e,t,n){function r(n){!(l=c[n?"getFirst":"getLast"]())||l.is&&l.isBlockBoundary()||!(u=t.root[n?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||u.is&&u.isBlockBoundary({br:1})||e.document.createElement("br")[n?"insertBefore":"insertAfter"](l)}for(var i=CKEDITOR.plugins.list.listToArray(t.root,n),o=[],a=0;a<t.contents.length;a++){var s=t.contents[a];(s=s.getAscendant("li",!0))&&!s.getCustomData("list_item_processed")&&(o.push(s),CKEDITOR.dom.element.setMarker(n,s,"list_item_processed",!0))}for(s=null,a=0;a<o.length;a++)s=o[a].getCustomData("listarray_index"),i[s].indent=-1;for(a=s+1;a<i.length;a++)if(i[a].indent>i[a-1].indent+1){for(o=i[a-1].indent+1-i[a].indent,s=i[a].indent;i[a]&&i[a].indent>=s;)i[a].indent+=o,a++;a--}var l,u,c=CKEDITOR.plugins.list.arrayToList(i,n,null,e.config.enterMode,t.root.getAttribute("dir")).listNode;r(!0),r(),c.replace(t.root),e.fire("contentDomInvalidated")}function t(e,t){this.name=e,this.context=this.type=t,this.allowedContent=t+" li",this.requiredContent=t}function n(e,t,n,r){for(var i,o;i=e[r?"getLast":"getFirst"](f);)(o=i.getDirection(1))!==t.getDirection(1)&&i.setAttribute("dir",o),i.remove(),n?i[r?"insertBefore":"insertAfter"](n):t.append(i,r)}function r(e){function t(t){var r=e[t?"getPrevious":"getNext"](c);r&&r.type==CKEDITOR.NODE_ELEMENT&&r.is(e.getName())&&(n(e,r,null,!t),e.remove(),e=r)}t(),t(1)}function i(e){return e.type==CKEDITOR.NODE_ELEMENT&&(e.getName()in CKEDITOR.dtd.$block||e.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[e.getName()]["#"]}function o(e,t,i){e.fire("saveSnapshot"),i.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var o=i.extractContents();t.trim(!1,!0);var s=t.createBookmark(),l=new CKEDITOR.dom.elementPath(t.startContainer),u=l.block,l=l.lastElement.getAscendant("li",1)||u,p=new CKEDITOR.dom.elementPath(i.startContainer),f=p.contains(CKEDITOR.dtd.$listItem),p=p.contains(CKEDITOR.dtd.$list);for(u?(u=u.getBogus())&&u.remove():p&&(u=p.getPrevious(c))&&d(u)&&u.remove(),(u=o.getLast())&&u.type==CKEDITOR.NODE_ELEMENT&&u.is("br")&&u.remove(),(u=t.startContainer.getChild(t.startOffset))?o.insertBefore(u):t.startContainer.append(o),f&&(o=a(f))&&(l.contains(f)?(n(o,f.getParent(),f),o.remove()):l.append(o));i.checkStartOfBlock()&&i.checkEndOfBlock()&&(p=i.startPath(),o=p.block,o);)o.is("li")&&(l=o.getParent(),o.equals(l.getLast(c))&&o.equals(l.getFirst(c))&&(o=l)),i.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o.remove();i=i.clone(),o=e.editable(),i.setEndAt(o,CKEDITOR.POSITION_BEFORE_END),i=new CKEDITOR.dom.walker(i),i.evaluator=function(e){return c(e)&&!d(e)},(i=i.next())&&i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in CKEDITOR.dtd.$list&&r(i),t.moveToBookmark(s),t.select(),e.fire("saveSnapshot")}function a(e){return(e=e.getLast(c))&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in s?e:null}var s={ol:1,ul:1},l=CKEDITOR.dom.walker.whitespaces(),u=CKEDITOR.dom.walker.bookmark(),c=function(e){return!(l(e)||u(e))},d=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(e,t,n,r,i){if(!s[e.getName()])return[];r||(r=0),n||(n=[]);for(var o=0,a=e.getChildCount();a>o;o++){var l=e.getChild(o);if(l.type==CKEDITOR.NODE_ELEMENT&&l.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(l,t,n,r+1),"li"==l.$.nodeName.toLowerCase()){var u={parent:e,indent:r,element:l,contents:[]};i?u.grandparent=i:(u.grandparent=e.getParent(),u.grandparent&&"li"==u.grandparent.$.nodeName.toLowerCase()&&(u.grandparent=u.grandparent.getParent())),t&&CKEDITOR.dom.element.setMarker(t,l,"listarray_index",n.length),
n.push(u);for(var c,d=0,p=l.getChildCount();p>d;d++)c=l.getChild(d),c.type==CKEDITOR.NODE_ELEMENT&&s[c.getName()]?CKEDITOR.plugins.list.listToArray(c,t,n,r+1,u.grandparent):u.contents.push(c)}}return n},arrayToList:function(e,t,n,r,i){if(n||(n=0),!e||e.length<n+1)return null;for(var o,a,l,d=e[n].parent.getDocument(),p=new CKEDITOR.dom.documentFragment(d),f=null,h=n,m=Math.max(e[n].indent,0),g=null,v=r==CKEDITOR.ENTER_P?"p":"div";;){var b=e[h];if(o=b.grandparent,a=b.element.getDirection(1),b.indent==m){for(f&&e[h].parent.getName()==f.getName()||(f=e[h].parent.clone(!1,1),i&&f.setAttribute("dir",i),p.append(f)),g=f.append(b.element.clone(0,1)),a!=f.getDirection(1)&&g.setAttribute("dir",a),o=0;o<b.contents.length;o++)g.append(b.contents[o].clone(1,1));h++}else if(b.indent==Math.max(m,0)+1)b=e[h-1].element.getDirection(1),h=CKEDITOR.plugins.list.arrayToList(e,null,h,r,b!=a?a:null),!g.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=d.$.documentMode&&g.append(d.createText(" ")),g.append(h.listNode),h=h.nextIndex;else{if(-1!=b.indent||n||!o)return null;s[o.getName()]?(g=b.element.clone(!1,!0),a!=o.getDirection(1)&&g.setAttribute("dir",a)):g=new CKEDITOR.dom.documentFragment(d);var y,C,f=o.getDirection(1)!=a,E=b.element,T=E.getAttribute("class"),w=E.getAttribute("style"),D=g.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(r!=CKEDITOR.ENTER_BR||f||w||T),O=b.contents.length;for(o=0;O>o;o++)if(y=b.contents[o],u(y)&&O>1)D?C=y.clone(1,1):g.append(y.clone(1,1));else if(y.type==CKEDITOR.NODE_ELEMENT&&y.isBlockBoundary()){f&&!y.getDirection()&&y.setAttribute("dir",a),l=y;var I=E.getAttribute("style");I&&l.setAttribute("style",I.replace(/([^;])$/,"$1;")+(l.getAttribute("style")||"")),T&&y.addClass(T),l=null,C&&(g.append(C),C=null),g.append(y.clone(1,1))}else D?(l||(l=d.createElement(v),g.append(l),f&&l.setAttribute("dir",a)),w&&l.setAttribute("style",w),T&&l.setAttribute("class",T),C&&(l.append(C),C=null),l.append(y.clone(1,1))):g.append(y.clone(1,1));C&&((l||g).append(C),C=null),g.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&h!=e.length-1&&(CKEDITOR.env.needsBrFiller&&(a=g.getLast())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("br")&&a.remove(),(a=g.getLast(c))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$block)||g.append(d.createElement("br"))),a=g.$.nodeName.toLowerCase(),"div"!=a&&"p"!=a||g.appendBogus(),p.append(g),f=null,h++}if(l=null,e.length<=h||Math.max(e[h].indent,0)<m)break}if(t)for(e=p.getFirst();e;){if(e.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(t,e),e.getName()in CKEDITOR.dtd.$listItem&&(n=e,d=i=r=void 0,r=n.getDirection()))){for(i=n.getParent();i&&!(d=i.getDirection());)i=i.getParent();r==d&&n.removeAttribute("dir")}e=e.getNextSourceNode()}return{listNode:p,nextIndex:h}}};var p=/^h[1-6]$/,f=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);t.prototype={exec:function(t){this.refresh(t,t.elementPath());var n=t.config,i=t.getSelection(),o=i&&i.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var a=t.editable();if(a.getFirst(c)){var l=1==o.length&&o[0];(n=l&&l.getEnclosedNode())&&n.is&&this.type==n.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else n.enterMode==CKEDITOR.ENTER_BR?a.appendBogus():o[0].fixBlock(1,n.enterMode==CKEDITOR.ENTER_P?"p":"div"),i.selectRanges(o)}for(var n=i.createBookmarks(!0),a=[],u={},o=o.createIterator(),d=0;(l=o.getNextRange())&&++d;){var f=l.getBoundaryNodes(),h=f.startNode,m=f.endNode;for(h.type==CKEDITOR.NODE_ELEMENT&&"td"==h.getName()&&l.setStartAt(f.startNode,CKEDITOR.POSITION_AFTER_START),m.type==CKEDITOR.NODE_ELEMENT&&"td"==m.getName()&&l.setEndAt(f.endNode,CKEDITOR.POSITION_BEFORE_END),l=l.createIterator(),l.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;f=l.getNextParagraph();)if(!f.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(u,f,"list_block",1);for(var g,v=t.elementPath(f),h=v.elements,m=0,v=v.blockLimit,b=h.length-1;b>=0&&(g=h[b]);b--)if(s[g.getName()]&&v.contains(g)){v.removeCustomData("list_group_object_"+d),(h=g.getCustomData("list_group_object"))?h.contents.push(f):(h={root:g,contents:[f]},a.push(h),CKEDITOR.dom.element.setMarker(u,g,"list_group_object",h)),m=1;break}m||(m=v,m.getCustomData("list_group_object_"+d)?m.getCustomData("list_group_object_"+d).contents.push(f):(h={root:m,contents:[f]},CKEDITOR.dom.element.setMarker(u,m,"list_group_object_"+d,h),a.push(h)))}}for(g=[];0<a.length;)if(h=a.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(s[h.root.getName()]){for(o=t,d=h,h=u,l=g,m=CKEDITOR.plugins.list.listToArray(d.root,h),v=[],f=0;f<d.contents.length;f++)b=d.contents[f],(b=b.getAscendant("li",!0))&&!b.getCustomData("list_item_processed")&&(v.push(b),CKEDITOR.dom.element.setMarker(h,b,"list_item_processed",!0));for(var b=d.root.getDocument(),y=void 0,C=void 0,f=0;f<v.length;f++){var E=v[f].getCustomData("listarray_index"),y=m[E].parent;y.is(this.type)||(C=b.createElement(this.type),y.copyAttributes(C,{start:1,type:1}),C.removeStyle("list-style-type"),m[E].parent=C)}for(h=CKEDITOR.plugins.list.arrayToList(m,h,null,o.config.enterMode),m=void 0,v=h.listNode.getChildCount(),f=0;v>f&&(m=h.listNode.getChild(f));f++)m.getName()==this.type&&l.push(m);h.listNode.replace(d.root),o.fire("contentDomInvalidated")}else{for(m=t,l=h,f=g,v=l.contents,o=l.root.getDocument(),d=[],1==v.length&&v[0].equals(l.root)&&(h=o.createElement("div"),v[0].moveChildren&&v[0].moveChildren(h),v[0].append(h),v[0]=h),l=l.contents[0].getParent(),b=0;b<v.length;b++)l=l.getCommonAncestor(v[b].getParent());for(y=m.config.useComputedState,m=h=void 0,y=void 0===y||y,b=0;b<v.length;b++)for(C=v[b];E=C.getParent();){if(E.equals(l)){d.push(C),!m&&C.getDirection()&&(m=1),C=C.getDirection(y),null!==h&&(h=h&&h!=C?null:C);break}C=E}if(!(1>d.length)){for(v=d[d.length-1].getNext(),b=o.createElement(this.type),f.push(b),y=f=void 0;d.length;)f=d.shift(),y=o.createElement("li"),C=f,C.is("pre")||p.test(C.getName())||"false"==C.getAttribute("contenteditable")?f.appendTo(y):(f.copyAttributes(y),h&&f.getDirection()&&(y.removeStyle("direction"),y.removeAttribute("dir")),f.moveChildren(y),f.remove()),y.appendTo(b);h&&m&&b.setAttribute("dir",h),v?b.insertBefore(v):b.appendTo(l)}}else this.state==CKEDITOR.TRISTATE_ON&&s[h.root.getName()]&&e.call(this,t,h,u);for(b=0;b<g.length;b++)r(g[b]);CKEDITOR.dom.element.clearAllMarkers(u),i.selectBookmarks(n),t.focus()},refresh:function(e,t){var n=t.contains(s,1),r=t.blockLimit||t.root;this.setState(n&&r.contains(n)&&n.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(e){e.blockless||(e.addCommand("numberedlist",new t("numberedlist","ol")),e.addCommand("bulletedlist",new t("bulletedlist","ul")),e.ui.addButton&&(e.ui.addButton("NumberedList",{label:e.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),e.ui.addButton("BulletedList",{label:e.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),e.on("key",function(t){var n,r=t.data.domEvent.getKey();if("wysiwyg"==e.mode&&r in{8:1,46:1}){var l=e.getSelection().getRanges()[0],u=l&&l.startPath();if(l&&l.collapsed){var p=8==r,f=e.editable(),h=new CKEDITOR.dom.walker(l.clone());if(h.evaluator=function(e){return c(e)&&!d(e)},h.guard=function(e,t){return!(t&&e.type==CKEDITOR.NODE_ELEMENT&&e.is("table"))},r=l.clone(),p){var m;if((m=u.contains(s))&&l.checkBoundaryOfElement(m,CKEDITOR.START)&&(m=m.getParent())&&m.is("li")&&(m=a(m))?(n=m,m=m.getPrevious(c),r.moveToPosition(m&&d(m)?m:n,CKEDITOR.POSITION_BEFORE_START)):(h.range.setStartAt(f,CKEDITOR.POSITION_AFTER_START),h.range.setEnd(l.startContainer,l.startOffset),(m=h.previous())&&m.type==CKEDITOR.NODE_ELEMENT&&(m.getName()in s||m.is("li"))&&(m.is("li")||(h.range.selectNodeContents(m),h.reset(),h.evaluator=i,m=h.previous()),n=m,r.moveToElementEditEnd(n),r.moveToPosition(r.endPath().block,CKEDITOR.POSITION_BEFORE_END))),n)o(e,r,l),t.cancel();else{var g=u.contains(s);g&&l.checkBoundaryOfElement(g,CKEDITOR.START)&&(n=g.getFirst(c),l.checkBoundaryOfElement(n,CKEDITOR.START)&&(m=g.getPrevious(c),a(n)?m&&(l.moveToElementEditEnd(m),l.select()):e.execCommand("outdent"),t.cancel()))}}else if(n=u.contains("li")){if(h.range.setEndAt(f,CKEDITOR.POSITION_BEFORE_END),p=(f=n.getLast(c))&&i(f)?f:n,u=0,(m=h.next())&&m.type==CKEDITOR.NODE_ELEMENT&&m.getName()in s&&m.equals(f)?(u=1,m=h.next()):l.checkBoundaryOfElement(p,CKEDITOR.END)&&(u=2),u&&m){if(l=l.clone(),l.moveToElementEditStart(m),1==u&&(r.optimize(),!r.startContainer.equals(n))){for(n=r.startContainer;n.is(CKEDITOR.dtd.$inline);)g=n,n=n.getParent();g&&r.moveToPosition(g,CKEDITOR.POSITION_AFTER_END)}2==u&&(r.moveToPosition(r.endPath().block,CKEDITOR.POSITION_BEFORE_END),l.endPath().block&&l.moveToPosition(l.endPath().block,CKEDITOR.POSITION_AFTER_START)),o(e,r,l),t.cancel()}}else h.range.setEndAt(f,CKEDITOR.POSITION_BEFORE_END),(m=h.next())&&m.type==CKEDITOR.NODE_ELEMENT&&m.is(s)&&(m=m.getFirst(c),u.block&&l.checkStartOfBlock()&&l.checkEndOfBlock()?(u.block.remove(),l.moveToElementEditStart(m),l.select()):a(m)?(l.moveToElementEditStart(m),l.select()):(l=l.clone(),l.moveToElementEditStart(m),o(e,r,l)),t.cancel());setTimeout(function(){e.selectionChange(1)})}}}))}})}(),function(){function e(e,t,n){n=e.config.forceEnterMode||n,"wysiwyg"==e.mode&&(t||(t=e.activeEnterMode),e.elementPath().isContextFor("p")||(t=CKEDITOR.ENTER_BR,n=1),e.fire("saveSnapshot"),t==CKEDITOR.ENTER_BR?a(e,t,null,n):s(e,t,null,n),e.fire("saveSnapshot"))}function t(e){e=e.getSelection().getRanges(!0);for(var t=e.length-1;t>0;t--)e[t].deleteContents();return e[0]}function n(e){var t=e.startContainer.getAscendant(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&"true"==e.getAttribute("contenteditable")},!0);return e.root.equals(t)?e:(t=new CKEDITOR.dom.range(t),t.moveToRange(e),t)}CKEDITOR.plugins.add("enterkey",{init:function(t){t.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t)}}),t.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t,t.activeShiftEnterMode,1)}}),t.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var r=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(e,o,s,u){if(s=s||t(e)){s=n(s);var c,d=s.document,p=s.checkStartOfBlock(),f=s.checkEndOfBlock(),h=e.elementPath(s.startContainer),m=h.block,g=o==CKEDITOR.ENTER_DIV?"div":"p";if(p&&f){if(m&&(m.is("li")||m.getParent().is("li"))){m.is("li")||(m=m.getParent()),s=m.getParent(),c=s.getParent(),u=!m.hasPrevious();var v=!m.hasNext(),g=e.getSelection(),b=g.createBookmarks(),p=m.getDirection(1),f=m.getAttribute("class"),y=m.getAttribute("style"),C=c.getDirection(1)!=p;if(e=e.enterMode!=CKEDITOR.ENTER_BR||C||y||f,c.is("li"))u||v?(u&&v&&s.remove(),m[v?"insertAfter":"insertBefore"](c)):m.breakParent(c);else{if(e)h.block.is("li")?(c=d.createElement(o==CKEDITOR.ENTER_P?"p":"div"),C&&c.setAttribute("dir",p),y&&c.setAttribute("style",y),f&&c.setAttribute("class",f),m.moveChildren(c)):c=h.block,u||v?c[u?"insertBefore":"insertAfter"](s):(m.breakParent(s),c.insertAfter(s));else if(m.appendBogus(!0),u||v)for(;d=m[u?"getFirst":"getLast"]();)d[u?"insertBefore":"insertAfter"](s);else for(m.breakParent(s);d=m.getLast();)d.insertAfter(s);m.remove()}return void g.selectBookmarks(b)}if(m&&m.getParent().is("blockquote"))return m.breakParent(m.getParent()),m.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||m.getPrevious().remove(),m.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||m.getNext().remove(),s.moveToElementEditStart(m),void s.select()}else if(m&&m.is("pre")&&!f)return void a(e,o,s,u);if(p=s.splitBlock(g)){if(o=p.previousBlock,m=p.nextBlock,h=p.wasStartOfBlock,e=p.wasEndOfBlock,m?(b=m.getParent(),b.is("li")&&(m.breakParent(b),m.move(m.getNext(),1))):o&&(b=o.getParent())&&b.is("li")&&(o.breakParent(b),b=o.getNext(),s.moveToElementEditStart(b),o.move(o.getPrevious())),h||e){if(o?(o.is("li")||!l.test(o.getName())&&!o.is("pre"))&&(c=o.clone()):m&&(c=m.clone()),c?u&&!c.is("li")&&c.renameNode(g):b&&b.is("li")?c=b:(c=d.createElement(g),o&&(v=o.getDirection())&&c.setAttribute("dir",v)),d=p.elementPath)for(u=0,g=d.elements.length;g>u&&(b=d.elements[u],!b.equals(d.block)&&!b.equals(d.blockLimit));u++)CKEDITOR.dtd.$removeEmpty[b.getName()]&&(b=b.clone(),c.moveChildren(b),c.append(b));c.appendBogus(),c.getParent()||s.insertNode(c),c.is("li")&&c.removeAttribute("value"),!CKEDITOR.env.ie||!h||e&&o.getChildCount()||(s.moveToElementEditStart(e?o:c),s.select()),s.moveToElementEditStart(h&&!e?m:c)}else m.is("li")&&(c=s.clone(),c.selectNodeContents(m),c=new CKEDITOR.dom.walker(c),c.evaluator=function(e){return!(i(e)||r(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$inline&&!(e.getName()in CKEDITOR.dtd.$empty))},(b=c.next())&&b.type==CKEDITOR.NODE_ELEMENT&&b.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?d.createElement("br"):d.createText(" ")).insertBefore(b)),m&&s.moveToElementEditStart(m);s.select(),s.scrollIntoView()}}},enterBr:function(e,n,r,i){if(r=r||t(e)){var o=r.document,a=r.checkEndOfBlock(),u=new CKEDITOR.dom.elementPath(e.getSelection().getStartElement()),c=u.block,d=c&&u.block.getName();i||"li"!=d?(!i&&a&&l.test(d)?(a=c.getDirection())?(o=o.createElement("div"),o.setAttribute("dir",a),o.insertAfter(c),r.setStart(o,0)):(o.createElement("br").insertAfter(c),CKEDITOR.env.gecko&&o.createText("").insertAfter(c),r.setStartAt(c.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(e="pre"==d&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?o.createText("\r"):o.createElement("br"),r.deleteContents(),r.insertNode(e),CKEDITOR.env.needsBrFiller?(o.createText("").insertAfter(e),a&&(c||u.blockLimit).appendBogus(),e.getNext().$.nodeValue="",r.setStartAt(e.getNext(),CKEDITOR.POSITION_AFTER_START)):r.setStartAt(e,CKEDITOR.POSITION_AFTER_END)),r.collapse(!0),r.select(),r.scrollIntoView()):s(e,n,r,i)}}};var o=CKEDITOR.plugins.enterkey,a=o.enterBr,s=o.enterBlock,l=/^h[1-6]$/}(),function(){function e(e,t){var n={},r=[],i={nbsp:" ",shy:"­",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'};if(e=e.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(e,o){var a=t?"&"+o+";":i[o];return n[a]=t?i[o]:"&"+o+";",r.push(a),""}),!t&&e){e=e.split(",");var o,a=document.createElement("div");for(a.innerHTML="&"+e.join(";&")+";",o=a.innerHTML,a=null,a=0;a<o.length;a++){var s=o.charAt(a);n[s]="&"+e[a]+";",r.push(s)}}return n.regex=r.join(t?"|":""),n}CKEDITOR.plugins.add("entities",{afterInit:function(t){function n(e){return l[e]}function r(e){return"force"!=i.entities_processNumerical&&a[e]?a[e]:"&#"+e.charCodeAt(0)+";"}var i=t.config;if(t=(t=t.dataProcessor)&&t.htmlFilter){var o=[];!1!==i.basicEntities&&o.push("nbsp,gt,lt,amp"),i.entities&&(o.length&&o.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),i.entities_latin&&o.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),i.entities_greek&&o.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),i.entities_additional&&o.push(i.entities_additional));var a=e(o.join(",")),s=a.regex?"["+a.regex+"]":"a^";delete a.regex,i.entities&&i.entities_processNumerical&&(s="[^ -~]|"+s);var s=new RegExp(s,"g"),l=e("nbsp,gt,lt,amp,shy",!0),u=new RegExp(l.regex,"g");t.addRules({text:function(e){return e.replace(u,n).replace(s,r)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(e,t,n,r){t=t||"80%",n=n||"70%","string"==typeof t&&1<t.length&&"%"==t.substr(t.length-1,1)&&(t=parseInt(window.screen.width*parseInt(t,10)/100,10)),"string"==typeof n&&1<n.length&&"%"==n.substr(n.length-1,1)&&(n=parseInt(window.screen.height*parseInt(n,10)/100,10)),640>t&&(t=640),420>n&&(n=420);var i=parseInt((window.screen.height-n)/2,10),o=parseInt((window.screen.width-t)/2,10);r=(r||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+t+",height="+n+",top="+i+",left="+o;var a=window.open("",null,r,!0);if(!a)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(a.moveTo(o,i),a.resizeTo(t,n)),a.focus(),a.location.href=e}catch(s){window.open(e,null,r,!0)}return!0}}),function(){function e(e,t){var n=[];if(!t)return e;for(var r in t)n.push(r+"="+encodeURIComponent(t[r]));return e+(-1!=e.indexOf("?")?"&":"?")+n.join("&")}function t(e){return e+="",e.charAt(0).toUpperCase()+e.substr(1)}function n(){var n=this.getDialog(),r=n.getParentEditor();r._.filebrowserSe=this;var i=r.config["filebrowser"+t(n.getName())+"WindowWidth"]||r.config.filebrowserWindowWidth||"80%",n=r.config["filebrowser"+t(n.getName())+"WindowHeight"]||r.config.filebrowserWindowHeight||"70%",o=this.filebrowser.params||{};o.CKEditor=r.name,o.CKEditorFuncNum=r._.filebrowserFn,o.langCode||(o.langCode=r.langCode),o=e(this.filebrowser.url,o),r.popup(o,i,n,r.config.filebrowserWindowFeatures||r.config.fileBrowserWindowFeatures)}function r(){var e=this.getDialog();return e.getParentEditor()._.filebrowserSe=this,e.getContentElement(this["for"][0],this["for"][1]).getInputElement().$.value&&e.getContentElement(this["for"][0],this["for"][1]).getAction()?!0:!1}function i(t,n,r){var i=r.params||{};i.CKEditor=t.name,i.CKEditorFuncNum=t._.filebrowserFn,i.langCode||(i.langCode=t.langCode),n.action=e(r.url,i),n.filebrowser=r}function o(e,a,s,l){if(l&&l.length)for(var u,c=l.length;c--;)if(u=l[c],"hbox"!=u.type&&"vbox"!=u.type&&"fieldset"!=u.type||o(e,a,s,u.children),u.filebrowser)if("string"==typeof u.filebrowser&&(u.filebrowser={action:"fileButton"==u.type?"QuickUpload":"Browse",target:u.filebrowser}),"Browse"==u.filebrowser.action){var d=u.filebrowser.url;void 0===d&&(d=e.config["filebrowser"+t(a)+"BrowseUrl"],void 0===d&&(d=e.config.filebrowserBrowseUrl)),d&&(u.onClick=n,u.filebrowser.url=d,u.hidden=!1)}else if("QuickUpload"==u.filebrowser.action&&u["for"]&&(d=u.filebrowser.url,void 0===d&&(d=e.config["filebrowser"+t(a)+"UploadUrl"],void 0===d&&(d=e.config.filebrowserUploadUrl)),d)){var p=u.onClick;u.onClick=function(e){var t=e.sender;return p&&!1===p.call(t,e)?!1:r.call(t,e)?(e=t.getDialog().getContentElement(this["for"][0],this["for"][1]).getInputElement(),(t=new CKEDITOR.dom.element(e.$.form))&&((e=t.$.elements.ckCsrfToken)?e=new CKEDITOR.dom.element(e):(e=new CKEDITOR.dom.element("input"),e.setAttributes({name:"ckCsrfToken",type:"hidden"}),t.append(e)),e.setAttribute("value",CKEDITOR.tools.getCsrfToken())),!0):!1},u.filebrowser.url=d,u.hidden=!1,i(e,s.getContents(u["for"][0]).get(u["for"][1]),u.filebrowser)}}function a(e,t,n){if(-1!==n.indexOf(";")){n=n.split(";");for(var r=0;r<n.length;r++)if(a(e,t,n[r]))return!0;return!1}return(e=e.getContents(t).get(n).filebrowser)&&e.url}function s(e,t){var n=this._.filebrowserSe.getDialog(),r=this._.filebrowserSe["for"],i=this._.filebrowserSe.filebrowser.onSelect;r&&n.getContentElement(r[0],r[1]).reset(),("function"!=typeof t||!1!==t.call(this._.filebrowserSe))&&(i&&!1===i.call(this._.filebrowserSe,e,t)||("string"==typeof t&&t&&alert(t),e&&(r=this._.filebrowserSe,n=r.getDialog(),r=r.filebrowser.target||null)&&(r=r.split(":"),(i=n.getContentElement(r[0],r[1]))&&(i.setValue(e),n.selectPage(r[0])))))}CKEDITOR.plugins.add("filebrowser",{requires:"popup",init:function(e){e._.filebrowserFn=CKEDITOR.tools.addFunction(s,e),e.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}}),CKEDITOR.on("dialogDefinition",function(e){if(e.editor.plugins.filebrowser)for(var t,n=e.data.definition,r=0;r<n.contents.length;++r)(t=n.contents[r])&&(o(e.editor,e.data.name,n,t.elements),t.hidden&&t.filebrowser&&(t.hidden=!a(n,t.id,t.filebrowser)))})}(),function(){function e(e){var r=e.config,i=e.fire("uiSpace",{space:"top",html:""}).html,o=function(){function i(e,t,r){s.setStyle(t,n(r)),s.setStyle("position",e)}function a(e){var t=u.getDocumentPosition();switch(e){case"top":i("absolute","top",t.y-f-g);break;case"pin":i("fixed","top",b);break;case"bottom":i("absolute","top",t.y+(d.height||d.bottom-d.top)+g)}l=e}var l,u,c,d,p,f,h,m=r.floatSpaceDockedOffsetX||0,g=r.floatSpaceDockedOffsetY||0,v=r.floatSpacePinnedOffsetX||0,b=r.floatSpacePinnedOffsetY||0;return function(i){if(u=e.editable()){var b=i&&"focus"==i.name;b&&s.show(),e.fire("floatingSpaceLayout",{show:b}),s.removeStyle("left"),s.removeStyle("right"),c=s.getClientRect(),d=u.getClientRect(),p=t.getViewPaneSize(),f=c.height,h="pageXOffset"in t.$?t.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,l?(a(f+g<=d.top?"top":f+g>p.height-d.bottom?"pin":"bottom"),i=p.width/2,i=r.floatSpacePreferRight?"right":0<d.left&&d.right<p.width&&d.width>c.width?"rtl"==r.contentsLangDirection?"right":"left":i-d.left>d.right-i?"left":"right",c.width>p.width?(i="left",b=0):(b="left"==i?0<d.left?d.left:0:d.right<p.width?p.width-d.right:0,b+c.width>p.width&&(i="left"==i?"right":"left",b=0)),s.setStyle(i,n(("pin"==l?v:m)+b+("pin"==l?0:"left"==i?h:-h)))):(l="pin",a("pin"),o(i))}}}();if(i){var a=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(e.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(e.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),s=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(a.output({content:i,id:e.id,langDir:e.lang.dir,langCode:e.langCode,name:e.name,style:"display:none;z-index:"+(r.baseFloatZIndex-1),topId:e.ui.spaceId("top"),voiceLabel:e.title}))),l=CKEDITOR.tools.eventsBuffer(500,o),u=CKEDITOR.tools.eventsBuffer(100,o);s.unselectable(),s.on("mousedown",function(e){e=e.data,e.getTarget().hasAscendant("a",1)||e.preventDefault()}),e.on("focus",function(n){o(n),e.on("change",l.input),t.on("scroll",u.input),t.on("resize",u.input)}),e.on("blur",function(){s.hide(),e.removeListener("change",l.input),t.removeListener("scroll",u.input),t.removeListener("resize",u.input)}),e.on("destroy",function(){t.removeListener("scroll",u.input),t.removeListener("resize",u.input),s.clearCustomData(),s.remove()}),e.focusManager.hasFocus&&s.show(),e.focusManager.add(s,1)}}var t=CKEDITOR.document.getWindow(),n=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(t){t.on("loaded",function(){e(this)},null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var e=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),t=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),n=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),r=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(e,t){return this.addBlock(e,new CKEDITOR.ui.listBlock(this.getHolderElement(),t))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(e,t){t=t||{};var n=t.attributes||(t.attributes={});(this.multiSelect=!!t.multiSelect)&&(n["aria-multiselectable"]=!0),!n.role&&(n.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",n.role),n=this.keys,n[40]="next",n[9]="next",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(n[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var t=e.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(t),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction(function(e){var t=this.toggle(e);this.onClick&&this.onClick(e,t)},this)),this._.click}},proto:{add:function(e,n,i){var o=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),this._.items[e]=o;var a;a=CKEDITOR.tools.htmlEncodeAttr(e).replace(r,"\\'"),e={id:o,val:a,onclick:CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(i||e),text:n||e},this._.pendingList.push(t.output(e))},startGroup:function(e){this._.close();var t=CKEDITOR.tools.getNextId();this._.groups[e]=t,this._.pendingHtml.push(n.output({id:t,label:e}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(e){var t=this.isMarked(e);return t?this.unmark(e):this.mark(e),!t},hideGroup:function(e){var t=(e=this.element.getDocument().getById(this._.groups[e]))&&e.getNext();e&&(e.setStyle("display","none"),t&&"ul"==t.getName()&&t.setStyle("display","none"))},hideItem:function(e){this.element.getDocument().getById(this._.items[e]).setStyle("display","none")},showAll:function(){var e,t=this._.items,n=this._.groups,r=this.element.getDocument();for(e in t)r.getById(t[e]).setStyle("display","");for(var i in n)t=r.getById(n[i]),e=t.getNext(),t.setStyle("display",""),e&&"ul"==e.getName()&&e.setStyle("display","")},mark:function(e){this.multiSelect||this.unmarkAll(),e=this._.items[e];var t=this.element.getDocument().getById(e);t.addClass("cke_selected"),this.element.getDocument().getById(e+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(t)},unmark:function(e){var t=this.element.getDocument();e=this._.items[e];var n=t.getById(e);n.removeClass("cke_selected"),t.getById(e+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(n)},unmarkAll:function(){var e,t=this._.items,n=this.element.getDocument();for(e in t){var r=t[e];n.getById(r).removeClass("cke_selected"),n.getById(r+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(e){return this.element.getDocument().getById(this._.items[e]).hasClass("cke_selected")},focus:function(e){this._.focusIndex=-1;var t,n=this.element.getElementsByTag("a"),r=-1;if(e){for(t=this.element.getDocument().getById(this._.items[e]).getFirst();e=n.getItem(++r);)if(e.equals(t)){this._.focusIndex=r;break}}else this.element.focus();t&&setTimeout(function(){t.focus()},0)}}})}}),function(){var e='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"');var e=e+(' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"'),e=e+'>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span>{arrowHtml}</a>',t=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),n=CKEDITOR.addTemplate("button",e);CKEDITOR.plugins.add("button",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(e){CKEDITOR.tools.extend(this,e,{title:e.label,click:e.click||function(t){t.execCommand(e.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(e){return new CKEDITOR.ui.button(e)}},CKEDITOR.ui.button.prototype={render:function(e,r){function i(){var t=e.mode;t&&(t=this.modes[t]?void 0!==h[t]?h[t]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,t=e.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:t,this.setState(t),this.refresh&&this.refresh())}var o,a=CKEDITOR.env,s=this._.id=CKEDITOR.tools.getNextId(),l="",u=this.command;this._.editor=e;var c={id:s,button:this,editor:e,focus:function(){CKEDITOR.document.getById(s).focus()},execute:function(){this.button.click(e)},attach:function(e){this.button.attach(e)}},d=CKEDITOR.tools.addFunction(function(e){return c.onkey?(e=new CKEDITOR.dom.event(e),!1!==c.onkey(c,e.getKeystroke())):void 0}),p=CKEDITOR.tools.addFunction(function(e){var t;return c.onfocus&&(t=!1!==c.onfocus(c,new CKEDITOR.dom.event(e))),t}),f=0;if(c.clickFn=o=CKEDITOR.tools.addFunction(function(){f&&(e.unlockSelection(1),f=0),c.execute(),a.iOS&&e.focus()}),this.modes){var h={};e.on("beforeModeUnload",function(){e.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(h[e.mode]=this._.state)},this),e.on("activeFilterChange",i,this),e.on("mode",i,this),!this.readOnly&&e.on("readOnly",i,this)}else u&&(u=e.getCommand(u))&&(u.on("state",function(){this.setState(u.state)},this),l+=u.state==CKEDITOR.TRISTATE_ON?"on":u.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");this.directional&&e.on("contentDirChanged",function(t){var n=CKEDITOR.document.getById(this._.id),r=n.getFirst();t=t.data,t!=e.lang.dir?n.addClass("cke_"+t):n.removeClass("cke_ltr").removeClass("cke_rtl"),r.setAttribute("style",CKEDITOR.skin.getIconStyle(g,"rtl"==t,this.icon,this.iconOffset))},this),u||(l+="off");var m=this.name||this.command,g=m;return this.icon&&!/\./.test(this.icon)&&(g=this.icon,this.icon=null),l={id:s,name:m,iconName:g,label:this.label,cls:this.className||"",state:l,ariaDisabled:"disabled"==l?"true":"false",title:this.title,titleJs:a.gecko&&!a.hc?"":(this.title||"").replace("'",""),hasArrow:this.hasArrow?"true":"false",keydownFn:d,focusFn:p,clickFn:o,style:CKEDITOR.skin.getIconStyle(g,"rtl"==e.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?t.output():""},n.output(l,r),this.onRender&&this.onRender(),c},setState:function(e){if(this._.state==e)return!1;this._.state=e;var t=CKEDITOR.document.getById(this._.id);return t?(t.setState(e,"cke_button"),e==CKEDITOR.TRISTATE_DISABLED?t.setAttribute("aria-disabled",!0):t.removeAttribute("aria-disabled"),this.hasArrow?(e=e==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+"_label").setText(e)):e==CKEDITOR.TRISTATE_ON?t.setAttribute("aria-pressed",!0):t.removeAttribute("aria-pressed"),
!0):!1},getState:function(){return this._.state},toFeature:function(e){if(this._.feature)return this._.feature;var t=this;return this.allowedContent||this.requiredContent||!this.command||(t=e.getCommand(this.command)||t),this._.feature=t}},CKEDITOR.ui.prototype.addButton=function(e,t){this.add(e,CKEDITOR.UI_BUTTON,t)}}(),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var e='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"');var e=e+(' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>"),t=CKEDITOR.addTemplate("combo",e);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(e){CKEDITOR.tools.extend(this,e,{canGroup:!1,title:e.label,modes:{wysiwyg:1},editorFocus:1}),e=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=e.parent&&e.parent.getDocument()||CKEDITOR.document,e.className="cke_combopanel",e.block={multiSelect:e.multiSelect,attributes:e.attributes},e.toolbarRelated=!0,this._={panelDefinition:e,items:{}}},proto:{renderHtml:function(e){var t=[];return this.render(e,t),t.join("")},render:function(e,n){function r(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var t=this.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;e.readOnly&&!this.readOnly&&(t=CKEDITOR.TRISTATE_DISABLED),this.setState(t),this.setValue(""),t!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var i=CKEDITOR.env,o="cke_"+this.id,a=CKEDITOR.tools.addFunction(function(t){d&&(e.unlockSelection(1),d=0),l.execute(t)},this),s=this,l={id:o,combo:this,focus:function(){CKEDITOR.document.getById(o).getChild(1).focus()},execute:function(t){var n=s._;if(n.state!=CKEDITOR.TRISTATE_DISABLED)if(s.createPanel(e),n.on)n.panel.hide();else{s.commit();var r=s.getValue();r?n.list.mark(r):n.list.unmarkAll(),n.panel.showBlock(s.id,new CKEDITOR.dom.element(t),4)}},clickFn:a};e.on("activeFilterChange",r,this),e.on("mode",r,this),e.on("selectionChange",r,this),!this.readOnly&&e.on("readOnly",r,this);var u=CKEDITOR.tools.addFunction(function(t,n){t=new CKEDITOR.dom.event(t);var r=t.getKeystroke();switch(40==r&&e.once("panelShow",function(e){e.data._.panel._.currentBlock.onKeyDown(40)}),r){case 13:case 32:case 40:CKEDITOR.tools.callFunction(a,n);break;default:l.onkey(l,r)}t.preventDefault()}),c=CKEDITOR.tools.addFunction(function(){l.onfocus&&l.onfocus()}),d=0;return l.keyDownFn=u,i={id:o,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:i.gecko&&!i.hc?"":(this.title||"").replace("'",""),keydownFn:u,focusFn:c,clickFn:a},t.output(i,n),this.onRender&&this.onRender(),l},createPanel:function(e){if(!this._.panel){var t=this._.panelDefinition,n=this._.panelDefinition.block,r=t.parent||CKEDITOR.document.getBody(),i="cke_combopanel__"+this.name,o=new CKEDITOR.ui.floatPanel(e,r,t),a=o.addListBlock(this.id,n),s=this;o.onShow=function(){this.element.addClass(i),s.setState(CKEDITOR.TRISTATE_ON),s._.on=1,s.editorFocus&&!e.focusManager.hasFocus&&e.focus(),s.onOpen&&s.onOpen(),e.once("panelShow",function(){a.focus(!a.multiSelect&&s.getValue())})},o.onHide=function(t){this.element.removeClass(i),s.setState(s.modes&&s.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),s._.on=0,!t&&s.onClose&&s.onClose()},o.onEscape=function(){o.hide(1)},a.onClick=function(e,t){s.onClick&&s.onClick.call(s,e,t),o.hide()},this._.panel=o,this._.list=a,o.getBlock(this.id).onHide=function(){s._.on=0,s.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(e,t){this._.value=e;var n=this.document.getById("cke_"+this.id+"_text");n&&(e||t?n.removeClass("cke_combo_inlinelabel"):(t=this.label,n.addClass("cke_combo_inlinelabel")),n.setText("undefined"!=typeof t?t:e))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(e){this._.list.mark(e)},hideItem:function(e){this._.list.hideItem(e)},hideGroup:function(e){this._.list.hideGroup(e)},showAll:function(){this._.list.showAll()},add:function(e,t,n){this._.items[e]=n||e,this._.list.add(e,t,n)},startGroup:function(e){this._.list.startGroup(e)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(e){if(this._.state!=e){var t=this.document.getById("cke_"+this.id);t.setState(e,"cke_combo"),e==CKEDITOR.TRISTATE_DISABLED?t.setAttribute("aria-disabled",!0):t.removeAttribute("aria-disabled"),this._.state=e}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},statics:{handler:{create:function(e){return new CKEDITOR.ui.richCombo(e)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(e,t){this.add(e,CKEDITOR.UI_RICHCOMBO,t)}}(),CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(e){if(!e.blockless){for(var t=e.config,n=e.lang.format,r=t.format_tags.split(";"),i={},o=0,a=[],s=0;s<r.length;s++){var l=r[s],u=new CKEDITOR.style(t["format_"+l]);(!e.filter.customConfig||e.filter.check(u))&&(o++,i[l]=u,i[l]._.enterMode=e.config.enterMode,a.push(u))}0!==o&&e.ui.addRichCombo("Format",{label:n.label,title:n.panelTitle,toolbar:"styles,20",allowedContent:a,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){this.startGroup(n.panelTitle);for(var e in i){var t=n["tag_"+e];this.add(e,i[e].buildPreview(t),t)}},onClick:function(t){e.focus(),e.fire("saveSnapshot"),t=i[t];var n=e.elementPath();e[t.checkActive(n,e)?"removeStyle":"applyStyle"](t),setTimeout(function(){e.fire("saveSnapshot")},0)},onRender:function(){e.on("selectionChange",function(t){var n=this.getValue();t=t.data.path,this.refresh();for(var r in i)if(i[r].checkActive(t,e))return void(r!=n&&this.setValue(r,e.lang.format["tag_"+r]));this.setValue("")},this)},onOpen:function(){this.showAll();for(var t in i)e.activeFilter.check(i[t])||this.hideItem(t)},refresh:function(){var t=e.elementPath();if(t){if(t.isContextFor("p"))for(var n in i)if(e.activeFilter.check(i[n]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},function(){var e={canUndo:!1,exec:function(e){var t=e.document.createElement("hr");e.insertElement(t)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(t){t.blockless||(t.addCommand("horizontalrule",e),t.ui.addButton&&t.ui.addButton("HorizontalRule",{label:t.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})}(),CKEDITOR.plugins.add("htmlwriter",{init:function(e){var t=new CKEDITOR.htmlWriter;t.forceSimpleAmpersand=e.config.forceSimpleAmpersand,t.indentationChars=e.config.dataIndentationChars||"	",e.dataProcessor.writer=t}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="	",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var e,t=CKEDITOR.dtd;for(e in CKEDITOR.tools.extend({},t.$nonBodyContent,t.$block,t.$listItem,t.$tableContent))this.setRules(e,{indent:!t[e]["#"],breakBeforeOpen:1,breakBeforeClose:!t[e]["#"],breakAfterClose:1,needsSpace:e in t.$block&&!(e in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(e){var t=this._.rules[e];this._.afterCloser&&t&&t.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():t&&t.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",e),this._.afterCloser=0},openTagClose:function(e,t){var n=this._.rules[e];t?(this._.output.push(this.selfClosingEnd),n&&n.breakAfterClose&&(this._.needsSpace=n.needsSpace)):(this._.output.push(">"),n&&n.indent&&(this._.indentation+=this.indentationChars)),n&&n.breakAfterOpen&&this.lineBreak(),"pre"==e&&(this._.inPre=1)},attribute:function(e,t){"string"==typeof t&&(this.forceSimpleAmpersand&&(t=t.replace(/&amp;/g,"&")),t=CKEDITOR.tools.htmlEncodeAttr(t)),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){var t=this._.rules[e];t&&t.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():t&&t.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",e,">"),"pre"==e&&(this._.inPre=0),t&&t.breakAfterClose&&(this.lineBreak(),this._.needsSpace=t.needsSpace),this._.afterCloser=1},text:function(e){this._.indent&&(this.indentation(),!this._.inPre&&(e=CKEDITOR.tools.ltrim(e))),this._.output.push(e)},comment:function(e){this._.indent&&this.indentation(),this._.output.push("<!--",e,"-->")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0,this._.needsSpace=0},setRules:function(e,t){var n=this._.rules[e];n?CKEDITOR.tools.extend(n,t,!0):this._.rules[e]=t}}}),function(){function e(e,t){return t||(t=e.getSelection().getSelectedElement()),t&&t.is("img")&&!t.data("cke-realelement")&&!t.isReadOnly()?t:void 0}function t(e){var t=e.getStyle("float");return("inherit"==t||"none"==t)&&(t=0),t||(t=e.getAttribute("align")),t}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(t){if(!t.plugins.image2){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var n="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(t,"image","advanced")&&(n="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),t.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:n,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),t.ui.addButton&&t.ui.addButton("Image",{label:t.lang.common.image,command:"image",toolbar:"insert,10"}),t.on("doubleclick",function(e){var t=e.data.element;!t.is("img")||t.data("cke-realelement")||t.isReadOnly()||(e.data.dialog="image")}),t.addMenuItems&&t.addMenuItems({image:{label:t.lang.image.menu,command:"image",group:"image"}}),t.contextMenu&&t.contextMenu.addListener(function(n){return e(t,n)?{image:CKEDITOR.TRISTATE_OFF}:void 0})}},afterInit:function(n){function r(r){var i=n.getCommand("justify"+r);i&&(("left"==r||"right"==r)&&i.on("exec",function(i){var o,a=e(n);a&&(o=t(a),o==r?(a.removeStyle("float"),r==t(a)&&a.removeAttribute("align")):a.setStyle("float",r),i.cancel())}),i.on("refresh",function(i){var o=e(n);o&&(o=t(o),this.setState(o==r?CKEDITOR.TRISTATE_ON:"right"==r||"left"==r?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),i.cancel())}))}n.plugins.image2||(r("left"),r("right"),r("center"),r("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function e(e,t){var n=r.exec(e),i=r.exec(t);if(n){if(!n[2]&&"px"==i[2])return i[1];if("px"==n[2]&&!i[2])return i[1]+"px"}return t}var t=CKEDITOR.htmlParser.cssStyle,n=CKEDITOR.tools.cssLength,r=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,i={elements:{$:function(n){var r=n.attributes;if((r=(r=(r=r&&r["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(r)))&&r.children[0])&&n.attributes["data-cke-resizable"]){var i=new t(n).rules;n=r.attributes;var o=i.width,i=i.height;o&&(n.width=e(n.width,o)),i&&(n.height=e(n.height,i))}return r}}};CKEDITOR.plugins.add("fakeobjects",{init:function(e){e.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(e){(e=(e=e.dataProcessor)&&e.htmlFilter)&&e.addRules(i,{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(e,r,i,o){var a=this.lang.fakeobjects,a=a[i]||a.unknown;return r={"class":r,"data-cke-realelement":encodeURIComponent(e.getOuterHtml()),"data-cke-real-node-type":e.type,alt:a,title:a,align:e.getAttribute("align")||""},CKEDITOR.env.hc||(r.src=CKEDITOR.tools.transparentImageData),i&&(r["data-cke-real-element-type"]=i),o&&(r["data-cke-resizable"]=o,i=new t,o=e.getAttribute("width"),e=e.getAttribute("height"),o&&(i.rules.width=n(o)),e&&(i.rules.height=n(e)),i.populate(r)),this.document.createElement("img",{attributes:r})},CKEDITOR.editor.prototype.createFakeParserElement=function(e,r,i,o){var a,s=this.lang.fakeobjects,s=s[i]||s.unknown;return a=new CKEDITOR.htmlParser.basicWriter,e.writeHtml(a),a=a.getHtml(),r={"class":r,"data-cke-realelement":encodeURIComponent(a),"data-cke-real-node-type":e.type,alt:s,title:s,align:e.attributes.align||""},CKEDITOR.env.hc||(r.src=CKEDITOR.tools.transparentImageData),i&&(r["data-cke-real-element-type"]=i),o&&(r["data-cke-resizable"]=o,o=e.attributes,e=new t,i=o.width,o=o.height,void 0!==i&&(e.rules.width=n(i)),void 0!==o&&(e.rules.height=n(o)),e.populate(r)),new CKEDITOR.htmlParser.element("img",r)},CKEDITOR.editor.prototype.restoreRealElement=function(t){if(t.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var n=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(t.data("cke-realelement")),this.document);if(t.data("cke-resizable")){var r=t.getStyle("width");t=t.getStyle("height"),r&&n.setAttribute("width",e(n.getAttribute("width"),r)),t&&n.setAttribute("height",e(n.getAttribute("height"),t))}return n}}(),function(){function e(e){return e.replace(/'/g,"\\$&")}function t(e){for(var t,n=e.length,r=[],i=0;n>i;i++)t=e.charCodeAt(i),r.push(t);return"String.fromCharCode("+r.join(",")+")"}function n(t,n){var r,i,o=t.plugins.link,a=o.compiledProtectionFunction.params;i=[o.compiledProtectionFunction.name,"("];for(var s=0;s<a.length;s++)o=a[s].toLowerCase(),r=n[o],s>0&&i.push(","),i.push("'",r?e(encodeURIComponent(n[o])):"","'");return i.push(")"),i.join("")}function r(e){e=e.config.emailProtection||"";var t;return e&&"encode"!=e&&(t={},e.replace(/^([^(]+)\(([^)]+)\)$/,function(e,n,r){t.name=n,t.params=[],r.replace(/[^,\s]+/g,function(e){t.params.push(e)})})),t}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function e(e){return n.replace(/%1/g,"rtl"==e?"right":"left").replace(/%2/g,"cke_contents_"+e)}var t="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",n=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+t+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+t+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(e("ltr")+e("rtl"))},init:function(e){var t="a[!href]";CKEDITOR.dialog.isTabEnabled(e,"link","advanced")&&(t=t.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type]{*}(*)")),CKEDITOR.dialog.isTabEnabled(e,"link","target")&&(t=t.replace("]",",target,onclick]")),e.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:t,requiredContent:"a[href]"})),e.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),e.addCommand("unlink",new CKEDITOR.unlinkCommand),e.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),e.setKeystroke(CKEDITOR.CTRL+76,"link"),e.ui.addButton&&(e.ui.addButton("Link",{label:e.lang.link.toolbar,command:"link",toolbar:"links,10"}),e.ui.addButton("Unlink",{label:e.lang.link.unlink,command:"unlink",toolbar:"links,20"}),e.ui.addButton("Anchor",{label:e.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),e.on("doubleclick",function(t){var n=CKEDITOR.plugins.link.getSelectedLink(e)||t.data.element;n.isReadOnly()||(n.is("a")?(t.data.dialog=!n.getAttribute("name")||n.getAttribute("href")&&n.getChildCount()?"link":"anchor",t.data.link=n):CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,n)&&(t.data.dialog="anchor"))},null,null,0),e.on("doubleclick",function(t){t.data.dialog in{link:1,anchor:1}&&t.data.link&&e.getSelection().selectElement(t.data.link)},null,null,20),e.addMenuItems&&e.addMenuItems({anchor:{label:e.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:e.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:e.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:e.lang.link.unlink,command:"unlink",group:"link",order:5}}),e.contextMenu&&e.contextMenu.addListener(function(t){if(!t||t.isReadOnly())return null;if(t=CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t),!t&&!(t=CKEDITOR.plugins.link.getSelectedLink(e)))return null;var n={};return t.getAttribute("href")&&t.getChildCount()&&(n={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),t&&t.hasAttribute("name")&&(n.anchor=n.removeAnchor=CKEDITOR.TRISTATE_OFF),n}),this.compiledProtectionFunction=r(e)},afterInit:function(e){e.dataProcessor.dataFilter.addRules({elements:{a:function(t){return t.attributes.name?t.children.length?null:e.createFakeParserElement(t,"cke_anchor","anchor"):null}}});var t=e._.elementsPath&&e._.elementsPath.filters;t&&t.push(function(t,n){return"a"!=n||!CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t)&&(!t.getAttribute("name")||t.getAttribute("href")&&t.getChildCount())?void 0:"anchor"})}});var i=/^javascript:/,o=/^mailto:([^?]+)(?:\?(.+))?$/,a=/subject=([^;?:@&=$,\/]*)/i,s=/body=([^;?:@&=$,\/]*)/i,l=/^#(.*)$/,u=/^((?:http|https|ftp|news):\/\/)?(.*)$/,c=/^(_(?:self|top|parent|blank))$/,d=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,p=/^javascript:([^(]+)\(([^)]+)\)$/,f=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,h=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,m={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType","class":"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(e){var t=e.getSelection(),n=t.getSelectedElement();return n&&n.is("a")?n:(t=t.getRanges()[0])?(t.shrink(CKEDITOR.SHRINK_TEXT),e.elementPath(t.getCommonAncestor()).contains("a",1)):null},getEditorAnchors:function(e){for(var t,n=e.editable(),r=n.isInline()&&!e.plugins.divarea?e.document:n,n=r.getElementsByTag("a"),r=r.getElementsByTag("img"),i=[],o=0;t=n.getItem(o++);)(t.data("cke-saved-name")||t.hasAttribute("name"))&&i.push({name:t.data("cke-saved-name")||t.getAttribute("name"),id:t.getAttribute("id")});for(o=0;t=r.getItem(o++);)(t=this.tryRestoreFakeAnchor(e,t))&&i.push({name:t.getAttribute("name"),id:t.getAttribute("id")});return i},fakeAnchor:!0,tryRestoreFakeAnchor:function(e,t){if(t&&t.data("cke-real-element-type")&&"anchor"==t.data("cke-real-element-type")){var n=e.restoreRealElement(t);if(n.data("cke-saved-name"))return n}},parseLinkAttributes:function(e,t){var n,r=t&&(t.data("cke-saved-href")||t.getAttribute("href"))||"",g=e.plugins.link.compiledProtectionFunction,v=e.config.emailProtection,b={};if(r.match(i)&&("encode"==v?r=r.replace(d,function(e,t,n){return n=n||"","mailto:"+String.fromCharCode.apply(String,t.split(","))+n.replace(/\\'/g,"'")}):v&&r.replace(p,function(e,t,n){if(t==g.name){b.type="email",e=b.email={},t=/(^')|('$)/g,n=n.match(/[^,\s]+/g);for(var r,i,o=n.length,a=0;o>a;a++)r=decodeURIComponent,i=n[a].replace(t,"").replace(/\\'/g,"'"),i=r(i),r=g.params[a].toLowerCase(),e[r]=i;e.address=[e.name,e.domain].join("@")}})),!b.type)if(v=r.match(l))b.type="anchor",b.anchor={},b.anchor.name=b.anchor.id=v[1];else if(v=r.match(o)){n=r.match(a),r=r.match(s),b.type="email";var y=b.email={};y.address=v[1],n&&(y.subject=decodeURIComponent(n[1])),r&&(y.body=decodeURIComponent(r[1]))}else r&&(n=r.match(u))&&(b.type="url",b.url={},b.url.protocol=n[1],b.url.url=n[2]);if(t){if(r=t.getAttribute("target"))b.target={type:r.match(c)?r:"frame",name:r};else if(r=(r=t.data("cke-pa-onclick")||t.getAttribute("onclick"))&&r.match(f))for(b.target={type:"popup",name:r[1]};v=h.exec(r[2]);)"yes"!=v[2]&&"1"!=v[2]||v[1]in{height:1,width:1,top:1,left:1}?isFinite(v[2])&&(b.target[v[1]]=v[2]):b.target[v[1]]=!0;var C,r={};for(C in m)(v=t.getAttribute(C))&&(r[m[C]]=v);(C=t.data("cke-saved-name")||r.advName)&&(r.advName=C),CKEDITOR.tools.isEmpty(r)||(b.advanced=r)}return b},getLinkAttributes:function(r,i){var o=r.config.emailProtection||"",a={};switch(i.type){case"url":var o=i.url&&void 0!==i.url.protocol?i.url.protocol:"http://",s=i.url&&CKEDITOR.tools.trim(i.url.url)||"";a["data-cke-saved-href"]=0===s.indexOf("/")?s:o+s;break;case"anchor":o=i.anchor&&i.anchor.id,a["data-cke-saved-href"]="#"+(i.anchor&&i.anchor.name||o||"");break;case"email":var l=i.email,s=l.address;switch(o){case"":case"encode":var u=encodeURIComponent(l.subject||""),c=encodeURIComponent(l.body||""),l=[];u&&l.push("subject="+u),c&&l.push("body="+c),l=l.length?"?"+l.join("&"):"","encode"==o?(o=["javascript:void(location.href='mailto:'+",t(s)],l&&o.push("+'",e(l),"'"),o.push(")")):o=["mailto:",s,l];break;default:o=s.split("@",2),l.name=o[0],l.domain=o[1],o=["javascript:",n(r,l)]}a["data-cke-saved-href"]=o.join("")}if(i.target)if("popup"==i.target.type){for(var o=["window.open(this.href, '",i.target.name||"","', '"],d="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" "),s=d.length,u=function(e){i.target[e]&&d.push(e+"="+i.target[e])},l=0;s>l;l++)d[l]+=i.target[d[l]]?"=yes":"=no";u("width"),u("left"),u("height"),u("top"),o.push(d.join(","),"'); return false;"),a["data-cke-pa-onclick"]=o.join("")}else"notSet"!=i.target.type&&i.target.name&&(a.target=i.target.name);if(i.advanced){for(var p in m)(o=i.advanced[m[p]])&&(a[p]=o);a.name&&(a["data-cke-saved-name"]=a.name)}a["data-cke-saved-href"]&&(a.href=a["data-cke-saved-href"]),p={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1},i.advanced&&CKEDITOR.tools.extend(p,m);for(var f in a)delete p[f];return{set:a,removed:CKEDITOR.tools.objectKeys(p)}}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(e){var t=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});e.removeStyle(t)},refresh:function(e,t){var n=t.lastElement&&t.lastElement.getAscendant("a",!0);this.setState(n&&"a"==n.getName()&&n.getAttribute("href")&&n.getChildCount()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]"},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(e){var t,n=e.getSelection(),r=n.createBookmarks();n&&(t=n.getSelectedElement())&&(t.getChildCount()?t.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t))?t.remove(1):(t=CKEDITOR.plugins.link.getSelectedLink(e))&&(t.hasAttribute("href")?(t.removeAttributes({name:1,"data-cke-saved-name":1}),t.removeClass("cke_anchor")):t.remove(1)),n.selectBookmarks(r)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),function(){function e(e,t,n){return d(t)&&d(n)&&n.equals(t.getNext(function(e){return!(W(e)||Y(e)||p(e))}))}function t(e){this.upper=e[0],this.lower=e[1],this.set.apply(this,e.slice(2))}function n(e){var t=e.element;if(t&&d(t)&&(t=t.getAscendant(e.triggers,!0))&&e.editable.contains(t)){var n=a(t);if("true"==n.getAttribute("contenteditable"))return t;if(n.is(e.triggers))return n}return null}function r(e,t,n){return C(e,t),C(e,n),e=t.size.bottom,n=n.size.top,e&&n?0|(e+n)/2:e||n}function i(e,t,n){return t=t[n?"getPrevious":"getNext"](function(t){return t&&t.type==CKEDITOR.NODE_TEXT&&!W(t)||d(t)&&!p(t)&&!c(e,t)})}function o(e,t,n){return e>t&&n>e}function a(e,t){if(e.data("cke-editable"))return null;for(t||(e=e.getParent());e&&!e.data("cke-editable");){if(e.hasAttribute("contenteditable"))return e;e=e.getParent()}return null}function s(e){var t=e.doc,n=I('<span contenteditable="false" style="'+H+"position:absolute;border-top:1px dashed "+e.boxColor+'"></span>',t),r=CKEDITOR.getUrl(this.path+"images/"+(R.hidpi?"hidpi/":"")+"icon"+(e.rtl?"-rtl":"")+".png");for(D(n,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo(e.editable,!0),this},lineChildren:[D(I('<span title="'+e.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',t),{base:H+"height:17px;width:17px;"+(e.rtl?"left":"right")+":17px;background:url("+r+") center no-repeat "+e.boxColor+";cursor:pointer;"+(R.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(R.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),D(I(z,t),{base:q+"left:0px;border-left-color:"+e.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),D(I(z,t),{base:q+"right:0px;border-right-color:"+e.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){C(e,this);var t=e.holdDistance,n=this.size;return n&&o(e.mouse.y,n.top-t,n.bottom+t)&&o(e.mouse.x,n.left-t,n.right+t)?!0:!1},place:function(){var t=e.view,n=e.editable,r=e.trigger,i=r.upper,a=r.lower,s=i||a,l=s.getParent(),u={};this.trigger=r,i&&C(e,i,!0),a&&C(e,a,!0),C(e,l,!0),e.inInlineMode&&E(e,!0),l.equals(n)?(u.left=t.scroll.x,u.right=-t.scroll.x,u.width=""):(u.left=s.size.left-s.size.margin.left+t.scroll.x-(e.inInlineMode?t.editable.left+t.editable.border.left:0),u.width=s.size.outerWidth+s.size.margin.left+s.size.margin.right+t.scroll.x,u.right=""),i&&a?u.top=i.size.margin.bottom===a.size.margin.top?0|i.size.bottom+i.size.margin.bottom/2:i.size.margin.bottom<a.size.margin.top?i.size.bottom+i.size.margin.bottom:i.size.bottom+i.size.margin.bottom-a.size.margin.top:i?a||(u.top=i.size.bottom+i.size.margin.bottom):u.top=a.size.top-a.size.margin.top,r.is(K)||o(u.top,t.scroll.y-15,t.scroll.y+5)?(u.top=e.inInlineMode?0:t.scroll.y,this.look(K)):r.is(P)||o(u.top,t.pane.bottom-5,t.pane.bottom+15)?(u.top=e.inInlineMode?t.editable.height+t.editable.padding.top+t.editable.padding.bottom:t.pane.bottom-1,this.look(P)):(e.inInlineMode&&(u.top-=t.editable.top+t.editable.border.top),this.look(M)),e.inInlineMode&&(u.top--,u.top+=t.editable.scroll.top,u.left+=t.editable.scroll.left);for(var c in u)u[c]=CKEDITOR.tools.cssLength(u[c]);this.setStyles(u)},look:function(e){if(this.oldLook!=e){for(var t,n=this.lineChildren.length;n--;)(t=this.lineChildren[n]).setAttribute("style",t.base+t.looks[0|e/2]);this.oldLook=e}},wrap:new O("span",e.doc)}),t=n.lineChildren.length;t--;)n.lineChildren[t].appendTo(n);n.look(M),n.appendTo(n.wrap),n.unselectable(),n.lineChildren[0].on("mouseup",function(t){n.detach(),l(e,function(t){var n=e.line.trigger;t[n.is(_)?"insertBefore":"insertAfter"](n.is(_)?n.lower:n.upper)},!0),e.editor.focus(),R.ie||e.enterMode==CKEDITOR.ENTER_BR||e.hotNode.scrollIntoView(),t.data.preventDefault(!0)}),n.on("mousedown",function(e){e.data.preventDefault(!0)}),e.line=n}function l(e,t,n){var r,i=new CKEDITOR.dom.range(e.doc),o=e.editor;R.ie&&e.enterMode==CKEDITOR.ENTER_BR?r=e.doc.createText(L):(r=(r=a(e.element,!0))&&r.data("cke-enter-mode")||e.enterMode,r=new O(k[r],e.doc),r.is("br")||e.doc.createText(L).appendTo(r)),n&&o.fire("saveSnapshot"),t(r),i.moveToPosition(r,CKEDITOR.POSITION_AFTER_START),o.getSelection().selectRanges([i]),e.hotNode=r,n&&o.fire("saveSnapshot")}function u(e,t){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function r(n){var r=R.ie&&9>R.version?" ":L,i=e.hotNode&&e.hotNode.getText()==r&&e.element.equals(e.hotNode)&&e.lastCmdDirection===!!t;l(e,function(r){i&&e.hotNode&&e.hotNode.remove(),r[t?"insertAfter":"insertBefore"](n),r.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!t}),e.lastCmdDirection=!!t}),R.ie||e.enterMode==CKEDITOR.ENTER_BR||e.hotNode.scrollIntoView(),e.line.detach()}return function(o){o=o.getSelection().getStartElement();var s;if(o=o.getAscendant(U,1),!m(e,o)&&o&&!o.equals(e.editable)&&!o.contains(e.editable)){(s=a(o))&&"false"==s.getAttribute("contenteditable")&&(o=s),e.element=o,s=i(e,o,!t);var l;d(s)&&s.is(e.triggers)&&s.is(j)&&(!i(e,s,!t)||(l=i(e,s,!t))&&d(l)&&l.is(e.triggers))?r(s):(l=n(e,o),d(l)&&(i(e,l,!t)?(o=i(e,l,!t))&&d(o)&&o.is(e.triggers)&&r(l):r(l)))}}}()}}function c(e,t){if(!t||t.type!=CKEDITOR.NODE_ELEMENT||!t.$)return!1;var n=e.line;return n.wrap.equals(t)||n.wrap.contains(t)}function d(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.$}function p(e){if(!d(e))return!1;var t;return(t=f(e))||(d(e)?(t={left:1,right:1,center:1},t=!(!t[e.getComputedStyle("float")]&&!t[e.getAttribute("align")])):t=!1),t}function f(e){return!!{absolute:1,fixed:1}[e.getComputedStyle("position")]}function h(e,t){return d(t)?t.is(e.triggers):null}function m(e,t){if(!t)return!1;for(var n=t.getParents(1),r=n.length;r--;)for(var i=e.tabuList.length;i--;)if(n[r].hasAttribute(e.tabuList[i]))return!0;return!1}function g(e,t,n){return(t=t[n?"getLast":"getFirst"](function(t){return e.isRelevant(t)&&!t.is(B)}))?(C(e,t),n?t.size.top>e.mouse.y:t.size.bottom<e.mouse.y):!1}function v(e){var n=e.editable,r=e.mouse,i=e.view,a=e.triggerOffset;E(e);var s=r.y>(e.inInlineMode?i.editable.top+i.editable.height/2:Math.min(i.editable.height,i.pane.height)/2),n=n[s?"getLast":"getFirst"](function(e){return!(W(e)||Y(e))});return n?(c(e,n)&&(n=e.line.wrap[s?"getPrevious":"getNext"](function(e){return!(W(e)||Y(e))})),d(n)&&!p(n)&&h(e,n)?(C(e,n),!s&&0<=n.size.top&&o(r.y,0,n.size.top+a)?(e=e.inInlineMode||0===i.scroll.y?K:M,new t([null,n,_,N,e])):s&&n.size.bottom<=i.pane.height&&o(r.y,n.size.bottom-a,i.pane.height)?(e=e.inInlineMode||o(n.size.bottom,i.pane.height-a,i.pane.height)?P:M,new t([n,null,S,N,e])):null):null):null}function b(e){var r=e.mouse,a=e.view,s=e.triggerOffset,l=n(e);if(!l)return null;C(e,l);var u,c,s=Math.min(s,0|l.size.outerHeight/2),f=[];if(o(r.y,l.size.top-1,l.size.top+s))c=!1;else{if(!o(r.y,l.size.bottom-s,l.size.bottom+1))return null;c=!0;

}if(p(l)||g(e,l,c)||l.getParent().is(F))return null;var m=i(e,l,!c);if(m){if(m&&m.type==CKEDITOR.NODE_TEXT)return null;if(d(m)){if(p(m)||!h(e,m)||m.getParent().is(F))return null;f=[m,l][c?"reverse":"concat"]().concat([A,N])}}else l.equals(e.editable[c?"getLast":"getFirst"](e.isRelevant))?(E(e),c&&o(r.y,l.size.bottom-s,a.pane.height)&&o(l.size.bottom,a.pane.height-s,a.pane.height)?u=P:o(r.y,0,l.size.top+s)&&(u=K)):u=M,f=[null,l][c?"reverse":"concat"]().concat([c?S:_,N,u,l.equals(e.editable[c?"getLast":"getFirst"](e.isRelevant))?c?P:K:M]);return 0 in f?new t(f):null}function y(e,t,n,r){for(var i=t.getDocumentPosition(),o={},a={},s={},l={},u=J.length;u--;)o[J[u]]=parseInt(t.getComputedStyle.call(t,"border-"+J[u]+"-width"),10)||0,s[J[u]]=parseInt(t.getComputedStyle.call(t,"padding-"+J[u]),10)||0,a[J[u]]=parseInt(t.getComputedStyle.call(t,"margin-"+J[u]),10)||0;return n&&!r||T(e,r),l.top=i.y-(n?0:e.view.scroll.y),l.left=i.x-(n?0:e.view.scroll.x),l.outerWidth=t.$.offsetWidth,l.outerHeight=t.$.offsetHeight,l.height=l.outerHeight-(s.top+s.bottom+o.top+o.bottom),l.width=l.outerWidth-(s.left+s.right+o.left+o.right),l.bottom=l.top+l.outerHeight,l.right=l.left+l.outerWidth,e.inInlineMode&&(l.scroll={top:t.$.scrollTop,left:t.$.scrollLeft}),D({border:o,padding:s,margin:a,ignoreScroll:n},l,!0)}function C(e,t,n){if(!d(t))return t.size=null;if(t.size){if(t.size.ignoreScroll==n&&t.size.date>new Date-V)return null}else t.size={};return D(t.size,y(e,t,n),{date:+new Date},!0)}function E(e,t){e.view.editable=y(e,e.editable,t,!0)}function T(e,t){e.view||(e.view={});var n=e.view;if(!(!t&&n&&n.date>new Date-V)){var r=e.win,n=r.getScrollPosition(),r=r.getViewPaneSize();D(e.view,{scroll:{x:n.x,y:n.y,width:e.doc.$.documentElement.scrollWidth-r.width,height:e.doc.$.documentElement.scrollHeight-r.height},pane:{width:r.width,height:r.height,bottom:r.height+n.y},date:+new Date},!0)}}function w(e,n,r,i){for(var o=i,a=i,s=0,l=!1,u=!1,c=e.view.pane.height,d=e.mouse;d.y+s<c&&0<d.y-s&&(l||(l=n(o,i)),u||(u=n(a,i)),!l&&0<d.y-s&&(o=r(e,{x:d.x,y:d.y-s})),!u&&d.y+s<c&&(a=r(e,{x:d.x,y:d.y+s})),!l||!u);)s+=2;return new t([o,a,null,null])}CKEDITOR.plugins.add("magicline",{init:function(e){var r,o,a,h=e.config,g=h.magicline_triggerOffset||30,C={editor:e,enterMode:h.enterMode,triggerOffset:g,holdDistance:0|g*(h.magicline_holdDistance||.5),boxColor:h.magicline_color||"#ff0000",rtl:"rtl"==h.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(h.magicline_tabuList||[]),triggers:h.magicline_everywhere?U:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}};C.isRelevant=function(e){return d(e)&&!c(C,e)&&!p(e)},e.on("contentDom",function(){var d=e.editable(),p=e.document,g=e.window;D(C,{editable:d,inInlineMode:d.isInline(),doc:p,win:g,hotNode:null},!0),C.boundary=C.inInlineMode?C.editable:C.doc.getDocumentElement(),d.is(x.$inline)||(C.inInlineMode&&!f(d)&&d.setStyles({position:"relative",top:null,left:null}),s.call(this,C),T(C),d.attachListener(e,"beforeUndoImage",function(){C.line.detach()}),d.attachListener(e,"beforeGetData",function(){C.line.wrap.getParent()&&(C.line.detach(),e.once("getData",function(){C.line.attach()},null,null,1e3))},null,null,0),d.attachListener(C.inInlineMode?p:p.getWindow().getFrame(),"mouseout",function(t){if("wysiwyg"==e.mode)if(C.inInlineMode){var n=t.data.$.clientX;t=t.data.$.clientY,T(C),E(C,!0);var r=C.view.editable,i=C.view.scroll;n>r.left-i.x&&n<r.right-i.x&&t>r.top-i.y&&t<r.bottom-i.y||(clearTimeout(a),a=null,C.line.detach())}else clearTimeout(a),a=null,C.line.detach()}),d.attachListener(d,"keyup",function(){C.hiddenMode=0}),d.attachListener(d,"keydown",function(t){if("wysiwyg"==e.mode)switch(t.data.getKeystroke()){case 2228240:case 16:C.hiddenMode=1,C.line.detach()}}),d.attachListener(C.inInlineMode?d:p,"mousemove",function(t){if(o=!0,"wysiwyg"==e.mode&&!e.readOnly&&!a){var n={x:t.data.$.clientX,y:t.data.$.clientY};a=setTimeout(function(){C.mouse=n,a=C.trigger=null,T(C),o&&!C.hiddenMode&&e.focusManager.hasFocus&&!C.line.mouseNear()&&(C.element=G(C,!0))&&((C.trigger=v(C)||b(C)||X(C))&&!m(C,C.trigger.upper||C.trigger.lower)?C.line.attach().place():(C.trigger=null,C.line.detach()),o=!1)},30)}}),d.attachListener(g,"scroll",function(){"wysiwyg"==e.mode&&(C.line.detach(),R.webkit&&(C.hiddenMode=1,clearTimeout(r),r=setTimeout(function(){C.mouseDown||(C.hiddenMode=0)},50)))}),d.attachListener($?p:g,"mousedown",function(){"wysiwyg"==e.mode&&(C.line.detach(),C.hiddenMode=1,C.mouseDown=1)}),d.attachListener($?p:g,"mouseup",function(){C.hiddenMode=0,C.mouseDown=0}),e.addCommand("accessPreviousSpace",u(C)),e.addCommand("accessNextSpace",u(C,!0)),e.setKeystroke([[h.magicline_keystrokePrevious,"accessPreviousSpace"],[h.magicline_keystrokeNext,"accessNextSpace"]]),e.on("loadSnapshot",function(){var t,n,r,i;for(i in{p:1,br:1,div:1})for(t=e.document.getElementsByTag(i),r=t.count();r--;)if((n=t.getItem(r)).data("cke-magicline-hot"))return C.hotNode=n,void(C.lastCmdDirection="true"===n.data("cke-magicline-dir")?!0:!1)}),this.backdoor={accessFocusSpace:l,boxTrigger:t,isLine:c,getAscendantTrigger:n,getNonEmptyNeighbour:i,getSize:y,that:C,triggerEdge:b,triggerEditable:v,triggerExpand:X})},this)}});var D=CKEDITOR.tools.extend,O=CKEDITOR.dom.element,I=O.createFromHtml,R=CKEDITOR.env,$=CKEDITOR.env.ie&&9>CKEDITOR.env.version,x=CKEDITOR.dtd,k={},_=128,S=64,A=32,N=16,K=4,P=2,M=1,L=" ",F=x.$listItem,B=x.$tableContent,j=D({},x.$nonEditable,x.$empty),U=x.$block,V=100,H="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",q=H+"border-color:transparent;display:block;border-style:solid;",z="<span>"+L+"</span>";k[CKEDITOR.ENTER_BR]="br",k[CKEDITOR.ENTER_P]="p",k[CKEDITOR.ENTER_DIV]="div",t.prototype={set:function(e,t,n){return this.properties=e+t+(n||M),this},is:function(e){return(this.properties&e)==e}};var G=function(){function e(e,t){var n=e.$.elementFromPoint(t.x,t.y);return n&&n.nodeType?new CKEDITOR.dom.element(n):null}return function(t,n,r){if(!t.mouse)return null;var i=t.doc,o=t.line.wrap;r=r||t.mouse;var a=e(i,r);return n&&c(t,a)&&(o.hide(),a=e(i,r),o.show()),!a||a.type!=CKEDITOR.NODE_ELEMENT||!a.$||R.ie&&9>R.version&&!t.boundary.equals(a)&&!t.boundary.contains(a)?null:a}}(),W=CKEDITOR.dom.walker.whitespaces(),Y=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),X=function(){function t(t){var i,a,s,l=t.element;if(!d(l)||l.contains(t.editable)||l.isReadOnly())return null;if(s=w(t,function(e,t){return!t.equals(e)},function(e,t){return G(e,!0,t)},l),i=s.upper,a=s.lower,e(t,i,a))return s.set(A,8);if(i&&l.contains(i))for(;!i.getParent().equals(l);)i=i.getParent();else i=l.getFirst(function(e){return n(t,e)});if(a&&l.contains(a))for(;!a.getParent().equals(l);)a=a.getParent();else a=l.getLast(function(e){return n(t,e)});if(!i||!a)return null;if(C(t,i),C(t,a),!o(t.mouse.y,i.size.top,a.size.bottom))return null;for(var u,c,p,f,l=Number.MAX_VALUE;a&&!a.equals(i)&&(c=i.getNext(t.isRelevant));)u=Math.abs(r(t,i,c)-t.mouse.y),l>u&&(l=u,p=i,f=c),i=c,C(t,i);return p&&f&&o(t.mouse.y,p.size.top,f.size.bottom)?(s.upper=p,s.lower=f,s.set(A,8)):null}function n(e,t){return!(t&&t.type==CKEDITOR.NODE_TEXT||Y(t)||p(t)||c(e,t)||t.type==CKEDITOR.NODE_ELEMENT&&t.$&&t.is("br"))}return function(n){var r,i=t(n);if(r=i){r=i.upper;var o=i.lower;r=!r||!o||p(o)||p(r)||o.equals(r)||r.equals(o)||o.contains(r)||r.contains(o)?!1:h(n,r)&&h(n,o)&&e(n,r,o)?!0:!1}return r?i:null}}(),J=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function e(e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||"form"!=e.getName())return[];for(var t=[],n=["style","className"],r=0;r<n.length;r++){var i=e.$.elements.namedItem(n[r]);i&&(i=new CKEDITOR.dom.element(i),t.push([i,i.nextSibling]),i.remove())}return t}function t(e,t){if(e&&e.type==CKEDITOR.NODE_ELEMENT&&"form"==e.getName()&&0<t.length)for(var n=t.length-1;n>=0;n--){var r=t[n][0],i=t[n][1];i?r.insertBefore(i):r.appendTo(e)}}function n(n,r){var i=e(n),o={},a=n.$;return r||(o["class"]=a.className||"",a.className=""),o.inline=a.style.cssText||"",r||(a.style.cssText="position: static; overflow: visible"),t(i),o}function r(n,r){var i=e(n),o=n.$;"class"in r&&(o.className=r["class"]),"inline"in r&&(o.style.cssText=r.inline),t(i)}function i(e){if(!e.editable().isInline()){var t,n=CKEDITOR.instances;for(t in n){var r=n[t];"wysiwyg"!=r.mode||r.readOnly||(r=r.document.getBody(),r.setAttribute("contentEditable",!1),r.setAttribute("contentEditable",!0))}e.editable().hasFocus&&(e.toolbox.focus(),e.focus())}}CKEDITOR.plugins.add("maximize",{init:function(e){function t(){var t=c.getViewPaneSize();e.resize(t.width,t.height,null,!0)}if(e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var o,a,s,l=e.lang,u=CKEDITOR.document,c=u.getWindow(),d=CKEDITOR.TRISTATE_OFF;e.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var p=e.container.getFirst(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")}),f=e.ui.space("contents");if("wysiwyg"==e.mode){var h=e.getSelection();o=h&&h.getRanges(),a=c.getScrollPosition()}else{var m=e.editable().$;o=!CKEDITOR.env.ie&&[m.selectionStart,m.selectionEnd],a=[m.scrollLeft,m.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(c.on("resize",t),s=c.getScrollPosition(),h=e.container;h=h.getParent();)h.setCustomData("maximize_saved_styles",n(h)),h.setStyle("z-index",e.config.baseFloatZIndex-5);f.setCustomData("maximize_saved_styles",n(f,!0)),p.setCustomData("maximize_saved_styles",n(p,!0)),f={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},u.getDocumentElement().setStyles(f),!CKEDITOR.env.gecko&&u.getDocumentElement().setStyle("position","fixed"),CKEDITOR.env.gecko&&CKEDITOR.env.quirks||u.getBody().setStyles(f),CKEDITOR.env.ie?setTimeout(function(){c.$.scrollTo(0,0)},0):c.$.scrollTo(0,0),p.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),p.$.offsetLeft,p.setStyles({"z-index":e.config.baseFloatZIndex-5,left:"0px",top:"0px"}),p.addClass("cke_maximized"),t(),f=p.getDocumentPosition(),p.setStyles({left:-1*f.x+"px",top:-1*f.y+"px"}),CKEDITOR.env.gecko&&i(e)}else if(this.state==CKEDITOR.TRISTATE_ON){c.removeListener("resize",t);for(var h=[f,p],g=0;g<h.length;g++)r(h[g],h[g].getCustomData("maximize_saved_styles")),h[g].removeCustomData("maximize_saved_styles");for(h=e.container;h=h.getParent();)r(h,h.getCustomData("maximize_saved_styles")),h.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){c.$.scrollTo(s.x,s.y)},0):c.$.scrollTo(s.x,s.y),p.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(p.setStyle("display","inline"),setTimeout(function(){p.setStyle("display","block")},0)),e.fire("resize",{outerHeight:e.container.$.offsetHeight,contentsHeight:f.$.offsetHeight,outerWidth:e.container.$.offsetWidth})}this.toggleState(),(h=this.uiItems[0])&&(f=this.state==CKEDITOR.TRISTATE_OFF?l.maximize.maximize:l.maximize.minimize,h=CKEDITOR.document.getById(h._.id),h.getChild(1).setHtml(f),h.setAttribute("title",f),h.setAttribute("href",'javascript:void("'+f+'");')),"wysiwyg"==e.mode?o?(CKEDITOR.env.gecko&&i(e),e.getSelection().selectRanges(o),(m=e.getSelection().getStartElement())&&m.scrollIntoView(!0)):c.$.scrollTo(a.x,a.y):(o&&(m.selectionStart=o[0],m.selectionEnd=o[1]),m.scrollLeft=a[0],m.scrollTop=a[1]),o=a=null,d=this.state,e.fire("maximize",this.state)},canUndo:!1}),e.ui.addButton&&e.ui.addButton("Maximize",{label:l.maximize.maximize,command:"maximize",toolbar:"tools,10"}),e.on("mode",function(){var t=e.getCommand("maximize");t.setState(t.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:d)},null,null,100)}}})}(),function(){function e(e,t,n){var r=CKEDITOR.cleanWord;return r?n():(e=CKEDITOR.getUrl(e.config.pasteFromWordCleanupFile||t+"filter/default.js"),CKEDITOR.scriptLoader.load(e,n,null,!0)),!r}function t(e){e.data.type="html"}CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(n){var r=0,i=this.path;n.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(e){var n=this;r=1,e.once("beforePaste",t),e.getClipboardData({title:e.lang.pastefromword.title},function(t){t&&e.fire("paste",{type:"html",dataValue:t.dataValue,method:"paste",dataTransfer:CKEDITOR.plugins.clipboard.initPasteDataTransfer()}),e.fire("afterCommandExec",{name:"pastefromword",command:n,returnValue:!!t})})}}),n.ui.addButton&&n.ui.addButton("PasteFromWord",{label:n.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),n.on("pasteState",function(e){n.getCommand("pastefromword").setState(e.data)}),n.on("paste",function(t){var o=t.data,a=o.dataValue;if(a&&(r||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(a))){o.dontFilter=!0;var s=e(n,i,function(){s?n.fire("paste",o):(!n.config.pasteFromWordPromptCleanup||r||confirm(n.lang.pastefromword.confirmCleanup))&&(o.dataValue=CKEDITOR.cleanWord(a,n)),r=0});s&&t.cancel()}},null,null,3)}})}(),function(){var e={canUndo:!1,async:!0,exec:function(t){t.getClipboardData({title:t.lang.pastetext.title},function(n){n&&t.fire("paste",{type:"text",dataValue:n.dataValue,method:"paste",dataTransfer:CKEDITOR.plugins.clipboard.initPasteDataTransfer()}),t.fire("afterCommandExec",{name:"pastetext",command:e,returnValue:!!n})})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(t){t.addCommand("pastetext",e),t.ui.addButton&&t.ui.addButton("PasteText",{label:t.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),t.config.forcePasteAsPlainText&&t.on("beforePaste",function(e){"html"!=e.data.type&&(e.data.type="text")}),t.on("pasteState",function(e){t.getCommand("pastetext").setState(e.data)})}})}(),CKEDITOR.plugins.add("removeformat",{init:function(e){e.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),e.ui.addButton&&e.ui.addButton("RemoveFormat",{label:e.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(e){for(var t,n=e._.removeFormatRegex||(e._.removeFormatRegex=new RegExp("^(?:"+e.config.removeFormatTags.replace(/,/g,"|")+")$","i")),r=e._.removeAttributes||(e._.removeAttributes=e.config.removeFormatAttributes.split(",")),i=CKEDITOR.plugins.removeformat.filter,o=e.getSelection().getRanges(),a=o.createIterator(),s=function(e){return e.type==CKEDITOR.NODE_ELEMENT};t=a.getNextRange();){t.collapsed||t.enlarge(CKEDITOR.ENLARGE_ELEMENT);var l=t.createBookmark(),u=l.startNode,c=l.endNode,d=function(t){for(var r,o=e.elementPath(t),a=o.elements,s=1;(r=a[s])&&!r.equals(o.block)&&!r.equals(o.blockLimit);s++)n.test(r.getName())&&i(e,r)&&t.breakParent(r)};if(d(u),c)for(d(c),u=u.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);u&&!u.equals(c);)if(u.isReadOnly()){if(u.getPosition(c)&CKEDITOR.POSITION_CONTAINS)break;u=u.getNext(s)}else d=u.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==u.getName()&&u.data("cke-realelement")||!i(e,u)||(n.test(u.getName())?u.remove(1):(u.removeAttributes(r),e.fire("removeFormatCleanup",u))),u=d;t.moveToBookmark(l)}e.forceNextSelectionCheck(),e.getSelection().selectRanges(o)}}},filter:function(e,t){for(var n=e._.removeFormatFilters||[],r=0;r<n.length;r++)if(!1===n[r](t))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(e){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(e)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",CKEDITOR.plugins.add("resize",{init:function(e){function t(t){var n=s.width,i=s.height,l=n+(t.data.$.screenX-a.x)*("rtl"==o?-1:1);t=i+(t.data.$.screenY-a.y),u&&(n=Math.max(r.resize_minWidth,Math.min(l,r.resize_maxWidth))),c&&(i=Math.max(r.resize_minHeight,Math.min(t,r.resize_maxHeight))),e.resize(u?n:null,i)}function n(){CKEDITOR.document.removeListener("mousemove",t),CKEDITOR.document.removeListener("mouseup",n),e.document&&(e.document.removeListener("mousemove",t),e.document.removeListener("mouseup",n))}var r=e.config,i=e.ui.spaceId("resizer"),o=e.element?e.element.getDirection(1):"ltr";if(!r.resize_dir&&(r.resize_dir="vertical"),void 0===r.resize_maxWidth&&(r.resize_maxWidth=3e3),void 0===r.resize_maxHeight&&(r.resize_maxHeight=3e3),void 0===r.resize_minWidth&&(r.resize_minWidth=750),void 0===r.resize_minHeight&&(r.resize_minHeight=250),!1!==r.resize_enabled){var a,s,l=null,u=("both"==r.resize_dir||"horizontal"==r.resize_dir)&&r.resize_minWidth!=r.resize_maxWidth,c=("both"==r.resize_dir||"vertical"==r.resize_dir)&&r.resize_minHeight!=r.resize_maxHeight,d=CKEDITOR.tools.addFunction(function(i){l||(l=e.getResizable()),s={width:l.$.offsetWidth||0,height:l.$.offsetHeight||0},a={x:i.screenX,y:i.screenY},r.resize_minWidth>s.width&&(r.resize_minWidth=s.width),r.resize_minHeight>s.height&&(r.resize_minHeight=s.height),CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),e.document&&(e.document.on("mousemove",t),e.document.on("mouseup",n)),i.preventDefault&&i.preventDefault()});e.on("destroy",function(){CKEDITOR.tools.removeFunction(d)}),e.on("uiSpace",function(t){if("bottom"==t.data.space){var n="";u&&!c&&(n=" cke_resizer_horizontal"),!u&&c&&(n=" cke_resizer_vertical");var r='<span id="'+i+'" class="cke_resizer'+n+" cke_resizer_"+o+'" title="'+CKEDITOR.tools.htmlEncode(e.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+d+', event)">'+("ltr"==o?"◢":"◣")+"</span>";"ltr"==o&&"ltr"==n?t.data.html+=r:t.data.html=r+t.data.html}},e,null,100),e.on("maximize",function(t){e.ui.space("resizer")[t.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}}),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var e=function(e){var t=this._,n=t.menu;t.state!==CKEDITOR.TRISTATE_DISABLED&&(t.on&&n?n.hide():(t.previousState=t.state,n||(n=t.menu=new CKEDITOR.menu(e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.common.options}}}),n.onHide=CKEDITOR.tools.bind(function(){var n=this.command?e.getCommand(this.command).modes:this.modes;this.setState(!n||n[e.mode]?t.previousState:CKEDITOR.TRISTATE_DISABLED),t.on=0},this),this.onMenu&&n.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),t.on=1,setTimeout(function(){n.show(CKEDITOR.document.getById(t.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){delete t.panel,this.base(t),this.hasArrow=!0,this.click=e},statics:{handler:{create:function(e){return new CKEDITOR.ui.menuButton(e)}}}})},beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",init:function(e){var t=this,n=CKEDITOR.plugins.scayt;this.bindEvents(e),this.parseConfig(e),this.addRule(e),CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js")),this.addMenuItems(e);var r=e.lang.scayt,i=CKEDITOR.env;e.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:r.text_title,title:e.plugins.wsc?e.lang.wsc.title:r.text_title,modes:{wysiwyg:!(i.ie&&(8>i.version||i.quirks))},toolbar:"spellchecker,20",refresh:function(){var t=e.ui.instances.Scayt.getState();e.scayt&&(t=n.state.scayt[e.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),e.fire("scaytButtonState",t)},onRender:function(){var t=this;e.on("scaytButtonState",function(e){void 0!==typeof e.data&&t.setState(e.data)})},onMenu:function(){var t=e.scayt;return e.getMenuItem("scaytToggle").label=e.lang.scayt[t&&n.state.scayt[e.name]?"btn_disable":"btn_enable"],t={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:e.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED},e.config.scayt_uiTabs[0]||delete t.scaytOptions,e.config.scayt_uiTabs[1]||delete t.scaytLangs,e.config.scayt_uiTabs[2]||delete t.scaytDict,t}}),e.contextMenu&&e.addMenuItems&&(e.contextMenu.addListener(function(n,r){var i,o,a=e.scayt;return a&&(o=a.getSelectionNode())&&(i=t.menuGenerator(e,o),a.showBanner("."+e.contextMenu._.definition.panel.className.split(" ").join(" ."))),i}),e.contextMenu._.onHide=CKEDITOR.tools.override(e.contextMenu._.onHide,function(t){return function(){var n=e.scayt;return n&&n.hideBanner(),t.apply(this)}}))},addMenuItems:function(e){var t=this,n=CKEDITOR.plugins.scayt;e.addMenuGroup("scaytButton");for(var r=e.config.scayt_contextMenuItemsOrder.split("|"),i=0;i<r.length;i++)r[i]="scayt_"+r[i];if((r=["grayt_description","grayt_suggest","grayt_control"].concat(r))&&r.length)for(i=0;i<r.length;i++)e.addMenuGroup(r[i],i-10);e.addCommand("scaytToggle",{exec:function(e){var t=e.scayt;n.state.scayt[e.name]=!n.state.scayt[e.name],!0===n.state.scayt[e.name]?t||n.createScayt(e):t&&n.destroy(e)}}),e.addCommand("scaytAbout",{exec:function(e){e.scayt.tabToOpen="about",e.lockSelection(),e.openDialog(t.dialogName)}}),e.addCommand("scaytOptions",{exec:function(e){e.scayt.tabToOpen="options",e.lockSelection(),e.openDialog(t.dialogName)}}),e.addCommand("scaytLangs",{exec:function(e){e.scayt.tabToOpen="langs",e.lockSelection(),e.openDialog(t.dialogName)}}),e.addCommand("scaytDict",{exec:function(e){e.scayt.tabToOpen="dictionaries",e.lockSelection(),e.openDialog(t.dialogName)}}),r={scaytToggle:{label:e.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:e.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:e.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:e.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:e.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}},e.plugins.wsc&&(r.WSC={label:e.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var t=CKEDITOR.plugins.scayt,n=e.scayt,r=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.container.getText():e.document.getBody().getText();(r=r.replace(/\s/g,""))?(n&&t.state.scayt[e.name]&&n.setMarkupPaused&&n.setMarkupPaused(!0),e.lockSelection(),e.execCommand("checkspell")):alert("Nothing to check!")}}),e.addMenuItems(r)},bindEvents:function(e){var t=CKEDITOR.plugins.scayt,n=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,r=function(){t.destroy(e)},i=function(){!t.state.scayt[e.name]||e.readOnly||e.scayt||t.createScayt(e)},o=function(){var t=e.editable();t.attachListener(t,"focus",function(t){CKEDITOR.plugins.scayt&&!e.scayt&&setTimeout(i,0),t=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[e.name]&&e.scayt;var r,o;if((n||t)&&e._.savedSelection){t=e._.savedSelection.getSelectedElement(),t=!t&&e._.savedSelection.getRanges();for(var a=0;a<t.length;a++)o=t[a],"string"==typeof o.startContainer.$.nodeValue&&(r=o.startContainer.getText().length,(r<o.startOffset||r<o.endOffset)&&e.unlockSelection(!1))}},this,null,-10)},a=function(){n?e.config.scayt_inlineModeImmediateMarkup?i():(e.on("blur",function(){setTimeout(r,0)}),e.on("focus",i),e.focusManager.hasFocus&&i()):i(),o();var t=e.editable();t.attachListener(t,"mousedown",function(t){t=t.data.getTarget();var n=e.widgets&&e.widgets.getByElement(t);n&&(n.wrapper=t.getAscendant(function(e){return e.hasAttribute("data-cke-widget-wrapper")},!0))},this,null,-10)};e.on("contentDom",a),e.on("beforeCommandExec",function(n){var r=e.scayt,i=null,o=!1,a=!0;n.data.name in t.options.disablingCommandExec&&"wysiwyg"==e.mode?r&&(t.destroy(e),e.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):"bold"!==n.data.name&&"italic"!==n.data.name&&"underline"!==n.data.name&&"strike"!==n.data.name&&"subscript"!==n.data.name&&"superscript"!==n.data.name&&"enter"!==n.data.name&&"cut"!==n.data.name&&"language"!==n.data.name||!r||("cut"===n.data.name&&(a=!1,o=!0),"language"===n.data.name&&(i=(i=e.plugins.language.getCurrentLangElement(e))&&i.$,o=!0),e.fire("reloadMarkupScayt",{removeOptions:{removeInside:a,forceBookmark:o,selectionNode:i},timeout:0}))}),e.on("beforeSetMode",function(n){"source"==n.data&&((n=e.scayt)&&(t.destroy(e),e.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),e.document&&e.document.getBody().removeAttribute("_jquid"))}),e.on("afterCommandExec",function(t){"wysiwyg"!=e.mode||"undo"!=t.data.name&&"redo"!=t.data.name||setTimeout(function(){var t=e.scayt,n=t&&t.getScaytLangList();n&&n.ltr&&n.rtl&&t.fire("startSpellCheck, startGrammarCheck")},250)}),e.on("readOnly",function(n){var r;n&&(r=e.scayt,!0===n.editor.readOnly?r&&r.fire("removeMarkupInDocument",{}):r?r.fire("startSpellCheck, startGrammarCheck"):"wysiwyg"==n.editor.mode&&!0===t.state.scayt[n.editor.name]&&(t.createScayt(e),n.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))}),e.on("beforeDestroy",r),e.on("setData",function(){r(),(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||e.plugins.divarea)&&a()},this,null,50),e.on("reloadMarkupScayt",function(t){var n=t.data&&t.data.removeOptions;setTimeout(function(){var t=e.scayt,r=t&&t.getScaytLangList();r&&r.ltr&&r.rtl&&(e.document.fire("keydown",new CKEDITOR.dom.event({keyCode:37})),t.removeMarkupInSelectionNode(n),t.fire("startSpellCheck, startGrammarCheck"))},t.data&&t.data.timeout||0)}),e.on("insertElement",function(){e.fire("reloadMarkupScayt",{removeOptions:{forceBookmark:!0}})},this,null,50),e.on("insertHtml",function(){e.fire("reloadMarkupScayt")},this,null,50),e.on("insertText",function(){e.fire("reloadMarkupScayt")},this,null,50),e.on("scaytDialogShown",function(t){t.data.selectPage(e.scayt.tabToOpen)})},parseConfig:function(e){var t=CKEDITOR.plugins.scayt;if(t.replaceOldOptionsNames(e.config),"boolean"!=typeof e.config.scayt_autoStartup&&(e.config.scayt_autoStartup=!1),t.state.scayt[e.name]=e.config.scayt_autoStartup,"boolean"!=typeof e.config.grayt_autoStartup&&(e.config.grayt_autoStartup=!1),"boolean"!=typeof e.config.scayt_inlineModeImmediateMarkup&&(e.config.scayt_inlineModeImmediateMarkup=!1),t.state.grayt[e.name]=e.config.grayt_autoStartup,e.config.scayt_contextCommands||(e.config.scayt_contextCommands="ignore|ignoreall|add"),e.config.scayt_contextMenuItemsOrder||(e.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control"),e.config.scayt_sLang||(e.config.scayt_sLang="en_US"),(void 0===e.config.scayt_maxSuggestions||"number"!=typeof e.config.scayt_maxSuggestions||0>e.config.scayt_maxSuggestions)&&(e.config.scayt_maxSuggestions=5),(void 0===e.config.scayt_minWordLength||"number"!=typeof e.config.scayt_minWordLength||1>e.config.scayt_minWordLength)&&(e.config.scayt_minWordLength=4),(void 0===e.config.scayt_customDictionaryIds||"string"!=typeof e.config.scayt_customDictionaryIds)&&(e.config.scayt_customDictionaryIds=""),(void 0===e.config.scayt_userDictionaryName||"string"!=typeof e.config.scayt_userDictionaryName)&&(e.config.scayt_userDictionaryName=null),"string"==typeof e.config.scayt_uiTabs&&3===e.config.scayt_uiTabs.split(",").length){var n=[],r=[];e.config.scayt_uiTabs=e.config.scayt_uiTabs.split(","),CKEDITOR.tools.search(e.config.scayt_uiTabs,function(e){1===Number(e)||0===Number(e)?(r.push(!0),n.push(Number(e))):r.push(!1)}),e.config.scayt_uiTabs=null===CKEDITOR.tools.search(r,!1)?n:[1,1,1]}else e.config.scayt_uiTabs=[1,1,1];if("string"!=typeof e.config.scayt_serviceProtocol&&(e.config.scayt_serviceProtocol=null),"string"!=typeof e.config.scayt_serviceHost&&(e.config.scayt_serviceHost=null),"string"!=typeof e.config.scayt_servicePort&&(e.config.scayt_servicePort=null),"string"!=typeof e.config.scayt_servicePath&&(e.config.scayt_servicePath=null),e.config.scayt_moreSuggestions||(e.config.scayt_moreSuggestions="on"),"string"!=typeof e.config.scayt_customerId&&(e.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"),"string"!=typeof e.config.scayt_srcUrl&&(t=document.location.protocol,t=-1!=t.search(/https?:/)?t:"http:",e.config.scayt_srcUrl=t+"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js"),"boolean"!=typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0),"boolean"!=typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0),CKEDITOR.config.scayt_handleUndoRedo=CKEDITOR.plugins.undo?CKEDITOR.config.scayt_handleUndoRedo:!1,"boolean"!=typeof e.config.scayt_multiLanguageMode&&(e.config.scayt_multiLanguageMode=!1),"object"!=typeof e.config.scayt_multiLanguageStyles&&(e.config.scayt_multiLanguageStyles={}),e.config.scayt_ignoreAllCapsWords&&"boolean"!=typeof e.config.scayt_ignoreAllCapsWords&&(e.config.scayt_ignoreAllCapsWords=!1),e.config.scayt_ignoreDomainNames&&"boolean"!=typeof e.config.scayt_ignoreDomainNames&&(e.config.scayt_ignoreDomainNames=!1),e.config.scayt_ignoreWordsWithMixedCases&&"boolean"!=typeof e.config.scayt_ignoreWordsWithMixedCases&&(e.config.scayt_ignoreWordsWithMixedCases=!1),e.config.scayt_ignoreWordsWithNumbers&&"boolean"!=typeof e.config.scayt_ignoreWordsWithNumbers&&(e.config.scayt_ignoreWordsWithNumbers=!1),e.config.scayt_disableOptionsStorage){var t=CKEDITOR.tools.isArray(e.config.scayt_disableOptionsStorage)?e.config.scayt_disableOptionsStorage:"string"==typeof e.config.scayt_disableOptionsStorage?[e.config.scayt_disableOptionsStorage]:void 0,i="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),o=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],a=CKEDITOR.tools.search,s=CKEDITOR.tools.indexOf;e.config.scayt_disableOptionsStorage=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],l=!!a(e,"options");if(!a(i,r)||l&&a(o,function(e){return"lang"===e?!1:void 0}))return;if(a(o,r)&&o.splice(s(o,r),1),"all"===r||l&&a(e,"lang"))return[];"options"===r&&(o=["lang"])}return t=t.concat(o)}(t)}},addRule:function(e){var t=CKEDITOR.plugins.scayt,n=e.dataProcessor,r=n&&n.htmlFilter,i=e._.elementsPath&&e._.elementsPath.filters,n=n&&n.dataFilter,o=e.addRemoveFormatFilter,a=function(n){return e.scayt&&(n.hasAttribute(t.options.data_attribute_name)||n.hasAttribute(t.options.problem_grammar_data_attribute))?!1:void 0},s=function(n){var r=!0;return e.scayt&&(n.hasAttribute(t.options.data_attribute_name)||n.hasAttribute(t.options.problem_grammar_data_attribute))&&(r=!1),r};i&&i.push(a),n&&n.addRules({elements:{span:function(e){var n=e.hasClass(t.options.misspelled_word_class)&&e.attributes[t.options.data_attribute_name],r=e.hasClass(t.options.problem_grammar_class)&&e.attributes[t.options.problem_grammar_data_attribute];return t&&(n||r)&&delete e.name,e}}}),r&&r.addRules({elements:{span:function(e){var n=e.hasClass(t.options.misspelled_word_class)&&e.attributes[t.options.data_attribute_name],r=e.hasClass(t.options.problem_grammar_class)&&e.attributes[t.options.problem_grammar_data_attribute];return t&&(n||r)&&delete e.name,e}}}),o&&o.call(e,s)},scaytMenuDefinition:function(e){var t=this;return e=e.scayt,{scayt:{scayt_ignore:{label:e.getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(e){e.scayt.ignoreWord()}},scayt_ignoreall:{label:e.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(e){e.scayt.ignoreAllWords()}},scayt_add:{label:e.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(e){var t=e.scayt;setTimeout(function(){t.addWordToUserDictionary()},10)}},scayt_option:{label:e.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(e){e.scayt.tabToOpen="options",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){return 1==e.config.scayt_uiTabs[0]?!0:!1}},scayt_language:{label:e.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(e){e.scayt.tabToOpen="langs",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){
return 1==e.config.scayt_uiTabs[1]?!0:!1}},scayt_dictionary:{label:e.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(e){e.scayt.tabToOpen="dictionaries",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){return 1==e.config.scayt_uiTabs[2]?!0:!1}},scayt_about:{label:e.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(e){e.scayt.tabToOpen="about",e.lockSelection(),e.openDialog(t.dialogName)}}},grayt:{grayt_problemdescription:{label:"Grammar problem description",group:"grayt_description",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(e){}},grayt_ignore:{label:e.getLocal("btn_ignore"),group:"grayt_control",order:2,exec:function(e){e.scayt.ignorePhrase()}}}}},buildSuggestionMenuItems:function(e,t,n){var r={},i={},o=n?"word":"phrase",a=n?"startGrammarCheck":"startSpellCheck",s=e.scayt;if(0<t.length&&"no_any_suggestions"!==t[0])if(n)for(n=0;n<t.length;n++){var l="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_");e.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],o,a)),n<e.config.scayt_maxSuggestions?(e.addMenuItem(l,{label:t[n],command:l,group:"scayt_suggest",order:n+1}),r[l]=CKEDITOR.TRISTATE_OFF):(e.addMenuItem(l,{label:t[n],command:l,group:"scayt_moresuggest",order:n+1}),i[l]=CKEDITOR.TRISTATE_OFF,"on"===e.config.scayt_moreSuggestions&&(e.addMenuItem("scayt_moresuggest",{label:s.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return i}}),r.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(n=0;n<t.length;n++)l="grayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_"),e.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],o,a)),e.addMenuItem(l,{label:t[n],command:l,group:"grayt_suggest",order:n+1}),r[l]=CKEDITOR.TRISTATE_OFF;else r.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,e.addCommand("no_scayt_suggest",{exec:function(){}}),e.addMenuItem("no_scayt_suggest",{label:s.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return r},menuGenerator:function(e,t){var n,r,i=e.scayt,o=this.scaytMenuDefinition(e),a={},s=e.config.scayt_contextCommands.split("|"),l=t.getAttribute(i.getLangAttribute())||i.getLang();if(n=i.isScaytNode(t),r=i.isGraytNode(t),n?(o=o.scayt,a=t.getAttribute(i.getScaytNodeAttributeName()),i.fire("getSuggestionsList",{lang:l,word:a}),a=this.buildSuggestionMenuItems(e,CKEDITOR.plugins.scayt.suggestions,n)):r&&(o=o.grayt,a=t.getAttribute(i.getGraytNodeAttributeName()),r=i.getProblemDescriptionText(a,l),o.grayt_problemdescription&&r&&(o.grayt_problemdescription.label=r),i.fire("getGrammarSuggestionsList",{lang:l,phrase:a}),a=this.buildSuggestionMenuItems(e,CKEDITOR.plugins.scayt.suggestions,n)),n&&"off"==e.config.scayt_contextCommands)return a;for(var u in o)n&&-1==CKEDITOR.tools.indexOf(s,u.replace("scayt_",""))&&"all"!=e.config.scayt_contextCommands||(a[u]="undefined"!=typeof o[u].state?o[u].state:CKEDITOR.TRISTATE_OFF,"function"!=typeof o[u].verification||o[u].verification(e)||delete a[u],e.addCommand(u,{exec:o[u].exec}),e.addMenuItem(u,{label:e.lang.scayt[o[u].label]||o[u].label,command:u,group:o[u].group,order:o[u].order}));return a},createCommand:function(e,t,n){return{exec:function(r){r=r.scayt;var i={};i[t]=e,r.replaceSelectionNode(i),"startGrammarCheck"===n&&r.removeMarkupInSelectionNode({grammarOnly:!0}),r.fire(n)}}}}),CKEDITOR.plugins.scayt={state:{scayt:{},grayt:{}},suggestions:[],loadingHelper:{loadOrder:[]},isLoading:!1,options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},replaceOldOptionsNames:function(e){for(var t in e)t in this.backCompatibilityMap&&(e[this.backCompatibilityMap[t]]=e[t],delete e[t])},createScayt:function(e){var t=this,n=CKEDITOR.plugins.scayt;this.loadScaytLibrary(e,function(e){var r=e.window&&e.window.getFrame()||e.editable();r?(r={lang:e.config.scayt_sLang,container:r.$,customDictionary:e.config.scayt_customDictionaryIds,userDictionaryName:e.config.scayt_userDictionaryName,localization:e.langCode,customer_id:e.config.scayt_customerId,debug:e.config.scayt_debug,data_attribute_name:t.options.data_attribute_name,misspelled_word_class:t.options.misspelled_word_class,problem_grammar_data_attribute:t.options.problem_grammar_data_attribute,problem_grammar_class:t.options.problem_grammar_class,"options-to-restore":e.config.scayt_disableOptionsStorage,focused:e.editable().hasFocus,ignoreElementsRegex:e.config.scayt_elementsToIgnore,minWordLength:e.config.scayt_minWordLength,multiLanguageMode:e.config.scayt_multiLanguageMode,multiLanguageStyles:e.config.scayt_multiLanguageStyles,graytAutoStartup:n.state.grayt[e.name]},e.config.scayt_serviceProtocol&&(r.service_protocol=e.config.scayt_serviceProtocol),e.config.scayt_serviceHost&&(r.service_host=e.config.scayt_serviceHost),e.config.scayt_servicePort&&(r.service_port=e.config.scayt_servicePort),e.config.scayt_servicePath&&(r.service_path=e.config.scayt_servicePath),"boolean"==typeof e.config.scayt_ignoreAllCapsWords&&(r["ignore-all-caps-words"]=e.config.scayt_ignoreAllCapsWords),"boolean"==typeof e.config.scayt_ignoreDomainNames&&(r["ignore-domain-names"]=e.config.scayt_ignoreDomainNames),"boolean"==typeof e.config.scayt_ignoreWordsWithMixedCases&&(r["ignore-words-with-mixed-cases"]=e.config.scayt_ignoreWordsWithMixedCases),"boolean"==typeof e.config.scayt_ignoreWordsWithNumbers&&(r["ignore-words-with-numbers"]=e.config.scayt_ignoreWordsWithNumbers),r=new SCAYT.CKSCAYT(r,function(){},function(){}),r.subscribe("suggestionListSend",function(e){for(var t={},n=[],r=0;r<e.suggestionList.length;r++)t["word_"+e.suggestionList[r]]||(t["word_"+e.suggestionList[r]]=e.suggestionList[r],n.push(e.suggestionList[r]));CKEDITOR.plugins.scayt.suggestions=n}),r.subscribe("selectionIsChanged",function(t){e.getSelection().isLocked&&e.lockSelection()}),r.subscribe("graytStateChanged",function(t){n.state.grayt[e.name]=t.state}),e.scayt=r,e.fire("scaytButtonState",e.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)):n.state.scayt[e.name]=!1})},destroy:function(e){e.scayt&&e.scayt.destroy(),delete e.scayt,e.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(e,t){var n,r,i=this;this.loadingHelper[e.name]||("undefined"==typeof window.SCAYT||"function"!=typeof window.SCAYT.CKSCAYT?(this.loadingHelper[e.name]=t,this.loadingHelper.loadOrder.push(e.name),n=new Date,n=n.getTime(),r=e.config.scayt_srcUrl,r+=0<=r.indexOf("?")?"":"?"+n,this.loadingHelper.ckscaytLoading||(CKEDITOR.scriptLoader.load(r,function(e){if(e){CKEDITOR.fireOnce("scaytReady");for(var t=0;t<i.loadingHelper.loadOrder.length;t++)e=i.loadingHelper.loadOrder[t],"function"==typeof i.loadingHelper[e]&&i.loadingHelper[e](CKEDITOR.instances[e]),delete i.loadingHelper[e];i.loadingHelper.loadOrder=[]}}),this.loadingHelper.ckscaytLoading=!0)):window.SCAYT&&"function"==typeof window.SCAYT.CKSCAYT&&(CKEDITOR.fireOnce("scaytReady"),e.scayt||"function"==typeof t&&t(e)))}},CKEDITOR.on("dialogDefinition",function(e){var t=e.data.name;e=e.data.definition.dialog,"scaytDialog"===t&&e.on("cancel",function(e){return!1},this,null,-1),"checkspell"===t&&e.on("cancel",function(e){e=e.sender&&e.sender.getParentEditor();var t=CKEDITOR.plugins.scayt,n=e.scayt;n&&t.state.scayt[e.name]&&n.setMarkupPaused&&n.setMarkupPaused(!1),e.unlockSelection()},this,null,-2),"link"===t&&e.on("ok",function(e){var t=e.sender&&e.sender.getParentEditor();t&&setTimeout(function(){t.fire("reloadMarkupScayt",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})},0)})}),CKEDITOR.on("scaytReady",function(){if(!0===CKEDITOR.config.scayt_handleCheckDirty){var e=CKEDITOR.editor.prototype;e.checkDirty=CKEDITOR.tools.override(e.checkDirty,function(e){return function(){var t=null,n=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(t="ready"==this.status)var r=n.removeMarkupFromString(this.getSnapshot()),n=n.removeMarkupFromString(this._.previousValue),t=t&&n!==r}else t=e.call(this);return t}}),e.resetDirty=CKEDITOR.tools.override(e.resetDirty,function(e){return function(){var t=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=t.removeMarkupFromString(this.getSnapshot()):e.call(this)}})}if(!0===CKEDITOR.config.scayt_handleUndoRedo){var e=CKEDITOR.plugins.undo.Image.prototype,t="function"==typeof e.equalsContent?"equalsContent":"equals";e[t]=CKEDITOR.tools.override(e[t],function(e){return function(t){var n=t.editor.scayt,r=this.contents,i=t.contents,o=null;return CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[t.editor.name]&&t.editor.scayt&&(this.contents=n.removeMarkupFromString(r)||"",t.contents=n.removeMarkupFromString(i)||""),o=e.apply(this,arguments),this.contents=r,t.contents=i,o}})}}),function(){var e={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(e){this.toggleState(),this.refresh(e)},refresh:function(e){if(e.document){var t=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";e.editable()[t]("cke_show_borders")}}};CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var e;e=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders "),CKEDITOR.addCss(e)},init:function(t){var n=t.addCommand("showborders",e);n.canUndo=!1,!1!==t.config.startupShowBorders&&n.setState(CKEDITOR.TRISTATE_ON),t.on("mode",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)},null,null,100),t.on("contentDom",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)}),t.on("removeFormatCleanup",function(e){e=e.data,t.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&e.is("table")&&(!e.hasAttribute("border")||0>=parseInt(e.getAttribute("border"),10))&&e.addClass("cke_show_border")})},afterInit:function(e){var t=e.dataProcessor;e=t&&t.dataFilter,t=t&&t.htmlFilter,e&&e.addRules({elements:{table:function(e){e=e.attributes;var t=e["class"],n=parseInt(e.border,10);n&&!(0>=n)||t&&-1!=t.indexOf("cke_show_border")||(e["class"]=(t||"")+" cke_show_border")}}}),t&&t.addRules({elements:{table:function(e){e=e.attributes;var t=e["class"];t&&(e["class"]=t.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),CKEDITOR.on("dialogDefinition",function(e){var t=e.data.name;("table"==t||"tableProperties"==t)&&(e=e.data.definition,t=e.getContents("info").get("txtBorder"),t.commit=CKEDITOR.tools.override(t.commit,function(e){return function(t,n){e.apply(this,arguments);var r=parseInt(this.getValue(),10);n[!r||0>=r?"addClass":"removeClass"]("cke_show_border")}}),(e=(e=e.getContents("advanced"))&&e.get("advCSSClasses"))&&(e.setup=CKEDITOR.tools.override(e.setup,function(e){return function(){e.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}}),e.commit=CKEDITOR.tools.override(e.commit,function(e){return function(t,n){e.apply(this,arguments),parseInt(n.getAttribute("border"),10)||n.addClass("cke_show_border")}})))})}(),function(){CKEDITOR.plugins.add("sourcearea",{init:function(t){function n(){var e=i&&this.equals(CKEDITOR.document.getActive());this.hide(),this.setStyle("height",this.getParent().$.clientHeight+"px"),this.setStyle("width",this.getParent().$.clientWidth+"px"),this.show(),e&&this.focus()}if(t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var r=CKEDITOR.plugins.sourcearea;t.addMode("source",function(r){var i=t.ui.space("contents").getDocument().createElement("textarea");i.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",t.config.sourceAreaTabSize||4))),i.setAttribute("dir","ltr"),i.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu"),t.ui.space("contents").append(i),i=t.editable(new e(t,i)),i.setData(t.getData(1)),CKEDITOR.env.ie&&(i.attachListener(t,"resize",n,i),i.attachListener(CKEDITOR.document.getWindow(),"resize",n,i),CKEDITOR.tools.setTimeout(n,0,i)),t.fire("ariaWidget",this),r()}),t.addCommand("source",r.commands.source),t.ui.addButton&&t.ui.addButton("Source",{label:t.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"}),t.on("mode",function(){t.getCommand("source").setState("source"==t.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var i=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var e=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(e){this.setValue(e),this.status="ready",this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(e){this[(e?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){e.baseProto.detach.call(this),this.clearCustomData(),this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(e){"wysiwyg"==e.mode&&e.fire("saveSnapshot"),e.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED),e.setMode("source"==e.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-gb":1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,pl:1,pt:1,"pt-br":1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(e){var t=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),e.addCommand("specialchar",{exec:function(){var n=e.langCode,n=t.availableLangs[n]?n:t.availableLangs[n.replace(/-.*/,"")]?n.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path+"dialogs/lang/"+n+".js"),function(){CKEDITOR.tools.extend(e.lang.specialchar,t.langEntries[n]),e.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1}),e.ui.addButton&&e.ui.addButton("SpecialChar",{label:e.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),function(){CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(e){var t=e.config,n=e.lang.stylescombo,r={},i=[],o=[];e.on("stylesSet",function(n){if(n=n.data.styles){for(var a,s,l,u=0,c=n.length;c>u;u++)a=n[u],e.blockless&&a.element in CKEDITOR.dtd.$block||(s=a.name,a=new CKEDITOR.style(a),e.filter.customConfig&&!e.filter.check(a))||(a._name=s,a._.enterMode=t.enterMode,a._.type=l=a.assignedTo||a.type,a._.weight=u+1e3*(l==CKEDITOR.STYLE_OBJECT?1:l==CKEDITOR.STYLE_BLOCK?2:3),r[s]=a,i.push(a),o.push(a));i.sort(function(e,t){return e._.weight-t._.weight})}}),e.ui.addRichCombo("Styles",{label:n.label,title:n.panelTitle,toolbar:"styles,10",allowedContent:o,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!0,attributes:{"aria-label":n.panelTitle}},init:function(){var e,t,r,o,a,s;for(a=0,s=i.length;s>a;a++)e=i[a],t=e._name,o=e._.type,o!=r&&(this.startGroup(n["panelTitle"+String(o)]),r=o),this.add(t,e.type==CKEDITOR.STYLE_OBJECT?t:e.buildPreview(),t);this.commit()},onClick:function(t){e.focus(),e.fire("saveSnapshot"),t=r[t];var n=e.elementPath();e[t.checkActive(n,e)?"removeStyle":"applyStyle"](t),e.fire("saveSnapshot")},onRender:function(){e.on("selectionChange",function(t){var n=this.getValue();t=t.data.path.elements;for(var i,o=0,a=t.length;a>o;o++){i=t[o];for(var s in r)if(r[s].checkElementRemovable(i,!0,e))return void(s!=n&&this.setValue(s))}this.setValue("")},this)},onOpen:function(){var t=e.getSelection().getSelectedElement(),t=e.elementPath(t),i=[0,0,0,0];this.showAll(),this.unmarkAll();for(var o in r){var a=r[o],s=a._.type;a.checkApplicable(t,e,e.activeFilter)?i[s]++:this.hideItem(o),a.checkActive(t,e)&&this.mark(o)}i[CKEDITOR.STYLE_BLOCK]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),i[CKEDITOR.STYLE_INLINE]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),i[CKEDITOR.STYLE_OBJECT]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var t=e.elementPath();if(t){for(var n in r)if(r[n].checkApplicable(t,e,e.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){r={},i=[]}})}})}(),function(){function e(e){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(t){if(t.editable().hasFocus){var n,r=t.getSelection();if(n=new CKEDITOR.dom.elementPath(r.getCommonAncestor(),r.root).contains({td:1,th:1},1)){var r=t.createRange(),i=CKEDITOR.tools.tryThese(function(){var t=n.getParent().$.cells[n.$.cellIndex+(e?-1:1)];return t.parentNode.parentNode,t},function(){var t=n.getParent(),t=t.getAscendant("table").$.rows[t.$.rowIndex+(e?-1:1)];return t.cells[e?t.cells.length-1:0]});if(i||e){if(!i)return!0;i=new CKEDITOR.dom.element(i),r.moveToElementEditStart(i),r.checkStartOfBlock()&&r.checkEndOfBlock()||r.selectNodeContents(i)}else{for(var o=n.getAscendant("table").$,i=n.getParent().$.cells,o=new CKEDITOR.dom.element(o.insertRow(-1),t.document),a=0,s=i.length;s>a;a++)o.append(new CKEDITOR.dom.element(i[a],t.document).clone(!1,!1)).appendBogus();r.moveToElementEditStart(o)}return r.select(!0),!0}}return!1}}}var t={editorFocus:!1,modes:{wysiwyg:1,source:1}},n={exec:function(e){e.container.focusNext(!0,e.tabIndex)}},r={exec:function(e){e.container.focusPrevious(!0,e.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(i){for(var o=!1!==i.config.enableTabKeyTools,a=i.config.tabSpaces||0,s="";a--;)s+=" ";s&&i.on("key",function(e){9==e.data.keyCode&&(i.insertText(s),e.cancel())}),o&&i.on("key",function(e){(9==e.data.keyCode&&i.execCommand("selectNextCell")||e.data.keyCode==CKEDITOR.SHIFT+9&&i.execCommand("selectPreviousCell"))&&e.cancel()}),i.addCommand("blur",CKEDITOR.tools.extend(n,t)),i.addCommand("blurBack",CKEDITOR.tools.extend(r,t)),i.addCommand("selectNextCell",e()),i.addCommand("selectPreviousCell",e(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(e,t){var n,r,i,o,a,s,l=void 0===t?this.getTabIndex():t;if(0>=l)for(a=this.getNextSourceNode(e,CKEDITOR.NODE_ELEMENT);a;){if(a.isVisible()&&0===a.getTabIndex()){i=a;break}a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(a=this.getDocument().getBody().getFirst();a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!r&&a.equals(this)){if(r=!0,e){if(!(a=a.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else r&&!this.contains(a)&&(n=1);if(a.isVisible()&&!(0>(s=a.getTabIndex()))){if(n&&s==l){i=a;break}s>l&&(!i||!o||o>s)?(i=a,o=s):i||0!==s||(i=a,o=s)}}i&&i.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(e,t){for(var n,r,i,o,a=void 0===t?this.getTabIndex():t,s=0,l=this.getDocument().getBody().getLast();l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!r&&l.equals(this)){if(r=!0,e){if(!(l=l.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else r&&!this.contains(l)&&(n=1);if(l.isVisible()&&!(0>(o=l.getTabIndex())))if(0>=a){if(n&&0===o){i=l;break}o>s&&(i=l,s=o)}else{if(n&&o==a){i=l;break}a>o&&(!i||o>s)&&(i=l,s=o)}}i&&i.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(e){function t(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!e.blockless){var n=e.lang.table;e.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];"+(e.plugins.dialogadvtab?"table"+e.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"]]})),e.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",t())),e.addCommand("tableDelete",t({exec:function(e){var t=e.elementPath().contains("table",1);if(t){var n=t.getParent(),r=e.editable();1!=n.getChildCount()||n.is("td","th")||n.equals(r)||(t=n),e=e.createRange(),e.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START),t.remove(),e.select()}}})),e.ui.addButton&&e.ui.addButton("Table",{label:n.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),e.addMenuItems&&e.addMenuItems({table:{label:n.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:n.deleteTable,command:"tableDelete",group:"table",order:1}}),e.on("doubleclick",function(e){e.data.element.is("table")&&(e.data.dialog="tableProperties")}),e.contextMenu&&e.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function e(e){function t(e){0<n.length||e.type!=CKEDITOR.NODE_ELEMENT||!p.test(e.getName())||e.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(r,e,"selected_cell",!0),n.push(e))}e=e.getRanges();for(var n=[],r={},i=0;i<e.length;i++){var o=e[i];if(o.collapsed)o=o.getCommonAncestor(),(o=o.getAscendant("td",!0)||o.getAscendant("th",!0))&&n.push(o);else{var a,o=new CKEDITOR.dom.walker(o);for(o.guard=t;a=o.next();)a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.table)||(a=a.getAscendant("td",!0)||a.getAscendant("th",!0))&&!a.getCustomData("selected_cell")&&(CKEDITOR.dom.element.setMarker(r,a,"selected_cell",!0),n.push(a))}}return CKEDITOR.dom.element.clearAllMarkers(r),n}function t(t,n){for(var r=e(t),i=r[0],o=i.getAscendant("table"),i=i.getDocument(),a=r[0].getParent(),s=a.$.rowIndex,r=r[r.length-1],l=r.getParent().$.rowIndex+r.$.rowSpan-1,r=new CKEDITOR.dom.element(o.$.rows[l]),s=n?s:l,a=n?a:r,r=CKEDITOR.tools.buildTableMap(o),o=r[s],s=n?r[s-1]:r[s+1],r=r[0].length,i=i.createElement("tr"),l=0;o[l]&&r>l;l++){var u;1<o[l].rowSpan&&s&&o[l]==s[l]?(u=o[l],u.rowSpan+=1):(u=new CKEDITOR.dom.element(o[l]).clone(),u.removeAttribute("rowSpan"),u.appendBogus(),i.append(u),u=u.$),l+=u.colSpan-1}n?i.insertBefore(a):i.insertAfter(a)}function n(t){if(t instanceof CKEDITOR.dom.selection){var r=e(t),i=r[0].getAscendant("table"),o=CKEDITOR.tools.buildTableMap(i);t=r[0].getParent().$.rowIndex;for(var r=r[r.length-1],a=r.getParent().$.rowIndex+r.$.rowSpan-1,r=[],s=t;a>=s;s++){for(var l=o[s],u=new CKEDITOR.dom.element(i.$.rows[s]),c=0;c<l.length;c++){var d=new CKEDITOR.dom.element(l[c]),p=d.getParent().$.rowIndex;1==d.$.rowSpan?d.remove():(--d.$.rowSpan,p==s&&(p=o[s+1],p[c-1]?d.insertAfter(new CKEDITOR.dom.element(p[c-1])):new CKEDITOR.dom.element(i.$.rows[s+1]).append(d,1))),c+=d.$.colSpan-1}r.push(u)}for(o=i.$.rows,i=new CKEDITOR.dom.element(o[a+1]||(t>0?o[t-1]:null)||i.$.parentNode),s=r.length;s>=0;s--)n(r[s]);return i}return t instanceof CKEDITOR.dom.element&&(i=t.getAscendant("table"),1==i.$.rows.length?i.remove():t.remove()),null}function r(e,t){for(var n=t?1/0:0,r=0;r<e.length;r++){var i;i=e[r];for(var o=t,a=i.getParent().$.cells,s=0,l=0;l<a.length;l++){var u=a[l],s=s+(o?1:u.colSpan);if(u==i.$)break}i=s-1,(t?n>i:i>n)&&(n=i)}return n}function i(t,n){for(var i=e(t),o=i[0].getAscendant("table"),a=r(i,1),i=r(i),a=n?a:i,s=CKEDITOR.tools.buildTableMap(o),o=[],i=[],l=s.length,u=0;l>u;u++)o.push(s[u][a]),i.push(n?s[u][a-1]:s[u][a+1]);for(u=0;l>u;u++)o[u]&&(1<o[u].colSpan&&i[u]==o[u]?(a=o[u],a.colSpan+=1):(a=new CKEDITOR.dom.element(o[u]).clone(),a.removeAttribute("colSpan"),a.appendBogus(),a[n?"insertBefore":"insertAfter"].call(a,new CKEDITOR.dom.element(o[u])),a=a.$),u+=a.rowSpan-1)}function o(e,t){var n=e.getStartElement();if(n=n.getAscendant("td",1)||n.getAscendant("th",1)){var r=n.clone();r.appendBogus(),t?r.insertBefore(n):r.insertAfter(n)}}function a(t){if(t instanceof CKEDITOR.dom.selection){t=e(t);var n,r=t[0]&&t[0].getAscendant("table");e:{var i=0;n=t.length-1;for(var o,l,u={};o=t[i++];)CKEDITOR.dom.element.setMarker(u,o,"delete_cell",!0);for(i=0;o=t[i++];)if((l=o.getPrevious())&&!l.getCustomData("delete_cell")||(l=o.getNext())&&!l.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(u),n=l;break e}CKEDITOR.dom.element.clearAllMarkers(u),l=t[0].getParent(),(l=l.getPrevious())?n=l.getLast():(l=t[n].getParent(),n=(l=l.getNext())?l.getChild(0):null)}for(l=t.length-1;l>=0;l--)a(t[l]);n?s(n,!0):r&&r.remove()}else t instanceof CKEDITOR.dom.element&&(r=t.getParent(),1==r.getChildCount()?r.remove():t.remove())}function s(e,t){var n=e.getDocument(),r=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(r.focus(),n.focus()),n=new CKEDITOR.dom.range(n),n["moveToElementEdit"+(t?"End":"Start")](e)||(n.selectNodeContents(e),n.collapse(t?!1:!0)),n.select(!0)}function l(e,t,n){if(e=e[t],"undefined"==typeof n)return e;for(t=0;e&&t<e.length;t++){if(n.is&&e[t]==n.$)return t;if(t==n)return new CKEDITOR.dom.element(e[t])}return n.is?-1:null}function u(t,n,r){var i,o=e(t);if((n?1!=o.length:2>o.length)||(i=t.getCommonAncestor())&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("table"))return!1;var a;t=o[0],i=t.getAscendant("table");var s=CKEDITOR.tools.buildTableMap(i),u=s.length,c=s[0].length,d=t.getParent().$.rowIndex,p=l(s,d,t);if(n){var f;try{var h=parseInt(t.getAttribute("rowspan"),10)||1;a=parseInt(t.getAttribute("colspan"),10)||1,f=s["up"==n?d-h:"down"==n?d+h:d]["left"==n?p-a:"right"==n?p+a:p]}catch(m){return!1}if(!f||t.$==f)return!1;o["up"==n||"left"==n?"unshift":"push"](new CKEDITOR.dom.element(f))}n=t.getDocument();var g=d,h=f=0,v=!r&&new CKEDITOR.dom.documentFragment(n),b=0;for(n=0;n<o.length;n++){a=o[n];var y=a.getParent(),C=a.getFirst(),E=a.$.colSpan,T=a.$.rowSpan,y=y.$.rowIndex,w=l(s,y,a),b=b+E*T,h=Math.max(h,w-p+E);f=Math.max(f,y-d+T),r||(E=a,(T=E.getBogus())&&T.remove(),E.trim(),a.getChildren().count()&&(y==g||!C||C.isBlockBoundary&&C.isBlockBoundary({br:1})||(g=v.getLast(CKEDITOR.dom.walker.whitespaces(!0)),!g||g.is&&g.is("br")||v.append("br")),a.moveChildren(v)),n?a.remove():a.setHtml("")),g=y}if(r)return f*h==b;for(v.moveChildren(t),t.appendBogus(),h>=c?t.removeAttribute("rowSpan"):t.$.rowSpan=f,f>=u?t.removeAttribute("colSpan"):t.$.colSpan=h,r=new CKEDITOR.dom.nodeList(i.$.rows),o=r.count(),n=o-1;n>=0;n--)i=r.getItem(n),i.$.cells.length||(i.remove(),o++);return t}function c(t,n){var r=e(t);if(1<r.length)return!1;if(n)return!0;var i,r=r[0],o=r.getParent(),a=o.getAscendant("table"),s=CKEDITOR.tools.buildTableMap(a),u=o.$.rowIndex,c=l(s,u,r),d=r.$.rowSpan;if(d>1){i=Math.ceil(d/2);for(var p,d=Math.floor(d/2),o=u+i,a=new CKEDITOR.dom.element(a.$.rows[o]),s=l(s,o),o=r.clone(),u=0;u<s.length;u++){if(p=s[u],p.parentNode==a.$&&u>c){o.insertBefore(new CKEDITOR.dom.element(p));break}p=null}p||a.append(o)}else for(d=i=1,a=o.clone(),a.insertAfter(o),a.append(o=r.clone()),p=l(s,u),c=0;c<p.length;c++)p[c].rowSpan++;return o.appendBogus(),r.$.rowSpan=i,o.$.rowSpan=d,1==i&&r.removeAttribute("rowSpan"),1==d&&o.removeAttribute("rowSpan"),o}function d(t,n){var r=e(t);if(1<r.length)return!1;if(n)return!0;var r=r[0],i=r.getParent(),o=i.getAscendant("table"),o=CKEDITOR.tools.buildTableMap(o),a=l(o,i.$.rowIndex,r),s=r.$.colSpan;if(s>1)i=Math.ceil(s/2),s=Math.floor(s/2);else{for(var s=i=1,u=[],c=0;c<o.length;c++){var d=o[c];u.push(d[a]),1<d[a].rowSpan&&(c+=d[a].rowSpan-1)}for(o=0;o<u.length;o++)u[o].colSpan++}return o=r.clone(),o.insertAfter(r),o.appendBogus(),r.$.colSpan=i,o.$.colSpan=s,1==i&&r.removeAttribute("colSpan"),1==s&&o.removeAttribute("colSpan"),o}var p=/^(?:td|th)$/;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(r){function l(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function p(e,t){var n=r.addCommand(e,t);r.addFeature(n)}var f=r.lang.table;p("cellProperties",new CKEDITOR.dialogCommand("cellProperties",l({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:"table"}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),p("rowDelete",l({requiredContent:"table",exec:function(e){e=e.getSelection(),s(n(e))}})),p("rowInsertBefore",l({requiredContent:"table",exec:function(e){e=e.getSelection(),t(e,!0)}})),p("rowInsertAfter",l({requiredContent:"table",exec:function(e){e=e.getSelection(),t(e)}})),p("columnDelete",l({requiredContent:"table",exec:function(t){t=t.getSelection(),t=e(t);var n=t[0],r=t[t.length-1];t=n.getAscendant("table");for(var i,o,a=CKEDITOR.tools.buildTableMap(t),l=[],u=0,c=a.length;c>u;u++)for(var d=0,p=a[u].length;p>d;d++)a[u][d]==n.$&&(i=d),a[u][d]==r.$&&(o=d);for(u=i;o>=u;u++)for(d=0;d<a.length;d++)r=a[d],n=new CKEDITOR.dom.element(t.$.rows[d]),r=new CKEDITOR.dom.element(r[u]),r.$&&(1==r.$.colSpan?r.remove():--r.$.colSpan,d+=r.$.rowSpan-1,n.$.cells.length||l.push(n));o=t.$.rows[0]&&t.$.rows[0].cells,i=new CKEDITOR.dom.element(o[i]||(i?o[i-1]:t.$.parentNode)),l.length==c&&t.remove(),i&&s(i,!0)}})),p("columnInsertBefore",l({requiredContent:"table",exec:function(e){e=e.getSelection(),i(e,!0)}})),p("columnInsertAfter",l({requiredContent:"table",exec:function(e){e=e.getSelection(),i(e)}})),p("cellDelete",l({requiredContent:"table",exec:function(e){e=e.getSelection(),a(e)}})),p("cellMerge",l({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(e){s(u(e.getSelection()),!0)}})),p("cellMergeRight",l({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){s(u(e.getSelection(),"right"),!0)}})),p("cellMergeDown",l({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){s(u(e.getSelection(),"down"),!0)}})),p("cellVerticalSplit",l({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){s(d(e.getSelection()))}})),p("cellHorizontalSplit",l({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){s(c(e.getSelection()))}})),p("cellInsertBefore",l({requiredContent:"table",exec:function(e){e=e.getSelection(),o(e,!0)}})),p("cellInsertAfter",l({requiredContent:"table",exec:function(e){e=e.getSelection(),o(e)}})),r.addMenuItems&&r.addMenuItems({tablecell:{label:f.cell.menu,group:"tablecell",order:1,getItems:function(){var t=r.getSelection(),n=e(t);

return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:u(t,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:u(t,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:u(t,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:d(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:c(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<n.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:f.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:f.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:f.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:f.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:f.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:f.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:f.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:f.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:f.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:f.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:f.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:f.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:f.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:f.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:f.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:f.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:f.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),r.contextMenu&&r.contextMenu.addListener(function(e,t,n){return(e=n.contains({td:1,th:1},1))&&!e.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getSelectedCells:e},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(e){e=e.$.rows;for(var t=-1,n=[],r=0;r<e.length;r++){t++,!n[t]&&(n[t]=[]);for(var i=-1,o=0;o<e[r].cells.length;o++){var a=e[r].cells[o];for(i++;n[t][i];)i++;for(var s=isNaN(a.colSpan)?1:a.colSpan,a=isNaN(a.rowSpan)?1:a.rowSpan,l=0;a>l;l++){n[t+l]||(n[t+l]=[]);for(var u=0;s>u;u++)n[t+l][i+u]=e[r].cells[o]}i+=s-1}}return n},function(){function e(e){function n(){for(var n=r(),o=CKEDITOR.tools.clone(e.config.toolbarGroups)||t(e),a=0;a<o.length;a++){var s=o[a];if("/"!=s){"string"==typeof s&&(s=o[a]={name:s});var l,u=s.groups;if(u)for(var c=0;c<u.length;c++)l=u[c],(l=n[l])&&i(s,l);(l=n[s.name])&&i(s,l)}}return o}function r(){var t,n,r,i={};for(t in e.ui.items)n=e.ui.items[t],r=n.toolbar||"others",r=r.split(","),n=r[0],r=parseInt(r[1]||-1,10),i[n]||(i[n]=[]),i[n].push({name:t,order:r});for(n in i)i[n]=i[n].sort(function(e,t){return e.order==t.order?0:0>t.order?-1:0>e.order?1:e.order<t.order?-1:1});return i}function i(t,n){if(n.length){t.items?t.items.push(e.ui.create("-")):t.items=[];for(var r;r=n.shift();)r="string"==typeof r?r:r.name,a&&-1!=CKEDITOR.tools.indexOf(a,r)||(r=e.ui.create(r))&&e.addFeature(r)&&t.items.push(r)}}function o(e){var t,n,r,o=[];for(t=0;t<e.length;++t)n=e[t],r={},"/"==n?o.push(n):CKEDITOR.tools.isArray(n)?(i(r,CKEDITOR.tools.clone(n)),o.push(r)):n.items&&(i(r,CKEDITOR.tools.clone(n.items)),r.name=n.name,o.push(r));return o}var a=e.config.removeButtons,a=a&&a.split(","),s=e.config.toolbar;return"string"==typeof s&&(s=e.config["toolbar_"+s]),e.toolbar=s?o(s):n()}function t(e){return e._.toolbarGroups||(e._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var n=function(){this.toolbars=[],this.focusCommandExecuted=!1};n.prototype.focus=function(){for(var e,t=0;e=this.toolbars[t++];)for(var n,r=0;n=e.items[r++];)if(n.focus)return void n.focus()};var r={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(e){e.toolbox&&(e.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){e.toolbox.focus()},100):e.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(t){var i,o=function(e,n){var r,a="rtl"==t.lang.dir,s=t.config.toolbarGroupCycling,l=a?37:39,a=a?39:37,s=void 0===s||s;switch(n){case 9:case CKEDITOR.SHIFT+9:for(;!r||!r.items.length;)if(r=9==n?(r?r.next:e.toolbar.next)||t.toolbox.toolbars[0]:(r?r.previous:e.toolbar.previous)||t.toolbox.toolbars[t.toolbox.toolbars.length-1],r.items.length)for(e=r.items[i?r.items.length-1:0];e&&!e.focus;)(e=i?e.previous:e.next)||(r=0);return e&&e.focus(),!1;case l:r=e;do r=r.next,!r&&s&&(r=e.toolbar.items[0]);while(r&&!r.focus);return r?r.focus():o(e,9),!1;case 40:return e.button&&e.button.hasArrow?(t.once("panelShow",function(e){e.data._.panel._.currentBlock.onKeyDown(40)}),e.execute()):o(e,40==n?l:a),!1;case a:case 38:r=e;do r=r.previous,!r&&s&&(r=e.toolbar.items[e.toolbar.items.length-1]);while(r&&!r.focus);return r?r.focus():(i=1,o(e,CKEDITOR.SHIFT+9),i=0),!1;case 27:return t.focus(),!1;case 13:case 32:return e.execute(),!1}return!0};t.on("uiSpace",function(r){if(r.data.space==t.config.toolbarLocation){r.removeListener(),t.toolbox=new n;var i,a,s=CKEDITOR.tools.getNextId(),l=['<span id="',s,'" class="cke_voice_label">',t.lang.toolbar.toolbars,"</span>",'<span id="'+t.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',s,'" onmousedown="return false;">'],s=!1!==t.config.toolbarStartupExpanded;t.config.toolbarCanCollapse&&t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&l.push('<span class="cke_toolbox_main"'+(s?">":' style="display:none">'));for(var u=t.toolbox.toolbars,c=e(t),d=0;d<c.length;d++){var p,f,h,m=0,g=c[d];if(g)if(i&&(l.push("</span>"),a=i=0),"/"===g)l.push('<span class="cke_toolbar_break"></span>');else{h=g.items||g;for(var v=0;v<h.length;v++){var b,y=h[v];if(y){var C=function(e){e=e.render(t,l),E=m.items.push(e)-1,E>0&&(e.previous=m.items[E-1],e.previous.next=e),e.toolbar=m,e.onkey=o,e.onfocus=function(){t.toolbox.focusCommandExecuted||t.focus()}};if(y.type==CKEDITOR.UI_SEPARATOR)a=i&&y;else{if(b=!1!==y.canGroup,!m){p=CKEDITOR.tools.getNextId(),m={id:p,items:[]},f=g.name&&(t.lang.toolbar.toolbarGroups[g.name]||g.name),l.push('<span id="',p,'" class="cke_toolbar"',f?' aria-labelledby="'+p+'_label"':"",' role="toolbar">'),f&&l.push('<span id="',p,'_label" class="cke_voice_label">',f,"</span>"),l.push('<span class="cke_toolbar_start"></span>');var E=u.push(m)-1;E>0&&(m.previous=u[E-1],m.previous.next=m)}b?i||(l.push('<span class="cke_toolgroup" role="presentation">'),i=1):i&&(l.push("</span>"),i=0),a&&(C(a),a=0),C(y)}}}i&&(l.push("</span>"),a=i=0),m&&l.push('<span class="cke_toolbar_end"></span></span>')}}if(t.config.toolbarCanCollapse&&l.push("</span>"),t.config.toolbarCanCollapse&&t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var T=CKEDITOR.tools.addFunction(function(){t.execCommand("toolbarCollapse")});t.on("destroy",function(){CKEDITOR.tools.removeFunction(T)}),t.addCommand("toolbarCollapse",{readOnly:1,exec:function(e){var t=e.ui.space("toolbar_collapser"),n=t.getPrevious(),r=e.ui.space("contents"),i=n.getParent(),o=parseInt(r.$.style.height,10),a=i.$.offsetHeight,s=t.hasClass("cke_toolbox_collapser_min");s?(n.show(),t.removeClass("cke_toolbox_collapser_min"),t.setAttribute("title",e.lang.toolbar.toolbarCollapse)):(n.hide(),t.addClass("cke_toolbox_collapser_min"),t.setAttribute("title",e.lang.toolbar.toolbarExpand)),t.getFirst().setText(s?"▲":"◀"),r.setStyle("height",o-(i.$.offsetHeight-a)+"px"),e.fire("resize",{outerHeight:e.container.$.offsetHeight,contentsHeight:r.$.offsetHeight,outerWidth:e.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}}),t.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),l.push('<a title="'+(s?t.lang.toolbar.toolbarCollapse:t.lang.toolbar.toolbarExpand)+'" id="'+t.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),s||l.push(" cke_toolbox_collapser_min"),l.push('" onclick="CKEDITOR.tools.callFunction('+T+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}l.push("</span>"),r.data.html+=l.join("")}}),t.on("destroy",function(){if(this.toolbox){var e,t,n,r,i=0;for(e=this.toolbox.toolbars;i<e.length;i++)for(n=e[i].items,t=0;t<n.length;t++)r=n[t],r.clickFn&&CKEDITOR.tools.removeFunction(r.clickFn),r.keyDownFn&&CKEDITOR.tools.removeFunction(r.keyDownFn)}}),t.on("uiReady",function(){var e=t.ui.space("toolbox");e&&t.focusManager.add(e,1)}),t.addCommand("toolbarFocus",r),t.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),t.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),t.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(e,t){return t.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(e,n,r){var i=t(this.editor),o=0===n,a={name:e};if(r){if(r=CKEDITOR.tools.search(i,function(e){return e.name==r}))return!r.groups&&(r.groups=[]),n&&(n=CKEDITOR.tools.indexOf(r.groups,n),n>=0)?void r.groups.splice(n+1,0,e):void(o?r.groups.splice(0,0,e):r.groups.push(e));n=null}n&&(n=CKEDITOR.tools.indexOf(i,function(e){return e.name==n})),o?i.splice(0,0,e):"number"==typeof n?i.splice(n+1,0,a):i.push(e)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",function(){var e=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],t={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(t){function r(e){a.enabled&&!1!==e.data.command.canUndo&&a.save()}function i(){a.enabled=t.readOnly?!1:"wysiwyg"==t.mode,a.onChange()}var a=t.undoManager=new n(t),s=a.editingHandler=new o(a),l=t.addCommand("undo",{exec:function(){a.undo()&&(t.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),u=t.addCommand("redo",{exec:function(){a.redo()&&(t.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});t.setKeystroke([[e[0],"undo"],[e[1],"redo"],[e[2],"redo"]]),a.onChange=function(){l.setState(a.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),u.setState(a.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},t.on("beforeCommandExec",r),t.on("afterCommandExec",r),t.on("saveSnapshot",function(e){a.save(e.data&&e.data.contentOnly)}),t.on("contentDom",s.attachListeners,s),t.on("instanceReady",function(){t.fire("saveSnapshot")}),t.on("beforeModeUnload",function(){"wysiwyg"==t.mode&&a.save(!0)}),t.on("mode",i),t.on("readOnly",i),t.ui.addButton&&(t.ui.addButton("Undo",{label:t.lang.undo.undo,command:"undo",toolbar:"undo,10"}),t.ui.addButton("Redo",{label:t.lang.undo.redo,command:"redo",toolbar:"undo,20"})),t.resetUndo=function(){a.reset(),t.fire("saveSnapshot")},t.on("updateSnapshot",function(){a.currentImage&&a.update()}),t.on("lockSnapshot",function(e){e=e.data,a.lock(e&&e.dontUpdate,e&&e.forceUpdate)}),t.on("unlockSnapshot",a.unlock,a)}}),CKEDITOR.plugins.undo={};var n=CKEDITOR.plugins.undo.UndoManager=function(e){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=e.config.undoStackSize||20,this.strokesLimit=25,this.editor=e,this.reset()};n.prototype={type:function(e,t){var r=n.getKeyGroup(e),i=this.strokesRecorded[r]+1;t=t||i>=this.strokesLimit,this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),t?(i=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[r]=i,this.previousKeyGroup=r},keyGroupChanged:function(e){return n.getKeyGroup(e)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(e,t,n){var i=this.editor;if(this.locked||"ready"!=i.status||"wysiwyg"!=i.mode)return!1;var o=i.editable();if(!o||"ready"!=o.status)return!1;if(o=this.snapshots,t||(t=new r(i)),!1===t.contents)return!1;if(this.currentImage)if(t.equalsContent(this.currentImage)){if(e||t.equalsSelection(this.currentImage))return!1}else!1!==n&&i.fire("change");return o.splice(this.index+1,o.length-this.index-1),o.length==this.limit&&o.shift(),this.index=o.push(t)-1,this.currentImage=t,!1!==n&&this.refreshState(),!0},restoreImage:function(e){var t,n=this.editor;e.bookmarks&&(n.focus(),t=n.getSelection()),this.locked={level:999},this.editor.loadSnapshot(e.contents),e.bookmarks?t.selectBookmarks(e.bookmarks):CKEDITOR.env.ie&&(t=this.editor.document.getBody().$.createTextRange(),t.collapse(!0),t.select()),this.locked=null,this.index=e.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),n.fire("change")},getNextImage:function(e){var t,n=this.snapshots,r=this.currentImage;if(r)if(e){for(t=this.index-1;t>=0;t--)if(e=n[t],!r.equalsContent(e))return e.index=t,e}else for(t=this.index+1;t<n.length;t++)if(e=n[t],!r.equalsContent(e))return e.index=t,e;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var e=this.getNextImage(!0);if(e)return this.restoreImage(e),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var e=this.getNextImage(!1);if(e)return this.restoreImage(e),!0}return!1},update:function(e){if(!this.locked){e||(e=new r(this.editor));for(var t=this.index,n=this.snapshots;t>0&&this.currentImage.equalsContent(n[t-1]);)--t;n.splice(t,this.index-t+1,e),this.index=t,this.currentImage=e}},updateSelection:function(e){if(!this.snapshots.length)return!1;var t=this.snapshots,n=t[t.length-1];return n.equalsContent(e)&&!n.equalsSelection(e)?(this.currentImage=t[t.length-1]=e,!0):!1},lock:function(e,t){if(this.locked)this.locked.level++;else if(e)this.locked={level:1};else{var n=null;if(t)n=!0;else{var i=new r(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(i)&&(n=i)}this.locked={update:n,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var e=this.locked.update;if(this.locked=null,!0===e)this.update();else if(e){var t=new r(this.editor,!0);e.equalsContent(t)||this.update()}}}},n.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},n.keyGroups={PRINTABLE:0,FUNCTIONAL:1},n.isNavigationKey=function(e){return!!n.navigationKeyCodes[e]},n.getKeyGroup=function(e){var r=n.keyGroups;return t[e]?r.FUNCTIONAL:r.PRINTABLE},n.getOppositeKeyGroup=function(e){var t=n.keyGroups;return e==t.FUNCTIONAL?t.PRINTABLE:t.FUNCTIONAL},n.ieFunctionalKeysBug=function(e){return CKEDITOR.env.ie&&n.getKeyGroup(e)==n.keyGroups.FUNCTIONAL};var r=CKEDITOR.plugins.undo.Image=function(e,t){this.editor=e,e.fire("beforeUndoImage");var n=e.getSnapshot();CKEDITOR.env.ie&&n&&(n=n.replace(/\s+data-cke-expando=".*?"/g,"")),this.contents=n,t||(this.bookmarks=(n=n&&e.getSelection())&&n.createBookmarks2(!0)),e.fire("afterUndoImage")},i=/\b(?:href|src|name)="[^"]*?"/gi;r.prototype={equalsContent:function(e){var t=this.contents;return e=e.contents,CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(t=t.replace(i,""),e=e.replace(i,"")),t!=e?!1:!0},equalsSelection:function(e){var t=this.bookmarks;if(e=e.bookmarks,t||e){if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(r.startOffset!=i.startOffset||r.endOffset!=i.endOffset||!CKEDITOR.tools.arrayCompare(r.start,i.start)||!CKEDITOR.tools.arrayCompare(r.end,i.end))return!1}}return!0}};var o=CKEDITOR.plugins.undo.NativeEditingHandler=function(e){this.undoManager=e,this.ignoreInputEvent=!1,this.keyEventsStack=new a,this.lastKeydownImage=null};o.prototype={onKeydown:function(t){var i=t.data.getKey();229!==i&&(-1<CKEDITOR.tools.indexOf(e,t.data.getKeystroke())?t.data.preventDefault():(this.keyEventsStack.cleanUp(t),t=this.undoManager,this.keyEventsStack.getLast(i)||this.keyEventsStack.push(i),this.lastKeydownImage=new r(t.editor),(n.isNavigationKey(i)||this.undoManager.keyGroupChanged(i))&&(t.strokesRecorded[0]||t.strokesRecorded[1])&&(t.save(!1,this.lastKeydownImage,!1),t.resetType())))},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var e=this.keyEventsStack.getLast();e||(e=this.keyEventsStack.push(0)),this.keyEventsStack.increment(e.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(e.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(e){var t=this.undoManager;e=e.data.getKey();var i=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(e),n.ieFunctionalKeysBug(e)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new r(t.editor,!0))||(i>0?t.type(e):n.isNavigationKey(e)&&this.onNavigationKey(!0))},onNavigationKey:function(e){var t=this.undoManager;!e&&t.save(!0,null,!1)||t.updateSelection(new r(t.editor)),t.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},attachListeners:function(){var e=this.undoManager.editor,t=e.editable(),r=this;t.attachListener(t,"keydown",function(e){r.onKeydown(e),n.ieFunctionalKeysBug(e.data.getKey())&&r.onInput()},null,null,999),t.attachListener(t,CKEDITOR.env.ie?"keypress":"input",r.onInput,r,null,999),t.attachListener(t,"keyup",r.onKeyup,r,null,999),t.attachListener(t,"paste",r.ignoreInputEventListener,r,null,999),t.attachListener(t,"drop",r.ignoreInputEventListener,r,null,999),t.attachListener(t.isInline()?t:e.document.getDocumentElement(),"click",function(){r.onNavigationKey()},null,null,999),t.attachListener(this.undoManager.editor,"blur",function(){r.keyEventsStack.remove(9)},null,null,999)}};var a=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};a.prototype={push:function(e){return e=this.stack.push({keyCode:e,inputs:0}),this.stack[e-1]},getLastIndex:function(e){if("number"!=typeof e)return this.stack.length-1;for(var t=this.stack.length;t--;)if(this.stack[t].keyCode==e)return t;return-1},getLast:function(e){return e=this.getLastIndex(e),-1!=e?this.stack[e]:null},increment:function(e){this.getLast(e).inputs++},remove:function(e){e=this.getLastIndex(e),-1!=e&&this.stack.splice(e,1)},resetInputs:function(e){if("number"==typeof e)this.getLast(e).inputs=0;else for(e=this.stack.length;e--;)this.stack[e].inputs=0},getTotalInputs:function(){for(var e=this.stack.length,t=0;e--;)t+=this.stack[e].inputs;return t},cleanUp:function(e){e=e.data.$,e.ctrlKey||e.metaKey||this.remove(17),e.shiftKey||this.remove(16),e.altKey||this.remove(18)}}}(),CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:function(e){e.config.wsc_onFinish="function"==typeof e.config.wsc_onFinish?e.config.wsc_onFinish:function(){},e.config.wsc_onClose="function"==typeof e.config.wsc_onClose?e.config.wsc_onClose:function(){}},parseConfig:function(e){e.config.wsc_customerId=e.config.wsc_customerId||CKEDITOR.config.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk",e.config.wsc_customDictionaryIds=e.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||"",e.config.wsc_userDictionaryName=e.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||"",e.config.wsc_customLoaderScript=e.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript,CKEDITOR.config.wsc_cmd=e.config.wsc_cmd||CKEDITOR.config.wsc_cmd||"spell",CKEDITOR.config.wsc_version="v4.3.0-master-d769233",CKEDITOR.config.wsc_removeGlobalVariable=!0},init:function(e){var t=CKEDITOR.env;this.parseConfig(e),this.parseApi(e),e.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes={wysiwyg:!(CKEDITOR.env.opera||CKEDITOR.env.air||document.domain!=window.location.hostname||t.ie&&(8>t.version||t.quirks))},"undefined"==typeof e.plugins.scayt&&e.ui.addButton&&e.ui.addButton("SpellChecker",{label:e.lang.wsc.toolbar,click:function(e){var t=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.container.getText():e.document.getBody().getText();(t=t.replace(/\s/g,""))?e.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"}),CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&7>=CKEDITOR.env.version?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"))}}),function(){function e(e){function n(e){var t=!1;s.attachListener(s,"keydown",function(){var n=i.getBody().getElementsByTag(e);if(!t){for(var r=0;r<n.count();r++)n.getItem(r).setCustomData("retain",!0);t=!0}},null,null,1),s.attachListener(s,"keyup",function(){var n=i.getElementsByTag(e);t&&(1!=n.count()||n.getItem(0).getCustomData("retain")||n.getItem(0).remove(1),t=!1)})}var r=this.editor,i=e.document,o=i.body,a=i.getElementById("cke_actscrpt");a&&a.parentNode.removeChild(a),(a=i.getElementById("cke_shimscrpt"))&&a.parentNode.removeChild(a),(a=i.getElementById("cke_basetagscrpt"))&&a.parentNode.removeChild(a),o.contentEditable=!0,CKEDITOR.env.ie&&(o.hideFocus=!0,o.disabled=!0,o.removeAttribute("disabled")),delete this._.isLoadingData,this.$=o,i=new CKEDITOR.dom.document(i),this.setup(),this.fixInitialSelection();var s=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&i.getDocumentElement().addClass(i.$.compatMode),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&r.enterMode!=CKEDITOR.ENTER_P?n("p"):CKEDITOR.env.edge&&r.enterMode!=CKEDITOR.ENTER_DIV&&n("div"),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)&&i.getDocumentElement().on("mousedown",function(e){e.data.getTarget().is("html")&&setTimeout(function(){r.editable().focus()})}),t(r);try{r.document.$.execCommand("2D-position",!1,!0)}catch(l){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==r.document.$.compatMode)&&this.attachListener(this,"keydown",function(e){var t=e.data.getKeystroke();if(33==t||34==t)if(CKEDITOR.env.ie)setTimeout(function(){r.getSelection().scrollIntoView()},0);else if(r.window.$.innerHeight>this.$.offsetHeight){var n=r.createRange();n[33==t?"moveToElementEditStart":"moveToElementEditEnd"](this),n.select(),e.data.preventDefault()}}),CKEDITOR.env.ie&&this.attachListener(i,"blur",function(){try{i.$.selection.empty()}catch(e){}}),CKEDITOR.env.iOS&&this.attachListener(i,"touchend",function(){e.focus()}),o=r.document.getElementsByTag("title").getItem(0),o.data("cke-title",o.getText()),CKEDITOR.env.ie&&(r.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready"),r.fire("contentDom"),this._.isPendingFocus&&(r.focus(),this._.isPendingFocus=!1),setTimeout(function(){r.fire("dataReady")},0)},0,this)}function t(e){function t(){var t;e.editable().attachListener(e,"selectionChange",function(){var r=e.getSelection().getSelectedElement();r&&(t&&(t.detachEvent("onresizestart",n),t=null),r.$.attachEvent("onresizestart",n),t=r.$)})}function n(e){e.returnValue=!1}if(CKEDITOR.env.gecko)try{var r=e.document.$;r.execCommand("enableObjectResizing",!1,!e.config.disableObjectResizing),r.execCommand("enableInlineTableEditing",!1,!e.config.disableNativeTableHandles)}catch(i){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&e.config.disableObjectResizing&&t(e)}function n(){var e=[];if(8<=CKEDITOR.document.$.documentMode){e.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var t,n=[];for(t in CKEDITOR.dtd.$removeEmpty)n.push("html.CSS1Compat "+t+"[contenteditable=false]");e.push(n.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(e.push("html{height:100% !important}"),e.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return e.push("html{cursor:text;*cursor:auto}"),e.push("img,input,textarea{cursor:default}"),e.join("\n")}CKEDITOR.plugins.add("wysiwygarea",{init:function(e){e.config.fullPage&&e.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),e.addMode("wysiwyg",function(t){function n(n){n&&n.removeListener(),e.editable(new r(e,o.$.contentWindow.document.body)),e.setData(e.getData(1),t)}var i="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",i=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(i)+"}())":"",o=CKEDITOR.dom.element.createFromHtml('<iframe src="'+i+'" frameBorder="0"></iframe>');o.setStyles({width:"100%",height:"100%"}),o.addClass("cke_wysiwyg_frame").addClass("cke_reset"),i=e.ui.space("contents"),i.append(o);var a=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;a&&o.on("load",n);var s=e.title,l=e.fire("ariaEditorHelpLabel",{}).label;if(s&&(CKEDITOR.env.ie&&l&&(s+=", "+l),o.setAttribute("title",s)),l){var s=CKEDITOR.tools.getNextId(),u=CKEDITOR.dom.element.createFromHtml('<span id="'+s+'" class="cke_voice_label">'+l+"</span>");i.append(u,1),o.setAttribute("aria-describedby",s)}e.on("beforeModeUnload",function(e){e.removeListener(),u&&u.remove()}),o.setAttributes({tabIndex:e.tabIndex,allowTransparency:"true"}),!a&&n(),e.fire("ariaWidget",o)})}}),CKEDITOR.editor.prototype.addContentsCss=function(e){var t=this.config,n=t.contentsCss;CKEDITOR.tools.isArray(n)||(t.contentsCss=n?[n]:[]),t.contentsCss.push(e)};var r=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(t){CKEDITOR.tools.setTimeout(e,0,this,t)},this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(e,t){var r=this.editor;if(t)this.setHtml(e),this.fixInitialSelection(),r.fire("dataReady");else{this._.isLoadingData=!0,r._.dataStore={id:1};var i=r.config,o=i.fullPage,a=i.docType,s=CKEDITOR.tools.buildStyleHtml(n()).replace(/<style>/,'<style data-cke-temp="1">');o||(s+=CKEDITOR.tools.buildStyleHtml(r.config.contentsCss));var l=i.baseHref?'<base href="'+i.baseHref+'" data-cke-temp="1" />':"";o&&(e=e.replace(/<!DOCTYPE[^>]*>/i,function(e){return r.docType=a=e,""}).replace(/<\?xml\s[^\?]*\?>/i,function(e){return r.xmlDeclaration=e,""})),e=r.dataProcessor.toHtml(e),o?(/<body[\s|>]/.test(e)||(e="<body>"+e),/<html[\s|>]/.test(e)||(e="<html>"+e+"</html>"),/<head[\s|>]/.test(e)?/<title[\s|>]/.test(e)||(e=e.replace(/<head[^>]*>/,"$&<title></title>")):e=e.replace(/<html[^>]*>/,"$&<head><title></title></head>"),l&&(e=e.replace(/<head[^>]*?>/,"$&"+l)),e=e.replace(/<\/head\s*>/,s+"$&"),e=a+e):e=i.docType+'<html dir="'+i.contentsLangDirection+'" lang="'+(i.contentsLanguage||r.langCode)+'"><head><title>'+this._.docTitle+"</title>"+l+s+"</head><body"+(i.bodyId?' id="'+i.bodyId+'"':"")+(i.bodyClass?' class="'+i.bodyClass+'"':"")+">"+e+"</body></html>",CKEDITOR.env.gecko&&(e=e.replace(/<body/,'<body contenteditable="true" '),2e4>CKEDITOR.env.version&&(e=e.replace(/<body[^>]*>/,"$&<!-- cke-content-start -->"))),i='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"</script>",CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(i+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)</script>'),l&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(i+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;</script>'),e=e.replace(/(?=\s*<\/(:?head)>)/,i),this.clearCustomData(),this.clearListeners(),r.fire("contentDomUnload");var u=this.getDocument();try{u.write(e)}catch(c){setTimeout(function(){u.write(e)},0)}}},getData:function(e){if(e)return this.getHtml();e=this.editor;var t=e.config,n=t.fullPage,r=n&&e.docType,i=n&&e.xmlDeclaration,o=this.getDocument(),n=n?o.getDocumentElement().getOuterHtml():o.getBody().getHtml();return CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(n=n.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),n=e.dataProcessor.toDataFormat(n),i&&(n=i+"\n"+n),r&&(n=r+"\n"+n),n},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:r.baseProto.focus.call(this)},detach:function(){var e,t=this.editor,n=t.document;try{e=t.window.getFrame()}catch(i){}r.baseProto.detach.call(this),this.clearCustomData(),n.getDocumentElement().clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),e&&e.getParent()?(e.clearCustomData(),(t=e.removeCustomData("onResize"))&&t.removeListener(),e.remove()):CKEDITOR.warn("editor-destroy-iframe")}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.plugins="dialogui,dialog,a11yhelp,about,basicstyles,blockquote,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filebrowser,floatingspace,listblock,button,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,toolbar,undo,wsc,wysiwygarea",CKEDITOR.config.skin="moono",function(){var e=function(e,t){var n=CKEDITOR.getUrl("plugins/"+t);e=e.split(",");for(var r=0;r<e.length;r++)CKEDITOR.skin.icons[e[r]]={path:n,offset:-e[++r],bgsize:e[++r]}};CKEDITOR.env.hidpi?e("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,creatediv,456,,docprops-rtl,480,,docprops,504,,embed,528,,embedsemantic,552,,find-rtl,576,,find,600,,replace,624,,flash,648,,button,672,,checkbox,696,,form,720,,hiddenfield,744,,imagebutton,768,,radio,792,,select-rtl,816,,select,840,,textarea-rtl,864,,textarea,888,,textfield-rtl,912,,textfield,936,,horizontalrule,960,,iframe,984,,image,1008,,indent-rtl,1032,,indent,1056,,outdent-rtl,1080,,outdent,1104,,justifyblock,1128,,justifycenter,1152,,justifyleft,1176,,justifyright,1200,,language,1224,,anchor-rtl,1248,,anchor,1272,,link,1296,,unlink,1320,,bulletedlist-rtl,1344,,bulletedlist,1368,,numberedlist-rtl,1392,,numberedlist,1416,,mathjax,1440,,maximize,1464,,newpage-rtl,1488,,newpage,1512,,pagebreak-rtl,1536,,pagebreak,1560,,pastefromword-rtl,1584,,pastefromword,1608,,pastetext-rtl,1632,,pastetext,1656,,placeholder,1680,,preview-rtl,1704,,preview,1728,,print,1752,,removeformat,1776,,save,1800,,scayt,1824,,selectall,1848,,showblocks-rtl,1872,,showblocks,1896,,smiley,1920,,source-rtl,1944,,source,1968,,sourcedialog-rtl,1992,,sourcedialog,2016,,specialchar,2040,,table,2064,,templates-rtl,2088,,templates,2112,,uicolor,2136,,redo-rtl,2160,,redo,2184,,undo-rtl,2208,,undo,2232,,simplebox,4512,auto,spellchecker,2280,","icons_hidpi.png"):e("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,creatediv,456,auto,docprops-rtl,480,auto,docprops,504,auto,embed,528,auto,embedsemantic,552,auto,find-rtl,576,auto,find,600,auto,replace,624,auto,flash,648,auto,button,672,auto,checkbox,696,auto,form,720,auto,hiddenfield,744,auto,imagebutton,768,auto,radio,792,auto,select-rtl,816,auto,select,840,auto,textarea-rtl,864,auto,textarea,888,auto,textfield-rtl,912,auto,textfield,936,auto,horizontalrule,960,auto,iframe,984,auto,image,1008,auto,indent-rtl,1032,auto,indent,1056,auto,outdent-rtl,1080,auto,outdent,1104,auto,justifyblock,1128,auto,justifycenter,1152,auto,justifyleft,1176,auto,justifyright,1200,auto,language,1224,auto,anchor-rtl,1248,auto,anchor,1272,auto,link,1296,auto,unlink,1320,auto,bulletedlist-rtl,1344,auto,bulletedlist,1368,auto,numberedlist-rtl,1392,auto,numberedlist,1416,auto,mathjax,1440,auto,maximize,1464,auto,newpage-rtl,1488,auto,newpage,1512,auto,pagebreak-rtl,1536,auto,pagebreak,1560,auto,pastefromword-rtl,1584,auto,pastefromword,1608,auto,pastetext-rtl,1632,auto,pastetext,1656,auto,placeholder,1680,auto,preview-rtl,1704,auto,preview,1728,auto,print,1752,auto,removeformat,1776,auto,save,1800,auto,scayt,1824,auto,selectall,1848,auto,showblocks-rtl,1872,auto,showblocks,1896,auto,smiley,1920,auto,source-rtl,1944,auto,source,1968,auto,sourcedialog-rtl,1992,auto,sourcedialog,2016,auto,specialchar,2040,auto,table,2064,auto,templates-rtl,2088,auto,templates,2112,auto,uicolor,2136,auto,redo-rtl,2160,auto,redo,2184,auto,undo-rtl,2208,auto,undo,2232,auto,simplebox,2256,auto,spellchecker,2280,auto","icons.png");

}())}(),function(e,t){return"function"==typeof define&&define.amd?void define(["angular","ckeditor"],function(e){return t(e)}):t(e)}(angular||null,function(e){var t,n=e.module("ngCkeditor",[]),r=!1;return n.run(["$q","$timeout",function(n,i){function o(){"loaded"===CKEDITOR.status?(r=!0,t.resolve()):o()}if(t=n.defer(),e.isUndefined(CKEDITOR))throw new Error("CKEDITOR not found");CKEDITOR.disableAutoInline=!0,CKEDITOR.on("loaded",o),i(o,100)}]),n.directive("ckeditor",["$timeout","$q",function(n,i){return{restrict:"AC",require:["ngModel","^?form"],scope:!1,link:function(o,a,s,l){var u=l[0],c=l[1]||null,d="<p></p>",p="textarea"===a[0].tagName.toLowerCase(),f=[],h=!1;p||a.attr("contenteditable",!0);var m=function(){var t={toolbar:"full",toolbar_full:[{name:"basicstyles",items:["Bold","Italic","Strike","Underline"]},{name:"paragraph",items:["BulletedList","NumberedList","Blockquote"]},{name:"editing",items:["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"tools",items:["SpellChecker","Maximize"]},"/",{name:"styles",items:["Format","FontSize","TextColor","PasteText","PasteFromWord","RemoveFormat"]},{name:"insert",items:["Image","Table","SpecialChar"]},{name:"forms",items:["Outdent","Indent"]},{name:"clipboard",items:["Undo","Redo"]},{name:"document",items:["PageBreak","Source"]}],disableNativeSpellChecker:!1,uiColor:"#FAFAFA",height:"400px",width:"100%"};t=e.extend(t,o[s.ckeditor]);var r=p?CKEDITOR.replace(a[0],t):CKEDITOR.inline(a[0],t),l=i.defer();a.bind("$destroy",function(){r&&CKEDITOR.instances[r.name]&&"ready"===r.status&&CKEDITOR.instances[r.name].destroy(!0)});var m=function(e){var t=r.getData();""===t&&(t=null),n(function(){(e!==!0||t!==u.$viewValue)&&u.$setViewValue(t),e===!0&&c&&c.$setPristine()},0)},g=function(e){if(f.length){var t=f.pop()||d;h=!1,r.setData(t,function(){m(e),h=!0})}},v=function(){r.on("pasteState",m),r.on("change",m),r.on("blur",m),r.on("instanceReady",function(){o.$broadcast("ckeditor.ready"),o.$apply(function(){g(!0)}),r.document.on("keyup",m)}),r.on("customConfigLoaded",function(){l.resolve()})};v(),u.$render=function(){f.push(u.$viewValue),h&&g()},o.$on("ckeditor.refresh",function(){r.destroy(),r=p?CKEDITOR.replace(a[0],t):CKEDITOR.inline(a[0],t),v()})};"loaded"===CKEDITOR.status&&(r=!0),r?m():t.promise.then(m)}}}]),n}),/*
 * ngDialog - easy modals and popup windows
 * http://github.com/likeastore/ngDialog
 * (c) 2013-2015 MIT License, https://likeastore.com
 */
function(e,t){"undefined"!=typeof module&&module.exports?(t("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(this,function(e){"use strict";var t=e.module("ngDialog",[]),n=e.element,r=e.isDefined,i=(document.body||document.documentElement).style,o=r(i.animation)||r(i.WebkitAnimation)||r(i.MozAnimation)||r(i.MsAnimation)||r(i.OAnimation),a="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",s="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",l="ngdialog-disabled-animation",u={html:!1,body:!1},c={},d=[],p=!1,f=!1;return t.provider("ngDialog",function(){var t=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null};this.setForceHtmlReload=function(e){u.html=e||!1},this.setForceBodyReload=function(e){u.body=e||!1},this.setDefaults=function(n){e.extend(t,n)},this.setOpenOnePerName=function(e){f=e||!1};var r,i=0,h=0,m={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(g,v,b,y,C,E,T,w,D,O){var I=[],R={onDocumentKeydown:function(e){27===e.keyCode&&$.close("$escape")},activate:function(e){var t=e.data("$ngDialogOptions");t.trapFocus&&(e.on("keydown",R.onTrapFocusKeydown),I.body.on("keydown",R.onTrapFocusKeydown))},deactivate:function(e){e.off("keydown",R.onTrapFocusKeydown),I.body.off("keydown",R.onTrapFocusKeydown)},deactivateAll:function(t){e.forEach(t,function(t){var n=e.element(t);R.deactivate(n)})},setBodyPadding:function(e){var t=parseInt(I.body.css("padding-right")||0,10);I.body.css("padding-right",t+e+"px"),I.body.data("ng-dialog-original-padding",t),E.$broadcast("ngDialog.setPadding",e)},resetBodyPadding:function(){var e=I.body.data("ng-dialog-original-padding");e?I.body.css("padding-right",e+"px"):I.body.css("padding-right",""),E.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(e,t){var n=e.data("$ngDialogOptions"),i=e.attr("id"),s=c[i];if(s){if("undefined"!=typeof w.Hammer){var l=s.hammerTime;l.off("tap",r),l.destroy&&l.destroy(),delete s.hammerTime}else e.unbind("click");1===h&&I.body.unbind("keydown",R.onDocumentKeydown),e.hasClass("ngdialog-closing")||(h-=1);var u=e.data("$ngDialogPreviousFocus");u&&u.focus&&u.focus(),E.$broadcast("ngDialog.closing",e,t),h=0>h?0:h,o&&!n.disableAnimation?(s.$destroy(),e.unbind(a).bind(a,function(){R.closeDialogElement(e,t)}).addClass("ngdialog-closing")):(s.$destroy(),R.closeDialogElement(e,t)),m[i]&&(m[i].resolve({id:i,value:t,$dialog:e,remainingDialogs:h}),delete m[i]),c[i]&&delete c[i],d.splice(d.indexOf(i),1),d.length||(I.body.unbind("keydown",R.onDocumentKeydown),p=!1)}},closeDialogElement:function(e,t){var n=e.data("$ngDialogOptions");e.remove(),0===h&&(I.html.removeClass(n.bodyClassName),I.body.removeClass(n.bodyClassName),R.resetBodyPadding()),E.$broadcast("ngDialog.closed",e,t)},closeDialog:function(t,n){var r=t.data("$ngDialogPreCloseCallback");if(r&&e.isFunction(r)){var i=r.call(t,n);e.isObject(i)?i.closePromise?i.closePromise.then(function(){R.performCloseDialog(t,n)}):i.then(function(){R.performCloseDialog(t,n)},function(){}):i!==!1&&R.performCloseDialog(t,n)}else R.performCloseDialog(t,n)},onTrapFocusKeydown:function(t){var n,r=e.element(t.currentTarget);if(r.hasClass("ngdialog"))n=r;else if(n=R.getActiveDialog(),null===n)return;var i=9===t.keyCode,o=t.shiftKey===!0;i&&R.handleTab(n,t,o)},handleTab:function(e,t,n){var r=R.getFocusableElements(e);if(0===r.length)return void(document.activeElement&&document.activeElement.blur&&document.activeElement.blur());var i=document.activeElement,o=Array.prototype.indexOf.call(r,i),a=-1===o,s=0===o,l=o===r.length-1,u=!1;n?(a||s)&&(r[r.length-1].focus(),u=!0):(a||l)&&(r[0].focus(),u=!0),u&&(t.preventDefault(),t.stopPropagation())},autoFocus:function(e){var t=e[0],r=t.querySelector("*[autofocus]");if(null===r||(r.focus(),document.activeElement!==r)){var i=R.getFocusableElements(e);if(i.length>0)return void i[0].focus();var o=R.filterVisibleElements(t.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(o.length>0){var a=o[0];n(a).attr("tabindex","-1").css("outline","0"),a.focus()}}},getFocusableElements:function(e){var t=e[0],n=t.querySelectorAll(s),r=R.filterTabbableElements(n);return R.filterVisibleElements(r)},filterTabbableElements:function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];"-1"!==n(i).attr("tabindex")&&t.push(i)}return t},filterVisibleElements:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];(r.offsetWidth>0||r.offsetHeight>0)&&t.push(r)}return t},getActiveDialog:function(){var e=document.querySelectorAll(".ngdialog");return 0===e.length?null:n(e[e.length-1])},applyAriaAttributes:function(e,t){if(t.ariaAuto){if(!t.ariaRole){var n=R.getFocusableElements(e).length>0?"dialog":"alertdialog";t.ariaRole=n}t.ariaLabelledBySelector||(t.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),t.ariaDescribedBySelector||(t.ariaDescribedBySelector="article,section,p")}t.ariaRole&&e.attr("role",t.ariaRole),R.applyAriaAttribute(e,"aria-labelledby",t.ariaLabelledById,t.ariaLabelledBySelector),R.applyAriaAttribute(e,"aria-describedby",t.ariaDescribedById,t.ariaDescribedBySelector)},applyAriaAttribute:function(e,t,r,i){if(r&&e.attr(t,r),i){var o=e.attr("id"),a=e[0].querySelector(i);if(!a)return;var s=o+"-"+t;return n(a).attr("id",s),e.attr(t,s),s}},detectUIRouter:function(){try{return e.module("ui.router"),!0}catch(t){return!1}},getRouterLocationEventName:function(){return R.detectUIRouter()?"$stateChangeSuccess":"$locationChangeSuccess"}},$={__PRIVATE__:R,open:function(o){function a(e,t){return E.$broadcast("ngDialog.templateLoading",e),C.get(e,t||{}).then(function(t){return E.$broadcast("ngDialog.templateLoaded",e),t.data||""})}function s(t){return t?e.isString(t)&&g.plain?t:"boolean"!=typeof g.cache||g.cache?a(t,{cache:v}):a(t,{cache:!1}):"Empty template"}var u=null;if(o=o||{},!(f&&o.name&&(u=o.name+" dialog",this.isOpen(u)))){var g=e.copy(t),x=++i;u=u||"ngdialog"+x,d.push(u),"undefined"!=typeof g.data&&("undefined"==typeof o.data&&(o.data={}),o.data=e.merge(e.copy(g.data),o.data)),e.extend(g,o);var k;m[u]=k=y.defer();var _;c[u]=_=e.isObject(g.scope)?g.scope.$new():E.$new();var S,A,N=e.extend({},g.resolve);return e.forEach(N,function(t,n){N[n]=e.isString(t)?O.get(t):O.invoke(t,null,null,n)}),y.all({template:s(g.template||g.templateUrl),locals:y.all(N)}).then(function(t){var i=t.template,o=t.locals;g.showClose&&(i+='<div class="ngdialog-close"></div>');var a=g.overlay?"":" ngdialog-no-overlay";if(S=n('<div id="'+u+'" class="ngdialog'+a+'"></div>'),S.html(g.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+i+"</div>":'<div class="ngdialog-content" role="document">'+i+"</div>"),S.data("$ngDialogOptions",g),_.ngDialogId=u,g.data&&e.isString(g.data)){var s=g.data.replace(/^\s*/,"")[0];_.ngDialogData="{"===s||"["===s?e.fromJson(g.data):new String(g.data),_.ngDialogData.ngDialogId=u}else g.data&&e.isObject(g.data)&&(_.ngDialogData=g.data,_.ngDialogData.ngDialogId=u);if(g.className&&S.addClass(g.className),g.appendClassName&&S.addClass(g.appendClassName),g.width){var c=S[0].querySelector(".ngdialog-content");c.style.width=e.isString(g.width)?g.width:g.width+"px"}if(g.disableAnimation&&S.addClass(l),A=g.appendTo&&e.isString(g.appendTo)?e.element(document.querySelector(g.appendTo)):I.body,R.applyAriaAttributes(S,g),g.preCloseCallback){var d;e.isFunction(g.preCloseCallback)?d=g.preCloseCallback:e.isString(g.preCloseCallback)&&_&&(e.isFunction(_[g.preCloseCallback])?d=_[g.preCloseCallback]:_.$parent&&e.isFunction(_.$parent[g.preCloseCallback])?d=_.$parent[g.preCloseCallback]:E&&e.isFunction(E[g.preCloseCallback])&&(d=E[g.preCloseCallback])),d&&S.data("$ngDialogPreCloseCallback",d)}if(_.closeThisDialog=function(e){R.closeDialog(S,e)},g.controller&&(e.isString(g.controller)||e.isArray(g.controller)||e.isFunction(g.controller))){var f;g.controllerAs&&e.isString(g.controllerAs)&&(f=g.controllerAs);var m=D(g.controller,e.extend(o,{$scope:_,$element:S}),!0,f);g.bindToController&&e.extend(m.instance,{ngDialogId:_.ngDialogId,ngDialogData:_.ngDialogData,closeThisDialog:_.closeThisDialog}),"function"==typeof m?S.data("$ngDialogControllerController",m()):S.data("$ngDialogControllerController",m)}if(T(function(){var e=document.querySelectorAll(".ngdialog");R.deactivateAll(e),b(S)(_);var t=w.innerWidth-I.body.prop("clientWidth");I.html.addClass(g.bodyClassName),I.body.addClass(g.bodyClassName);var n=t-(w.innerWidth-I.body.prop("clientWidth"));n>0&&R.setBodyPadding(n),A.append(S),R.activate(S),g.trapFocus&&R.autoFocus(S),g.name?E.$broadcast("ngDialog.opened",{dialog:S,name:g.name}):E.$broadcast("ngDialog.opened",S)}),p||(I.body.bind("keydown",R.onDocumentKeydown),p=!0),g.closeByNavigation){var v=R.getRouterLocationEventName();E.$on(v,function(){R.closeDialog(S)})}if(g.preserveFocus&&S.data("$ngDialogPreviousFocus",document.activeElement),r=function(e){var t=g.closeByDocument?n(e.target).hasClass("ngdialog-overlay"):!1,r=n(e.target).hasClass("ngdialog-close");(t||r)&&$.close(S.attr("id"),r?"$closeButton":"$document")},"undefined"!=typeof w.Hammer){var y=_.hammerTime=w.Hammer(S[0]);y.on("tap",r)}else S.bind("click",r);return h+=1,$}),{id:u,closePromise:k.promise,close:function(e){R.closeDialog(S,e)}}}},openConfirm:function(r){var i=y.defer(),o=e.copy(t);r=r||{},"undefined"!=typeof o.data&&("undefined"==typeof r.data&&(r.data={}),r.data=e.merge(e.copy(o.data),r.data)),e.extend(o,r),o.scope=e.isObject(o.scope)?o.scope.$new():E.$new(),o.scope.confirm=function(e){i.resolve(e);var t=n(document.getElementById(a.id));R.performCloseDialog(t,e)};var a=$.open(o);return a?(a.closePromise.then(function(e){return e?i.reject(e.value):i.reject()}),i.promise):void 0},isOpen:function(e){var t=n(document.getElementById(e));return t.length>0},close:function(e,t){var r=n(document.getElementById(e));if(r.length)R.closeDialog(r,t);else if("$escape"===e){var i=d[d.length-1];r=n(document.getElementById(i)),r.data("$ngDialogOptions").closeByEscape&&R.closeDialog(r,"$escape")}else $.closeAll(t);return $},closeAll:function(e){for(var t=document.querySelectorAll(".ngdialog"),r=t.length-1;r>=0;r--){var i=t[r];R.closeDialog(n(i),e)}},getOpenDialogs:function(){return d},getDefaults:function(){return t}};return e.forEach(["html","body"],function(e){if(I[e]=g.find(e),u[e]){var t=R.getRouterLocationEventName();E.$on(t,function(){I[e]=g.find(e)})}}),$}]}),t.directive("ngDialog",["ngDialog",function(t){return{restrict:"A",scope:{ngDialogScope:"="},link:function(n,r,i){r.on("click",function(r){r.preventDefault();var o=e.isDefined(n.ngDialogScope)?n.ngDialogScope:"noScope";e.isDefined(i.ngDialogClosePrevious)&&t.close(i.ngDialogClosePrevious);var a=t.getDefaults();t.open({template:i.ngDialog,className:i.ngDialogClass||a.className,appendClassName:i.ngDialogAppendClass,controller:i.ngDialogController,controllerAs:i.ngDialogControllerAs,bindToController:i.ngDialogBindToController,scope:o,data:i.ngDialogData,showClose:"false"===i.ngDialogShowClose?!1:"true"===i.ngDialogShowClose?!0:a.showClose,closeByDocument:"false"===i.ngDialogCloseByDocument?!1:"true"===i.ngDialogCloseByDocument?!0:a.closeByDocument,closeByEscape:"false"===i.ngDialogCloseByEscape?!1:"true"===i.ngDialogCloseByEscape?!0:a.closeByEscape,overlay:"false"===i.ngDialogOverlay?!1:"true"===i.ngDialogOverlay?!0:a.overlay,preCloseCallback:i.ngDialogPreCloseCallback||a.preCloseCallback,bodyClassName:i.ngDialogBodyClass||a.bodyClassName})})}}}]),t}),function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";t.exports={isLayoutComponent:function(e){return e.columns&&Array.isArray(e.columns)||e.rows&&Array.isArray(e.rows)||e.components&&Array.isArray(e.components)?!0:!1},eachComponent:function r(e,t,n,i){e&&(i=i||"",e.forEach(function(e){var o=e.columns&&Array.isArray(e.columns),a=e.rows&&Array.isArray(e.rows),s=e.components&&Array.isArray(e.components),l=!1,u=e.key?i?i+"."+e.key:e.key:"";(n||e.tree||!o&&!a&&!s)&&(l=t(e,u));var c=function(){return!e.key||"datagrid"!==e.type&&"container"!==e.type?i:u};l||(o?e.columns.forEach(function(e){r(e.components,t,n,c())}):a?[].concat.apply([],e.rows).forEach(function(e){r(e.components,t,n,c())}):s&&r(e.components,t,n,c()))}))},getComponent:function(e,n){var r;return t.exports.eachComponent(e,function(e){e.key===n&&(r=e)}),r},flattenComponents:function(e,n){var r={};return t.exports.eachComponent(e,function(e,t){r[t]=e},n),r},getValue:function(e,t){var n=e.data||{},r=function i(e){var n,r;if(e instanceof Array){for(n=0;n<e.length;n++)if("object"==typeof e[n]&&(r=i(e[n])),r)return r}else if("object"==typeof e){if(e.hasOwnProperty(t))return e[t];var o=Object.keys(e);for(n=0;n<o.length;n++)if("object"==typeof e[o[n]]&&(r=i(e[o[n]])),r)return r}};return r(n)}}},{}],2:[function(e,t,n){(function(e){(function(){function r(e,t){return e.set(t[0],t[1]),e}function i(e,t){return e.add(t),e}function o(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function a(e,t,n,r){for(var i=-1,o=e?e.length:0;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function s(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function l(e,t){for(var n=e?e.length:0;n--&&t(e[n],n,e)!==!1;);return e}function u(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(!t(e[n],n,e))return!1;return!0}function c(e,t){for(var n=-1,r=e?e.length:0,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function d(e,t){var n=e?e.length:0;return!!n&&C(e,t,0)>-1}function p(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function f(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function h(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function m(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function g(e,t,n,r){var i=e?e.length:0;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function v(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function b(e,t,n){var r;return n(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function y(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function C(e,t,n){if(t!==t)return F(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function E(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function T(e,t){var n=e?e.length:0;return n?O(e,t)/n:De}function w(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function D(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function O(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==X&&(n=n===X?o:n+o)}return n}function I(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function R(e,t){return f(t,function(t){return[t,e[t]]})}function $(e){return function(t){return e(t)}}function x(e,t){return f(t,function(t){return e[t]})}function k(e,t){return e.has(t)}function _(e,t){for(var n=-1,r=e.length;++n<r&&C(t,e[n],0)>-1;);return n}function S(e,t){for(var n=e.length;n--&&C(t,e[n],0)>-1;);return n}function A(e){return e&&e.Object===Object?e:null}function N(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function K(e){return Rn[e]}function P(e){return $n[e]}function M(e){return"\\"+kn[e]}function L(e,t){return null==e?X:e[t]}function F(e,t,n){for(var r=e.length,i=t+(n?1:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function B(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function j(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function U(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function V(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];(a===t||a===te)&&(e[n]=te,o[i++]=n)}return o}function H(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function z(e){if(!e||!En.test(e))return e.length;for(var t=yn.lastIndex=0;yn.test(e);)t++;return t}function G(e){return e.match(yn)}function W(e){return xn[e]}function Y(e){function t(e){if(bs(e)&&!gd(e)&&!(e instanceof At)){if(e instanceof A)return e;if(xu.call(e,"__wrapped__"))return po(e)}return new A(e)}function n(){}function A(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=X}function At(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oe,this.__views__=[]}function Nt(){var e=new At(this.__wrapped__);return e.__actions__=ni(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ni(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ni(this.__views__),e}function Kt(){if(this.__filtered__){var e=new At(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Pt(){var e=this.__wrapped__.value(),t=this.__dir__,n=gd(e),r=0>t,i=n?e.length:0,o=Ui(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,c=this.__iteratees__,d=c.length,p=0,f=Qu(l,this.__takeCount__);if(!n||Z>i||i==l&&f==l)return Mr(e,this.__actions__);var h=[];e:for(;l--&&f>p;){u+=t;for(var m=-1,g=e[u];++m<d;){var v=c[m],b=v.iteratee,y=v.type,C=b(g);if(y==ye)g=C;else if(!C){if(y==be)continue e;break e}}h[p++]=g}return h}function Mt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Lt(){this.__data__=cc?cc(null):{}}function Ft(e){return this.has(e)&&delete this.__data__[e]}function Bt(e){var t=this.__data__;if(cc){var n=t[e];return n===ee?X:n}return xu.call(t,e)?t[e]:X}function jt(e){var t=this.__data__;return cc?t[e]!==X:xu.call(t,e)}function Ut(e,t){var n=this.__data__;return n[e]=cc&&t===X?ee:t,this}function Vt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ht(){this.__data__=[]}function qt(e){var t=this.__data__,n=hn(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():Hu.call(t,n,1),!0}function zt(e){var t=this.__data__,n=hn(t,e);return 0>n?X:t[n][1]}function Gt(e){return hn(this.__data__,e)>-1}function Wt(e,t){var n=this.__data__,r=hn(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function Yt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xt(){this.__data__={hash:new Mt,map:new(ac||Vt),string:new Mt}}function Jt(e){return Pi(this,e)["delete"](e)}function Zt(e){return Pi(this,e).get(e)}function Qt(e){return Pi(this,e).has(e)}function en(e,t){return Pi(this,e).set(e,t),this}function tn(e){var t=-1,n=e?e.length:0;for(this.__data__=new Yt;++t<n;)this.add(e[t])}function nn(e){return this.__data__.set(e,ee),this}function rn(e){return this.__data__.has(e)}function on(e){this.__data__=new Vt(e)}function an(){this.__data__=new Vt}function sn(e){return this.__data__["delete"](e)}function ln(e){return this.__data__.get(e)}function un(e){return this.__data__.has(e)}function cn(e,t){var n=this.__data__;return n instanceof Vt&&n.__data__.length==Z&&(n=this.__data__=new Yt(n.__data__)),n.set(e,t),this}function dn(e,t,n,r){return e===X||ts(e,Du[n])&&!xu.call(r,n)?t:e}function pn(e,t,n){(n!==X&&!ts(e[t],n)||"number"==typeof t&&n===X&&!(t in e))&&(e[t]=n)}function fn(e,t,n){var r=e[t];xu.call(e,t)&&ts(r,n)&&(n!==X||t in e)||(e[t]=n)}function hn(e,t){for(var n=e.length;n--;)if(ts(e[n][0],t))return n;return-1}function mn(e,t,n,r){return Tc(e,function(e,i,o){t(r,e,n(e),o)}),r}function gn(e,t){return e&&ri(t,rl(t),e)}function yn(e,t){for(var n=-1,r=null==e,i=t.length,o=Array(i);++n<i;)o[n]=r?X:el(e,t[n]);return o}function Rn(e,t,n){return e===e&&(n!==X&&(e=n>=e?e:n),t!==X&&(e=e>=t?e:t)),e}function $n(e,t,n,r,i,o,a){var l;if(r&&(l=o?r(e,i,o,a):r(e)),l!==X)return l;if(!vs(e))return e;var u=gd(e);if(u){if(l=Hi(e),!t)return ni(e,l)}else{var c=ji(e),d=c==Ae||c==Ne;if(vd(e))return Hr(e,t);if(c==Me||c==$e||d&&!o){if(B(e))return o?e:{};if(l=qi(d?{}:e),!t)return ii(e,gn(l,e))}else{if(!In[c])return o?e:{};l=zi(e,c,$n,t)}}a||(a=new on);var p=a.get(e);if(p)return p;if(a.set(e,l),!u)var f=n?_i(e):rl(e);return s(f||e,function(i,o){f&&(o=i,i=e[o]),fn(l,o,$n(i,t,n,r,o,e,a))}),l}function xn(e){var t=rl(e),n=t.length;return function(r){if(null==r)return!n;for(var i=n;i--;){var o=t[i],a=e[o],s=r[o];if(s===X&&!(o in Object(r))||!a(s))return!1}return!0}}function kn(e){return vs(e)?Uu(e):{}}function An(e,t,n){if("function"!=typeof e)throw new Tu(Q);return qu(function(){e.apply(X,n)},t)}function Nn(e,t,n,r){var i=-1,o=d,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=f(t,$(n))),r?(o=p,a=!1):t.length>=Z&&(o=k,a=!1,t=new tn(t));e:for(;++i<s;){var c=e[i],h=n?n(c):c;if(c=r||0!==c?c:0,a&&h===h){for(var m=u;m--;)if(t[m]===h)continue e;l.push(c)}else o(t,h,r)||l.push(c)}return l}function Pn(e,t){var n=!0;return Tc(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Mn(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===X?a===a&&!Ss(a):n(a,s)))var s=a,l=o}return l}function Ln(e,t,n,r){var i=e.length;for(n=Fs(n),0>n&&(n=-n>i?0:i+n),r=r===X||r>i?i:Fs(r),0>r&&(r+=i),r=n>r?0:Bs(r);r>n;)e[n++]=t;return e}function jn(e,t){var n=[];return Tc(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Un(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=Wi),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Un(s,t-1,n,r,i):h(i,s):r||(i[i.length]=s)}return i}function Vn(e,t){return e&&Dc(e,t,rl)}function Hn(e,t){return e&&Oc(e,t,rl)}function qn(e,t){return c(t,function(t){return hs(e[t])})}function zn(e,t){t=Zi(t,e)?[t]:Ur(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[uo(t[n++])];return n&&n==r?e:X}function Gn(e,t,n){var r=t(e);return gd(e)?r:h(r,n(e))}function Wn(e,t){return e>t}function Yn(e,t){return null!=e&&(xu.call(e,t)||"object"==typeof e&&t in e&&null===Fi(e))}function Xn(e,t){return null!=e&&t in Object(e)}function Jn(e,t,n){return e>=Qu(t,n)&&e<Zu(t,n)}function Zn(e,t,n){for(var r=n?p:d,i=e[0].length,o=e.length,a=o,s=Array(o),l=1/0,u=[];a--;){var c=e[a];a&&t&&(c=f(c,$(t))),l=Qu(c.length,l),s[a]=!n&&(t||i>=120&&c.length>=120)?new tn(a&&c):X}c=e[0];var h=-1,m=s[0];e:for(;++h<i&&u.length<l;){var g=c[h],v=t?t(g):g;if(g=n||0!==g?g:0,!(m?k(m,v):r(u,v,n))){for(a=o;--a;){var b=s[a];if(!(b?k(b,v):r(e[a],v,n)))continue e}m&&m.push(v),u.push(g)}}return u}function Qn(e,t,n,r){return Vn(e,function(e,i,o){t(r,n(e),i,o)}),r}function er(e,t,n){Zi(t,e)||(t=Ur(t),e=so(e,t),t=_o(t));var r=null==e?e:e[uo(t)];return null==r?X:o(r,e,n)}function tr(e,t,n,r,i){return e===t?!0:null==e||null==t||!vs(e)&&!bs(t)?e!==e&&t!==t:nr(e,t,tr,n,r,i)}function nr(e,t,n,r,i,o){var a=gd(e),s=gd(t),l=xe,u=xe;a||(l=ji(e),l=l==$e?Me:l),s||(u=ji(t),u=u==$e?Me:u);var c=l==Me&&!B(e),d=u==Me&&!B(t),p=l==u;if(p&&!c)return o||(o=new on),a||As(e)?$i(e,t,n,r,i,o):xi(e,t,l,n,r,i,o);if(!(i&fe)){var f=c&&xu.call(e,"__wrapped__"),h=d&&xu.call(t,"__wrapped__");if(f||h){var m=f?e.value():e,g=h?t.value():t;return o||(o=new on),n(m,g,r,i,o)}}return p?(o||(o=new on),ki(e,t,n,r,i,o)):!1}function rr(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===X&&!(l in e))return!1}else{var d=new on;if(r)var p=r(u,c,l,e,t,d);if(!(p===X?tr(c,u,r,pe|fe,d):p))return!1}}return!0}function ir(e){if(!vs(e)||to(e))return!1;var t=hs(e)||B(e)?Nu:Rt;return t.test(co(e))}function or(e){return"function"==typeof e?e:null==e?zl:"object"==typeof e?gd(e)?dr(e[0],e[1]):cr(e):eu(e)}function ar(e){return Ju(Object(e))}function sr(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function lr(e,t){return t>e}function ur(e,t){var n=-1,r=is(e)?Array(e.length):[];return Tc(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function cr(e){var t=Mi(e);return 1==t.length&&t[0][2]?io(t[0][0],t[0][1]):function(n){return n===e||rr(n,e,t)}}function dr(e,t){return Zi(e)&&ro(t)?io(uo(e),t):function(n){var r=el(n,e);return r===X&&r===t?nl(n,e):tr(t,r,X,pe|fe)}}function pr(e,t,n,r,i){if(e!==t){if(!gd(t)&&!As(t))var o=il(t);s(o||t,function(a,s){if(o&&(s=a,a=t[s]),vs(a))i||(i=new on),fr(e,t,s,n,pr,r,i);else{var l=r?r(e[s],a,s+"",e,t,i):X;l===X&&(l=a),pn(e,s,l)}})}}function fr(e,t,n,r,i,o,a){var s=e[n],l=t[n],u=a.get(l);if(u)return void pn(e,n,u);var c=o?o(s,l,n+"",e,t,a):X,d=c===X;d&&(c=l,gd(l)||As(l)?gd(s)?c=s:os(s)?c=ni(s):(d=!1,c=$n(l,!0)):Rs(l)||ns(l)?ns(s)?c=Us(s):!vs(s)||r&&hs(s)?(d=!1,c=$n(l,!0)):c=s:d=!1),a.set(l,c),d&&i(c,l,r,o,a),a["delete"](l),pn(e,n,c)}function hr(e,t){var n=e.length;if(n)return t+=0>t?n:0,Xi(t,n)?e[t]:X}function mr(e,t,n){var r=-1;t=f(t.length?t:[zl],$(Ki()));var i=ur(e,function(e,n,i){var o=f(t,function(t){return t(e)});return{criteria:o,index:++r,value:e}});return D(i,function(e,t){return Qr(e,t,n)})}function gr(e,t){return e=Object(e),m(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function vr(e,t){for(var n=-1,r=Si(e),i=r.length,o={};++n<i;){var a=r[n],s=e[a];t(s,a)&&(o[a]=s)}return o}function br(e){return function(t){return null==t?X:t[e]}}function yr(e){return function(t){return zn(t,e)}}function Cr(e,t,n,r){var i=r?E:C,o=-1,a=t.length,s=e;for(e===t&&(t=ni(t)),n&&(s=f(e,$(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Hu.call(s,l,1),Hu.call(e,l,1);return e}function Er(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;if(Xi(i))Hu.call(e,i,1);else if(Zi(i,e))delete e[uo(i)];else{var a=Ur(i),s=so(e,a);null!=s&&delete s[uo(_o(a))]}}}return e}function Tr(e,t){return e+Gu(tc()*(t-e+1))}function wr(e,t,n,r){for(var i=-1,o=Zu(zu((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}function Dr(e,t){var n="";if(!e||1>t||t>Te)return n;do t%2&&(n+=e),t=Gu(t/2),t&&(e+=e);while(t);return n}function Or(e,t,n,r){t=Zi(t,e)?[t]:Ur(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var l=uo(t[i]);if(vs(s)){var u=n;if(i!=a){var c=s[l];u=r?r(c,l,s):X,u===X&&(u=null==c?Xi(t[i+1])?[]:{}:c)}fn(s,l,u)}s=s[l]}return e}function Ir(e,t,n){var r=-1,i=e.length;0>t&&(t=-t>i?0:i+t),n=n>i?i:n,0>n&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function Rr(e,t){var n;return Tc(e,function(e,r,i){return n=t(e,r,i),!n}),!!n}function $r(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&Re>=i){for(;i>r;){var o=r+i>>>1,a=e[o];null!==a&&!Ss(a)&&(n?t>=a:t>a)?r=o+1:i=o}return i}return xr(e,t,zl,n)}function xr(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,l=Ss(t),u=t===X;o>i;){var c=Gu((i+o)/2),d=n(e[c]),p=d!==X,f=null===d,h=d===d,m=Ss(d);if(a)var g=r||h;else g=u?h&&(r||p):s?h&&p&&(r||!f):l?h&&p&&!f&&(r||!m):f||m?!1:r?t>=d:t>d;g?i=c+1:o=c}return Qu(o,Ie)}function kr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!ts(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function _r(e){return"number"==typeof e?e:Ss(e)?De:+e}function Sr(e){if("string"==typeof e)return e;if(Ss(e))return Ec?Ec.call(e):"";var t=e+"";return"0"==t&&1/e==-Ee?"-0":t}function Ar(e,t,n){var r=-1,i=d,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=p;else if(o>=Z){var u=t?null:Rc(e);if(u)return H(u);a=!1,i=k,l=new tn}else l=t?[]:s;e:for(;++r<o;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}function Nr(e,t){t=Zi(t,e)?[t]:Ur(t),e=so(e,t);var n=uo(_o(t));return!(null!=e&&Yn(e,n))||delete e[n]}function Kr(e,t,n,r){return Or(e,t,n(zn(e,t)),r)}function Pr(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Ir(e,r?0:o,r?o+1:i):Ir(e,r?o+1:0,r?i:o)}function Mr(e,t){var n=e;return n instanceof At&&(n=n.value()),m(t,function(e,t){return t.func.apply(t.thisArg,h([e],t.args))},n)}function Lr(e,t,n){for(var r=-1,i=e.length;++r<i;)var o=o?h(Nn(o,e[r],t,n),Nn(e[r],o,t,n)):e[r];return o&&o.length?Ar(o,t,n):[]}function Fr(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var s=o>r?t[r]:X;n(a,e[r],s)}return a}function Br(e){return os(e)?e:[]}function jr(e){return"function"==typeof e?e:zl}function Ur(e){return gd(e)?e:Ac(e)}function Vr(e,t,n){var r=e.length;return n=n===X?r:n,!t&&n>=r?e:Ir(e,t,n)}function Hr(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function qr(e){var t=new e.constructor(e.byteLength);return new Lu(t).set(new Lu(e)),t}function zr(e,t){var n=t?qr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Gr(e,t,n){var i=t?n(U(e),!0):U(e);return m(i,r,new e.constructor)}function Wr(e){var t=new e.constructor(e.source,wt.exec(e));return t.lastIndex=e.lastIndex,t}function Yr(e,t,n){var r=t?n(H(e),!0):H(e);return m(r,i,new e.constructor)}function Xr(e){return Cc?Object(Cc.call(e)):{}}function Jr(e,t){var n=t?qr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Zr(e,t){if(e!==t){var n=e!==X,r=null===e,i=e===e,o=Ss(e),a=t!==X,s=null===t,l=t===t,u=Ss(t);if(!s&&!u&&!o&&e>t||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t>e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function Qr(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=Zr(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*("desc"==u?-1:1)}}return e.index-t.index}function ei(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,l=t.length,u=Zu(o-a,0),c=Array(l+u),d=!r;++s<l;)c[s]=t[s];for(;++i<a;)(d||o>i)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function ti(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=Zu(o-s,0),d=Array(c+u),p=!r;++i<c;)d[i]=e[i];for(var f=i;++l<u;)d[f+l]=t[l];for(;++a<s;)(p||o>i)&&(d[f+n[a]]=e[i++]);return d}function ni(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function ri(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):e[a];fn(n,a,s)}return n}function ii(e,t){return ri(e,Bi(e),t)}function oi(e,t){return function(n,r){var i=gd(n)?a:mn,o=t?t():{};return i(n,e,Ki(r),o)}}function ai(e){return qa(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:X,a=i>2?n[2]:X;for(o=e.length>3&&"function"==typeof o?(i--,o):X,a&&Ji(n[0],n[1],a)&&(o=3>i?X:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})}function si(e,t){return function(n,r){if(null==n)return n;if(!is(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}function li(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(n(o[l],l,o)===!1)break}return t}}function ui(e,t,n){function r(){var t=this&&this!==Fn&&this instanceof r?o:e;return t.apply(i?n:this,arguments)}var i=t&ne,o=pi(e);return r}function ci(e){return function(t){t=Hs(t);var n=En.test(t)?G(t):X,r=n?n[0]:t.charAt(0),i=n?Vr(n,1).join(""):t.slice(1);return r[e]()+i}}function di(e){return function(t){return m(Ul(Tl(t).replace(vn,"")),e,"")}}function pi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);

case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=kn(e.prototype),r=e.apply(n,t);return vs(r)?r:n}}function fi(e,t,n){function r(){for(var a=arguments.length,s=Array(a),l=a,u=Ni(r);l--;)s[l]=arguments[l];var c=3>a&&s[0]!==u&&s[a-1]!==u?[]:V(s,u);if(a-=c.length,n>a)return Di(e,t,gi,r.placeholder,X,s,c,X,X,n-a);var d=this&&this!==Fn&&this instanceof r?i:e;return o(d,this,s)}var i=pi(e);return r}function hi(e){return function(t,n,r){var i=Object(t);if(n=Ki(n,3),!is(t))var o=rl(t);var a=e(o||t,function(e,t){return o&&(t=e,e=i[t]),n(e,t,i)},r);return a>-1?t[o?o[a]:a]:X}}function mi(e){return qa(function(t){t=Un(t,1);var n=t.length,r=n,i=A.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new Tu(Q);if(i&&!a&&"wrapper"==Ai(o))var a=new A([],!0)}for(r=a?r:n;++r<n;){o=t[r];var s=Ai(o),l="wrapper"==s?$c(o):X;a=l&&eo(l[0])&&l[1]==(ue|oe|se|ce)&&!l[4].length&&1==l[9]?a[Ai(l[0])].apply(a,l[3]):1==o.length&&eo(o)?a[s]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&gd(r)&&r.length>=Z)return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function gi(e,t,n,r,i,o,a,s,l,u){function c(){for(var v=arguments.length,b=Array(v),y=v;y--;)b[y]=arguments[y];if(h)var C=Ni(c),E=N(b,C);if(r&&(b=ei(b,r,i,h)),o&&(b=ti(b,o,a,h)),v-=E,h&&u>v){var T=V(b,C);return Di(e,t,gi,c.placeholder,n,b,T,s,l,u-v)}var w=p?n:this,D=f?w[e]:e;return v=b.length,s?b=lo(b,s):m&&v>1&&b.reverse(),d&&v>l&&(b.length=l),this&&this!==Fn&&this instanceof c&&(D=g||pi(D)),D.apply(w,b)}var d=t&ue,p=t&ne,f=t&re,h=t&(oe|ae),m=t&de,g=f?X:pi(e);return c}function vi(e,t){return function(n,r){return Qn(n,e,t(r),{})}}function bi(e){return function(t,n){var r;if(t===X&&n===X)return 0;if(t!==X&&(r=t),n!==X){if(r===X)return n;"string"==typeof t||"string"==typeof n?(t=Sr(t),n=Sr(n)):(t=_r(t),n=_r(n)),r=e(t,n)}return r}}function yi(e){return qa(function(t){return t=1==t.length&&gd(t[0])?f(t[0],$(Ki())):f(Un(t,1,Yi),$(Ki())),qa(function(n){var r=this;return e(t,function(e){return o(e,r,n)})})})}function Ci(e,t){t=t===X?" ":Sr(t);var n=t.length;if(2>n)return n?Dr(t,e):t;var r=Dr(t,zu(e/z(t)));return En.test(t)?Vr(G(r),0,e).join(""):r.slice(0,e)}function Ei(e,t,n,r){function i(){for(var t=-1,l=arguments.length,u=-1,c=r.length,d=Array(c+l),p=this&&this!==Fn&&this instanceof i?s:e;++u<c;)d[u]=r[u];for(;l--;)d[u++]=arguments[++t];return o(p,a?n:this,d)}var a=t&ne,s=pi(e);return i}function Ti(e){return function(t,n,r){return r&&"number"!=typeof r&&Ji(t,n,r)&&(n=r=X),t=js(t),t=t===t?t:0,n===X?(n=t,t=0):n=js(n)||0,r=r===X?n>t?1:-1:js(r)||0,wr(t,n,r,e)}}function wi(e){return function(t,n){return("string"!=typeof t||"string"!=typeof n)&&(t=js(t),n=js(n)),e(t,n)}}function Di(e,t,n,r,i,o,a,s,l,u){var c=t&oe,d=c?a:X,p=c?X:a,f=c?o:X,h=c?X:o;t|=c?se:le,t&=~(c?le:se),t&ie||(t&=~(ne|re));var m=[e,t,i,f,d,h,p,s,l,u],g=n.apply(X,m);return eo(e)&&Sc(g,m),g.placeholder=r,g}function Oi(e){var t=Cu[e];return function(e,n){if(e=js(e),n=Qu(Fs(n),292)){var r=(Hs(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return r=(Hs(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}function Ii(e){return function(t){var n=ji(t);return n==Ke?U(t):n==Be?q(t):R(t,e(t))}}function Ri(e,t,n,r,i,o,a,s){var l=t&re;if(!l&&"function"!=typeof e)throw new Tu(Q);var u=r?r.length:0;if(u||(t&=~(se|le),r=i=X),a=a===X?a:Zu(Fs(a),0),s=s===X?s:Fs(s),u-=i?i.length:0,t&le){var c=r,d=i;r=i=X}var p=l?X:$c(e),f=[e,t,n,r,i,c,d,o,a,s];if(p&&oo(f,p),e=f[0],t=f[1],n=f[2],r=f[3],i=f[4],s=f[9]=null==f[9]?l?0:e.length:Zu(f[9]-u,0),!s&&t&(oe|ae)&&(t&=~(oe|ae)),t&&t!=ne)h=t==oe||t==ae?fi(e,t,s):t!=se&&t!=(ne|se)||i.length?gi.apply(X,f):Ei(e,t,n,r);else var h=ui(e,t,n);var m=p?Ic:Sc;return m(h,f)}function $i(e,t,n,r,i,o){var a=i&fe,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u)return u==t;var c=-1,d=!0,p=i&pe?new tn:X;for(o.set(e,t);++c<s;){var f=e[c],h=t[c];if(r)var m=a?r(h,f,c,t,e,o):r(f,h,c,e,t,o);if(m!==X){if(m)continue;d=!1;break}if(p){if(!v(t,function(e,t){return p.has(t)||f!==e&&!n(f,e,r,i,o)?void 0:p.add(t)})){d=!1;break}}else if(f!==h&&!n(f,h,r,i,o)){d=!1;break}}return o["delete"](e),d}function xi(e,t,n,r,i,o,a){switch(n){case ze:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case qe:return e.byteLength==t.byteLength&&r(new Lu(e),new Lu(t))?!0:!1;case ke:case _e:return+e==+t;case Se:return e.name==t.name&&e.message==t.message;case Pe:return e!=+e?t!=+t:e==+t;case Fe:case je:return e==t+"";case Ke:var s=U;case Be:var l=o&fe;if(s||(s=H),e.size!=t.size&&!l)return!1;var u=a.get(e);return u?u==t:(o|=pe,a.set(e,t),$i(s(e),s(t),r,i,o,a));case Ue:if(Cc)return Cc.call(e)==Cc.call(t)}return!1}function ki(e,t,n,r,i,o){var a=i&fe,s=rl(e),l=s.length,u=rl(t),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var p=s[d];if(!(a?p in t:Yn(t,p)))return!1}var f=o.get(e);if(f)return f==t;var h=!0;o.set(e,t);for(var m=a;++d<l;){p=s[d];var g=e[p],v=t[p];if(r)var b=a?r(v,g,p,t,e,o):r(g,v,p,e,t,o);if(!(b===X?g===v||n(g,v,r,i,o):b)){h=!1;break}m||(m="constructor"==p)}if(h&&!m){var y=e.constructor,C=t.constructor;y!=C&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof C&&C instanceof C)&&(h=!1)}return o["delete"](e),h}function _i(e){return Gn(e,rl,Bi)}function Si(e){return Gn(e,il,kc)}function Ai(e){for(var t=e.name+"",n=fc[t],r=xu.call(fc,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Ni(e){var n=xu.call(t,"placeholder")?t:e;return n.placeholder}function Ki(){var e=t.iteratee||Gl;return e=e===Gl?or:e,arguments.length?e(arguments[0],arguments[1]):e}function Pi(e,t){var n=e.__data__;return Qi(t)?n["string"==typeof t?"string":"hash"]:n.map}function Mi(e){for(var t=rl(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ro(i)]}return t}function Li(e,t){var n=L(e,t);return ir(n)?n:X}function Fi(e){return Wu(Object(e))}function Bi(e){return Bu(Object(e))}function ji(e){return Su.call(e)}function Ui(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Qu(t,e+a);break;case"takeRight":e=Zu(e,t-a)}}return{start:e,end:t}}function Vi(e,t,n){t=Zi(t,e)?[t]:Ur(t);for(var r,i=-1,o=t.length;++i<o;){var a=uo(t[i]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;var o=e?e.length:0;return!!o&&gs(o)&&Xi(a,o)&&(gd(e)||_s(e)||ns(e))}function Hi(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&xu.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function qi(e){return"function"!=typeof e.constructor||no(e)?{}:kn(Fi(e))}function zi(e,t,n,r){var i=e.constructor;switch(t){case qe:return qr(e);case ke:case _e:return new i(+e);case ze:return zr(e,r);case Ge:case We:case Ye:case Xe:case Je:case Ze:case Qe:case et:case tt:return Jr(e,r);case Ke:return Gr(e,r,n);case Pe:case je:return new i(e);case Fe:return Wr(e);case Be:return Yr(e,r,n);case Ue:return Xr(e)}}function Gi(e){var t=e?e.length:X;return gs(t)&&(gd(e)||_s(e)||ns(e))?I(t,String):null}function Wi(e){return gd(e)||ns(e)}function Yi(e){return gd(e)&&!(2==e.length&&!hs(e[0]))}function Xi(e,t){return t=null==t?Te:t,!!t&&("number"==typeof e||xt.test(e))&&e>-1&&e%1==0&&t>e}function Ji(e,t,n){if(!vs(n))return!1;var r=typeof t;return("number"==r?is(n)&&Xi(t,n.length):"string"==r&&t in n)?ts(n[t],e):!1}function Zi(e,t){if(gd(e))return!1;var n=typeof e;return"number"==n||"symbol"==n||"boolean"==n||null==e||Ss(e)?!0:ft.test(e)||!pt.test(e)||null!=t&&e in Object(t)}function Qi(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function eo(e){var n=Ai(e),r=t[n];if("function"!=typeof r||!(n in At.prototype))return!1;if(e===r)return!0;var i=$c(r);return!!i&&e===i[0]}function to(e){return!!Ru&&Ru in e}function no(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Du;return e===n}function ro(e){return e===e&&!vs(e)}function io(e,t){return function(n){return null==n?!1:n[e]===t&&(t!==X||e in Object(n))}}function oo(e,t){var n=e[1],r=t[1],i=n|r,o=(ne|re|ue)>i,a=r==ue&&n==oe||r==ue&&n==ce&&e[7].length<=t[8]||r==(ue|ce)&&t[7].length<=t[8]&&n==oe;if(!o&&!a)return e;r&ne&&(e[2]=t[2],i|=n&ne?0:ie);var s=t[3];if(s){var l=e[3];e[3]=l?ei(l,s,t[4]):s,e[4]=l?V(e[3],te):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?ti(l,s,t[6]):s,e[6]=l?V(e[5],te):t[6]),s=t[7],s&&(e[7]=s),r&ue&&(e[8]=null==e[8]?t[8]:Qu(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function ao(e,t,n,r,i,o){return vs(e)&&vs(t)&&pr(e,t,X,ao,o.set(t,e)),e}function so(e,t){return 1==t.length?e:zn(e,Ir(t,0,-1))}function lo(e,t){for(var n=e.length,r=Qu(t.length,n),i=ni(e);r--;){var o=t[r];e[r]=Xi(o,n)?i[o]:X}return e}function uo(e){if("string"==typeof e||Ss(e))return e;var t=e+"";return"0"==t&&1/e==-Ee?"-0":t}function co(e){if(null!=e){try{return $u.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function po(e){if(e instanceof At)return e.clone();var t=new A(e.__wrapped__,e.__chain__);return t.__actions__=ni(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function fo(e,t,n){t=(n?Ji(e,t,n):t===X)?1:Zu(Fs(t),0);var r=e?e.length:0;if(!r||1>t)return[];for(var i=0,o=0,a=Array(zu(r/t));r>i;)a[o++]=Ir(e,i,i+=t);return a}function ho(e){for(var t=-1,n=e?e.length:0,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function mo(){for(var e=arguments.length,t=Array(e?e-1:0),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return e?h(gd(n)?ni(n):[n],Un(t,1)):[]}function go(e,t,n){var r=e?e.length:0;return r?(t=n||t===X?1:Fs(t),Ir(e,0>t?0:t,r)):[]}function vo(e,t,n){var r=e?e.length:0;return r?(t=n||t===X?1:Fs(t),t=r-t,Ir(e,0,0>t?0:t)):[]}function bo(e,t){return e&&e.length?Pr(e,Ki(t,3),!0,!0):[]}function yo(e,t){return e&&e.length?Pr(e,Ki(t,3),!0):[]}function Co(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Ji(e,t,n)&&(n=0,r=i),Ln(e,t,n,r)):[]}function Eo(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=null==n?0:Fs(n);return 0>i&&(i=Zu(r+i,0)),y(e,Ki(t,3),i)}function To(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r-1;return n!==X&&(i=Fs(n),i=0>n?Zu(r+i,0):Qu(i,r-1)),y(e,Ki(t,3),i,!0)}function wo(e){var t=e?e.length:0;return t?Un(e,1):[]}function Do(e){var t=e?e.length:0;return t?Un(e,Ee):[]}function Oo(e,t){var n=e?e.length:0;return n?(t=t===X?1:Fs(t),Un(e,t)):[]}function Io(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function Ro(e){return e&&e.length?e[0]:X}function $o(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=null==n?0:Fs(n);return 0>i&&(i=Zu(r+i,0)),C(e,t,i)}function xo(e){return vo(e,1)}function ko(e,t){return e?Xu.call(e,t):""}function _o(e){var t=e?e.length:0;return t?e[t-1]:X}function So(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if(n!==X&&(i=Fs(n),i=(0>i?Zu(r+i,0):Qu(i,r-1))+1),t!==t)return F(e,i-1,!0);for(;i--;)if(e[i]===t)return i;return-1}function Ao(e,t){return e&&e.length?hr(e,Fs(t)):X}function No(e,t){return e&&e.length&&t&&t.length?Cr(e,t):e}function Ko(e,t,n){return e&&e.length&&t&&t.length?Cr(e,t,Ki(n)):e}function Po(e,t,n){return e&&e.length&&t&&t.length?Cr(e,t,X,n):e}function Mo(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Ki(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Er(e,i),n}function Lo(e){return e?rc.call(e):e}function Fo(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Ji(e,t,n)?(t=0,n=r):(t=null==t?0:Fs(t),n=n===X?r:Fs(n)),Ir(e,t,n)):[]}function Bo(e,t){return $r(e,t)}function jo(e,t,n){return xr(e,t,Ki(n))}function Uo(e,t){var n=e?e.length:0;if(n){var r=$r(e,t);if(n>r&&ts(e[r],t))return r}return-1}function Vo(e,t){return $r(e,t,!0)}function Ho(e,t,n){return xr(e,t,Ki(n),!0)}function qo(e,t){var n=e?e.length:0;if(n){var r=$r(e,t,!0)-1;if(ts(e[r],t))return r}return-1}function zo(e){return e&&e.length?kr(e):[]}function Go(e,t){return e&&e.length?kr(e,Ki(t)):[]}function Wo(e){return go(e,1)}function Yo(e,t,n){return e&&e.length?(t=n||t===X?1:Fs(t),Ir(e,0,0>t?0:t)):[]}function Xo(e,t,n){var r=e?e.length:0;return r?(t=n||t===X?1:Fs(t),t=r-t,Ir(e,0>t?0:t,r)):[]}function Jo(e,t){return e&&e.length?Pr(e,Ki(t,3),!1,!0):[]}function Zo(e,t){return e&&e.length?Pr(e,Ki(t,3)):[]}function Qo(e){return e&&e.length?Ar(e):[]}function ea(e,t){return e&&e.length?Ar(e,Ki(t)):[]}function ta(e,t){return e&&e.length?Ar(e,X,t):[]}function na(e){if(!e||!e.length)return[];var t=0;return e=c(e,function(e){return os(e)?(t=Zu(e.length,t),!0):void 0}),I(t,function(t){return f(e,br(t))})}function ra(e,t){if(!e||!e.length)return[];var n=na(e);return null==t?n:f(n,function(e){return o(t,X,e)})}function ia(e,t){return Fr(e||[],t||[],fn)}function oa(e,t){return Fr(e||[],t||[],Or)}function aa(e){var n=t(e);return n.__chain__=!0,n}function sa(e,t){return t(e),e}function la(e,t){return t(e)}function ua(){return aa(this)}function ca(){return new A(this.value(),this.__chain__)}function da(){this.__values__===X&&(this.__values__=Ms(this.value()));var e=this.__index__>=this.__values__.length,t=e?X:this.__values__[this.__index__++];return{done:e,value:t}}function pa(){return this}function fa(e){for(var t,r=this;r instanceof n;){var i=po(r);i.__index__=0,i.__values__=X,t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t}function ha(){var e=this.__wrapped__;if(e instanceof At){var t=e;return this.__actions__.length&&(t=new At(this)),t=t.reverse(),t.__actions__.push({func:la,args:[Lo],thisArg:X}),new A(t,this.__chain__)}return this.thru(Lo)}function ma(){return Mr(this.__wrapped__,this.__actions__)}function ga(e,t,n){var r=gd(e)?u:Pn;return n&&Ji(e,t,n)&&(t=X),r(e,Ki(t,3))}function va(e,t){var n=gd(e)?c:jn;return n(e,Ki(t,3))}function ba(e,t){return Un(Da(e,t),1)}function ya(e,t){return Un(Da(e,t),Ee)}function Ca(e,t,n){return n=n===X?1:Fs(n),Un(Da(e,t),n)}function Ea(e,t){var n=gd(e)?s:Tc;return n(e,Ki(t,3))}function Ta(e,t){var n=gd(e)?l:wc;return n(e,Ki(t,3))}function wa(e,t,n,r){e=is(e)?e:gl(e),n=n&&!r?Fs(n):0;var i=e.length;return 0>n&&(n=Zu(i+n,0)),_s(e)?i>=n&&e.indexOf(t,n)>-1:!!i&&C(e,t,n)>-1}function Da(e,t){var n=gd(e)?f:ur;return n(e,Ki(t,3))}function Oa(e,t,n,r){return null==e?[]:(gd(t)||(t=null==t?[]:[t]),n=r?X:n,gd(n)||(n=null==n?[]:[n]),mr(e,t,n))}function Ia(e,t,n){var r=gd(e)?m:w,i=arguments.length<3;return r(e,Ki(t,4),n,i,Tc)}function Ra(e,t,n){var r=gd(e)?g:w,i=arguments.length<3;return r(e,Ki(t,4),n,i,wc)}function $a(e,t){var n=gd(e)?c:jn;return t=Ki(t,3),n(e,function(e,n,r){return!t(e,n,r)})}function xa(e){var t=is(e)?e:gl(e),n=t.length;return n>0?t[Tr(0,n-1)]:X}function ka(e,t,n){var r=-1,i=Ms(e),o=i.length,a=o-1;for(t=(n?Ji(e,t,n):t===X)?1:Rn(Fs(t),0,o);++r<t;){var s=Tr(r,a),l=i[s];i[s]=i[r],i[r]=l}return i.length=t,i}function _a(e){return ka(e,Oe)}function Sa(e){if(null==e)return 0;if(is(e)){var t=e.length;return t&&_s(e)?z(e):t}if(bs(e)){var n=ji(e);if(n==Ke||n==Be)return e.size}return rl(e).length}function Aa(e,t,n){var r=gd(e)?v:Rr;return n&&Ji(e,t,n)&&(t=X),r(e,Ki(t,3))}function Na(){return bu.now()}function Ka(e,t){if("function"!=typeof t)throw new Tu(Q);return e=Fs(e),function(){return--e<1?t.apply(this,arguments):void 0}}function Pa(e,t,n){return t=n?X:t,t=e&&null==t?e.length:t,Ri(e,ue,X,X,X,X,t)}function Ma(e,t){var n;if("function"!=typeof t)throw new Tu(Q);return e=Fs(e),function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=X),n}}function La(e,t,n){t=n?X:t;var r=Ri(e,oe,X,X,X,X,X,t);return r.placeholder=La.placeholder,r}function Fa(e,t,n){t=n?X:t;var r=Ri(e,ae,X,X,X,X,X,t);return r.placeholder=Fa.placeholder,r}function Ba(e,t,n){function r(t){var n=p,r=f;return p=f=X,b=t,m=e.apply(r,n)}function i(e){return b=e,g=qu(s,t),y?r(e):m}function o(e){var n=e-v,r=e-b,i=t-n;return C?Qu(i,h-r):i}function a(e){var n=e-v,r=e-b;return v===X||n>=t||0>n||C&&r>=h}function s(){var e=Na();return a(e)?l(e):void(g=qu(s,o(e)))}function l(e){return g=X,E&&p?r(e):(p=f=X,m)}function u(){b=0,p=v=f=g=X}function c(){return g===X?m:l(Na())}function d(){var e=Na(),n=a(e);if(p=arguments,f=this,v=e,n){if(g===X)return i(v);if(C)return g=qu(s,t),r(v)}return g===X&&(g=qu(s,t)),m}var p,f,h,m,g,v,b=0,y=!1,C=!1,E=!0;if("function"!=typeof e)throw new Tu(Q);return t=js(t)||0,vs(n)&&(y=!!n.leading,C="maxWait"in n,h=C?Zu(js(n.maxWait)||0,t):h,E="trailing"in n?!!n.trailing:E),d.cancel=u,d.flush=c,d}function ja(e){return Ri(e,de)}function Ua(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Tu(Q);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(Ua.Cache||Yt),n}function Va(e){if("function"!=typeof e)throw new Tu(Q);return function(){return!e.apply(this,arguments)}}function Ha(e){return Ma(2,e)}function qa(e,t){if("function"!=typeof e)throw new Tu(Q);return t=Zu(t===X?e.length-1:Fs(t),0),function(){for(var n=arguments,r=-1,i=Zu(n.length-t,0),a=Array(i);++r<i;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var s=Array(t+1);for(r=-1;++r<t;)s[r]=n[r];return s[t]=a,o(e,this,s)}}function za(e,t){if("function"!=typeof e)throw new Tu(Q);return t=t===X?0:Zu(Fs(t),0),qa(function(n){var r=n[t],i=Vr(n,0,t);return r&&h(i,r),o(e,this,i)})}function Ga(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Tu(Q);return vs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ba(e,t,{leading:r,maxWait:t,trailing:i})}function Wa(e){return Pa(e,1)}function Ya(e,t){return t=null==t?zl:t,dd(t,e)}function Xa(){if(!arguments.length)return[];var e=arguments[0];return gd(e)?e:[e]}function Ja(e){return $n(e,!1,!0)}function Za(e,t){return $n(e,!1,!0,t)}function Qa(e){return $n(e,!0,!0)}function es(e,t){return $n(e,!0,!0,t)}function ts(e,t){return e===t||e!==e&&t!==t}function ns(e){return os(e)&&xu.call(e,"callee")&&(!Vu.call(e,"callee")||Su.call(e)==$e)}function rs(e){return bs(e)&&Su.call(e)==qe}function is(e){return null!=e&&gs(xc(e))&&!hs(e)}function os(e){return bs(e)&&is(e)}function as(e){return e===!0||e===!1||bs(e)&&Su.call(e)==ke}function ss(e){return bs(e)&&Su.call(e)==_e}function ls(e){return!!e&&1===e.nodeType&&bs(e)&&!Rs(e)}function us(e){if(is(e)&&(gd(e)||_s(e)||hs(e.splice)||ns(e)||vd(e)))return!e.length;if(bs(e)){var t=ji(e);if(t==Ke||t==Be)return!e.size}for(var n in e)if(xu.call(e,n))return!1;return!(pc&&rl(e).length)}function cs(e,t){return tr(e,t)}function ds(e,t,n){n="function"==typeof n?n:X;var r=n?n(e,t):X;return r===X?tr(e,t,n):!!r}function ps(e){return bs(e)?Su.call(e)==Se||"string"==typeof e.message&&"string"==typeof e.name:!1}function fs(e){return"number"==typeof e&&Yu(e)}function hs(e){var t=vs(e)?Su.call(e):"";return t==Ae||t==Ne}function ms(e){return"number"==typeof e&&e==Fs(e)}function gs(e){return"number"==typeof e&&e>-1&&e%1==0&&Te>=e}function vs(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function bs(e){return!!e&&"object"==typeof e}function ys(e){return bs(e)&&ji(e)==Ke}function Cs(e,t){return e===t||rr(e,t,Mi(t))}function Es(e,t,n){return n="function"==typeof n?n:X,rr(e,t,Mi(t),n)}function Ts(e){return Is(e)&&e!=+e}function ws(e){if(_c(e))throw new yu("This method is not supported with `core-js`. Try https://github.com/es-shims.");return ir(e)}function Ds(e){return null===e}function Os(e){return null==e}function Is(e){return"number"==typeof e||bs(e)&&Su.call(e)==Pe}function Rs(e){if(!bs(e)||Su.call(e)!=Me||B(e))return!1;var t=Fi(e);if(null===t)return!0;var n=xu.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&$u.call(n)==_u}function $s(e){return vs(e)&&Su.call(e)==Fe}function xs(e){return ms(e)&&e>=-Te&&Te>=e}function ks(e){return bs(e)&&ji(e)==Be}function _s(e){return"string"==typeof e||!gd(e)&&bs(e)&&Su.call(e)==je}function Ss(e){return"symbol"==typeof e||bs(e)&&Su.call(e)==Ue}function As(e){return bs(e)&&gs(e.length)&&!!On[Su.call(e)]}function Ns(e){return e===X}function Ks(e){return bs(e)&&ji(e)==Ve}function Ps(e){return bs(e)&&Su.call(e)==He}function Ms(e){if(!e)return[];if(is(e))return _s(e)?G(e):ni(e);if(ju&&e[ju])return j(e[ju]());var t=ji(e),n=t==Ke?U:t==Be?H:gl;return n(e)}function Ls(e){if(!e)return 0===e?e:0;if(e=js(e),e===Ee||e===-Ee){var t=0>e?-1:1;return t*we}return e===e?e:0}function Fs(e){var t=Ls(e),n=t%1;return t===t?n?t-n:t:0}function Bs(e){return e?Rn(Fs(e),0,Oe):0}function js(e){if("number"==typeof e)return e;if(Ss(e))return De;if(vs(e)){var t=hs(e.valueOf)?e.valueOf():e;e=vs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(vt,"");var n=It.test(e);return n||$t.test(e)?Sn(e.slice(2),n?2:8):Ot.test(e)?De:+e}function Us(e){return ri(e,il(e))}function Vs(e){return Rn(Fs(e),-Te,Te)}function Hs(e){return null==e?"":Sr(e)}function qs(e,t){var n=kn(e);return t?gn(n,t):n}function zs(e,t){return b(e,Ki(t,3),Vn)}function Gs(e,t){return b(e,Ki(t,3),Hn)}function Ws(e,t){return null==e?e:Dc(e,Ki(t,3),il)}function Ys(e,t){return null==e?e:Oc(e,Ki(t,3),il)}function Xs(e,t){return e&&Vn(e,Ki(t,3))}function Js(e,t){return e&&Hn(e,Ki(t,3))}function Zs(e){return null==e?[]:qn(e,rl(e))}function Qs(e){return null==e?[]:qn(e,il(e))}function el(e,t,n){var r=null==e?X:zn(e,t);return r===X?n:r}function tl(e,t){return null!=e&&Vi(e,t,Yn)}function nl(e,t){return null!=e&&Vi(e,t,Xn)}function rl(e){var t=no(e);if(!t&&!is(e))return ar(e);var n=Gi(e),r=!!n,i=n||[],o=i.length;for(var a in e)!Yn(e,a)||r&&("length"==a||Xi(a,o))||t&&"constructor"==a||i.push(a);return i}function il(e){for(var t=-1,n=no(e),r=sr(e),i=r.length,o=Gi(e),a=!!o,s=o||[],l=s.length;++t<i;){var u=r[t];a&&("length"==u||Xi(u,l))||"constructor"==u&&(n||!xu.call(e,u))||s.push(u)}return s}function ol(e,t){var n={};return t=Ki(t,3),Vn(e,function(e,r,i){n[t(e,r,i)]=e}),n}function al(e,t){var n={};return t=Ki(t,3),Vn(e,function(e,r,i){n[r]=t(e,r,i)}),n}function sl(e,t){return t=Ki(t),vr(e,function(e,n){return!t(e,n)})}function ll(e,t){return null==e?{}:vr(e,Ki(t))}function ul(e,t,n){t=Zi(t,e)?[t]:Ur(t);var r=-1,i=t.length;for(i||(e=X,i=1);++r<i;){var o=null==e?X:e[uo(t[r])];o===X&&(r=i,o=n),e=hs(o)?o.call(e):o}return e}function cl(e,t,n){return null==e?e:Or(e,t,n)}function dl(e,t,n,r){return r="function"==typeof r?r:X,null==e?e:Or(e,t,n,r)}function pl(e,t,n){var r=gd(e)||As(e);if(t=Ki(t,4),null==n)if(r||vs(e)){var i=e.constructor;n=r?gd(e)?new i:[]:hs(i)?kn(Fi(e)):{}}else n={};return(r?s:Vn)(e,function(e,r,i){return t(n,e,r,i)}),n}function fl(e,t){return null==e?!0:Nr(e,t)}function hl(e,t,n){return null==e?e:Kr(e,t,jr(n))}function ml(e,t,n,r){return r="function"==typeof r?r:X,null==e?e:Kr(e,t,jr(n),r)}function gl(e){return e?x(e,rl(e)):[]}function vl(e){return null==e?[]:x(e,il(e))}function bl(e,t,n){return n===X&&(n=t,t=X),n!==X&&(n=js(n),n=n===n?n:0),t!==X&&(t=js(t),t=t===t?t:0),Rn(js(e),t,n)}function yl(e,t,n){return t=js(t)||0,n===X?(n=t,t=0):n=js(n)||0,e=js(e),Jn(e,t,n)}function Cl(e,t,n){if(n&&"boolean"!=typeof n&&Ji(e,t,n)&&(t=n=X),n===X&&("boolean"==typeof t?(n=t,t=X):"boolean"==typeof e&&(n=e,e=X)),e===X&&t===X?(e=0,t=1):(e=js(e)||0,t===X?(t=e,e=0):t=js(t)||0),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=tc();return Qu(e+i*(t-e+_n("1e-"+((i+"").length-1))),t)}return Tr(e,t)}function El(e){return Vd(Hs(e).toLowerCase())}function Tl(e){return e=Hs(e),e&&e.replace(kt,K).replace(bn,"")}function wl(e,t,n){e=Hs(e),t=Sr(t);var r=e.length;return n=n===X?r:Rn(Fs(n),0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function Dl(e){return e=Hs(e),e&&lt.test(e)?e.replace(at,P):e}function Ol(e){return e=Hs(e),e&&gt.test(e)?e.replace(mt,"\\$&"):e}function Il(e,t,n){e=Hs(e),t=Fs(t);var r=t?z(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ci(Gu(i),n)+e+Ci(zu(i),n)}function Rl(e,t,n){e=Hs(e),t=Fs(t);var r=t?z(e):0;return t&&t>r?e+Ci(t-r,n):e}function $l(e,t,n){e=Hs(e),t=Fs(t);var r=t?z(e):0;return t&&t>r?Ci(t-r,n)+e:e}function xl(e,t,n){return n||null==t?t=0:t&&(t=+t),e=Hs(e).replace(vt,""),ec(e,t||(Dt.test(e)?16:10))}function kl(e,t,n){return t=(n?Ji(e,t,n):t===X)?1:Fs(t),Dr(Hs(e),t)}function _l(){var e=arguments,t=Hs(e[0]);return e.length<3?t:nc.call(t,e[1],e[2])}function Sl(e,t,n){return n&&"number"!=typeof n&&Ji(e,t,n)&&(t=n=X),(n=n===X?Oe:n>>>0)?(e=Hs(e),e&&("string"==typeof t||null!=t&&!$s(t))&&(t=Sr(t),""==t&&En.test(e))?Vr(G(e),0,n):ic.call(e,t,n)):[]}function Al(e,t,n){return e=Hs(e),n=Rn(Fs(n),0,e.length),e.lastIndexOf(Sr(t),n)==n}function Nl(e,n,r){var i=t.templateSettings;r&&Ji(e,n,r)&&(n=X),e=Hs(e),n=Td({},n,i,dn);var o,a,s=Td({},n.imports,i.imports,dn),l=rl(s),u=x(s,l),c=0,d=n.interpolate||_t,p="__p += '",f=Eu((n.escape||_t).source+"|"+d.source+"|"+(d===dt?Tt:_t).source+"|"+(n.evaluate||_t).source+"|$","g"),h="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Dn+"]")+"\n";e.replace(f,function(t,n,r,i,s,l){return r||(r=i),p+=e.slice(c,l).replace(St,M),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),p+="';\n";var m=n.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(nt,""):p).replace(rt,"$1").replace(it,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=Hd(function(){return Function(l,h+"return "+p).apply(X,u)});if(g.source=p,ps(g))throw g;return g}function Kl(e){return Hs(e).toLowerCase()}function Pl(e){return Hs(e).toUpperCase()}function Ml(e,t,n){if(e=Hs(e),e&&(n||t===X))return e.replace(vt,"");if(!e||!(t=Sr(t)))return e;var r=G(e),i=G(t),o=_(r,i),a=S(r,i)+1;return Vr(r,o,a).join("")}function Ll(e,t,n){if(e=Hs(e),e&&(n||t===X))return e.replace(yt,"");if(!e||!(t=Sr(t)))return e;var r=G(e),i=S(r,G(t))+1;return Vr(r,0,i).join("")}function Fl(e,t,n){if(e=Hs(e),e&&(n||t===X))return e.replace(bt,"");if(!e||!(t=Sr(t)))return e;var r=G(e),i=_(r,G(t));return Vr(r,i).join("")}function Bl(e,t){var n=he,r=me;if(vs(t)){var i="separator"in t?t.separator:i;n="length"in t?Fs(t.length):n,r="omission"in t?Sr(t.omission):r}e=Hs(e);var o=e.length;if(En.test(e)){var a=G(e);o=a.length}if(n>=o)return e;var s=n-z(r);if(1>s)return r;var l=a?Vr(a,0,s).join(""):e.slice(0,s);if(i===X)return l+r;if(a&&(s+=l.length-s),$s(i)){if(e.slice(s).search(i)){var u,c=l;for(i.global||(i=Eu(i.source,Hs(wt.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var d=u.index;l=l.slice(0,d===X?s:d)}}else if(e.indexOf(Sr(i),s)!=s){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+r}function jl(e){return e=Hs(e),e&&st.test(e)?e.replace(ot,W):e}function Ul(e,t,n){return e=Hs(e),t=n?X:t,t===X&&(t=Tn.test(e)?Cn:Ct),e.match(t)||[]}function Vl(e){var t=e?e.length:0,n=Ki();return e=t?f(e,function(e){if("function"!=typeof e[1])throw new Tu(Q);return[n(e[0]),e[1]]}):[],qa(function(n){for(var r=-1;++r<t;){var i=e[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function Hl(e){return xn($n(e,!0))}function ql(e){return function(){return e}}function zl(e){return e}function Gl(e){return or("function"==typeof e?e:$n(e,!0))}function Wl(e){return cr($n(e,!0))}function Yl(e,t){return dr(e,$n(t,!0))}function Xl(e,t,n){var r=rl(t),i=qn(t,r);null!=n||vs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=qn(t,rl(t)));var o=!(vs(n)&&"chain"in n&&!n.chain),a=hs(e);return s(i,function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=ni(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,h([this.value()],arguments))})}),e}function Jl(){return Fn._===this&&(Fn._=Au),this}function Zl(){}function Ql(e){return e=Fs(e),qa(function(t){return hr(t,e)})}function eu(e){return Zi(e)?br(uo(e)):yr(e)}function tu(e){return function(t){return null==e?X:zn(e,t)}}function nu(){return[]}function ru(){return!1}function iu(){return{}}function ou(){return""}function au(){return!0}function su(e,t){if(e=Fs(e),1>e||e>Te)return[];var n=Oe,r=Qu(e,Oe);t=Ki(t),e-=Oe;for(var i=I(r,t);++n<e;)t(n);return i}function lu(e){return gd(e)?f(e,uo):Ss(e)?[e]:ni(Ac(e))}function uu(e){var t=++ku;return Hs(e)+t}function cu(e){return e&&e.length?Mn(e,zl,Wn):X}function du(e,t){return e&&e.length?Mn(e,Ki(t),Wn):X}function pu(e){return T(e,zl)}function fu(e,t){return T(e,Ki(t))}function hu(e){return e&&e.length?Mn(e,zl,lr):X}function mu(e,t){return e&&e.length?Mn(e,Ki(t),lr):X}function gu(e){return e&&e.length?O(e,zl):0}function vu(e,t){return e&&e.length?O(e,Ki(t)):0}e=e?Bn.defaults({},e,Bn.pick(Fn,wn)):Fn;var bu=e.Date,yu=e.Error,Cu=e.Math,Eu=e.RegExp,Tu=e.TypeError,wu=e.Array.prototype,Du=e.Object.prototype,Ou=e.String.prototype,Iu=e["__core-js_shared__"],Ru=function(){var e=/[^.]+$/.exec(Iu&&Iu.keys&&Iu.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),$u=e.Function.prototype.toString,xu=Du.hasOwnProperty,ku=0,_u=$u.call(Object),Su=Du.toString,Au=Fn._,Nu=Eu("^"+$u.call(xu).replace(mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ku=Kn?e.Buffer:X,Pu=e.Reflect,Mu=e.Symbol,Lu=e.Uint8Array,Fu=Pu?Pu.enumerate:X,Bu=Object.getOwnPropertySymbols,ju="symbol"==typeof(ju=Mu&&Mu.iterator)?ju:X,Uu=Object.create,Vu=Du.propertyIsEnumerable,Hu=wu.splice,qu=function(t,n){return e.setTimeout.call(Fn,t,n)},zu=Cu.ceil,Gu=Cu.floor,Wu=Object.getPrototypeOf,Yu=e.isFinite,Xu=wu.join,Ju=Object.keys,Zu=Cu.max,Qu=Cu.min,ec=e.parseInt,tc=Cu.random,nc=Ou.replace,rc=wu.reverse,ic=Ou.split,oc=Li(e,"DataView"),ac=Li(e,"Map"),sc=Li(e,"Promise"),lc=Li(e,"Set"),uc=Li(e,"WeakMap"),cc=Li(Object,"create"),dc=uc&&new uc,pc=!Vu.call({valueOf:1},"valueOf"),fc={},hc=co(oc),mc=co(ac),gc=co(sc),vc=co(lc),bc=co(uc),yc=Mu?Mu.prototype:X,Cc=yc?yc.valueOf:X,Ec=yc?yc.toString:X;t.templateSettings={escape:ut,evaluate:ct,interpolate:dt,variable:"",imports:{_:t}},t.prototype=n.prototype,t.prototype.constructor=t,A.prototype=kn(n.prototype),A.prototype.constructor=A,At.prototype=kn(n.prototype),At.prototype.constructor=At,Mt.prototype.clear=Lt,Mt.prototype["delete"]=Ft,Mt.prototype.get=Bt,Mt.prototype.has=jt,Mt.prototype.set=Ut,Vt.prototype.clear=Ht,Vt.prototype["delete"]=qt,Vt.prototype.get=zt,Vt.prototype.has=Gt,Vt.prototype.set=Wt,Yt.prototype.clear=Xt,Yt.prototype["delete"]=Jt,Yt.prototype.get=Zt,Yt.prototype.has=Qt,Yt.prototype.set=en,tn.prototype.add=tn.prototype.push=nn,tn.prototype.has=rn,on.prototype.clear=an,on.prototype["delete"]=sn,on.prototype.get=ln,on.prototype.has=un,on.prototype.set=cn;var Tc=si(Vn),wc=si(Hn,!0),Dc=li(),Oc=li(!0);Fu&&!Vu.call({valueOf:1},"valueOf")&&(sr=function(e){return j(Fu(e))});var Ic=dc?function(e,t){return dc.set(e,t),e}:zl,Rc=lc&&1/H(new lc([,-0]))[1]==Ee?function(e){return new lc(e)}:Zl,$c=dc?function(e){return dc.get(e)}:Zl,xc=br("length");Bu||(Bi=nu);var kc=Bu?function(e){for(var t=[];e;)h(t,Bi(e)),e=Fi(e);return t}:Bi;(oc&&ji(new oc(new ArrayBuffer(1)))!=ze||ac&&ji(new ac)!=Ke||sc&&ji(sc.resolve())!=Le||lc&&ji(new lc)!=Be||uc&&ji(new uc)!=Ve)&&(ji=function(e){var t=Su.call(e),n=t==Me?e.constructor:X,r=n?co(n):X;if(r)switch(r){case hc:return ze;case mc:return Ke;case gc:return Le;case vc:return Be;case bc:return Ve}return t});var _c=Iu?hs:ru,Sc=function(){var e=0,t=0;return function(n,r){var i=Na(),o=ve-(i-t);if(t=i,o>0){if(++e>=ge)return n}else e=0;return Ic(n,r)}}(),Ac=Ua(function(e){var t=[];return Hs(e).replace(ht,function(e,n,r,i){t.push(r?i.replace(Et,"$1"):n||e)}),t}),Nc=qa(function(e,t){return os(e)?Nn(e,Un(t,1,os,!0)):[]}),Kc=qa(function(e,t){var n=_o(t);return os(n)&&(n=X),os(e)?Nn(e,Un(t,1,os,!0),Ki(n)):[]}),Pc=qa(function(e,t){var n=_o(t);return os(n)&&(n=X),os(e)?Nn(e,Un(t,1,os,!0),X,n):[]}),Mc=qa(function(e){var t=f(e,Br);return t.length&&t[0]===e[0]?Zn(t):[]}),Lc=qa(function(e){var t=_o(e),n=f(e,Br);return t===_o(n)?t=X:n.pop(),n.length&&n[0]===e[0]?Zn(n,Ki(t)):[]}),Fc=qa(function(e){var t=_o(e),n=f(e,Br);return t===_o(n)?t=X:n.pop(),n.length&&n[0]===e[0]?Zn(n,X,t):[]}),Bc=qa(No),jc=qa(function(e,t){t=Un(t,1);var n=e?e.length:0,r=yn(e,t);return Er(e,f(t,function(e){
return Xi(e,n)?+e:e}).sort(Zr)),r}),Uc=qa(function(e){return Ar(Un(e,1,os,!0))}),Vc=qa(function(e){var t=_o(e);return os(t)&&(t=X),Ar(Un(e,1,os,!0),Ki(t))}),Hc=qa(function(e){var t=_o(e);return os(t)&&(t=X),Ar(Un(e,1,os,!0),X,t)}),qc=qa(function(e,t){return os(e)?Nn(e,t):[]}),zc=qa(function(e){return Lr(c(e,os))}),Gc=qa(function(e){var t=_o(e);return os(t)&&(t=X),Lr(c(e,os),Ki(t))}),Wc=qa(function(e){var t=_o(e);return os(t)&&(t=X),Lr(c(e,os),X,t)}),Yc=qa(na),Xc=qa(function(e){var t=e.length,n=t>1?e[t-1]:X;return n="function"==typeof n?(e.pop(),n):X,ra(e,n)}),Jc=qa(function(e){e=Un(e,1);var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return yn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof At&&Xi(n)?(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:la,args:[i],thisArg:X}),new A(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(X),e})):this.thru(i)}),Zc=oi(function(e,t,n){xu.call(e,n)?++e[n]:e[n]=1}),Qc=hi(Eo),ed=hi(To),td=oi(function(e,t,n){xu.call(e,n)?e[n].push(t):e[n]=[t]}),nd=qa(function(e,t,n){var r=-1,i="function"==typeof t,a=Zi(t),s=is(e)?Array(e.length):[];return Tc(e,function(e){var l=i?t:a&&null!=e?e[t]:X;s[++r]=l?o(l,e,n):er(e,t,n)}),s}),rd=oi(function(e,t,n){e[n]=t}),id=oi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),od=qa(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ji(e,t[0],t[1])?t=[]:n>2&&Ji(t[0],t[1],t[2])&&(t=[t[0]]),t=1==t.length&&gd(t[0])?t[0]:Un(t,1,Yi),mr(e,t,[])}),ad=qa(function(e,t,n){var r=ne;if(n.length){var i=V(n,Ni(ad));r|=se}return Ri(e,r,t,n,i)}),sd=qa(function(e,t,n){var r=ne|re;if(n.length){var i=V(n,Ni(sd));r|=se}return Ri(t,r,e,n,i)}),ld=qa(function(e,t){return An(e,1,t)}),ud=qa(function(e,t,n){return An(e,js(t)||0,n)});Ua.Cache=Yt;var cd=qa(function(e,t){t=1==t.length&&gd(t[0])?f(t[0],$(Ki())):f(Un(t,1,Yi),$(Ki()));var n=t.length;return qa(function(r){for(var i=-1,a=Qu(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return o(e,this,r)})}),dd=qa(function(e,t){var n=V(t,Ni(dd));return Ri(e,se,X,t,n)}),pd=qa(function(e,t){var n=V(t,Ni(pd));return Ri(e,le,X,t,n)}),fd=qa(function(e,t){return Ri(e,ce,X,X,X,Un(t,1))}),hd=wi(Wn),md=wi(function(e,t){return e>=t}),gd=Array.isArray,vd=Ku?function(e){return e instanceof Ku}:ru,bd=wi(lr),yd=wi(function(e,t){return t>=e}),Cd=ai(function(e,t){if(pc||no(t)||is(t))return void ri(t,rl(t),e);for(var n in t)xu.call(t,n)&&fn(e,n,t[n])}),Ed=ai(function(e,t){if(pc||no(t)||is(t))return void ri(t,il(t),e);for(var n in t)fn(e,n,t[n])}),Td=ai(function(e,t,n,r){ri(t,il(t),e,r)}),wd=ai(function(e,t,n,r){ri(t,rl(t),e,r)}),Dd=qa(function(e,t){return yn(e,Un(t,1))}),Od=qa(function(e){return e.push(X,dn),o(Td,X,e)}),Id=qa(function(e){return e.push(X,ao),o(_d,X,e)}),Rd=vi(function(e,t,n){e[t]=n},ql(zl)),$d=vi(function(e,t,n){xu.call(e,t)?e[t].push(n):e[t]=[n]},Ki),xd=qa(er),kd=ai(function(e,t,n){pr(e,t,n)}),_d=ai(function(e,t,n,r){pr(e,t,n,r)}),Sd=qa(function(e,t){return null==e?{}:(t=f(Un(t,1),uo),gr(e,Nn(Si(e),t)))}),Ad=qa(function(e,t){return null==e?{}:gr(e,f(Un(t,1),uo))}),Nd=Ii(rl),Kd=Ii(il),Pd=di(function(e,t,n){return t=t.toLowerCase(),e+(n?El(t):t)}),Md=di(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ld=di(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Fd=ci("toLowerCase"),Bd=di(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),jd=di(function(e,t,n){return e+(n?" ":"")+Vd(t)}),Ud=di(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Vd=ci("toUpperCase"),Hd=qa(function(e,t){try{return o(e,X,t)}catch(n){return ps(n)?n:new yu(n)}}),qd=qa(function(e,t){return s(Un(t,1),function(t){t=uo(t),e[t]=ad(e[t],e)}),e}),zd=mi(),Gd=mi(!0),Wd=qa(function(e,t){return function(n){return er(n,e,t)}}),Yd=qa(function(e,t){return function(n){return er(e,n,t)}}),Xd=yi(f),Jd=yi(u),Zd=yi(v),Qd=Ti(),ep=Ti(!0),tp=bi(function(e,t){return e+t}),np=Oi("ceil"),rp=bi(function(e,t){return e/t}),ip=Oi("floor"),op=bi(function(e,t){return e*t}),ap=Oi("round"),sp=bi(function(e,t){return e-t});return t.after=Ka,t.ary=Pa,t.assign=Cd,t.assignIn=Ed,t.assignInWith=Td,t.assignWith=wd,t.at=Dd,t.before=Ma,t.bind=ad,t.bindAll=qd,t.bindKey=sd,t.castArray=Xa,t.chain=aa,t.chunk=fo,t.compact=ho,t.concat=mo,t.cond=Vl,t.conforms=Hl,t.constant=ql,t.countBy=Zc,t.create=qs,t.curry=La,t.curryRight=Fa,t.debounce=Ba,t.defaults=Od,t.defaultsDeep=Id,t.defer=ld,t.delay=ud,t.difference=Nc,t.differenceBy=Kc,t.differenceWith=Pc,t.drop=go,t.dropRight=vo,t.dropRightWhile=bo,t.dropWhile=yo,t.fill=Co,t.filter=va,t.flatMap=ba,t.flatMapDeep=ya,t.flatMapDepth=Ca,t.flatten=wo,t.flattenDeep=Do,t.flattenDepth=Oo,t.flip=ja,t.flow=zd,t.flowRight=Gd,t.fromPairs=Io,t.functions=Zs,t.functionsIn=Qs,t.groupBy=td,t.initial=xo,t.intersection=Mc,t.intersectionBy=Lc,t.intersectionWith=Fc,t.invert=Rd,t.invertBy=$d,t.invokeMap=nd,t.iteratee=Gl,t.keyBy=rd,t.keys=rl,t.keysIn=il,t.map=Da,t.mapKeys=ol,t.mapValues=al,t.matches=Wl,t.matchesProperty=Yl,t.memoize=Ua,t.merge=kd,t.mergeWith=_d,t.method=Wd,t.methodOf=Yd,t.mixin=Xl,t.negate=Va,t.nthArg=Ql,t.omit=Sd,t.omitBy=sl,t.once=Ha,t.orderBy=Oa,t.over=Xd,t.overArgs=cd,t.overEvery=Jd,t.overSome=Zd,t.partial=dd,t.partialRight=pd,t.partition=id,t.pick=Ad,t.pickBy=ll,t.property=eu,t.propertyOf=tu,t.pull=Bc,t.pullAll=No,t.pullAllBy=Ko,t.pullAllWith=Po,t.pullAt=jc,t.range=Qd,t.rangeRight=ep,t.rearg=fd,t.reject=$a,t.remove=Mo,t.rest=qa,t.reverse=Lo,t.sampleSize=ka,t.set=cl,t.setWith=dl,t.shuffle=_a,t.slice=Fo,t.sortBy=od,t.sortedUniq=zo,t.sortedUniqBy=Go,t.split=Sl,t.spread=za,t.tail=Wo,t.take=Yo,t.takeRight=Xo,t.takeRightWhile=Jo,t.takeWhile=Zo,t.tap=sa,t.throttle=Ga,t.thru=la,t.toArray=Ms,t.toPairs=Nd,t.toPairsIn=Kd,t.toPath=lu,t.toPlainObject=Us,t.transform=pl,t.unary=Wa,t.union=Uc,t.unionBy=Vc,t.unionWith=Hc,t.uniq=Qo,t.uniqBy=ea,t.uniqWith=ta,t.unset=fl,t.unzip=na,t.unzipWith=ra,t.update=hl,t.updateWith=ml,t.values=gl,t.valuesIn=vl,t.without=qc,t.words=Ul,t.wrap=Ya,t.xor=zc,t.xorBy=Gc,t.xorWith=Wc,t.zip=Yc,t.zipObject=ia,t.zipObjectDeep=oa,t.zipWith=Xc,t.entries=Nd,t.entriesIn=Kd,t.extend=Ed,t.extendWith=Td,Xl(t,t),t.add=tp,t.attempt=Hd,t.camelCase=Pd,t.capitalize=El,t.ceil=np,t.clamp=bl,t.clone=Ja,t.cloneDeep=Qa,t.cloneDeepWith=es,t.cloneWith=Za,t.deburr=Tl,t.divide=rp,t.endsWith=wl,t.eq=ts,t.escape=Dl,t.escapeRegExp=Ol,t.every=ga,t.find=Qc,t.findIndex=Eo,t.findKey=zs,t.findLast=ed,t.findLastIndex=To,t.findLastKey=Gs,t.floor=ip,t.forEach=Ea,t.forEachRight=Ta,t.forIn=Ws,t.forInRight=Ys,t.forOwn=Xs,t.forOwnRight=Js,t.get=el,t.gt=hd,t.gte=md,t.has=tl,t.hasIn=nl,t.head=Ro,t.identity=zl,t.includes=wa,t.indexOf=$o,t.inRange=yl,t.invoke=xd,t.isArguments=ns,t.isArray=gd,t.isArrayBuffer=rs,t.isArrayLike=is,t.isArrayLikeObject=os,t.isBoolean=as,t.isBuffer=vd,t.isDate=ss,t.isElement=ls,t.isEmpty=us,t.isEqual=cs,t.isEqualWith=ds,t.isError=ps,t.isFinite=fs,t.isFunction=hs,t.isInteger=ms,t.isLength=gs,t.isMap=ys,t.isMatch=Cs,t.isMatchWith=Es,t.isNaN=Ts,t.isNative=ws,t.isNil=Os,t.isNull=Ds,t.isNumber=Is,t.isObject=vs,t.isObjectLike=bs,t.isPlainObject=Rs,t.isRegExp=$s,t.isSafeInteger=xs,t.isSet=ks,t.isString=_s,t.isSymbol=Ss,t.isTypedArray=As,t.isUndefined=Ns,t.isWeakMap=Ks,t.isWeakSet=Ps,t.join=ko,t.kebabCase=Md,t.last=_o,t.lastIndexOf=So,t.lowerCase=Ld,t.lowerFirst=Fd,t.lt=bd,t.lte=yd,t.max=cu,t.maxBy=du,t.mean=pu,t.meanBy=fu,t.min=hu,t.minBy=mu,t.stubArray=nu,t.stubFalse=ru,t.stubObject=iu,t.stubString=ou,t.stubTrue=au,t.multiply=op,t.nth=Ao,t.noConflict=Jl,t.noop=Zl,t.now=Na,t.pad=Il,t.padEnd=Rl,t.padStart=$l,t.parseInt=xl,t.random=Cl,t.reduce=Ia,t.reduceRight=Ra,t.repeat=kl,t.replace=_l,t.result=ul,t.round=ap,t.runInContext=Y,t.sample=xa,t.size=Sa,t.snakeCase=Bd,t.some=Aa,t.sortedIndex=Bo,t.sortedIndexBy=jo,t.sortedIndexOf=Uo,t.sortedLastIndex=Vo,t.sortedLastIndexBy=Ho,t.sortedLastIndexOf=qo,t.startCase=jd,t.startsWith=Al,t.subtract=sp,t.sum=gu,t.sumBy=vu,t.template=Nl,t.times=su,t.toFinite=Ls,t.toInteger=Fs,t.toLength=Bs,t.toLower=Kl,t.toNumber=js,t.toSafeInteger=Vs,t.toString=Hs,t.toUpper=Pl,t.trim=Ml,t.trimEnd=Ll,t.trimStart=Fl,t.truncate=Bl,t.unescape=jl,t.uniqueId=uu,t.upperCase=Ud,t.upperFirst=Vd,t.each=Ea,t.eachRight=Ta,t.first=Ro,Xl(t,function(){var e={};return Vn(t,function(n,r){xu.call(t.prototype,r)||(e[r]=n)}),e}(),{chain:!1}),t.VERSION=J,s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),s(["drop","take"],function(e,t){At.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new At(this);n=n===X?1:Zu(Fs(n),0);var i=this.clone();return r?i.__takeCount__=Qu(n,i.__takeCount__):i.__views__.push({size:Qu(n,Oe),type:e+(i.__dir__<0?"Right":"")}),i},At.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),s(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==be||n==Ce;At.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ki(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),s(["head","last"],function(e,t){var n="take"+(t?"Right":"");At.prototype[e]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");At.prototype[e]=function(){return this.__filtered__?new At(this):this[n](1)}}),At.prototype.compact=function(){return this.filter(zl)},At.prototype.find=function(e){return this.filter(e).head()},At.prototype.findLast=function(e){return this.reverse().find(e)},At.prototype.invokeMap=qa(function(e,t){return"function"==typeof e?new At(this):this.map(function(n){return er(n,e,t)})}),At.prototype.reject=function(e){return e=Ki(e,3),this.filter(function(t){return!e(t)})},At.prototype.slice=function(e,t){e=Fs(e);var n=this;return n.__filtered__&&(e>0||0>t)?new At(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==X&&(t=Fs(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},At.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},At.prototype.toArray=function(){return this.take(Oe)},Vn(At.prototype,function(e,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),o=t[i?"take"+("last"==n?"Right":""):n],a=i||/^find/.test(n);o&&(t.prototype[n]=function(){var n=this.__wrapped__,s=i?[1]:arguments,l=n instanceof At,u=s[0],c=l||gd(n),d=function(e){var n=o.apply(t,h([e],s));return i&&p?n[0]:n};c&&r&&"function"==typeof u&&1!=u.length&&(l=c=!1);var p=this.__chain__,f=!!this.__actions__.length,m=a&&!p,g=l&&!f;if(!a&&c){n=g?n:new At(this);var v=e.apply(n,s);return v.__actions__.push({func:la,args:[d],thisArg:X}),new A(v,p)}return m&&g?e.apply(this,s):(v=this.thru(d),m?i?v.value()[0]:v.value():v)})}),s(["pop","push","shift","sort","splice","unshift"],function(e){var n=wu[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var t=this.value();return n.apply(gd(t)?t:[],e)}return this[r](function(t){return n.apply(gd(t)?t:[],e)})}}),Vn(At.prototype,function(e,n){var r=t[n];if(r){var i=r.name+"",o=fc[i]||(fc[i]=[]);o.push({name:n,func:r})}}),fc[gi(X,re).name]=[{name:"wrapper",func:X}],At.prototype.clone=Nt,At.prototype.reverse=Kt,At.prototype.value=Pt,t.prototype.at=Jc,t.prototype.chain=ua,t.prototype.commit=ca,t.prototype.next=da,t.prototype.plant=fa,t.prototype.reverse=ha,t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=ma,ju&&(t.prototype[ju]=pa),t}var X,J="4.13.1",Z=200,Q="Expected a function",ee="__lodash_hash_undefined__",te="__lodash_placeholder__",ne=1,re=2,ie=4,oe=8,ae=16,se=32,le=64,ue=128,ce=256,de=512,pe=1,fe=2,he=30,me="...",ge=150,ve=16,be=1,ye=2,Ce=3,Ee=1/0,Te=9007199254740991,we=1.7976931348623157e308,De=0/0,Oe=4294967295,Ie=Oe-1,Re=Oe>>>1,$e="[object Arguments]",xe="[object Array]",ke="[object Boolean]",_e="[object Date]",Se="[object Error]",Ae="[object Function]",Ne="[object GeneratorFunction]",Ke="[object Map]",Pe="[object Number]",Me="[object Object]",Le="[object Promise]",Fe="[object RegExp]",Be="[object Set]",je="[object String]",Ue="[object Symbol]",Ve="[object WeakMap]",He="[object WeakSet]",qe="[object ArrayBuffer]",ze="[object DataView]",Ge="[object Float32Array]",We="[object Float64Array]",Ye="[object Int8Array]",Xe="[object Int16Array]",Je="[object Int32Array]",Ze="[object Uint8Array]",Qe="[object Uint8ClampedArray]",et="[object Uint16Array]",tt="[object Uint32Array]",nt=/\b__p \+= '';/g,rt=/\b(__p \+=) '' \+/g,it=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ot=/&(?:amp|lt|gt|quot|#39|#96);/g,at=/[&<>"'`]/g,st=RegExp(ot.source),lt=RegExp(at.source),ut=/<%-([\s\S]+?)%>/g,ct=/<%([\s\S]+?)%>/g,dt=/<%=([\s\S]+?)%>/g,pt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ft=/^\w*$/,ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(\.|\[\])(?:\4|$))/g,mt=/[\\^$.*+?()[\]{}|]/g,gt=RegExp(mt.source),vt=/^\s+|\s+$/g,bt=/^\s+/,yt=/\s+$/,Ct=/[a-zA-Z0-9]+/g,Et=/\\(\\)?/g,Tt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wt=/\w*$/,Dt=/^0x/i,Ot=/^[-+]0x[0-9a-f]+$/i,It=/^0b[01]+$/i,Rt=/^\[object .+?Constructor\]$/,$t=/^0o[0-7]+$/i,xt=/^(?:0|[1-9]\d*)$/,kt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,_t=/($^)/,St=/['\n\r\u2028\u2029\\]/g,At="\\ud800-\\udfff",Nt="\\u0300-\\u036f\\ufe20-\\ufe23",Kt="\\u20d0-\\u20f0",Pt="\\u2700-\\u27bf",Mt="a-z\\xdf-\\xf6\\xf8-\\xff",Lt="\\xac\\xb1\\xd7\\xf7",Ft="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bt="\\u2000-\\u206f",jt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ut="A-Z\\xc0-\\xd6\\xd8-\\xde",Vt="\\ufe0e\\ufe0f",Ht=Lt+Ft+Bt+jt,qt="['’]",zt="["+At+"]",Gt="["+Ht+"]",Wt="["+Nt+Kt+"]",Yt="\\d+",Xt="["+Pt+"]",Jt="["+Mt+"]",Zt="[^"+At+Ht+Yt+Pt+Mt+Ut+"]",Qt="\\ud83c[\\udffb-\\udfff]",en="(?:"+Wt+"|"+Qt+")",tn="[^"+At+"]",nn="(?:\\ud83c[\\udde6-\\uddff]){2}",rn="[\\ud800-\\udbff][\\udc00-\\udfff]",on="["+Ut+"]",an="\\u200d",sn="(?:"+Jt+"|"+Zt+")",ln="(?:"+on+"|"+Zt+")",un="(?:"+qt+"(?:d|ll|m|re|s|t|ve))?",cn="(?:"+qt+"(?:D|LL|M|RE|S|T|VE))?",dn=en+"?",pn="["+Vt+"]?",fn="(?:"+an+"(?:"+[tn,nn,rn].join("|")+")"+pn+dn+")*",hn=pn+dn+fn,mn="(?:"+[Xt,nn,rn].join("|")+")"+hn,gn="(?:"+[tn+Wt+"?",Wt,nn,rn,zt].join("|")+")",vn=RegExp(qt,"g"),bn=RegExp(Wt,"g"),yn=RegExp(Qt+"(?="+Qt+")|"+gn+hn,"g"),Cn=RegExp([on+"?"+Jt+"+"+un+"(?="+[Gt,on,"$"].join("|")+")",ln+"+"+cn+"(?="+[Gt,on+sn,"$"].join("|")+")",on+"?"+sn+"+"+un,on+"+"+cn,Yt,mn].join("|"),"g"),En=RegExp("["+an+At+Nt+Kt+Vt+"]"),Tn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","isFinite","parseInt","setTimeout"],Dn=-1,On={};On[Ge]=On[We]=On[Ye]=On[Xe]=On[Je]=On[Ze]=On[Qe]=On[et]=On[tt]=!0,On[$e]=On[xe]=On[qe]=On[ke]=On[ze]=On[_e]=On[Se]=On[Ae]=On[Ke]=On[Pe]=On[Me]=On[Fe]=On[Be]=On[je]=On[Ve]=!1;var In={};In[$e]=In[xe]=In[qe]=In[ze]=In[ke]=In[_e]=In[Ge]=In[We]=In[Ye]=In[Xe]=In[Je]=In[Ke]=In[Pe]=In[Me]=In[Fe]=In[Be]=In[je]=In[Ue]=In[Ze]=In[Qe]=In[et]=In[tt]=!0,In[Se]=In[Ae]=In[Ve]=!1;var Rn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},$n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},xn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},kn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_n=parseFloat,Sn=parseInt,An="object"==typeof n&&n,Nn=An&&"object"==typeof t&&t,Kn=Nn&&Nn.exports===An,Pn=A("object"==typeof e&&e),Mn=A("object"==typeof self&&self),Ln=A("object"==typeof this&&this),Fn=Pn||Mn||Ln||Function("return this")(),Bn=Y();(Mn||{})._=Bn,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Bn}):Nn?((Nn.exports=Bn)._=Bn,An._=Bn):Fn._=Bn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("address",{icon:"fa fa-home",views:[{name:"Display",template:"formio/components/address/display.html"},{name:"Validation",template:"formio/components/address/validate.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#address"})}]),e.run(["$templateCache",function(e){e.put("formio/components/address/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><form-builder-option property="placeholder"></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><div class="form-group"><label for="mapRegion" form-builder-tooltip="The region bias to use for this search. See https://developers.google.com/maps/documentation/geocoding/intro#RegionCodes for more information.">Region Bias</label><input type="text" class="form-control" id="mapRegion" name="mapRegion" ng-model="component.map.region"></input></div><div class="form-group"><label for="mapKey" form-builder-tooltip="The API key for Google Maps. See https://developers.google.com/maps/documentation/geocoding/get-api-key for more information.">Google Maps API Key</label><input type="text" class="form-control" id="mapKey" name="mapKey" ng-model="component.map.key"></input></div><form-builder-option property="multiple" label="Allow Multiple Addresses"></form-builder-option><form-builder-option property="protected"></form-builder-option><form-builder-option property="persistent"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),e.put("formio/components/address/validate.html",'<ng-form><form-builder-option property="validate.required"></form-builder-option><form-builder-option property="unique"></form-builder-option></ng-form>')}])}},{}],4:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider","FORM_OPTIONS",function(e,t){e.register("button",{onEdit:["$scope",function(e){e.actions=t.actions,e.sizes=t.sizes,e.themes=t.themes}],icon:"fa fa-stop",views:[{name:"Display",template:"formio/components/button/display.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#button"})}]),e.run(["$templateCache",function(e){e.put("formio/components/button/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><div class="form-group"><label for="action" form-builder-tooltip="This is the action to be performed by this button.">Action</label><select class="form-control" id="action" name="action" ng-options="action.name as action.title for action in actions" ng-model="component.action"></select></div><div class="form-group"><label for="theme" form-builder-tooltip="The color theme of this panel.">Theme</label><select class="form-control" id="theme" name="theme" ng-options="theme.name as theme.title for theme in themes" ng-model="component.theme"></select></div><div class="form-group"><label for="size" form-builder-tooltip="The size of this button.">Size</label><select class="form-control" id="size" name="size" ng-options="size.name as size.title for size in sizes" ng-model="component.size"></select></div><form-builder-option property="leftIcon"></form-builder-option><form-builder-option property="rightIcon"></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><form-builder-option property="block"></form-builder-option><form-builder-option property="disableOnInvalid"></form-builder-option></ng-form>')}])}},{}],5:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("checkbox",{icon:"fa fa-check-square",views:[{name:"Display",template:"formio/components/checkbox/display.html"},{name:"Validation",template:"formio/components/checkbox/validate.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#checkbox"})}]),e.run(["$templateCache",function(e){e.put("formio/components/checkbox/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><form-builder-option property="defaultValue"></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><form-builder-option property="protected"></form-builder-option><form-builder-option property="persistent"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),e.put("formio/components/checkbox/validate.html",'<ng-form><form-builder-option property="validate.required"></form-builder-option></ng-form>')}])}},{}],6:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("columns",{fbtemplate:"formio/formbuilder/columns.html",icon:"fa fa-columns",documentation:"http://help.form.io/userguide/#columns",noDndOverlay:!0,confirmRemove:!0,views:[{name:"API",template:"formio/components/common/api.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}]})}]),e.run(["$templateCache",function(e){e.put("formio/formbuilder/columns.html",'<div class="row"><div class="col-xs-6 component-form-group" ng-repeat="component in component.columns"><form-builder-list class="formio-column" component="component" form="form" formio="formio"></form-builder-list></div></div>')}])}},{}],7:[function(e,t,n){"use strict";t.exports=function(e){e.run(["$templateCache",function(e){e.put("formio/components/settings.html",'<form id="component-settings" novalidate><div class="row"><div class="col-md-6"><p class="lead" ng-if="formComponent.title" style="margin-top:10px;">{{formComponent.title}} Component</p></div><div class="col-md-6"><div class="pull-right" ng-if="formComponent.documentation" style="margin-top:10px; margin-right:20px;"><a ng-href="{{ formComponent.documentation }}" target="_blank"><i class="glyphicon glyphicon-new-window"></i> Help!</a></div></div></div><div class="row"><div class="col-xs-6"><uib-tabset><uib-tab ng-repeat="view in formComponent.views" heading="{{ view.name }}"><ng-include src="view.template"></ng-include></uib-tab></uib-tabset></div><div class="col-xs-6"><div class="panel panel-default preview-panel" style="margin-top:44px;"><div class="panel-heading">Preview</div><div class="panel-body"><formio-component component="component" data="data" formio="formio"></formio-component></div></div><div class="form-group"><button type="submit" class="btn btn-success" ng-click="closeThisDialog(true)">Save</button>&nbsp;<button type="button" class="btn btn-default" ng-click="closeThisDialog(false)" ng-if="!component.isNew">Cancel</button>&nbsp;<button type="button" class="btn btn-danger" ng-click="removeComponent(component, formComponents[component.type].confirmRemove); closeThisDialog(false)">Remove</button></div></div></div></form>'),e.put("formio/components/common/api.html","<ng-form><form-builder-option-key></form-builder-option-key></ng-form>"),e.put("formio/components/common/layout.html","<ng-form><form-builder-option property=\"style['margin-top']\"></form-builder-option><form-builder-option property=\"style['margin-right']\"></form-builder-option><form-builder-option property=\"style['margin-bottom']\"></form-builder-option><form-builder-option property=\"style['margin-left']\"></form-builder-option></ng-form>"),e.put("formio/components/common/conditional.html","<form-builder-conditional></form-builder-conditional>")}])}},{}],8:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("container",{fbtemplate:"formio/formbuilder/container.html",views:[{name:"Display",template:"formio/components/container/display.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#container",noDndOverlay:!0,confirmRemove:!0})}]),e.run(["$templateCache",function(e){e.put("formio/components/container/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="protected"></form-builder-option><form-builder-option property="persistent"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),e.put("formio/formbuilder/container.html",'<fieldset><label ng-if="component.label" class="control-label">{{ component.label }}</label><form-builder-list component="component" form="form" formio="formio"></form-builder-list></fieldset>')}])}},{}],9:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("content",{fbtemplate:"formio/formbuilder/content.html",icon:"fa fa-html5",documentation:"http://help.form.io/userguide/#content-component",controller:function(e,t){t.$watch("component.html",function(){t.$emit("formBuilder:update")})},views:[{name:"API",template:"formio/components/common/api.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}]})}]),e.run(["$templateCache",function(e){e.put("formio/formbuilder/content.html",'<div class="form-group"><textarea ckeditor ng-model="component.html"><textarea></div>')}])}},{}],10:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("currency",{icon:"fa fa-usd",views:[{name:"Display",template:"formio/components/currency/display.html"},{name:"Validation",template:"formio/components/currency/validate.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#currency"})}]),e.run(["$templateCache",function(e){e.put("formio/components/currency/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><form-builder-option property="placeholder"></form-builder-option><form-builder-option property="prefix"></form-builder-option><form-builder-option property="suffix"></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><form-builder-option property="multiple"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),e.put("formio/components/currency/validate.html",'<ng-form><form-builder-option property="validate.required"></form-builder-option><form-builder-option-custom-validation></form-builder-option-custom-validation></ng-form>')}])}},{}],11:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("custom",{icon:"fa fa-cubes",views:[{name:"Display",template:"formio/components/custom/display.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#custom"})}]),e.controller("customComponent",["$scope","formioComponents",function(e,t){e.$watch("component",function(n,r){n&&(n.type=t.components.hasOwnProperty(n.type)?"custom":n.type,n.key=n.key||n.type,n["protected"]=n.hasOwnProperty("protected")?n["protected"]:!1,n.persistent=n.hasOwnProperty("persistent")?n.persistent:!0,e.updateComponent(n,r))})}]),e.run(["$templateCache",function(e){e.put("formio/components/custom/display.html",'<ng-form><div class="form-group"><p>Custom components can be used to render special fields or widgets inside your app. For information on how to display in an app, see <a href="http://help.form.io/userguide/#custom" target="_blank">custom component documentation</a>.</p><label for="json" form-builder-tooltip="Enter the JSON for this custom element.">Custom Element JSON</label><textarea ng-controller="customComponent" class="form-control" id="json" name="json" json-input ng-model="component" placeholder="{}" rows="10"></textarea></div></ng-form>')}])}},{}],12:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("datagrid",{fbtemplate:"formio/formbuilder/datagrid.html",icon:"fa fa-th",views:[{name:"Display",template:"formio/components/datagrid/display.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#datagrid",noDndOverlay:!0,confirmRemove:!0})}]),e.run(["$templateCache",function(e){e.put("formio/components/datagrid/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><form-builder-option property="addAnother"></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="striped"></form-builder-option><form-builder-option property="bordered"></form-builder-option><form-builder-option property="hover"></form-builder-option><form-builder-option property="condensed"></form-builder-option><form-builder-option property="protected"></form-builder-option><form-builder-option property="persistent"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>')}])}},{}],13:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("datetime",{onEdit:["$scope",function(e){e.setFormat=function(){e.component.enableDate&&e.component.enableTime?e.component.format="yyyy-MM-dd HH:mm":e.component.enableDate&&!e.component.enableTime?e.component.format="yyyy-MM-dd":!e.component.enableDate&&e.component.enableTime&&(e.component.format="HH:mm")},e.startingDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.modes=[{name:"day",label:"Day"},{name:"month",label:"Month"},{name:"year",label:"Year"}]}],icon:"fa fa-clock-o",views:[{name:"Display",template:"formio/components/datetime/display.html"},{name:"Date",template:"formio/components/datetime/date.html"},{name:"Time",template:"formio/components/datetime/time.html"},{name:"Validation",template:"formio/components/datetime/validate.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#datetime"})}]),e.run(["$templateCache",function(e){e.put("formio/components/datetime/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><form-builder-option property="placeholder"></form-builder-option><form-builder-option property="format" label="Date Format" placeholder="Enter the Date format" title="The format for displaying this field\'s date. The format must be specified like the <a href=\'https://docs.angularjs.org/api/ng/filter/date\' target=\'_blank\'>AngularJS date filter</a>."></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><form-builder-option property="protected"></form-builder-option><form-builder-option property="persistent"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),
e.put("formio/components/datetime/date.html",'<ng-form><div class="checkbox"><label form-builder-tooltip="Enables date input for this field."><input type="checkbox" id="enableDate" name="enableDate" ng-model="component.enableDate" ng-checked="component.enableDate" ng-change="setFormat()"> Enable Date Input</label></div><div class="form-group"><label for="datepickerMode" form-builder-tooltip="The initial view to display when clicking on this field.">Initial Mode</label><select class="form-control" id="datepickerMode" name="datepickerMode" ng-model="component.datepickerMode" ng-options="mode.name as mode.label for mode in modes"></select></div><div class="form-group"><label for="placeholder" form-builder-tooltip="The minimum date that can be picked.">Minimum Date</label><div class="input-group"><input type="text" class="form-control" ng-focus="minDateOpen = true" ng-init="minDateOpen = false" is-open="minDateOpen" datetime-picker="yyyy-MM-dd" enable-time="false" ng-model="component.minDate" /><span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="minDateOpen = true"><i class="fa fa-calendar"></i></button></span></div></div><div class="form-group"><label for="placeholder"  form-builder-tooltip="The maximum date that can be picked.">Maximum Date</label><div class="input-group"><input type="text" class="form-control" ng-focus="maxDateOpen = true" ng-init="maxDateOpen = false" is-open="maxDateOpen" datetime-picker="yyyy-MM-dd" enable-time="false" ng-model="component.maxDate" /><span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="maxDateOpen = true"><i class="fa fa-calendar"></i></button></span></div></div><div class="form-group"><label for="startingDay" form-builder-tooltip="The first day of the week.">Starting Day</label><select class="form-control" id="startingDay" name="startingDay" ng-model="component.datePicker.startingDay" ng-options="idx as day for (idx, day) in startingDays"></select></div><div class="form-group"><label for="minMode" form-builder-tooltip="The smallest unit of time view to display in the date picker.">Minimum Mode</label><select class="form-control" id="minMode" name="minMode" ng-model="component.datePicker.minMode" ng-options="mode.name as mode.label for mode in modes"></select></div><div class="form-group"><label for="maxMode" form-builder-tooltip="The largest unit of time view to display in the date picker.">Maximum Mode</label><select class="form-control" id="maxMode" name="maxMode" ng-model="component.datePicker.maxMode" ng-options="mode.name as mode.label for mode in modes"></select></div><form-builder-option property="datePicker.yearRange" label="Number of Years Displayed" placeholder="Year Range" title="The number of years to display in the years view."></form-builder-option><form-builder-option property="datePicker.showWeeks" type="checkbox" label="Show Week Numbers" title="Displays the week numbers on the date picker."></form-builder-option></ng-form>'),e.put("formio/components/datetime/time.html",'<ng-form><div class="checkbox"><label form-builder-tooltip="Enables time input for this field."><input type="checkbox" id="enableTime" name="enableTime" ng-model="component.enableTime" ng-checked="component.enableTime" ng-change="setFormat()"> Enable Time Input</label></div><form-builder-option property="timePicker.hourStep" type="number" label="Hour Step Size" title="The number of hours to increment/decrement in the time picker."></form-builder-option><form-builder-option property="timePicker.minuteStep" type="number" label="Minute Step Size" title="The number of minutes to increment/decrement in the time picker."></form-builder-option><form-builder-option property="timePicker.showMeridian" type="checkbox" label="12 Hour Time (AM/PM)" title="Display time in 12 hour time with AM/PM."></form-builder-option><form-builder-option property="timePicker.readonlyInput" type="checkbox" label="Read-Only Input" title="Makes the time picker input boxes read-only. The time can only be changed by the increment/decrement buttons."></form-builder-option></ng-form>'),e.put("formio/components/datetime/validate.html",'<ng-form><form-builder-option property="validate.required"></form-builder-option><form-builder-option-custom-validation></form-builder-option-custom-validation></ng-form>')}])}},{}],14:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("email",{icon:"fa fa-at",views:e.$get().components.textfield.views,documentation:"http://help.form.io/userguide/#email"})}])}},{}],15:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("fieldset",{fbtemplate:"formio/formbuilder/fieldset.html",icon:"fa fa-th-large",views:[{name:"Display",template:"formio/components/fieldset/display.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#fieldset",keepChildrenOnRemove:!0,noDndOverlay:!0,confirmRemove:!0})}]),e.run(["$templateCache",function(e){e.put("formio/formbuilder/fieldset.html",'<fieldset><legend ng-if="component.legend">{{ component.legend }}</legend><form-builder-list component="component" form="form" formio="formio"></form-builder-list></fieldset>'),e.put("formio/components/fieldset/display.html",'<ng-form><form-builder-option property="legend" label="Legend" placeholder="FieldSet Legend" title="The legend text to appear above this fieldset."></form-builder-option><form-builder-option property="customClass"></form-builder-option></ng-form>')}])}},{}],16:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("file",{onEdit:["$scope","Formio",function(e,t){e.storage=_.map(t.providers.storage,function(e){return _.pick(e,["title","name"])})}],icon:"fa fa-file",views:[{name:"Display",template:"formio/components/file/display.html"},{name:"Validation",template:"formio/components/file/validate.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#file"})}]),e.run(["$templateCache",function(e){e.put("formio/components/file/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><div class="form-group"><label for="storage" form-builder-tooltip="Which storage to save the files in.">Storage</label><select class="form-control" id="storage" name="storage" ng-options="store.name as store.title for store in storage" ng-model="component.storage"></select></div><form-builder-option property="url" ng-show="component.storage === \'url\'"></form-builder-option><form-builder-option property="dir"></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><form-builder-option property="multiple"></form-builder-option><form-builder-option property="protected"></form-builder-option><form-builder-option property="persistent"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),e.put("formio/components/file/validate.html",'<ng-form><form-builder-option property="validate.required"></form-builder-option><form-builder-option property="filePattern"></form-builder-option></ng-form>')}])}},{}],17:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("hidden",{fbtemplate:"formio/formbuilder/hidden.html",icon:"fa fa-user-secret",views:[{name:"Display",template:"formio/components/hidden/display.html"},{name:"Validation",template:"formio/components/hidden/validation.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#hidden"})}]),e.run(["$templateCache",function(e){e.put("formio/formbuilder/hidden.html",'<span class="hidden-element-text">{{ component.label }}</span>'),e.put("formio/components/hidden/display.html",'<ng-form><form-builder-option property="label" label="Name" placeholder="Enter the name for this hidden field" title="The name for this field. It is only used for administrative purposes such as generating the automatic property name in the API tab (which may be changed manually)."></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="protected"></form-builder-option><form-builder-option property="persistent"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),e.put("formio/components/hidden/validation.html",'<ng-form><form-builder-option property="unique"></form-builder-option></ng-form>')}])}},{}],18:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("htmlelement",{fbtemplate:"formio/formbuilder/htmlelement.html",icon:"fa fa-code",views:[{name:"Display",template:"formio/components/htmlelement/display.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#html-element-component"})}]),e.run(["$templateCache",function(e){e.put("formio/formbuilder/htmlelement.html",'<formio-html-element component="component"></div>'),e.put("formio/components/htmlelement/display.html",'<ng-form><form-builder-option property="tag" label="HTML Tag" placeholder="HTML Element Tag" title="The tag of this HTML element."></form-builder-option><form-builder-option property="className" label="CSS Class" placeholder="CSS Class" title="The CSS class for this HTML element."></form-builder-option><value-builder data="component.attrs" label="Attributes" tooltip-text="The attributes for this HTML element. Only safe attributes are allowed, such as src, href, and title." value-property="attr" label-property="value" value-label="Attribute" label-label="Value" no-autocomplete-value="true" ></value-builder><div class="form-group"><label for="content" form-builder-tooltip="The content of this HTML element.">Content</label><textarea class="form-control" id="content" name="content" ng-model="component.content" placeholder="HTML Content" rows="3">{{ component.content }}</textarea></div></ng-form>')}])}},{}],19:[function(e,t,n){"use strict";var r=angular.module("ngFormBuilder");e("./components")(r),e("./textfield")(r),e("./number")(r),e("./password")(r),e("./textarea")(r),e("./checkbox")(r),e("./selectboxes")(r),e("./select")(r),e("./radio")(r),e("./htmlelement")(r),e("./content")(r),e("./button")(r),e("./email")(r),e("./phonenumber")(r),e("./address")(r),e("./datetime")(r),e("./currency")(r),e("./hidden")(r),e("./resource")(r),e("./file")(r),e("./signature")(r),e("./custom")(r),e("./datagrid")(r),e("./survey")(r),e("./columns")(r),e("./fieldset")(r),e("./container")(r),e("./page")(r),e("./panel")(r),e("./table")(r),e("./well")(r)},{"./address":3,"./button":4,"./checkbox":5,"./columns":6,"./components":7,"./container":8,"./content":9,"./currency":10,"./custom":11,"./datagrid":12,"./datetime":13,"./email":14,"./fieldset":15,"./file":16,"./hidden":17,"./htmlelement":18,"./number":20,"./page":21,"./panel":22,"./password":23,"./phonenumber":24,"./radio":25,"./resource":26,"./select":27,"./selectboxes":28,"./signature":29,"./survey":30,"./table":31,"./textarea":32,"./textfield":33,"./well":34}],20:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("number",{icon:"fa fa-hashtag",views:[{name:"Display",template:"formio/components/number/display.html"},{name:"Validation",template:"formio/components/number/validate.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#number"})}]),e.run(["$templateCache",function(e){e.put("formio/components/number/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><form-builder-option property="placeholder"></form-builder-option><form-builder-option property="validate.step" label="Increment (Step)" placeholder="Enter how much to increment per step (or precision)." title="The amount to increment/decrement for each step."></form-builder-option><form-builder-option property="prefix"></form-builder-option><form-builder-option property="suffix"></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><form-builder-option property="multiple"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),e.put("formio/components/number/validate.html",'<ng-form><form-builder-option property="validate.required"></form-builder-option><form-builder-option property="validate.min" type="number" label="Minimum Value" placeholder="Minimum Value" title="The minimum value this field must have before the form can be submitted."></form-builder-option><form-builder-option property="validate.max" type="number" label="Maximum Value" placeholder="Maximum Value" title="The maximum value this field must have before the form can be submitted."></form-builder-option><form-builder-option-custom-validation></form-builder-option-custom-validation></ng-form>')}])}},{}],21:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("page",{fbtemplate:"formio/formbuilder/page.html"})}]),e.run(["$templateCache",function(e){e.put("formio/formbuilder/page.html",'<form-builder-list component="component" form="form" formio="formio"></form-builder-list>')}])}},{}],22:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider","FORM_OPTIONS",function(e,t){e.register("panel",{fbtemplate:"formio/formbuilder/panel.html",icon:"fa fa-list-alt",onEdit:["$scope",function(e){e.themes=t.themes}],views:[{name:"Display",template:"formio/components/panel/display.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#panels",noDndOverlay:!0,confirmRemove:!0})}]),e.run(["$templateCache",function(e){e.put("formio/formbuilder/panel.html",'<div class="panel panel-{{ component.theme }}"><div ng-if="component.title" class="panel-heading"><h3 class="panel-title">{{ component.title }}</h3></div><div class="panel-body"><form-builder-list component="component" form="form" formio="formio"></form-builder-list></div></div>'),e.put("formio/components/panel/display.html",'<ng-form><form-builder-option property="title" label="Title" placeholder="Panel Title" title="The title text that appears in the header of this panel."></form-builder-option><div class="form-group"><label for="theme" form-builder-tooltip="The color theme of this panel.">Theme</label><select class="form-control" id="theme" name="theme" ng-options="theme.name as theme.title for theme in themes" ng-model="component.theme"></select></div><form-builder-option property="customClass"></form-builder-option></ng-form>')}])}},{}],23:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("password",{icon:"fa fa-asterisk",views:[{name:"Display",template:"formio/components/password/display.html"},{name:"Validation",template:"formio/components/textfield/validate.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#password",template:"formio/components/password.html"})}]),e.run(["$templateCache",function(e){var t=e.get("formio/components/textfield.html"),n=t.replace(/<input type="{{ component.inputType }}" /g,'<input type="{{ component.inputType }}" dnd-nodrag ');e.put("formio/components/password.html",n),e.put("formio/components/password/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><form-builder-option property="placeholder"></form-builder-option><form-builder-option property="prefix"></form-builder-option><form-builder-option property="suffix"></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><form-builder-option property="protected"></form-builder-option><form-builder-option property="persistent"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>')}])}},{}],24:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("phoneNumber",{icon:"fa fa-phone-square",views:[{name:"Display",template:"formio/components/phoneNumber/display.html"},{name:"Validation",template:"formio/components/phoneNumber/validate.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#phonenumber"})}]),e.run(["$templateCache",function(e){e.put("formio/components/phoneNumber/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><form-builder-option property="defaultValue"></form-builder-option><form-builder-option property="placeholder"></form-builder-option><form-builder-option property="inputMask"></form-builder-option><form-builder-option property="prefix"></form-builder-option><form-builder-option property="suffix"></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><form-builder-option property="multiple"></form-builder-option><form-builder-option property="protected"></form-builder-option><form-builder-option property="persistent"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),e.put("formio/components/phoneNumber/validate.html",'<ng-form><form-builder-option property="validate.required"></form-builder-option><form-builder-option property="unique"></form-builder-option></ng-form>')}])}},{}],25:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("radio",{icon:"fa fa-dot-circle-o",views:[{name:"Display",template:"formio/components/radio/display.html"},{name:"Validation",template:"formio/components/radio/validate.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#radio"})}]),e.run(["$templateCache",function(e){e.put("formio/components/radio/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><value-builder data="component.values" default="component.defaultValue" label="Values" tooltip-text="The radio button values that can be picked for this field. Values are text submitted with the form data. Labels are text that appears next to the radio buttons on the form."></value-builder><form-builder-option property="defaultValue"></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><form-builder-option property="inline" type="checkbox" label="Inline Layout" title="Displays the radio buttons horizontally."></form-builder-option><form-builder-option property="protected"></form-builder-option><form-builder-option property="persistent"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),e.put("formio/components/radio/validate.html",'<ng-form><form-builder-option property="validate.required"></form-builder-option><form-builder-option-custom-validation></form-builder-option-custom-validation></ng-form>')}])}},{}],26:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("resource",{onEdit:["$scope",function(e){e.resources=[],e.component.project=e.formio.projectId,e.formio.loadForms({params:{type:"resource",limit:100}}).then(function(t){e.resources=t,e.component.resource||(e.component.resource=t[0]._id)})}],icon:"fa fa-files-o",views:[{name:"Display",template:"formio/components/resource/display.html"},{name:"Validation",template:"formio/components/resource/validate.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#resource"})}]),e.run(["$templateCache",function(e){e.put("formio/components/resource/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><form-builder-option property="placeholder"></form-builder-option><div class="form-group"><label for="placeholder" form-builder-tooltip="The resource to be used with this field.">Resource</label><select class="form-control" id="resource" name="resource" ng-options="value._id as value.title for value in resources" ng-model="component.resource"></select></div><div class="form-group"><label for="placeholder" form-builder-tooltip="The properties on the resource to return as part of the options. Separate property names by commas. If left blank, all properties will be returned.">Select Fields</label><input type="text" class="form-control" id="selectFields" name="selectFields" ng-model="component.selectFields" placeholder="Comma separated list of fields to select." value="{{ component.selectFields }}"></div><div class="form-group"><label for="placeholder" form-builder-tooltip="A list of search filters based on the fields of the resource. See the <a target=\'_blank\' href=\'https://github.com/travist/resourcejs#filtering-the-results\'>Resource.js documentation</a> for the format of these filters.">Search Fields</label><input type="text" class="form-control" id="searchFields" name="searchFields" ng-model="component.searchFields" ng-list placeholder="The fields to query on the server" value="{{ component.searchFields }}"></div><div class="form-group"><label for="placeholder" form-builder-tooltip="The HTML template for the result data items.">Item Template</label><textarea class="form-control" id="template" name="template" ng-model="component.template" rows="3">{{ component.template }}</textarea></div><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><form-builder-option property="multiple" label="Allow Multiple Resources"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),e.put("formio/components/resource/validate.html",'<ng-form><form-builder-option property="validate.required"></form-builder-option></ng-form>')}])}},{}],27:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("select",{icon:"fa fa-th-list",views:[{name:"Display",template:"formio/components/select/display.html"},{name:"Validation",template:"formio/components/select/validate.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],onEdit:["$scope","FormioUtils",function(e,t){e.dataSources={values:"Values",json:"Raw JSON",url:"URL",resource:"Resource"},e.resources=[],e.resourceFields=[];var n=function(e){var n=[];return t.eachComponent(e,function(e){if(e.key&&e.input&&"button"!==e.type){var t=_.clone(e);t.label||(t.label=t.key),n.push(t)}}),n};e.formFields=n(e.form.components);var r=function(){if(e.component.data.resource&&0!==e.resources.length){var t=null;e.resourceFields=[],e.formio.projectId&&(e.component.data.project=e.formio.projectId);for(var r in e.resources)if(e.resources[r]._id.toString()===e.component.data.resource){t=e.resources[r];break}if(t){var i=n(t.components);for(var o in i){var a=i[o],s=a.label||a.key;e.resourceFields.push({property:"data."+a.key,title:s})}!e.component.valueProperty&&e.resourceFields.length&&(e.component.valueProperty=e.resourceFields[0].property)}}};e.$watch("component.dataSrc",function(t){0===e.resources.length&&"resource"===t&&e.formio.loadForms({params:{type:"resource"}}).then(function(t){e.resources=t,r()})}),e.$watch("component.data.resource",function(e){e&&r()}),e.$watch("component.valueProperty",function(t){t&&"resource"===e.component.dataSrc&&(e.component.searchField=t,e.component.template="<span>{{ item."+t+" }}</span>")}),r()}],documentation:"http://help.form.io/userguide/#select"})}]),e.run(["$templateCache",function(e){e.put("formio/components/select/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><form-builder-option property="placeholder"></form-builder-option><div class="form-group"><label for="dataSrc" form-builder-tooltip="The source to use for the select data. Values lets you provide your own values and labels. JSON lets you provide raw JSON data. URL lets you provide a URL to retrieve the JSON data from.">Data Source Type</label><select class="form-control" id="dataSrc" name="dataSrc" ng-model="component.dataSrc" ng-options="value as label for (value, label) in dataSources"></select></div><ng-switch on="component.dataSrc"><div class="form-group" ng-switch-when="json"><label for="data.json" form-builder-tooltip="A raw JSON array to use as a data source.">Data Source Raw JSON</label><textarea class="form-control" id="data.json" name="data.json" ng-model="component.data.json" placeholder="Raw JSON Array" rows="3">{{ component.data.json }}</textarea></div><form-builder-option ng-switch-when="url" property="data.url" label="Data Source URL" placeholder="Data Source URL" title="A URL that returns a JSON array to use as the data source."></form-builder-option><value-builder ng-switch-when="values" data="component.data.values" label="Data Source Values" tooltip-text="Values to use as the data source. Labels are shown in the select field. Values are the corresponding values saved with the submission."></value-builder><div class="form-group" ng-switch-when="resource"><label for="placeholder" form-builder-tooltip="The resource to be used with this field.">Resource</label><select class="form-control" id="resource" name="resource" ng-options="value._id as value.title for value in resources" ng-model="component.data.resource"></select></div></ng-switch><form-builder-option ng-hide="component.dataSrc == \'values\' || component.dataSrc == \'resource\'" property="valueProperty" label="Value Property" placeholder="The selected items property to save." title="The property of each item in the data source to use as the select value. If not specified, the item itself will be used."></form-builder-option><div class="form-group" ng-hide="component.dataSrc !== \'resource\' || !component.data.resource || resourceFields.length == 0"><label for="placeholder" form-builder-tooltip="The field to use as the value.">Value</label><select class="form-control" id="valueProperty" name="valueProperty" ng-options="value.property as value.title for value in resourceFields" ng-model="component.valueProperty"></select></div><div class="form-group" ng-hide="component.dataSrc !== \'resource\'"><label for="placeholder" form-builder-tooltip="Refresh this field when this field changes.">Refresh On</label><select class="form-control" id="refreshOn" name="refreshOn" ng-options="field.key as field.label for field in formFields" ng-model="component.refreshOn"></select></div><form-builder-option ng-show="component.dataSrc == \'url\'" property="searchField" label="Search Query Name" placeholder="Name of URL query parameter" title="The name of the search querystring parameter used when sending a request to filter results with. The server at the URL must handle this query parameter."></form-builder-option><form-builder-option ng-show="component.dataSrc == \'url\' || component.dataSrc == \'resource\'" property="filter" label="Filter Query" placeholder="The filter query for results." title="Use this to provide additional filtering using query parameters."></form-builder-option><div class="form-group" ng-show="component.dataSrc !== \'resource\'"><label for="placeholder" form-builder-tooltip="The HTML template for the result data items.">Item Template</label><textarea class="form-control" id="template" name="template" ng-model="component.template" rows="3">{{ component.template }}</textarea></div><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><form-builder-option property="multiple"></form-builder-option><form-builder-option property="protected"></form-builder-option><form-builder-option property="persistent"></form-builder-option><form-builder-option property="tableView"></form-builder-option><form-builder-option ng-show="component.dataSrc == \'url\'" property="authenticate"></form-builder-option></ng-form>'),e.put("formio/components/select/validate.html",'<ng-form><form-builder-option property="validate.required"></form-builder-option><form-builder-option property="unique"></form-builder-option></ng-form>')}])}},{}],28:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("selectboxes",{icon:"fa fa-plus-square",views:[{name:"Display",template:"formio/components/selectboxes/display.html"},{name:"Validation",template:"formio/components/selectboxes/validate.html"},{name:"API",template:"formio/components/selectboxes/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#selectboxes"})}]),e.run(["$templateCache",function(e){e.put("formio/components/selectboxes/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><value-builder data="component.values" label="Select Boxes" tooltip-text="Checkboxes to display. Labels are shown in the form. Values are the corresponding values saved with the submission."></value-builder><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><form-builder-option property="inline" type="checkbox" label="Inline Layout" title="Displays the checkboxes horizontally."></form-builder-option><form-builder-option property="protected"></form-builder-option><form-builder-option property="persistent"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),e.put("formio/components/selectboxes/api.html","<ng-form><form-builder-option-key></form-builder-option-key></ng-form>"),e.put("formio/components/selectboxes/validate.html",'<ng-form><form-builder-option property="validate.required"></form-builder-option><form-builder-option-custom-validation></form-builder-option-custom-validation></ng-form>')}])}},{}],29:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("signature",{icon:"fa fa-pencil",views:[{name:"Display",template:"formio/components/signature/display.html"},{name:"Validation",template:"formio/components/signature/validate.html"
},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#signature"})}]),e.run(["$templateCache",function(e){e.put("formio/components/signature/display.html",'<ng-form><form-builder-option property="footer" label="Footer Label" placeholder="Footer Label" title="The footer text that appears below the signature area."></form-builder-option><form-builder-option property="width" label="Width" placeholder="Width" title="The width of the signature area."></form-builder-option><form-builder-option property="height" label="Height" placeholder="Height" title="The height of the signature area."></form-builder-option><form-builder-option property="backgroundColor" label="Background Color" placeholder="Background Color" title="The background color of the signature area."></form-builder-option><form-builder-option property="penColor" label="Pen Color" placeholder="Pen Color" title="The ink color for the signature area."></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),e.put("formio/components/signature/validate.html",'<ng-form><form-builder-option property="validate.required"></form-builder-option></ng-form>')}])}},{}],30:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("survey",{icon:"fa fa-list",views:[{name:"Display",template:"formio/components/survey/display.html"},{name:"Validation",template:"formio/components/survey/validate.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#survey"})}]),e.run(["$templateCache",function(e){e.put("formio/components/survey/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><value-builder data="component.questions" default="component.questions" label="Questions" tooltip-text="The questions you would like to as in this survey question."></value-builder><value-builder data="component.values" default="component.values" label="Values" tooltip-text="The values that can be selected per question. Example: \'Satisfied\', \'Very Satisfied\', etc."></value-builder><form-builder-option property="defaultValue"></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><form-builder-option property="inline" type="checkbox" label="Inline Layout" title="Displays the radio buttons horizontally."></form-builder-option><form-builder-option property="protected"></form-builder-option><form-builder-option property="persistent"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),e.put("formio/components/survey/validate.html",'<ng-form><form-builder-option property="validate.required"></form-builder-option><form-builder-option-custom-validation></form-builder-option-custom-validation></ng-form>')}])}},{}],31:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("table",{fbtemplate:"formio/formbuilder/table.html",documentation:"http://help.form.io/userguide/#table",noDndOverlay:!0,confirmRemove:!0,icon:"fa fa-table",views:[{name:"Display",template:"formio/components/table/display.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}]})}]),e.run(["$templateCache",function(e){var t="{'table-striped': component.striped, ";t+="'table-bordered': component.bordered, ",t+="'table-hover': component.hover, ",t+="'table-condensed': component.condensed}",e.put("formio/formbuilder/table.html",'<div class="table-responsive"><table ng-class="'+t+'" class="table"><thead ng-if="component.header.length"><tr><th ng-repeat="header in component.header">{{ header }}</th></tr></thead><tbody><tr ng-repeat="row in component.rows"><td ng-repeat="component in row"><form-builder-list component="component" form="form" formio="formio"></form-builder-list></td></tr></tbody></table></div>'),e.put("formio/components/table/display.html",'<ng-form><form-builder-table></form-builder-table><form-builder-option property="customClass"></form-builder-option><form-builder-option property="striped"></form-builder-option><form-builder-option property="bordered"></form-builder-option><form-builder-option property="hover"></form-builder-option><form-builder-option property="condensed"></form-builder-option></ng-form>')}])}},{}],32:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("textarea",{icon:"fa fa-font",views:[{name:"Display",template:"formio/components/textfield/display.html"},{name:"Validation",template:"formio/components/textfield/validate.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#textarea"})}])}},{}],33:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("textfield",{views:[{name:"Display",template:"formio/components/textfield/display.html"},{name:"Validation",template:"formio/components/textfield/validate.html"},{name:"API",template:"formio/components/common/api.html"},{name:"Layout",template:"formio/components/common/layout.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}],documentation:"http://help.form.io/userguide/#textfield"})}]),e.run(["$templateCache",function(e){e.put("formio/components/textfield/display.html",'<ng-form><form-builder-option property="label"></form-builder-option><form-builder-option property="defaultValue"></form-builder-option><form-builder-option property="placeholder"></form-builder-option><form-builder-option property="inputMask"></form-builder-option><form-builder-option property="prefix"></form-builder-option><form-builder-option property="suffix"></form-builder-option><form-builder-option property="customClass"></form-builder-option><form-builder-option property="tabindex"></form-builder-option><form-builder-option property="multiple"></form-builder-option><form-builder-option property="protected"></form-builder-option><form-builder-option property="persistent"></form-builder-option><form-builder-option property="tableView"></form-builder-option></ng-form>'),e.put("formio/components/textfield/validate.html",'<ng-form><form-builder-option property="validate.required"></form-builder-option><form-builder-option property="unique"></form-builder-option><form-builder-option property="validate.minLength"></form-builder-option><form-builder-option property="validate.maxLength"></form-builder-option><form-builder-option property="validate.pattern"></form-builder-option><form-builder-option-custom-validation></form-builder-option-custom-validation></ng-form>')}])}},{}],34:[function(e,t,n){"use strict";t.exports=function(e){e.config(["formioComponentsProvider",function(e){e.register("well",{fbtemplate:"formio/formbuilder/well.html",icon:"fa fa-square-o",documentation:"http://help.form.io/userguide/#well",noDndOverlay:!0,confirmRemove:!0,views:[{name:"API",template:"formio/components/common/api.html"},{name:"Conditional",template:"formio/components/common/conditional.html"}]})}]),e.run(["$templateCache",function(e){e.put("formio/formbuilder/well.html",'<div class="well"><form-builder-list component="component" form="form" formio="formio"></form-builder-list></div>')}])}},{}],35:[function(e,t,n){"use strict";t.exports={label:{label:"Label",placeholder:"Field Label",tooltip:"The label for this field that will appear next to it."},defaultValue:{label:"Default Value",placeholder:"Default Value",tooltip:"The will be the value for this field, before user interaction. Having a default value will override the placeholder text."},placeholder:{label:"Placeholder",placeholder:"Placeholder",tooltip:"The placeholder text that will appear when this field is empty."},inputMask:{label:"Input Mask",placeholder:"Input Mask",tooltip:"An input mask helps the user with input by ensuring a predefined format.<br><br>9: numeric<br>a: alphabetical<br>*: alphanumeric<br><br>Example telephone mask: (999) 999-9999<br><br>See the <a target='_blank' href='https://github.com/RobinHerbots/jquery.inputmask'>jquery.inputmask documentation</a> for more information.</a>"},authenticate:{label:"Authenticate",tooltip:"Check this if you would like to authenticate the request.",type:"checkbox"},tableView:{label:"Table View",type:"checkbox",tooltip:"Shows this value within the table view of the submissions."},prefix:{label:"Prefix",placeholder:"example '$', '@'",tooltip:"The text to show before a field."},suffix:{label:"Suffix",placeholder:"example '$', '@'",tooltip:"The text to show after a field."},multiple:{label:"Multiple Values",type:"checkbox",tooltip:"Allows multiple values to be entered for this field."},unique:{label:"Unique",type:"checkbox",tooltip:"Makes sure the data submitted for this field is unique, and has not been submitted before."},"protected":{label:"Protected",type:"checkbox",tooltip:"A protected field will not be returned when queried via API."},persistent:{label:"Persistent",type:"checkbox",tooltip:"A persistent field will be stored in database when the form is submitted."},block:{label:"Block",type:"checkbox",tooltip:"This control should span the full width of the bounding container."},leftIcon:{label:"Left Icon",placeholder:"Enter icon classes",tooltip:"This is the full icon class string to show the icon. Example: 'glyphicon glyphicon-search' or 'fa fa-plus'"},rightIcon:{label:"Right Icon",placeholder:"Enter icon classes",tooltip:"This is the full icon class string to show the icon. Example: 'glyphicon glyphicon-search' or 'fa fa-plus'"},url:{label:"Upload Url",placeholder:"Enter the url to post the files to.",tooltip:"See <a href='https://github.com/danialfarid/ng-file-upload#server-side' target='_blank'>https://github.com/danialfarid/ng-file-upload#server-side</a> for how to set up the server."},dir:{label:"Directory",placeholder:"(optional) Enter a directory for the files",tooltip:"This will place all the files uploaded in this field in the directory"},disableOnInvalid:{label:"Disable on Form Invalid",type:"checkbox",tooltip:"This will disable this field if the form is invalid."},striped:{label:"Striped",type:"checkbox",tooltip:"This will stripe the table if checked."},bordered:{label:"Bordered",type:"checkbox",tooltip:"This will border the table if checked."},hover:{label:"Hover",type:"checkbox",tooltip:"Highlight a row on hover."},condensed:{label:"Condensed",type:"checkbox",tooltip:"Condense the size of the table."},"validate.required":{label:"Required",type:"checkbox",tooltip:"A required field must be filled in before the form can be submitted."},"validate.minLength":{label:"Minimum Length",placeholder:"Minimum Length",type:"number",tooltip:"The minimum length requirement this field must meet."},"validate.maxLength":{label:"Maximum Length",placeholder:"Maximum Length",type:"number",tooltip:"The maximum length requirement this field must meet"},"validate.pattern":{label:"Regular Expression Pattern",placeholder:"Regular Expression Pattern",tooltip:"The regular expression pattern test that the field value must pass before the form can be submitted."},customClass:{label:"Custom CSS Class",placeholder:"Custom CSS Class",tooltip:"Custom CSS class to add to this component."},tabindex:{label:"Tab Index",placeholder:"Tab Index",tooltip:"Sets the tabindex attribute of this component to override the tab order of the form. See the <a href='https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex'>MDN documentation</a> on tabindex for more information."},addAnother:{label:"Add Another Text",placeholder:"Add Another",tooltip:"Set the text of the Add Another button."},"style['margin-top']":{label:"Margin Top",placeholder:"0px",tooltip:"Sets the top margin of this component. Must be a valid CSS measurement like `10px`."},"style['margin-right']":{label:"Margin Right",placeholder:"0px",tooltip:"Sets the right margin of this component. Must be a valid CSS measurement like `10px`."},"style['margin-bottom']":{label:"Margin Bottom",placeholder:"0px",tooltip:"Sets the bottom margin of this component. Must be a valid CSS measurement like `10px`."},"style['margin-left']":{label:"Margin Left",placeholder:"0px",tooltip:"Sets the left margin of this component. Must be a valid CSS measurement like `10px`."}}},{}],36:[function(e,t,n){"use strict";t.exports={actions:[{name:"submit",title:"Submit"},{name:"reset",title:"Reset"},{name:"oauth",title:"OAuth"}],themes:[{name:"default",title:"Default"},{name:"primary",title:"Primary"},{name:"info",title:"Info"},{name:"success",title:"Success"},{name:"danger",title:"Danger"},{name:"warning",title:"Warning"}],sizes:[{name:"xs",title:"Extra Small"},{name:"sm",title:"Small"},{name:"md",title:"Medium"},{name:"lg",title:"Large"}]}},{}],37:[function(e,t,n){"use strict";t.exports=["debounce",function(e){return{replace:!0,templateUrl:"formio/formbuilder/builder.html",scope:{form:"=?",src:"=",type:"=",onSave:"=",onCancel:"="},controller:["$scope","formioComponents","ngDialog","Formio","FormioUtils","dndDragIframeWorkaround",function(e,t,n,r,i,o){var a=angular.copy(t.components.button.settings);e.form&&e.form.components&&e.form.components.length?e.form.components.push(a):e.form={components:[a]},e.hideCount=2,e.form.page=0,e.formio=e.src?new r(e.src):null;var s=function(){if(e.form&&"wizard"===e.form.display){var t=0;e.form.components.forEach(function(e){"panel"===e.type&&t++}),e.form.numPages=t,0===t&&e.newPage(),t>0&&e.form.page>=t&&(e.form.page=t-1)}};e.formio&&e.formio.formId&&e.formio.loadForm().then(function(t){e.form=t,e.form.page=0,0===e.form.components.length&&e.form.components.push(a)}),e.$watch("form.display",function(t){e.hideCount="wizard"===t?1:2}),e.$on("formDisplay",function(t,n){e.form.display=n,e.form.page=0,s()}),e.pages=function(){var t=[];return e.form.components.forEach(function(e){"panel"===e.type&&t.push(e.title?e.title:"Page "+(t.length+1))}),t},e.showPage=function(t){var n=0;for(n=0;n<e.form.components.length;n++){var r=e.form.components[n];if("panel"===r.type&&n===t)break}e.form.page=n},e.newPage=function(){var t=e.form.numPages,n=t+1,r={type:"panel",title:"Page "+n,isNew:!0,components:[],input:!1,key:"page"+n};e.form.numPages++,e.form.components.splice(t,0,r)},e.$watch("form.components.length",function(){s()}),e.formComponents=_.cloneDeep(t.components),_.each(e.formComponents,function(t,n){t.settings.isNew=!0,t.settings.hasOwnProperty("builder")&&!t.settings.builder&&delete e.formComponents[n]}),e.formComponentGroups=_.cloneDeep(t.groups),e.formComponentsByGroup=_.groupBy(e.formComponents,function(e){return e.group}),e.formio&&(e.formComponentsByGroup.resource={},e.formComponentGroups.resource={title:"Existing Resource Fields",panelClass:"subgroup-accordion-container",subgroups:{}},e.formio.loadForms({params:{type:"resource"}}).then(function(n){_.each(n,function(n){var r=n.name;e.formComponentsByGroup.resource[r]=[],e.formComponentGroups.resource.subgroups[r]={title:n.title},i.eachComponent(n.components,function(i){if("button"!==i.type){var o=i.label;!o&&i.key&&(o=_.upperFirst(i.key)),e.formComponentsByGroup.resource[r].push(_.merge(_.cloneDeep(t.components[i.type],!0),{title:o,group:"resource",subgroup:r,settings:i},{settings:{label:i.label,key:i.key,lockKey:!0,source:n._id}}))}})})}));var l=function(){e.$emit("formUpdate",e.form)};e.$on("formBuilder:add",l),e.$on("formBuilder:update",l),e.$on("formBuilder:remove",l),e.$on("formBuilder:edit",l),e.saveSettings=function(){n.closeAll(!0),e.$emit("formUpdate",e.form)},e.capitalize=_.capitalize,function u(){var e=angular.element(".rootlist").height("inherit").height(),t=angular.element(".formbuilder").height();t-e>100&&angular.element(".rootlist").height(t),setTimeout(u,1e3)}(),e.dndDragIframeWorkaround=o}],link:function(t,n){var r=e(function(){angular.element(".formbuilder").find("button").attr("disabled","disabled"),t.$watch("form",function(){angular.element(".formbuilder").find("button").attr("disabled","disabled")},!0);var e=angular.element(".formcomponents"),n=angular.element(".formbuilder");if(0!==e.length&&0!==n.length){var r=n.outerHeight()>e.outerHeight()?n.outerHeight()-e.outerHeight():0,i=angular.element(window).scrollTop()-e.parent().offset().top+50;0>i&&(i=0),i>r&&(i=r),e.css("margin-top",i+"px")}},100,!1);window.onscroll=r,n.on("$destroy",function(){window.onscroll=null})}}}]},{}],38:[function(e,t,n){"use strict";t.exports=["formioComponentDirective",function(e){return angular.extend({},e[0],{scope:!1,templateUrl:"formio/formbuilder/component.html"})}]},{}],39:[function(e,t,n){"use strict";var r=e("lodash"),i=e("formio-utils");t.exports=[function(){return{restrict:"E",scope:!0,template:'<uib-accordion><uib-accordion-group heading="Simple" is-open="status.simple">This component should Display:<select class="form-control input-md" ng-model="component.conditional.show"><option ng-repeat="item in _booleans track by $index" value="{{item}}">{{item.toString()}}</option></select><br>When the form component:<select class="form-control input-md" ng-model="component.conditional.when"><option ng-repeat="item in _components track by $index" value="{{item.key}}">{{item.label}}</option></select><br>Has the value:<input type="text" class="form-control input-md" ng-model="component.conditional.eq"></uib-accordion-group><uib-accordion-group heading="Advanced" is-open="status.advanced"><textarea class="form-control" rows="5" id="custom" name="custom" ng-model="component.customConditional" placeholder="/*** Example Code ***/\nshow = (data[\'mykey\'] > 1);">{{ component.validate.custom }}</textarea><small><p>Enter custom conditional code.</p><p>You must assign the <strong>show</strong> variable as either <strong>true</strong> or <strong>false</strong>.</p><p>The global variable <strong>data</strong> is provided, and allows you to access the data of any form component, by using its API key.</p><p><strong>Note: Advanced Conditional logic will only work, if the Simple Conditional logic is not defined.</strong></p></small></uib-accordion-group></uib-accordion>',controller:["$scope",function(e){e.component=e.component||{},e.component.conditional=e.component.conditional||{},e._booleans=["","true","false"],e._components=r.get(e,"form.components")||[],e._components=i.flattenComponents(e._components),e._components=r.reject(e._components,function(t){return!t.input||"button"===t.type||t.key===e.component.key}),e._components.unshift(""),e.component.conditional.show=e.component.conditional.show||"";var t={"":"","true":"true","false":"false"};e.component.conditional.show=t.hasOwnProperty(e.component.conditional.show)?t[e.component.conditional.show]:"",e.component.conditional.when=e.component.conditional.when||null,e.component.conditional.eq=e.component.conditional.eq||"",e.status={simple:!e.component.customConditional,advanced:!!e.component.customConditional}}]}}]},{"formio-utils":1,lodash:2}],40:[function(e,t,n){"use strict";t.exports=["$scope","formioComponents","ngDialog","dndDragIframeWorkaround",function(e,t,n,r){e.hideCount=_.isNumber(e.hideDndBoxCount)?e.hideDndBoxCount:1,e.$watch("hideDndBoxCount",function(t){e.hideCount=t?t:1}),e.formComponents=t.components,e.data={},e.emit=function(){var t=[].slice.call(arguments);t[0]="formBuilder:"+t[0],e.$emit.apply(e,t)},e.addComponent=function(t,n){!t.isNew||t.key&&-1!==t.key.indexOf(".")?t.isNew=!1:e.editComponent(t),e.$broadcast("ckeditor.refresh"),r.isDragging=!1,e.emit("add");var i=e.component.components[e.component.components.length-1];return i&&"button"===i.type&&"submit"===i.action&&(1===e.component.components.length?n=0:n>=e.component.components.length&&(n-=1)),e.$apply(function(){e.component.components.splice(n,0,t)}),!0},e.updateComponent=function(t,n){var r=e.component.components;r.splice(r.indexOf(n),1,t),e.$emit("update",t)};var i=function(t){-1!==e.component.components.indexOf(t)&&(e.component.components.splice(e.component.components.indexOf(t),1),e.emit("remove",t))};e.removeComponent=function(e,t){t?n.open({template:"formio/components/confirm-remove.html",showClose:!1}).closePromise.then(function(t){var n=t.value===!1||"$closeButton"===t.value||"$document"===t.value;n||i(e)}):i(e)},e.editComponent=function(r){if(e.formComponent=t.components[r.type]||t.components.custom,e.formComponent.hasOwnProperty("views")){var o=e.$new(!1);o.component=r,o.data={},r.key&&(o.data[r.key]=r.multiple?[""]:"");var a=angular.copy(r);n.open({template:"formio/components/settings.html",scope:o,className:"ngdialog-theme-default component-settings",controller:["$scope","Formio","$controller",function(e,t,n){e.formComponent&&e.formComponent.onEdit&&n(e.formComponent.onEdit,{$scope:e}),e.$watch("component.multiple",function(t){e.data[e.component.key]=t?[""]:""});var r=/^[^A-Za-z]*|[^A-Za-z0-9\-]*/g;e.$watch("component.label",function(){e.component.label&&!e.component.lockKey&&(e.data.hasOwnProperty(e.component.key)&&delete e.data[e.component.key],e.component.key=_.camelCase(e.component.label.replace(r,"")),e.data[e.component.key]=e.component.multiple?[""]:"")})}]}).closePromise.then(function(t){var n=t.value===!1||"$closeButton"===t.value||"$document"===t.value;n?r.isNew?i(r):_.assign(r,a):(delete r.isNew,e.emit("edit",r))})}},e.dndDragIframeWorkaround=r}]},{}],41:[function(e,t,n){"use strict";t.exports=["formioElementDirective",function(e){return angular.extend({},e[0],{scope:!1,controller:["$scope","formioComponents",function(e,t){e.formComponent=t.components[e.component.type]||t.components.custom,e.formComponent.fbtemplate&&(e.template=e.formComponent.fbtemplate)}]})}]},{}],42:[function(e,t,n){"use strict";t.exports=[function(){return{scope:{component:"=",formio:"=",form:"=",hideDndBoxCount:"=",rootList:"="},restrict:"E",replace:!0,controller:"formBuilderDnd",templateUrl:"formio/formbuilder/list.html"}}]},{}],43:[function(e,t,n){"use strict";t.exports=["COMMON_OPTIONS",function(e){return{restrict:"E",require:"property",priority:2,replace:!0,template:function(t,n){var r=n.property,i=n.label||e[r]&&e[r].label||"",o=e[r]&&e[r].placeholder||null,a=e[r]&&e[r].type||"text",s=e[r]&&e[r].tooltip||"",l=angular.element("<input>"),u={id:r,name:r,type:a,"ng-model":"component."+r,placeholder:o};return angular.forEach(n.$attr,function(e){u[e]=n[e],"title"===e.toLowerCase()&&(s=n[e])}),("validate.minLength"===r||"validate.maxLength"===r)&&(u.min=0),l.attr(u),"checkbox"===u.type.toLowerCase()?'<div class="checkbox"><label for="'+r+'" form-builder-tooltip="'+s+'">'+l.prop("outerHTML")+" "+i+"</label></div>":(l.addClass("form-control"),'<div class="form-group"><label for="'+r+'" form-builder-tooltip="'+s+'">'+i+"</label>"+l.prop("outerHTML")+"</div>")}}}]},{}],44:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"E",replace:!0,template:'<div class="panel panel-default" id="accordion"><div class="panel-heading" data-toggle="collapse" data-parent="#accordion" data-target="#validationSection"><span class="panel-title">Custom Validation</span></div><div id="validationSection" class="panel-collapse collapse in"><div class="panel-body"><textarea class="form-control" rows="5" id="custom" name="custom" ng-model="component.validate.custom" placeholder="/*** Example Code ***/\nvalid = (input === 3) ? true : \'Must be 3\';">{{ component.validate.custom }}</textarea><small><p>Enter custom validation code.</p><p>You must assign the <strong>valid</strong> variable as either <strong>true</strong> or an error message if validation fails.</p><p>The global variables <strong>input</strong>, <strong>component</strong>, and <strong>valid</strong> are provided.</p></small><div class="well"><div class="checkbox"><label><input type="checkbox" id="private" name="private" ng-model="component.validate.customPrivate" ng-checked="component.validate.customPrivate"> <strong>Secret Validation</strong></label></div><p>Check this if you wish to perform the validation ONLY on the server side. This keeps your validation logic private and secret.</p></div></div></div></div>'}}},{}],45:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"E",replace:!0,template:function(){return'<div class="form-group" ng-class="{\'has-warning\': shouldWarnAboutEmbedding()}"><label for="key" class="control-label" form-builder-tooltip="The name of this field in the API endpoint.">Property Name</label><input type="text" class="form-control" id="key" name="key" ng-model="component.key" valid-api-key value="{{ component.key }}" ng-disabled="component.source" ng-blur="onBlur()"><p ng-if="shouldWarnAboutEmbedding()" class="help-block"><span class="glyphicon glyphicon-exclamation-sign"></span> Using a dot in your Property Name will link this field to a field from a Resource. Doing this manually is not recommended because you will experience unexpected behavior if the Resource field is not found. If you wish to embed a Resource field in your form, use a component from the corresponding Resource Components category on the left.</p></div>'},controller:["$scope","FormioUtils",function(e,t){var n=/(\d+)$/,r=function(){var r=e.component.key,i=!0;t.eachComponent(e.form.components,function(t){t.key===r&&t!==e.component&&(i=!1)}),i||(r.match(n)?r=r.replace(n,function(e){return Number(e)+1}):r+="2",e.component.key=r)};e.$watch("component.key",r),e.onBlur=function(){e.component.lockKey=!0,!e.component.key&&e.formComponents[e.component.type].settings.key&&(e.component.key=e.formComponents[e.component.type].settings.key,e.component.lockKey=!1,r())},e.shouldWarnAboutEmbedding=function(){return e.component&&e.component.key?!e.component.source&&-1!==e.component.key.indexOf("."):!1}}]}}},{}],46:[function(e,t,n){"use strict";t.exports=[function(){return{scope:{component:"=",formio:"=",form:"=",hideDndBoxCount:"="},restrict:"E",replace:!0,controller:"formBuilderDnd",templateUrl:"formio/formbuilder/row.html"}}]},{}],47:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"E",replace:!0,template:function(){return'<div class="form-builder-table">  <div class="form-group">    <label for="label">Number of Rows</label>    <input type="number" class="form-control" id="numRows" name="numRows" placeholder="Number of Rows" ng-model="component.numRows">  </div>  <div class="form-group">    <label for="label">Number of Columns</label>    <input type="number" class="form-control" id="numCols" name="numCols" placeholder="Number of Columns" ng-model="component.numCols">  </div></div>'},controller:["$scope",function(e){var t=function(){if(e.component.numRows&&e.component.numCols){var t=[];e.component.rows.splice(e.component.numRows);for(var n=0;n<e.component.numRows;n++){e.component.rows[n]&&e.component.rows[n].splice(e.component.numCols);for(var r=0;r<e.component.numCols;r++)t[n]||(t[n]=[]),t[n][r]={components:[]}}e.component.rows=_.merge(t,e.component.rows)}};e.$watch("component.numRows",t),e.$watch("component.numCols",t)}]}}},{}],48:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",replace:!1,link:function(e,t,n){if(n.formBuilderTooltip||n.title){var r=angular.element('<i class="glyphicon glyphicon-question-sign text-muted"></i>');r.popover({html:!0,trigger:"manual",placement:"right",content:n.title||n.formBuilderTooltip}).on("mouseenter",function(){var e=angular.element(this);e.popover("show"),e.siblings(".popover").on("mouseleave",function(){e.popover("hide")})}).on("mouseleave",function(){var e=angular.element(this);setTimeout(function(){angular.element(".popover:hover").length||e.popover("hide")},100)}),t.append(" ").append(r)}}}}},{}],49:[function(e,t,n){"use strict";t.exports=function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$parsers.push(function(e){try{var t=JSON.parse(e);return r.$setValidity("jsonInput",!0),t}catch(n){return void r.$setValidity("jsonInput",!1)}}),r.$formatters.push(function(e){if(null===e)return r.$setValidity("jsonInput",!1),"";try{var t=angular.toJson(e,!0);return r.$setValidity("jsonInput",!0),t}catch(n){return r.$setValidity("jsonInput",!1),""}})}}}},{}],50:[function(e,t,n){"use strict";t.exports=function(){return{require:"ngModel",link:function(e,t,n,r){var i=/^[^A-Za-z]+|[^A-Za-z0-9\-\.]+/g;r.$parsers.push(function(e){var t=e.replace(i,"");return t!==e&&(r.$setViewValue(t),r.$render()),t})}}}},{}],51:[function(e,t,n){"use strict";t.exports=function(){return{scope:{data:"=",label:"@",tooltipText:"@",valueLabel:"@",labelLabel:"@",valueProperty:"@",labelProperty:"@"},restrict:"E",template:'<div class="form-group"><label form-builder-tooltip="{{ tooltipText }}">{{ label }}</label><table class="table table-condensed"><thead><tr><th class="col-xs-6">{{ labelLabel }}</th><th class="col-xs-4">{{ valueLabel }}</th><th class="col-xs-2"></th></tr></thead><tbody><tr ng-repeat="v in data track by $index"><td class="col-xs-6"><input type="text" class="form-control" ng-model="v[labelProperty]" placeholder="{{ labelLabel }}"/></td><td class="col-xs-4"><input type="text" class="form-control" ng-model="v[valueProperty]" placeholder="{{ valueLabel }}"/></td><td class="col-xs-2"><button type="button" class="btn btn-danger btn-xs" ng-click="removeValue($index)" tabindex="-1"><span class="glyphicon glyphicon-remove-circle"></span></button></td></tr></tbody></table><button type="button" class="btn" ng-click="addValue()">Add {{ valueLabel }}</button></div>',replace:!0,link:function(e,t,n){e.valueProperty=e.valueProperty||"value",e.labelProperty=e.labelProperty||"label",e.valueLabel=e.valueLabel||"Value",e.labelLabel=e.labelLabel||"Label",e.addValue=function(){var t={};t[e.valueProperty]="",t[e.labelProperty]="",e.data.push(t)},e.removeValue=function(t){e.data.splice(t,1)},0===e.data.length&&e.addValue(),n.noAutocompleteValue||e.$watch("data",function(t,n){t.length===n.length&&_.map(t,function(t,r){t[e.labelProperty]!==n[r][e.labelProperty]&&(""===t[e.valueProperty]||t[e.valueProperty]===_.camelCase(n[r][e.labelProperty]))&&(t[e.valueProperty]=_.camelCase(t[e.labelProperty]))})},!0)}}}},{}],52:[function(e,t,n){"use strict";t.exports=["$timeout","$q",function(e,t){return function(n,r,i){var o,a=t.defer();return function(){var s=this,l=arguments,u=function(){o=null,i||(a.resolve(n.apply(s,l)),a=t.defer())},c=i&&!o;return o&&e.cancel(o),o=e(u,r),c&&(a.resolve(n.apply(s,l)),a=t.defer()),a.promise}}}]},{}],53:[function(e,t,n){"use strict";/*! ng-formio-builder v2.0.1 | https://npmcdn.com/ng-formio-builder@2.0.1/LICENSE.txt */
/*global window: false, console: false */
/*jshint browser: true */
var r=angular.module("ngFormBuilder",["formio","dndLists","ngDialog","ui.bootstrap.accordion","ngCkeditor"]);r.constant("FORM_OPTIONS",e("./constants/formOptions")),r.constant("COMMON_OPTIONS",e("./constants/commonOptions")),r.factory("debounce",e("./factories/debounce")),r.directive("formBuilder",e("./directives/formBuilder")),r.directive("formBuilderComponent",e("./directives/formBuilderComponent")),r.directive("formBuilderElement",e("./directives/formBuilderElement")),r.controller("formBuilderDnd",e("./directives/formBuilderDnd")),r.directive("formBuilderList",e("./directives/formBuilderList")),r.directive("formBuilderRow",e("./directives/formBuilderRow")),r.directive("jsonInput",e("./directives/jsonInput")),r.directive("formBuilderOption",e("./directives/formBuilderOption")),r.directive("formBuilderTable",e("./directives/formBuilderTable")),r.directive("formBuilderOptionKey",e("./directives/formBuilderOptionKey")),r.directive("validApiKey",e("./directives/validApiKey")),r.directive("formBuilderOptionCustomValidation",e("./directives/formBuilderOptionCustomValidation")),r.directive("formBuilderTooltip",e("./directives/formBuilderTooltip")),r.directive("valueBuilder",e("./directives/valueBuilder")),r.directive("formBuilderConditional",e("./directives/formBuilderConditional")),r.value("dndDragIframeWorkaround",{isDragging:!1}),r.run(["$templateCache","$rootScope","ngDialog",function(e,t,n){t.$on("$stateChangeStart",function(){n.closeAll(!1)}),e.put("formio/formbuilder/editbuttons.html",'<div class="component-btn-group">\n  <div class="btn btn-xxs btn-danger component-settings-button" style="z-index: 1000" ng-click="removeComponent(component, formComponent.confirmRemove)"><span class="glyphicon glyphicon-remove"></span></div>\n  <div ng-if="!hideMoveButton" class="btn btn-xxs btn-default component-settings-button" style="z-index: 1000"><span class="glyphicon glyphicon glyphicon-move"></span></div>\n  <div ng-if="formComponent.views" class="btn btn-xxs btn-default component-settings-button" style="z-index: 1000" ng-click="editComponent(component)"><span class="glyphicon glyphicon-cog"></span></div>\n</div>\n'),e.put("formio/formbuilder/component.html",'<div class="component-form-group component-type-{{ component.type }} form-builder-component">\n  <div ng-if="!hideButtons" ng-include="\'formio/formbuilder/editbuttons.html\'"></div>\n  <div class="form-group has-feedback form-field-type-{{ component.type }} {{component.customClass}}" id="form-group-{{ component.key }}" style="position:inherit" ng-style="component.style">\n    <form-builder-element></form-builder-element>\n  </div>\n</div>\n'),e.put("formio/formbuilder/list.html",'<ul class="component-list"\n    dnd-list="component.components"\n    dnd-drop="addComponent(item, index)">\n  <li ng-if="component.components.length < hideCount">\n    <div class="alert alert-info" style="text-align:center; margin-bottom: 5px;" role="alert">\n      Drag and Drop a form component\n    </div>\n  </li>\n  <!-- DO NOT PUT "track by $index" HERE SINCE DYNAMICALLY ADDING/REMOVING COMPONENTS WILL BREAK -->\n  <li ng-repeat="component in component.components"\n      ng-if="!rootList || !form.display || (form.display === \'form\') || (form.page === $index)"\n      dnd-draggable="component"\n      dnd-effect-allowed="move"\n      dnd-dragstart="dndDragIframeWorkaround.isDragging = true"\n      dnd-dragend="dndDragIframeWorkaround.isDragging = false"\n      dnd-moved="removeComponent(component, false)">\n    <form-builder-component></form-builder-component>\n    <div ng-if="dndDragIframeWorkaround.isDragging && !formComponent.noDndOverlay" class="dndOverlay"></div>\n  </li>\n</ul>\n'),e.put("formio/formbuilder/row.html",'<div class="formbuilder-row">\n  <label ng-if="component.label" class="control-label">{{ component.label }}</label>\n  <ul class="component-row formbuilder-group"\n      dnd-list="component.components"\n      dnd-drop="addComponent(item, index)"\n      dnd-horizontal-list="true">\n    <li ng-repeat="component in component.components"\n        class="formbuilder-group-row pull-left"\n        dnd-draggable="component"\n        dnd-effect-allowed="move"\n        dnd-dragstart="dndDragIframeWorkaround.isDragging = true"\n        dnd-dragend="dndDragIframeWorkaround.isDragging = false"\n        dnd-moved="removeComponent(component, false)">\n      <form-builder-component></form-builder-component>\n      <div ng-if="dndDragIframeWorkaround.isDragging && !formComponent.noDndOverlay" class="dndOverlay"></div>\n    </li>\n    <li class="formbuilder-group-row form-builder-drop" ng-if="component.components.length < hideCount">\n      <div class="alert alert-info" role="alert">\n        Drag and Drop a form component\n      </div>\n    </li>\n  </ul>\n  <div style="clear:both;"></div>\n</div>\n'),e.put("formio/formbuilder/builder.html",'<div class="row formbuilder">\n  <div class="col-xs-4 col-sm-3 col-md-2 formcomponents">\n    <uib-accordion close-others="true">\n      <uib-accordion-group ng-repeat="(groupName, group) in formComponentGroups" heading="{{ group.title }}" is-open="$first" panel-class="panel-default {{ group.panelClass }}">\n        <uib-accordion close-others="true" ng-if="group.subgroups">\n          <uib-accordion-group ng-repeat="(subgroupName, subgroup) in group.subgroups" heading="{{ subgroup.title }}" is-open="$first" panel-class="panel-default subgroup-accordion">\n            <div ng-repeat="component in formComponentsByGroup[groupName][subgroupName]" ng-if="component.title"\n                dnd-draggable="component.settings"\n                dnd-dragstart="dndDragIframeWorkaround.isDragging = true"\n                dnd-dragend="dndDragIframeWorkaround.isDragging = false"\n                dnd-effect-allowed="copy"\n                class="formcomponentcontainer">\n              <span class="btn btn-primary btn-xs btn-block formcomponent" title="{{component.title}}" style="overflow: hidden; text-overflow: ellipsis;">\n                <i ng-if="component.icon" class="{{ component.icon }}"></i> {{ component.title }}\n              </span>\n            </div>\n          </uib-accordion-group>\n        </uib-accordion>\n        <div ng-repeat="component in formComponentsByGroup[groupName]" ng-if="!group.subgroup && component.title"\n            dnd-draggable="component.settings"\n            dnd-dragstart="dndDragIframeWorkaround.isDragging = true"\n            dnd-dragend="dndDragIframeWorkaround.isDragging = false"\n            dnd-effect-allowed="copy"\n            class="formcomponentcontainer">\n          <span class="btn btn-primary btn-xs btn-block formcomponent" title="{{component.title}}" style="overflow: hidden; text-overflow: ellipsis;">\n            <i ng-if="component.icon" class="{{ component.icon }}"></i> {{ component.title }}\n          </span>\n        </div>\n      </uib-accordion-group>\n    </uib-accordion>\n  </div>\n  <div class="col-xs-8 col-sm-9 col-md-10 formarea">\n    <ol class="breadcrumb" ng-if="form.display === \'wizard\'">\n      <li ng-repeat="title in pages() track by $index"><a class="label" style="font-size:1em;" ng-class="{\'label-info\': ($index === form.page), \'label-primary\': ($index !== form.page)}" ng-click="showPage($index)">{{ title }}</a></li>\n      <li><a class="label label-success" style="font-size:1em;" ng-click="newPage()" data-toggle="tooltip" title="Create Page"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> page</a></li>\n    </ol>\n    <div class="dropzone">\n      <form-builder-list component="form" form="form" formio="formio" hide-dnd-box-count="hideCount" root-list="true" class="rootlist"></form-builder-list>\n    </div>\n  </div>\n</div>\n'),e.put("formio/formbuilder/datagrid.html",'<div class="datagrid-dnd dropzone" ng-controller="formBuilderDnd">\n  <label ng-if="component.label" class="control-label">{{ component.label }}</label>\n  <table class="table datagrid-table" ng-class="{\'table-striped\': component.striped, \'table-bordered\': component.bordered, \'table-hover\': component.hover, \'table-condensed\': component.condensed}">\n    <tr>\n      <th style="padding:30px 0 10px 0" ng-repeat="component in component.components" ng-class="{\'field-required\': component.validate.required}">\n        {{ (component.label || \'\') | formioTranslate }}\n        <div ng-if="dndDragIframeWorkaround.isDragging && !formComponent.noDndOverlay" class="dndOverlay"></div>\n      </th>\n    </tr>\n    <tr\n      class="component-list"\n      dnd-list="component.components"\n      dnd-drop="addComponent(item, index)"\n    >\n      <td\n        ng-repeat="component in component.components"\n        ng-init="hideMoveButton = true; component.hideLabel = true"\n        dnd-draggable="component"\n        dnd-effect-allowed="move"\n        dnd-dragstart="dndDragIframeWorkaround.isDragging = true"\n        dnd-dragend="dndDragIframeWorkaround.isDragging = false"\n        dnd-moved="removeComponent(component, false)"\n      >\n        <div class="component-form-group component-type-{{ component.type }} form-builder-component">\n          <div class="has-feedback form-field-type-{{ component.type }} {{component.customClass}}" id="form-group-{{ component.key }}" style="position:inherit" ng-style="component.style">\n            <div class="input-group">\n              <form-builder-component></form-builder-component>\n            </div>\n          </div>\n        </div>\n      </td>\n      <td ng-if="component.components.length === 0">\n        <div class="alert alert-info" role="alert">\n          Datagrid Components\n        </div>\n      </td>\n    </tr>\n  </table>\n  <div style="clear:both;"></div>\n</div>\n'),e.put("formio/components/confirm-remove.html",'<form id="confirm-remove-dialog">\n  <p>Removing this component will also <strong>remove all of its children</strong>! Are you sure you want to do this?</p>\n  <div>\n    <div class="form-group">\n      <button type="submit" class="btn btn-danger pull-right" ng-click="closeThisDialog(true)">Remove</button>&nbsp;\n      <button type="button" class="btn btn-default pull-right" style="margin-right: 5px;" ng-click="closeThisDialog(false)">Cancel</button>&nbsp;\n    </div>\n  </div>\n</form>\n')}]),e("./components")},{"./components":19,"./constants/commonOptions":35,"./constants/formOptions":36,"./directives/formBuilder":37,"./directives/formBuilderComponent":38,"./directives/formBuilderConditional":39,"./directives/formBuilderDnd":40,"./directives/formBuilderElement":41,"./directives/formBuilderList":42,"./directives/formBuilderOption":43,"./directives/formBuilderOptionCustomValidation":44,"./directives/formBuilderOptionKey":45,"./directives/formBuilderRow":46,"./directives/formBuilderTable":47,"./directives/formBuilderTooltip":48,"./directives/jsonInput":49,"./directives/validApiKey":50,"./directives/valueBuilder":51,"./factories/debounce":52}]},{},[53]),/*!
 * ui-grid - v3.2.1 - 2016-06-28
 * Copyright (c) 2016 ; License: MIT 
 */
function(){"use strict";angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["ƒ","$","£","$","¤","¥","៛","₩","₱","฿","₫"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,t,n,r){var i={priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,i,o,a){function s(){var e=t.col.compiledElementFn;e(t,function(e,t){i.append(e)})}if(a&&t.col.compiledElementFn)s();else if(a&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e,t){i.append(e)})});else{var l=t.col.cellTemplate.replace(r.MODEL_COL_FIELD,"row.entity."+n.preEval(t.col.field)).replace(r.COL_FIELD,"grid.getCellValue(row, col)"),u=e(l)(t);i.append(u)}},post:function(e,t,n,i){var o=e.col.getColClass(!1);t.addClass(o);var a,s=function(n){var r=t;a&&(r.removeClass(a),a=null),a=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,r.addClass(a)};e.col.cellClass&&s();var l=e.grid.registerDataChangeCallback(s,[r.dataChange.COLUMN,r.dataChange.EDIT]),u=function(n,r){if(n!==r){(a||e.col.cellClass)&&s();var i=e.col.getColClass(!1);i!==o&&(t.removeClass(o),t.addClass(i),o=i)}},c=e.$watch("row",u),d=function(){l(),c()};e.$on("$destroy",d),t.on("$destroy",d)}}}};return i}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,n){var r={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t){"undefined"!=typeof t&&t&&angular.isArray(t)?(t.forEach(function(t){"undefined"!=typeof t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return e.grid.options.enableSorting&&"undefined"!=typeof e.col&&e.col&&e.col.enableSorting?!0:!1},isActiveSort:function(e,t){return"undefined"!=typeof e.col&&"undefined"!=typeof e.col.sort&&"undefined"!=typeof e.col.sort.direction&&e.col.sort.direction===t},suppressRemoveSort:function(e){return e.col&&e.col.suppressRemoveSort?!0:!1},hideable:function(e){return"undefined"!=typeof e.col&&e.col&&e.col.colDef&&e.col.colDef.enableHiding===!1?!1:!0},getDefaultMenuItems:function(n){return[{title:e.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),n.sortColumn(e,t.ASC)},shown:function(){return r.sortable(n)},active:function(){return r.isActiveSort(n,t.ASC)}},{title:e.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),n.sortColumn(e,t.DESC)},shown:function(){return r.sortable(n)},active:function(){return r.isActiveSort(n,t.DESC)}},{title:e.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.unsortColumn()},shown:function(){return r.sortable(n)&&"undefined"!=typeof n.col&&"undefined"!=typeof n.col.sort&&"undefined"!=typeof n.col.sort.direction&&null!==n.col.sort.direction&&!r.suppressRemoveSort(n)}},{title:e.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return r.hideable(n)},action:function(e){e.stopPropagation(),n.hideColumn()}}]},getColumnElementPosition:function(e,t,r){var i={};return i.left=r[0].offsetLeft,i.top=r[0].offsetTop,i.parentLeft=r[0].offsetParent.offsetLeft,i.offset=0,t.grid.options.offsetLeft&&(i.offset=t.grid.options.offsetLeft),i.height=n.elementHeight(r,!0),i.width=n.elementWidth(r,!0),i},repositionMenu:function(e,t,r,i,o){var a=i[0].querySelectorAll(".ui-grid-menu"),s=n.closestElm(o,".ui-grid-render-container"),l=s.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,u=s.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,c=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,d=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var p=a[0].querySelectorAll(".ui-grid-menu-mid");0===p.length||angular.element(p).hasClass("ng-hide")||(c=n.elementWidth(a,!0),e.lastMenuWidth=c,t.lastMenuWidth=c,d=parseInt(n.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=d,t.lastMenuPaddingRight=d)}var f=r.left+l-u+r.parentLeft+r.width-c+d;f<r.offset&&(f=r.offset),i.css("left",f+"px"),i.css("top",r.top+r.height+"px")}};return r}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(e,t,n,r,i){var o={priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(o,a,s,l){r.initialize(o,l),o.defaultMenuItems=r.getDefaultMenuItems(o),o.menuItems=o.defaultMenuItems,r.setColMenuItemWatch(o),o.showMenu=function(e,t,n){o.col=e;var i=r.getColumnElementPosition(o,e,t);o.menuShown?(o.colElement=t,o.colElementPosition=i,o.hideThenShow=!0,o.$broadcast("hide-menu",{originalEvent:n})):(o.menuShown=!0,r.repositionMenu(o,e,i,a,t),o.colElement=t,o.colElementPosition=i,o.$broadcast("show-menu",{originalEvent:n}))},o.hideMenu=function(e){o.menuShown=!1,e||o.$broadcast("hide-menu")},o.$on("menu-hidden",function(){o.hideThenShow?(delete o.hideThenShow,r.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),o.$broadcast("show-menu"),o.menuShown=!0):(o.hideMenu(!0),o.col&&t.focus.bySelector(i,".ui-grid-header-cell."+o.col.getColClass()+" .ui-grid-column-menu-button",o.col.grid,!1))}),o.$on("menu-shown",function(){e(function(){r.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),t.focus.bySelector(i,".ui-grid-menu-items .ui-grid-menu-item",!0),delete o.colElementPosition,delete o.columnElement},200)}),o.sortColumn=function(e,t){e.stopPropagation(),o.grid.sortColumn(o.col,t,!0).then(function(){o.grid.refresh(),o.hideMenu()})},o.unsortColumn=function(){o.col.unsort(),o.grid.refresh(),o.hideMenu()};var u=function(){e(function(){var e,n=function(){return t.focus.byId("grid-menu",o.grid)};o.grid.columns.some(function(t,n){return angular.equals(t,o.col)?(e=n,!0):void 0});var r;if(o.grid.columns.some(function(t,n){if(!t.visible)return!1;if(e>n)r=t;else{if(n>e&&!r)return r=t,!0;if(n>e&&r)return!0}}),r){var a=r.getColClass();t.focus.bySelector(i,".ui-grid-header-cell."+a+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(e){return"canceled"!==e?n():void 0})}else n()})};o.hideColumn=function(){o.col.colDef.visible=!1,o.col.visible=!1,o.grid.queueGridRefresh(),o.hideMenu(),o.grid.api.core.notifyDataChange(n.dataChange.COLUMN),o.grid.api.core.raise.columnVisibilityChanged(o.col),u()}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e){t.menuItems=e})}]};return o}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(e,t,n,r){return{compile:function(){return{pre:function(t,n,r,i){t.col.updateFilters=function(r){if(n.children().remove(),r){var i=t.col.filterHeaderTemplate;n.append(e(i)(t))}},t.$on("$destroy",function(){delete t.col.updateFilters})},post:function(e,t,i,o){e.aria=n.getSafeText("headerCell.aria"),e.removeFilter=function(e,n){e.term=null,r.focus.bySelector(t,".ui-grid-filter-input-"+n)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,n,r){var i={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(e,t,i){return{pre:function(e,t,n,i){var o=r(e.col.footerCellTemplate)(e);t.append(o)},post:function(e,t,r,i){e.grid=i.grid;var o=e.col.getColClass(!1);t.addClass(o);var a,s=function(n){var r=t;a&&(r.removeClass(a),a=null),a=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,r.addClass(a)};e.col.footerCellClass&&s(),e.col.updateAggregationValue();var l=e.grid.registerDataChangeCallback(s,[n.dataChange.COLUMN]);e.grid.api.core.on.rowsRendered(e,e.col.updateAggregationValue),e.grid.api.core.on.rowsRendered(e,s),e.$on("$destroy",l)}}}};return i}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,r,i){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,n){return{pre:function(e,n,i,o){var a=o[0],s=o[1];e.grid=a.grid,e.colContainer=s.colContainer,s.footer=n;var l=e.grid.options.footerTemplate;r.getTemplate(l).then(function(r){var i=angular.element(r),o=t(i)(e);if(n.append(o),s){var a=n[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(s.footerViewport=a)}})},post:function(e,t,n,i){{var o=i[0],a=i[1];o.grid}r.disableAnimations(t),a.footer=t;var s=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];s&&(a.footerViewport=s)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,n,r,i){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(e,n){return{pre:function(e,n,i,o){e.grid=o.grid;var a=e.grid.options.gridFooterTemplate;r.getTemplate(a).then(function(r){var i=angular.element(r),o=t(i)(e);n.append(o)})},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,t,n){var r="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(t,i){return{pre:function(t,i,o,a){var s=t.grid.options.groupPanelTemplate||r;n.getTemplate(s).then(function(n){var r=angular.element(n),o=e(r)(t);i.append(o)})},post:function(e,t,n,r){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService",function(e,t,n,r,i,o,a,s){var l=500,u=500,c={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,n,r){var i=e(t.col.headerCellTemplate)(t);n.append(i)},post:function(e,n,i,a){var c=a[0],d=a[1];e.i18n={headerCell:s.getSafeText("headerCell"),sort:s.getSafeText("sort")},e.isSortPriorityVisible=function(){return angular.isNumber(e.col.sort.priority)&&e.grid.columns.some(function(t,n){return angular.isNumber(t.sort.priority)&&t!==e.col})},e.getSortDirectionAriaLabel=function(){var t=e.col,n=t.sort.direction===o.ASC?e.i18n.sort.ascending:t.sort.direction===o.DESC?e.i18n.sort.descending:e.i18n.sort.none,r=n;return e.isSortPriorityVisible()&&(r=r+". "+e.i18n.headerCell.priority+" "+t.sort.priority),r},e.grid=c.grid,e.renderContainer=c.grid.renderContainers[d.containerId];var p=e.col.getColClass(!1);n.addClass(p),e.menuShown=!1,e.asc=o.ASC,e.desc=o.DESC;var f,h,m=(angular.element(n[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(n[0].querySelectorAll(".ui-grid-cell-contents"))),g=[];e.downFn=function(i){i.stopPropagation(),"undefined"!=typeof i.originalEvent&&void 0!==i.originalEvent&&(i=i.originalEvent),i.button&&0!==i.button||(h=i.pageX,e.mousedownStartTime=(new Date).getTime(),e.mousedownTimeout=t(function(){},l),e.mousedownTimeout.then(function(){e.colMenu&&c.columnMenuScope.showMenu(e.col,n,i)}),c.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:i,columnName:e.col.colDef.name}),e.offAllEvents(),"touchstart"===i.type?(r.on("touchend",e.upFn),r.on("touchmove",e.moveFn)):"mousedown"===i.type&&(r.on("mouseup",e.upFn),r.on("mousemove",e.moveFn)))},e.upFn=function(n){n.stopPropagation(),t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type);var r=(new Date).getTime(),i=r-e.mousedownStartTime;i>l||e.sortable&&e.handleClick(n)},e.moveFn=function(n){var r=n.pageX-h;0!==r&&(t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(n.type))},e.clickFn=function(t){t.stopPropagation(),m.off("click",e.clickFn)},e.offAllEvents=function(){m.off("touchstart",e.downFn),m.off("mousedown",e.downFn),r.off("touchend",e.upFn),r.off("mouseup",e.upFn),r.off("touchmove",e.moveFn),r.off("mousemove",e.moveFn),m.off("click",e.clickFn)},e.onDownEvents=function(n){switch(n){case"touchmove":case"touchend":m.on("click",e.clickFn),m.on("touchstart",e.downFn),t(function(){m.on("mousedown",e.downFn)},u);break;case"mousemove":case"mouseup":m.on("click",e.clickFn),m.on("mousedown",e.downFn),t(function(){m.on("touchstart",e.downFn)},u);break;default:m.on("click",e.clickFn),m.on("touchstart",e.downFn),m.on("mousedown",e.downFn)}};var v=function(r){var i=n;f&&(i.removeClass(f),f=null),f=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,i.addClass(f),t(function(){var t=e.grid.renderContainers.right?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=e.col===t.visibleColumnCache[t.visibleColumnCache.length-1]}),e.sortable=c.grid.options.enableSorting&&e.col.enableSorting?!0:!1;var a=e.filterable;e.filterable=c.grid.options.enableFiltering&&e.col.enableFiltering?!0:!1,a!==e.filterable&&("undefined"!=typeof e.col.updateFilters&&e.col.updateFilters(e.filterable),e.filterable?(e.col.filters.forEach(function(t,n){g.push(e.$watch("col.filters["+n+"].term",function(e,t){e!==t&&(c.grid.api.core.raise.filterChanged(),c.grid.api.core.notifyDataChange(o.dataChange.COLUMN),c.grid.queueGridRefresh())}))}),e.$on("$destroy",function(){g.forEach(function(e){e()})})):g.forEach(function(e){e()})),e.colMenu=e.col.grid.options&&e.col.grid.options.enableColumnMenus!==!1&&e.col.colDef&&e.col.colDef.enableColumnMenu!==!1?!0:!1,e.offAllEvents(),(e.sortable||e.colMenu)&&(e.onDownEvents(),e.$on("$destroy",function(){e.offAllEvents()}))};v();var b=e.grid.registerDataChangeCallback(v,[o.dataChange.COLUMN]);e.$on("$destroy",b),e.handleClick=function(t){var n=!1;t.shiftKey&&(n=!0),c.grid.sortColumn(e.col,n).then(function(){c.columnMenuScope&&c.columnMenuScope.hideMenu(),c.grid.refresh()})},e.toggleMenu=function(t){t.stopPropagation(),c.columnMenuScope.menuShown&&c.columnMenuScope.col===e.col?c.columnMenuScope.hideMenu():c.columnMenuScope.showMenu(e.col,n)}}}}};return c}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(e,t,n,r,i,o){var a="ui-grid/ui-grid-header",s="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(e,n){return{pre:function(e,n,i,l){function u(){p.header=p.colContainer.header=n;var e=n[0].getElementsByClassName("ui-grid-header-canvas");p.headerCanvas=e.length>0?p.colContainer.headerCanvas=e[0]:null}function c(e){if(!d.grid.isScrollingHorizontally){var t=r.normalizeScrollLeft(p.headerViewport,d.grid),n=p.colContainer.scrollHorizontal(t),i=new o(d.grid,null,p.colContainer,o.Sources.ViewPortScroll);i.newScrollLeft=t,n>-1&&(i.x={percentage:n}),d.grid.scrollContainers(null,i)}}var d=l[0],p=l[1];e.grid=d.grid,e.colContainer=p.colContainer,u();var f;f=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:a:s,r.getTemplate(f).then(function(r){var i=angular.element(r),o=t(i)(e);if(n.replaceWith(o),n=o,u(),p){var a=n[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(p.headerViewport=a,angular.element(a).on("scroll",c),e.$on("$destroy",function(){angular.element(a).off("scroll",c)}))}e.grid.queueRefresh()})},post:function(e,t,n,i){function o(){var e=s.colContainer.visibleColumnCache,t="",n=0;return e.forEach(function(e){t+=e.getColClassDefinition(),n+=e.drawnWidth}),s.colContainer.canvasWidth=n,t}{var a=i[0],s=i[1];a.grid}r.disableAnimations(t),s.header=t;var l=t[0].getElementsByClassName("ui-grid-header-viewport")[0];l&&(s.headerViewport=l),a&&a.grid.registerStyleComputation({priority:15,func:o})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,t,n){var r={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",r.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",r.removeFromGridMenu)},addToGridMenu:function(t,n){angular.isArray(n)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(n)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,n){var r=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,i){t.id===n&&(r>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):r=i)}),r>-1&&t.gridMenuScope.registeredMenuItems.splice(r,1)},getMenuItems:function(n){var i=[];n.grid.options.gridMenuCustomItems&&(angular.isArray(n.grid.options.gridMenuCustomItems)?i=i.concat(n.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not"));var o=[{title:t.getSafeText("gridMenu.clearAllFilters"),action:function(e){n.grid.clearAllFilters(void 0,!0,void 0)},shown:function(){return n.grid.options.enableFiltering},order:100}];return i=i.concat(o),i=i.concat(n.registeredMenuItems),n.grid.options.gridMenuShowHideColumns!==!1&&(i=i.concat(r.showHideColumns(n))),i.sort(function(e,t){return e.order-t.order}),i},showHideColumns:function(e){var n=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(n.push({title:t.getSafeText("gridMenu.columns"),order:300}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(t,i){if(t.enableHiding!==!1){var o={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*i};r.setMenuItemTitle(o,t,e.grid),n.push(o),o={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),r.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*i+1},r.setMenuItemTitle(o,t,e.grid),n.push(o)}}),n):n},setMenuItemTitle:function(t,n,r){var i=r.options.gridMenuTitleFilter(n.displayName||e.readableColumnName(n.name)||n.field);"string"==typeof i?t.title=i:i.then?(t.title="",i.then(function(e){t.title=e},function(e){t.title=e})):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(e.colDef.visible===!0||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(n.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return r}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(e,t,n,r){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(t,i,o,a){var s=a[0];t.i18n={aria:r.getSafeText("gridMenu.aria")},n.initialize(t,s.grid),t.shown=!1,t.toggleMenu=function(){t.shown?(t.$broadcast("hide-menu"),t.shown=!1):(t.menuItems=n.getMenuItems(t),t.$broadcast("show-menu"),t.shown=!0)},t.$on("menu-hidden",function(){t.shown=!1,e.focus.bySelector(i,".ui-grid-icon-container")})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(e,t,n,r,i,o,a){var s={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(e,r,s,l){e.dynamicStyles="";var u=function(t){var n=t-30;e.dynamicStyles=[".grid"+l.grid.id+" .ui-grid-menu-mid {","max-height: "+n+"px;","}"].join(" ")};l&&(u(l.grid.gridHeight),l.grid.api.core.on.gridDimensionChanged(e,function(e,t,n,r){u(n)})),e.i18n={close:a.getSafeText("columnMenu.close")},e.showMenu=function(n,o){e.shown?e.shownMid||(e.shownMid=!0,e.$emit("menu-shown")):(e.shown=!0,t(function(){e.shownMid=!0,e.$emit("menu-shown")}));var a="click";o&&o.originalEvent&&o.originalEvent.type&&"touchstart"===o.originalEvent.type&&(a=o.originalEvent.type),angular.element(document).off("click touchstart",c),r.off("keyup",d),r.off("keydown",p),t(function(){angular.element(document).on(a,c),r.on("keyup",d),r.on("keydown",p)}),i.focus.bySelector(r,"button[type=button]",!0)},e.hideMenu=function(n){e.shown&&(e.shownMid=!1,t(function(){e.shownMid||(e.shown=!1,e.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",c),r.off("keyup",d),r.off("keydown",p)},e.$on("hide-menu",function(t,n){e.hideMenu(t,n)}),e.$on("show-menu",function(t,n){e.showMenu(t,n)});var c=function(){e.shown&&e.$apply(function(){e.hideMenu()})},d=function(t){27===t.keyCode&&e.hideMenu()},p=function(e){var t=function(t){return t.focus(),e.preventDefault(),!1};if(9===e.keyCode){var n,i,o=r[0].querySelectorAll("button:not(.ng-hide)");o.length>0&&(n=o[0],i=o[o.length-1],e.target!==i||e.shiftKey?e.target===n&&e.shiftKey&&t(i):t(n))}};("undefined"==typeof e.autoHide||void 0===e.autoHide)&&(e.autoHide=!0),e.autoHide&&angular.element(n).on("resize",c),e.$on("$destroy",function(){angular.element(document).off("click touchstart",c)}),e.$on("$destroy",function(){angular.element(n).off("resize",c)}),l&&e.$on("$destroy",l.grid.api.core.on.scrollBegin(e,c)),e.$on("$destroy",e.$on(o.events.ITEM_DRAGGING,c))}};return s}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,t,n){var r={priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(){return{pre:function(n,r){n.templateUrl&&e.getTemplate(n.templateUrl).then(function(e){var i=angular.element(e),o=t(i)(n);r.replaceWith(o)})},post:function(t,r,i,o){var a=o[0];("undefined"==typeof t.shown||null===t.shown)&&(t.shown=function(){return!0}),t.itemShown=function(){var e={};return t.context&&(e.context=t.context),"undefined"!=typeof a&&a&&(e.grid=a.grid),t.shown.call(e)},t.itemAction=function(n,i){if(n.stopPropagation(),"function"==typeof t.action){var o={};t.context&&(o.context=t.context),"undefined"!=typeof a&&a&&(o.grid=a.grid),t.action.call(o,n,i),t.leaveOpen?e.focus.bySelector(angular.element(e.closestElm(r,".ui-grid-menu-items")),"button[type=button]",!0):t.$emit("hide-menu")}},t.i18n=n.get()}}}};return r}])}(),function(){"use strict";var e=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(t){var n="uiGridOneBind",r=(t.aria?n+"Aria":n)+(t.directiveName?t.directiveName:t.tag);e.directive(r,["gridUtil",function(e){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(n,i,o,a){var s=function(t){var i;if(n.grid)i=n.grid;else if(n.col&&n.col.grid)i=n.col.grid;else if(!a.some(function(e){return e&&e.grid?(i=e.grid,!0):void 0}))throw e.logError("["+r+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+t),new Error("No valid grid could be found");if(i){var o=new RegExp(i.id.toString());o.test(t)||(t=i.id.toString()+"-"+t)}return t},l=n.$watch(o[r],function(e){if(e){if(t.appendGridId){var n=null;angular.forEach(e.split(" "),function(e){n=(n?n+" ":"")+s(e)}),e=n}switch(t.method){case"attr":t.aria?i[t.method]("aria-"+t.tag.toLowerCase(),e):i[t.method](t.tag.toLowerCase(),e);break;case"addClass":if(angular.isObject(e)&&!angular.isArray(e)){var r=[],o=!1;if(angular.forEach(e,function(e,t){null!==e&&"undefined"!=typeof e&&(o=!0,e&&r.push(t))}),!o)return;e=r}if(!e)return;i.addClass(angular.isArray(e)?e.join(" "):e);break;default:i[t.method](e)}l()}},!0)}}}])})}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,n,r,i){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,n,r){var i=r[0],o=r[1],a=e.grid=i.grid;if(!e.rowContainerName)throw"No row render container name specified";if(!e.colContainerName)throw"No column render container name specified";if(!a.renderContainers[e.rowContainerName])throw"Row render container '"+e.rowContainerName+"' is not registered.";if(!a.renderContainers[e.colContainerName])throw"Column render container '"+e.colContainerName+"' is not registered.";var s=e.rowContainer=a.renderContainers[e.rowContainerName],l=e.colContainer=a.renderContainers[e.colContainerName];o.containerId=e.containerId,o.rowContainer=s,o.colContainer=l},post:function(e,t,n,o){function a(){var t="",n=d.canvasWidth,r=d.getViewportWidth(),i=c.getCanvasHeight(),o=c.getViewportHeight();d.needsHScrollbarPlaceholder()&&(o-=u.scrollbarHeight);var a,l;return a=l=d.getHeaderViewportWidth(),t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+n+"px; height: "+i+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(n+u.scrollbarWidth)+"px; }",t+=h.explicitHeaderCanvasHeight?"\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: "+h.explicitHeaderCanvasHeight+"px; }":"\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: inherit; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+r+"px; height: "+o+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+a+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+(n+u.scrollbarWidth)+"px; }",t+="\n .grid"+s.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+l+"px; }"}var s=o[0],l=o[1],u=s.grid,c=l.rowContainer,d=l.colContainer,p=null,f=null,h=u.renderContainers[e.containerId];t.addClass("ui-grid-render-container-"+e.containerId),r.on.mousewheel(t,function(e){var t=new i(u,c,d,i.Sources.RenderContainerMouseWheel);if(0!==e.deltaY){var n=-1*e.deltaY*e.deltaFactor;p=l.viewport[0].scrollTop,t.verticalScrollLength=c.getVerticalScrollLength();var o=(p+n)/t.verticalScrollLength;o>=1&&p<t.verticalScrollLength&&(l.viewport[0].scrollTop=t.verticalScrollLength),0>o?o=0:o>1&&(o=1),t.y={percentage:o,pixels:n}}if(0!==e.deltaX){var a=e.deltaX*e.deltaFactor;f=r.normalizeScrollLeft(l.viewport,u),t.horizontalScrollLength=d.getCanvasWidth()-d.getViewportWidth();var s=(f+a)/t.horizontalScrollLength;0>s?s=0:s>1&&(s=1),t.x={percentage:s,pixels:a}}0!==e.deltaY&&(t.atTop(p)||t.atBottom(p))||0!==e.deltaX&&(t.atLeft(f)||t.atRight(f))||(e.preventDefault(),e.stopPropagation(),t.fireThrottledScrollingEvent("",t))}),t.bind("$destroy",function(){t.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){t.unbind(e)})}),s.grid.registerStyleComputation({priority:6,func:a})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(e,t){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(e){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,n,r){function i(){e.row.getRowTemplateFn.then(function(n){var r=e.$new();n(r,function(e,n){s&&(s.remove(),l.$destroy()),t.empty().append(e),s=e,l=r})})}{var o=r[0],a=r[1];o.grid}e.grid=o.grid,e.colContainer=a.colContainer;var s,l;i(),e.$watch("row.getRowTemplateFn",function(e,t){e!==t&&i()})},post:function(e,t,n,r){}}}}}])}(),function(){/**
   * @ngdoc directive
   * @name ui.grid.directive:uiGridStyle
   * @element style
   * @restrict A
   *
   * @description
   * Allows us to interpolate expressions in `<style>` elements. Angular doesn't do this by default as it can/will/might? break in IE8.
   *
   * @example
   <doc:example module="app">
   <doc:source>
   <script>
   var app = angular.module('app', ['ui.grid']);

   app.controller('MainCtrl', ['$scope', function ($scope) {
          $scope.myStyle = '.blah { border: 1px solid }';
        }]);
   </script>

   <div ng-controller="MainCtrl">
   <style ui-grid-style>{{ myStyle }}</style>
   <span class="blah">I am in a box.</span>
   </div>
   </doc:source>
   <doc:scenario>
      it('should apply the right class to the element', function () {
        element(by.css('.blah')).getCssValue('border-top-width')
          .then(function(c) {
            expect(c).toContain('1px');
          });
      });
   </doc:scenario>
   </doc:example>
   */
angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,t){return{link:function(e,n,r,i){var o=t(n.text(),!0);o&&e.$watch(o,function(e){n.text(e)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(e,t,n,r){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(n,r,i,o){function a(i){var o=r[0].scrollTop,a=e.normalizeScrollLeft(r,m),s=f.scrollVertical(o),l=h.scrollHorizontal(a),u=new t(m,f,h,t.Sources.ViewPortScroll);u.newScrollLeft=a,u.newScrollTop=o,l>-1&&(u.x={percentage:l}),s>-1&&(u.y={percentage:s}),m.scrollContainers(n.$parent.containerId,u)}function s(e){p.prevScrollArgs=e;var t=e.getNewScrollTop(f,p.viewport);r[0].scrollTop=t}function l(t){p.prevScrollArgs=t;var n=t.getNewScrollLeft(h,p.viewport);r[0].scrollLeft=e.denormalizeScrollLeft(p.viewport,n,m)}function u(t){var n=t.getNewScrollLeft(h,p.viewport);p.headerViewport&&(p.headerViewport.scrollLeft=e.denormalizeScrollLeft(p.viewport,n,m))}function c(t){var n=t.getNewScrollLeft(h,p.viewport);p.footerViewport&&(p.footerViewport.scrollLeft=e.denormalizeScrollLeft(p.viewport,n,m))}var d=o[0],p=o[1];n.containerCtrl=p;var f=p.rowContainer,h=p.colContainer,m=d.grid;n.grid=d.grid,n.rowContainer=p.rowContainer,n.colContainer=p.colContainer,p.viewport=r,r.on("scroll",a);n.$parent.bindScrollVertical&&m.addVerticalScrollSync(n.$parent.containerId,s),n.$parent.bindScrollHorizontal&&(m.addHorizontalScrollSync(n.$parent.containerId,l),m.addHorizontalScrollSync(n.$parent.containerId+"header",u),m.addHorizontalScrollSync(n.$parent.containerId+"footer",c))},controller:["$scope",function(e){this.rowStyle=function(t){var n=e.rowContainer,r=e.colContainer,i={};if(0===t&&0!==n.currentTopRow){var o=n.currentTopRow*n.grid.options.rowHeight;i["margin-top"]=o+"px"}return 0!==r.currentFirstColumn&&(r.grid.isRTL()?i["margin-right"]=r.columnOffset+"px":i["margin-left"]=r.columnOffset+"px"),i}}]}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,n){e.$watch(n.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";function e(e,t,n,r,i,o){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(e,t,a,s){function l(){t[0].offsetWidth<=0&&m>g?(setTimeout(l,h),g++):n(c)}function u(){angular.element(r).on("resize",p),t.on("$destroy",function(){angular.element(r).off("resize",p)}),e.$watch(function(){return f.hasLeftContainer()},function(e,t){e!==t&&f.refreshCanvas(!0)}),e.$watch(function(){return f.hasRightContainer()},function(e,t){e!==t&&f.refreshCanvas(!0)})}function c(){f.gridWidth=e.gridWidth=i.elementWidth(t),f.canvasWidth=s.grid.gridWidth,f.gridHeight=e.gridHeight=i.elementHeight(t),f.gridHeight<=f.options.rowHeight&&f.options.enableMinHeightCheck&&d(),f.refreshCanvas(!0)}function d(){var n=f.options.minRowsToShow*f.options.rowHeight,r=f.options.showHeader?f.options.headerRowHeight:0,a=f.calcFooterHeight(),s=0;f.options.enableHorizontalScrollbar===o.scrollbars.ALWAYS&&(s=i.getScrollbarWidth());var l=0;if(angular.forEach(f.options.columnDefs,function(e){e.hasOwnProperty("filter")?1>l&&(l=1):e.hasOwnProperty("filters")&&l<e.filters.length&&(l=e.filters.length)}),f.options.enableFiltering&&!l){var u=f.options.columnDefs.length&&f.options.columnDefs.every(function(e){return e.enableFiltering===!1});u||(l=1)}var c=l*r,d=r+n+a+s+c;t.css("height",d+"px"),f.gridHeight=e.gridHeight=i.elementHeight(t)}function p(n){f.gridWidth=e.gridWidth=i.elementWidth(t),f.gridHeight=e.gridHeight=i.elementHeight(t),f.refreshCanvas(!0)}var f=s.grid;s.scrollbars=[],f.element=t;var h=100,m=20,g=0;u(),c(),f.renderingComplete(),l()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(e,t,n,r,i,o,a,s,l,u,c){function d(t,n){t&&t!==n&&(f.grid.options.columnDefs=e.uiGrid.columnDefs,f.grid.buildColumns({orderByColumnDefs:!0}).then(function(){f.grid.preCompileCellTemplates(),f.grid.callDataChangeCallbacks(o.dataChange.COLUMN)}))}function p(t){var r=[];if(f.grid.options.fastWatch&&(t=angular.isString(e.uiGrid.data)?f.grid.appScope[e.uiGrid.data]:e.uiGrid.data),m=t,t){var a=f.grid.columns.length>(f.grid.rowHeaderColumns?f.grid.rowHeaderColumns.length:0);!a&&!n.uiGridColumns&&0===f.grid.options.columnDefs.length&&t.length>0&&f.grid.buildColumnDefsFromData(t),!a&&(f.grid.options.columnDefs.length>0||t.length>0)&&r.push(f.grid.buildColumns().then(function(){f.grid.preCompileCellTemplates()})),i.all(r).then(function(){f.grid.modifyRows(m).then(function(){f.grid.redrawInPlace(!0),e.$evalAsync(function(){f.grid.refreshCanvas(!0),f.grid.callDataChangeCallbacks(o.dataChange.ROW)})})})}}var f=this;f.grid=s.createGrid(e.uiGrid),f.grid.appScope=f.grid.appScope||e.$parent,t.addClass("grid"+f.grid.id),f.grid.rtl="rtl"===r.getStyles(t[0]).direction,e.grid=f.grid,n.uiGridColumns&&n.$observe("uiGridColumns",function(e){f.grid.options.columnDefs=e,f.grid.buildColumns().then(function(){f.grid.preCompileCellTemplates(),f.grid.refreshCanvas(!0)})});var h=[];f.grid.options.fastWatch?(f.uiGrid=e.uiGrid,angular.isString(e.uiGrid.data)?(h.push(e.$parent.$watch(e.uiGrid.data,p)),h.push(e.$parent.$watch(function(){return f.grid.appScope[e.uiGrid.data]?f.grid.appScope[e.uiGrid.data].length:void 0},p))):(h.push(e.$parent.$watch(function(){return e.uiGrid.data},p)),h.push(e.$parent.$watch(function(){return e.uiGrid.data.length},function(){p(e.uiGrid.data)}))),h.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs},d)),h.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs.length},function(){d(e.uiGrid.columnDefs)}))):(h.push(angular.isString(e.uiGrid.data)?e.$parent.$watchCollection(e.uiGrid.data,p):e.$parent.$watchCollection(function(){return e.uiGrid.data},p)),h.push(e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},d)));var m,g=e.$watch(function(){return f.grid.styleComputations},function(){f.grid.refreshCanvas(!0)});e.$on("$destroy",function(){h.forEach(function(e){e()}),g()}),f.fireEvent=function(t,n){("undefined"==typeof n||void 0===n)&&(n={}),("undefined"==typeof n.grid||void 0===n.grid)&&(n.grid=f.grid),e.$broadcast(t,n)},f.innerCompile=function(t){c(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",e),e.$inject=["$compile","$templateCache","$timeout","$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(e){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,t,n,r){function i(){var e=this,t=0;e.visibleColumnCache.forEach(function(e){t+=e.drawnWidth});var n=e.getViewportAdjustment();return t+=n.width}function o(){if("left"===e.side||"right"===e.side){for(var t=s.renderContainers[e.side].visibleColumnCache,n=0,r=0;r<t.length;r++){var i=t[r];n+=i.drawnWidth||i.width||0}return n}}function a(){var n="";return("left"===e.side||"right"===e.side)&&(l=o(),t.attr("style",null),n+=".grid"+s.id+" .ui-grid-pinned-container-"+e.side+", .grid"+s.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+l+"px; } "),n}var s=r.grid,l=0;t.addClass("ui-grid-pinned-container-"+e.side),("left"===e.side||"right"===e.side)&&(s.renderContainers[e.side].getViewportWidth=i),s.renderContainers.body.registerViewportAdjuster(function(t){return l=o(),t.width-=l,t.side=e.side,t}),s.registerStyleComputation({priority:15,func:a})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(e,t,n,r,i,o,a,s,l,u,c,d,p,f){function h(){}var m=function(e){function t(e){a.isScrollingVertically=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=i.scrollDirection.NONE}function n(e){a.isScrollingHorizontally=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=i.scrollDirection.NONE}var a=this;if(void 0===e||"undefined"==typeof e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');a.id=e.id,delete e.id,a.options=o.initialize(e),a.appScope=a.options.appScopeProvider,a.headerHeight=a.options.headerRowHeight,a.footerHeight=a.calcFooterHeight(),a.columnFooterHeight=a.calcColumnFooterHeight(),a.rtl=!1,a.gridHeight=0,a.gridWidth=0,a.columnBuilders=[],a.rowBuilders=[],a.rowsProcessors=[],a.columnsProcessors=[],a.styleComputations=[],a.viewportAdjusters=[],a.rowHeaderColumns=[],a.dataChangeCallbacks={},a.verticalScrollSyncCallBackFns={},a.horizontalScrollSyncCallBackFns={},a.renderContainers={},a.renderContainers.body=new d("body",a),a.cellValueGetterCache={},a.getRowTemplateFn=null,a.rows=[],a.columns=[],a.isScrollingVertically=!1,a.isScrollingHorizontally=!1,a.scrollDirection=i.scrollDirection.NONE,a.disableScrolling=!1;var s=r.debounce(t,a.options.scrollDebounce),c=r.debounce(t,0),p=r.debounce(n,a.options.scrollDebounce),f=r.debounce(n,0);a.flagScrollingVertically=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingVertically=!0,0!==a.options.scrollDebounce&&e.withDelay?s(e):c(e)},a.flagScrollingHorizontally=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingHorizontally=!0,0!==a.options.scrollDebounce&&e.withDelay?p(e):f(e)},a.scrollbarHeight=0,a.scrollbarWidth=0,a.options.enableHorizontalScrollbar===i.scrollbars.ALWAYS&&(a.scrollbarHeight=r.getScrollbarWidth()),a.options.enableVerticalScrollbar===i.scrollbars.ALWAYS&&(a.scrollbarWidth=r.getScrollbarWidth()),a.api=new l(a),a.api.registerMethod("core","refresh",this.refresh),a.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),a.api.registerMethod("core","refreshRows",this.refreshRows),a.api.registerMethod("core","queueRefresh",this.queueRefresh),a.api.registerMethod("core","handleWindowResize",this.handleWindowResize),a.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),a.api.registerMethod("core","scrollToIfNecessary",function(e,t){return a.scrollToIfNecessary(e,t)}),a.api.registerMethod("core","scrollTo",function(e,t){return a.scrollTo(e,t)}),a.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),a.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),a.api.registerMethod("core","sortHandleNulls",u.handleNulls),a.api.registerEvent("core","sortChanged"),a.api.registerEvent("core","columnVisibilityChanged"),a.api.registerMethod("core","notifyDataChange",this.notifyDataChange),a.api.registerMethod("core","clearAllFilters",this.clearAllFilters),a.registerDataChangeCallback(a.columnRefreshCallback,[i.dataChange.COLUMN]),a.registerDataChangeCallback(a.processRowsCallback,[i.dataChange.EDIT]),a.registerDataChangeCallback(a.updateFooterHeightCallback,[i.dataChange.OPTIONS]),a.registerStyleComputation({priority:10,func:a.getFooterStyles})};return m.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),e+=this.calcColumnFooterHeight()},m.prototype.calcColumnFooterHeight=function(){var e=0;return this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},m.prototype.getFooterStyles=function(){var e=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return e+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},m.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},m.prototype.isRTL=function(){return this.rtl},m.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},m.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=r.getColumnsFromData(e,this.options.excludeProperties)},m.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},m.prototype.registerDataChangeCallback=function(e,t,n){var o=r.nextUid();t||(t=[i.dataChange.ALL]),Array.isArray(t)||r.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[o]={callback:e,types:t,_this:n};var a=this,s=function(){delete a.dataChangeCallbacks[o]};return s},m.prototype.callDataChangeCallbacks=function(e,t){angular.forEach(this.dataChangeCallbacks,function(t,n){(-1!==t.types.indexOf(i.dataChange.ALL)||-1!==t.types.indexOf(e)||e===i.dataChange.ALL)&&(t._this?t.callback.apply(t._this,this):t.callback(this))},this)},m.prototype.notifyDataChange=function(e){var t=i.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):r.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},m.prototype.columnRefreshCallback=function(e){e.buildColumns(),e.queueGridRefresh()},m.prototype.processRowsCallback=function(e){e.queueGridRefresh()},m.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},m.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},m.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},m.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(t,n){if(!t.type){var i=new a(t,n,e),o=e.rows.length>0?e.rows[0]:null;t.type=o?r.guessType(e.getCellValue(o,i)):"string"}})},m.prototype.isRowHeaderColumn=function(e){return-1!==this.rowHeaderColumns.indexOf(e)},m.prototype.addRowHeaderColumn=function(e,t){var n=this;void 0===t&&(t=0);var i=new a(e,r.nextUid(),n);i.isRowHeader=!0,n.isRTL()?(n.createRightContainer(),i.renderContainer="right"):(n.createLeftContainer(),i.renderContainer="left"),n.columnBuilders[0](e,i,n.options).then(function(){i.enableFiltering=!1,i.enableSorting=!1,i.enableHiding=!1,i.headerPriority=t,n.rowHeaderColumns.push(i),n.rowHeaderColumns=n.rowHeaderColumns.sort(function(e,t){return e.headerPriority-t.headerPriority}),n.buildColumns().then(function(){n.preCompileCellTemplates(),n.queueGridRefresh()})})},m.prototype.getOnlyDataColumns=function(){var e=this,t=[];return e.columns.forEach(function(n){-1===e.rowHeaderColumns.indexOf(n)&&t.push(n)}),t},m.prototype.buildColumns=function(t){var n={orderByColumnDefs:!1};angular.extend(n,t);var i,o=this,s=[],l=o.rowHeaderColumns.length;for(i=0;i<o.columns.length;i++)o.getColDef(o.columns[i].name)||(o.columns.splice(i,1),i--);for(var u=o.rowHeaderColumns.length-1;u>=0;u--)o.columns.unshift(o.rowHeaderColumns[u]);if(o.options.columnDefs.forEach(function(e,t){o.preprocessColDef(e);var n=o.getColumn(e.name);n?n.updateColumnDef(e,!1):(n=new a(e,r.nextUid(),o),o.columns.splice(t+l,0,n)),o.columnBuilders.forEach(function(t){s.push(t.call(o,e,n,o.options))})}),n.orderByColumnDefs){var c=o.columns.slice(0),d=Math.min(o.options.columnDefs.length,o.columns.length);for(i=0;d>i;i++)c[i+l]=o.columns[i+l].name!==o.options.columnDefs[i].name?o.getColumn(o.options.columnDefs[i].name):o.columns[i+l];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(c))}return e.all(s).then(function(){o.rows.length>0&&o.assignTypes()})},m.prototype.preCompileCellTemplate=function(e){var n=this,r=e.cellTemplate.replace(i.MODEL_COL_FIELD,n.getQualifiedColField(e));r=r.replace(i.COL_FIELD,"grid.getCellValue(row, col)");var o=t(r);e.compiledElementFn=o,e.compiledElementFnDefer&&e.compiledElementFnDefer.resolve(e.compiledElementFn)},m.prototype.preCompileCellTemplates=function(){var e=this;e.columns.forEach(function(t){t.cellTemplate?e.preCompileCellTemplate(t):t.cellTemplatePromise&&t.cellTemplatePromise.then(function(){e.preCompileCellTemplate(t)})})},m.prototype.getQualifiedColField=function(e){return"row.entity."+r.preEval(e.field)},m.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new d("left",this,{disableColumnOffset:!0}))},m.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new d("right",this,{disableColumnOffset:!0}))},m.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},m.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},m.prototype.preprocessColDef=function(e){var t=this;if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){for(var n=e.field,r=2;t.getColumn(n);)n=e.field+r.toString(),r++;e.name=n}},m.prototype.newInN=function(e,t,n,r){for(var i=this,o=[],a=0;a<t.length;a++){for(var s=r?t[a][r]:t[a],l=!1,u=0;u<e.length;u++){var c=n?e[u][n]:e[u];if(i.options.rowEquality(s,c)){l=!0;break}}l||o.push(s)}return o},m.prototype.getRow=function(e,t){var n=this;t="undefined"==typeof t?n.rows:t;var r=t.filter(function(t){return n.options.rowEquality(t.entity,e)});return r.length>0?r[0]:null},m.prototype.modifyRows=function(t){var n=this,r=n.rows.slice(0),i=n.rowHashMap||n.createRowHashMap();n.rowHashMap=n.createRowHashMap(),n.rows.length=0,t.forEach(function(e,t){var o;o=n.options.enableRowHashing?i.get(e):n.getRow(e,r),o||(o=n.processRowBuilders(new s(e,t,n))),n.rows.push(o),n.rowHashMap.put(e,o)}),n.assignTypes();var o=e.when(n.processRowsProcessors(n.rows)).then(function(e){return n.setVisibleRows(e)}),a=e.when(n.processColumnsProcessors(n.columns)).then(function(e){return n.setVisibleColumns(e)});return e.all([o,a])},m.prototype.addRows=function(e){for(var t=this,n=t.rows.length,r=0;r<e.length;r++){var i=t.processRowBuilders(new s(e[r],r+n,t));if(t.options.enableRowHashing){var o=t.rowHashMap.get(i.entity);o&&(o.row=i)}t.rows.push(i)}},m.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(n){n.call(t,e,t.options)}),e},m.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},m.prototype.registerRowsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:t}),this.rowsProcessors.sort(function(e,t){return e.priority-t.priority})},m.prototype.removeRowsProcessor=function(e){var t=-1;this.rowsProcessors.forEach(function(n,r){n.processor===e&&(t=r)}),-1!==t&&this.rowsProcessors.splice(t,1)},m.prototype.processRowsProcessors=function(t){function n(t,i){var a=r.rowsProcessors[t].processor;return e.when(a.call(r,i,r.columns)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,t<=r.rowsProcessors.length-1?n(t,e):void o.resolve(e)})}var r=this,i=t.slice(0);if(0===r.rowsProcessors.length)return e.when(i);var o=e.defer();return n(0,i),o.promise},m.prototype.setVisibleRows=function(e){var t=this;for(var n in t.renderContainers){var r=t.renderContainers[n];r.canvasHeightShouldUpdate=!0,"undefined"==typeof r.visibleRowCache?r.visibleRowCache=[]:r.visibleRowCache.length=0}for(var i=0;i<e.length;i++){var o=e[i],a="undefined"!=typeof o.renderContainer&&o.renderContainer?o.renderContainer:"body";o.visible&&t.renderContainers[a].visibleRowCache.push(o)}t.api.core.raise.rowsRendered(this.api)},m.prototype.registerColumnsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:t}),this.columnsProcessors.sort(function(e,t){return e.priority-t.priority})},m.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.columnsProcessors.splice(t,1)},m.prototype.processColumnsProcessors=function(t){function n(t,a){var s=r.columnsProcessors[t].processor;return e.when(s.call(r,a,r.rows)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,t<=r.columnsProcessors.length-1?n(t,i):void o.resolve(i)})}var r=this,i=t.slice(0);if(0===r.columnsProcessors.length)return e.when(i);var o=e.defer();return n(0,i),o.promise},m.prototype.setVisibleColumns=function(e){var t=this;for(var n in t.renderContainers){var r=t.renderContainers[n];r.visibleColumnCache.length=0}for(var i=0;i<e.length;i++){var o=e[i];o.visible&&("undefined"!=typeof o.renderContainer&&o.renderContainer?t.renderContainers[o.renderContainer].visibleColumnCache.push(o):t.renderContainers.body.visibleColumnCache.push(o))}},m.prototype.handleWindowResize=function(e){var t=this;return t.gridWidth=r.elementWidth(t.element),t.gridHeight=r.elementHeight(t.element),t.queueRefresh()},m.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&p.cancel(e.refreshCanceller),e.refreshCanceller=p(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}),e.refreshCanceller},m.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&p.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=p(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null}),e.gridRefreshCanceller},m.prototype.updateCanvasHeight=function(){var e=this;for(var t in e.renderContainers)if(e.renderContainers.hasOwnProperty(t)){var n=e.renderContainers[t];n.canvasHeightShouldUpdate=!0}},m.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var n=t.func.call(e);angular.isString(n)&&(e.customStyles+="\n"+n)})},m.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),n=0,r=0;return e.columns.forEach(function(i,o){if(t>r)r+=i.drawnWidth,n++;else{for(var a=0,s=o;s>=o-n;s--)a+=e.columns[s].drawnWidth;t>a&&n++}}),n},m.prototype.getBodyHeight=function(){var e=this.getViewportHeight();return e},m.prototype.getViewportHeight=function(){var e=this,t=this.gridHeight-this.headerHeight-this.footerHeight,n=e.getViewportAdjustment();return t+=n.height},m.prototype.getViewportWidth=function(){var e=this,t=this.gridWidth,n=e.getViewportAdjustment();return t+=n.width},m.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},m.prototype.addVerticalScrollSync=function(e,t){this.verticalScrollSyncCallBackFns[e]=t},m.prototype.addHorizontalScrollSync=function(e,t){this.horizontalScrollSyncCallBackFns[e]=t},m.prototype.scrollContainers=function(e,t){if(t.y){var n=["body","left","right"];this.flagScrollingVertically(t),"body"===e?n=["left","right"]:"left"===e?n=["body","right"]:"right"===e&&(n=["body","left"]);for(var r=0;r<n.length;r++){var i=n[r];this.verticalScrollSyncCallBackFns[i]&&this.verticalScrollSyncCallBackFns[i](t)}}if(t.x){var o=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(t),"body"===e&&(o=["bodyheader","bodyfooter"]);for(var a=0;a<o.length;a++){var s=o[a];this.horizontalScrollSyncCallBackFns[s]&&this.horizontalScrollSyncCallBackFns[s](t)}}},m.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},m.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},m.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},m.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},m.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},m.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},m.prototype.searchRows=function(e){return c.search(this,e,this.columns)},m.prototype.sortByColumn=function(e){return u.sort(this,e,this.columns)},m.prototype.getCellValue=function(e,t){return"undefined"!=typeof e.entity["$$"+t.uid]?e.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&"undefined"!=typeof t.field?e.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=n(e.getEntityQualifiedColField(t))),t.cellValueGetterCache(e))},m.prototype.getCellDisplayValue=function(e,t){if(!t.cellDisplayGetterCache){var r=t.cellFilter?" | "+t.cellFilter:"";t.cellDisplayGetterCache=n("undefined"!=typeof e.entity["$$"+t.uid]?e.entity["$$"+t.uid].rendered+r:this.options.flatEntityAccess&&"undefined"!=typeof t.field?e.entity[t.field]+r:e.getEntityQualifiedColField(t)+r)}return t.cellDisplayGetterCache(e)},m.prototype.getNextColumnSortPriority=function(){var e=this,t=0;return e.columns.forEach(function(e){e.sort&&void 0!==e.sort.priority&&e.sort.priority>=t&&(t=e.sort.priority+1)}),t},m.prototype.resetColumnSorting=function(e){var t=this;t.columns.forEach(function(t){t===e||t.suppressRemoveSort||(t.sort={})})},m.prototype.getColumnSorting=function(){var e,t=this,n=[];return e=t.columns.slice(0),e.sort(u.prioritySort).forEach(function(e){e.sort&&"undefined"!=typeof e.sort.direction&&e.sort.direction&&(e.sort.direction===i.ASC||e.sort.direction===i.DESC)&&n.push(e)}),n},m.prototype.sortColumn=function(t,n,r){var i=this,o=null;if("undefined"==typeof t||!t)throw new Error("No column parameter provided");if("boolean"==typeof n?r=n:o=n,r?t.sort.priority||(t.sort.priority=i.getNextColumnSortPriority()):(i.resetColumnSorting(t),t.sort.priority=void 0,t.sort.priority=i.getNextColumnSortPriority()),o)t.sort.direction=o;else{var a=t.sortDirectionCycle.indexOf(t.sort.direction?t.sort.direction:null);a=(a+1)%t.sortDirectionCycle.length,t.colDef&&t.suppressRemoveSort&&!t.sortDirectionCycle[a]&&(a=(a+1)%t.sortDirectionCycle.length),t.sortDirectionCycle[a]?t.sort.direction=t.sortDirectionCycle[a]:t.sort={}}return i.api.core.raise.sortChanged(i,i.getColumnSorting()),e.when(t)},m.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},m.prototype.createRowHashMap=function(){var e=this,t=new h;return t.grid=e,t},m.prototype.refresh=function(t){var n=this,r=n.processRowsProcessors(n.rows).then(function(e){n.setVisibleRows(e)}),i=n.processColumnsProcessors(n.columns).then(function(e){n.setVisibleColumns(e)});return e.all([r,i]).then(function(){n.redrawInPlace(t),n.refreshCanvas(!0)})},m.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawInPlace(),e.refreshCanvas(!0)})},m.prototype.refreshCanvas=function(t){var n=this;t&&n.buildStyles();var i=e.defer(),o=[];for(var a in n.renderContainers)if(n.renderContainers.hasOwnProperty(a)){var s=n.renderContainers[a];if(null===s.canvasWidth||isNaN(s.canvasWidth))continue;(s.header||s.headerCanvas)&&(s.explicitHeaderHeight=s.explicitHeaderHeight||null,s.explicitHeaderCanvasHeight=s.explicitHeaderCanvasHeight||null,o.push(s))}return o.length>0?(t&&n.buildStyles(),p(function(){var e,a,s=!1,l=0,u=0,c=function(e,t){return e!==t&&(s=!0),t};for(e=0;e<o.length;e++)if(a=o[e],null!==a.canvasWidth&&!isNaN(a.canvasWidth)){if(a.header){var d=a.headerHeight=c(a.headerHeight,parseInt(r.outerElementHeight(a.header),10)),p=r.getBorderSize(a.header,"top"),f=r.getBorderSize(a.header,"bottom"),h=parseInt(d-p-f,10);h=0>h?0:h,a.innerHeaderHeight=h,!a.explicitHeaderHeight&&h>l&&(l=h)}if(a.headerCanvas){var m=a.headerCanvasHeight=c(a.headerCanvasHeight,parseInt(r.outerElementHeight(a.headerCanvas),10));!a.explicitHeaderCanvasHeight&&m>u&&(u=m)}}for(e=0;e<o.length;e++)a=o[e],l>0&&"undefined"!=typeof a.headerHeight&&null!==a.headerHeight&&(a.explicitHeaderHeight||a.headerHeight<l)&&(a.explicitHeaderHeight=c(a.explicitHeaderHeight,l)),u>0&&"undefined"!=typeof a.headerCanvasHeight&&null!==a.headerCanvasHeight&&(a.explicitHeaderCanvasHeight||a.headerCanvasHeight<u)&&(a.explicitHeaderCanvasHeight=c(a.explicitHeaderCanvasHeight,u));t&&s&&n.buildStyles(),i.resolve()})):p(function(){i.resolve()}),i.promise},m.prototype.redrawInPlace=function(e){var t=this;for(var n in t.renderContainers){var r=t.renderContainers[n];e?(r.adjustRows(r.prevScrollTop,null),r.adjustColumns(r.prevScrollLeft,null)):(r.adjustRows(null,r.prevScrolltopPercentage),r.adjustColumns(null,r.prevScrollleftPercentage))}},m.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},m.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},m.prototype.scrollToIfNecessary=function(t,n){var r=this,i=new f(r,"uiGrid.scrollToIfNecessary"),o=r.renderContainers.body.visibleRowCache,a=r.renderContainers.body.visibleColumnCache,s=r.renderContainers.body.prevScrollTop+r.headerHeight;s=0>s?0:s;var l=r.renderContainers.body.prevScrollLeft,u=r.renderContainers.body.prevScrollTop+r.gridHeight-r.renderContainers.body.headerHeight-r.footerHeight-r.scrollbarWidth,c=r.renderContainers.body.prevScrollLeft+Math.ceil(r.renderContainers.body.getViewportWidth());if(null!==t){var d=o.indexOf(t),p=r.renderContainers.body.getCanvasHeight()-r.renderContainers.body.getViewportHeight(),h=d*r.options.rowHeight+r.headerHeight;h=0>h?0:h;var m,g;s>h?(m=r.renderContainers.body.prevScrollTop-(s-h),g=m/p,i.y={percentage:g}):h>u&&(m=h-u+r.renderContainers.body.prevScrollTop,g=m/p,i.y={percentage:g})}if(null!==n){for(var v=a.indexOf(n),b=r.renderContainers.body.getCanvasWidth()-r.renderContainers.body.getViewportWidth(),y=0,C=0;v>C;C++){var E=a[C];y+=E.drawnWidth}y=0>y?0:y;var T=y+n.drawnWidth;T=0>T?0:T;var w,D;l>y?(w=r.renderContainers.body.prevScrollLeft-(l-y),D=w/b,D=D>1?1:D,i.x={percentage:D}):T>c&&(w=T-c+r.renderContainers.body.prevScrollLeft,D=w/b,D=D>1?1:D,i.x={percentage:D})}var O=e.defer();if(i.y||i.x){i.withDelay=!1,r.scrollContainers("",i);var I=r.api.core.on.scrollEnd(null,function(){O.resolve(i),I()})}else O.resolve();return O.promise},m.prototype.scrollTo=function(e,t){var n=null,r=null;return null!==e&&"undefined"!=typeof e&&(n=this.getRow(e)),null!==t&&"undefined"!=typeof t&&(r=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(n,r)},m.prototype.clearAllFilters=function(e,t,n){return void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===n&&(n=!1),this.columns.forEach(function(e){e.filters.forEach(function(e){e.term=void 0,t&&(e.condition=void 0),n&&(e.flags=void 0)})}),e?this.refreshRows():void 0},h.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},m}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,n,r,i,o){function a(e,n,r,i){return t.$on(e,function(e){var t=Array.prototype.slice.call(arguments);t.splice(0,1),n.apply(i?i:r.api,t)})}var s=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),
this.registerMethod("core","setRowInvisible",i.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",i.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged"),this.registerEvent("core","gridDimensionChanged")};return s.prototype.suppressEvents=function(e,t){var n=this,r=angular.isArray(e)?e:[e],i=n.listeners.filter(function(e){return r.some(function(t){return e.handler===t})});i.forEach(function(e){e.dereg()}),t(),i.forEach(function(e){e.dereg=a(e.eventId,e.handler,n.grid,e._this)})},s.prototype.registerEvent=function(e,r){var i=this;i[e]||(i[e]={});var o=i[e];o.on||(o.on={},o.raise={});var s=i.grid.id+e+r;o.raise[r]=function(){t.$emit.apply(t,[s].concat(Array.prototype.slice.call(arguments)))},o.on[r]=function(t,o,l){if(null!==t&&"undefined"==typeof t.$on)return void n.logError("asked to listen on "+e+".on."+r+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering");var u=a(s,o,i.grid,l),c={handler:o,dereg:u,eventId:s,scope:t,_this:l};i.listeners.push(c);var d=function(){c.dereg();var e=i.listeners.indexOf(c);i.listeners.splice(e,1)};return t&&t.$on("$destroy",function(){d()}),d}},s.prototype.registerEventsFromObject=function(e){var t=this,n=[];angular.forEach(e,function(e,t){var r={name:t,events:[]};angular.forEach(e,function(e,t){r.events.push(t)}),n.push(r)}),n.forEach(function(e){e.events.forEach(function(n){t.registerEvent(e.name,n)})})},s.prototype.registerMethod=function(e,t,r,i){this[e]||(this[e]={});var o=this[e];o[t]=n.createBoundedWrapper(i||this.grid,r)},s.prototype.registerMethodsFromObject=function(e,t){var n=this,r=[];angular.forEach(e,function(e,t){var n={name:t,methods:[]};angular.forEach(e,function(e,t){n.methods.push({name:t,fn:e})}),r.push(n)}),r.forEach(function(e){e.methods.forEach(function(r){n.registerMethod(e.name,r.name,r.fn,t)})})},s}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,t,n){function r(e,n,r){var i=this;i.grid=r,i.uid=n,i.updateColumnDef(e,!0),i.aggregationValue=void 0,i.updateAggregationValue=function(){if(!i.aggregationType)return void(i.aggregationValue=void 0);var e=0,n=i.grid.getVisibleRows(),r=function(){var e=[];return n.forEach(function(t){var n=i.grid.getCellValue(t,i),r=Number(n);isNaN(r)||e.push(r)}),e};angular.isFunction(i.aggregationType)?i.aggregationValue=i.aggregationType(n,i):i.aggregationType===t.aggregationTypes.count?i.aggregationValue=i.grid.getVisibleRowCount():i.aggregationType===t.aggregationTypes.sum?(r().forEach(function(t){e+=t}),i.aggregationValue=e):i.aggregationType===t.aggregationTypes.avg?(r().forEach(function(t){e+=t}),e/=r().length,i.aggregationValue=e):i.aggregationValue=i.aggregationType===t.aggregationTypes.min?Math.min.apply(null,r()):i.aggregationType===t.aggregationTypes.max?Math.max.apply(null,r()):" "},this.getAggregationValue=function(){return i.aggregationValue}}return r.prototype.hideColumn=function(){this.colDef.visible=!1},r.prototype.setPropertyOrDefault=function(e,t,n){var r=this;r[t]="undefined"!=typeof e[t]&&e[t]?e[t]:"undefined"!=typeof r[t]?r[t]:n?n:{}},r.prototype.updateColumnDef=function(n,r){var i=this;if(i.colDef=n,void 0===n.name)throw new Error("colDef.name is required for column at index "+i.grid.options.columnDefs.indexOf(n));if(i.displayName=void 0===n.displayName?e.readableColumnName(n.name):n.displayName,!angular.isNumber(i.width)||!i.hasCustomWidth||n.allowCustomWidthOverride){var o=n.width,a="Cannot parse column width '"+o+"' for column named '"+n.name+"'";if(i.hasCustomWidth=!1,angular.isString(o)||angular.isNumber(o))if(angular.isString(o))if(e.endsWith(o,"%")){var s=o.replace(/%/g,""),l=parseInt(s,10);if(isNaN(l))throw new Error(a);i.width=o}else if(o.match(/^(\d+)$/))i.width=parseInt(o.match(/^(\d+)$/)[1],10);else{if(!o.match(/^\*+$/))throw new Error(a);i.width=o}else i.width=o;else i.width="*"}["minWidth","maxWidth"].forEach(function(e){var t=n[e],r="Cannot parse column "+e+" '"+t+"' for column named '"+n.name+"'";if(angular.isString(t)||angular.isNumber(t))if(angular.isString(t)){if(!t.match(/^(\d+)$/))throw new Error(r);i[e]=parseInt(t.match(/^(\d+)$/)[1],10)}else i[e]=t;else i[e]="minWidth"===e?30:9e3}),i.field=void 0===n.field?n.name:n.field,"string"!=typeof i.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+i.field),i.name=n.name,i.displayName=void 0===n.displayName?e.readableColumnName(n.name):n.displayName,i.aggregationType=angular.isDefined(n.aggregationType)?n.aggregationType:null,i.footerCellTemplate=angular.isDefined(n.footerCellTemplate)?n.footerCellTemplate:null,i.cellTooltip="undefined"==typeof n.cellTooltip||n.cellTooltip===!1?!1:n.cellTooltip===!0?function(e,t){return i.grid.getCellValue(e,t)}:"function"==typeof n.cellTooltip?n.cellTooltip:function(e,t){return t.colDef.cellTooltip},i.headerTooltip="undefined"==typeof n.headerTooltip||n.headerTooltip===!1?!1:n.headerTooltip===!0?function(e){return e.displayName}:"function"==typeof n.headerTooltip?n.headerTooltip:function(e){return e.colDef.headerTooltip},i.footerCellClass=n.footerCellClass,i.cellClass=n.cellClass,i.headerCellClass=n.headerCellClass,i.cellFilter=n.cellFilter?n.cellFilter:"",i.sortCellFiltered=n.sortCellFiltered?!0:!1,i.filterCellFiltered=n.filterCellFiltered?!0:!1,i.headerCellFilter=n.headerCellFilter?n.headerCellFilter:"",i.footerCellFilter=n.footerCellFilter?n.footerCellFilter:"",i.visible=e.isNullOrUndefined(n.visible)||n.visible,i.headerClass=n.headerClass,i.enableSorting="undefined"!=typeof n.enableSorting?n.enableSorting:!0,i.sortingAlgorithm=n.sortingAlgorithm,i.sortDirectionCycle="undefined"!=typeof n.sortDirectionCycle?n.sortDirectionCycle:[null,t.ASC,t.DESC],"undefined"==typeof i.suppressRemoveSort&&(i.suppressRemoveSort="undefined"!=typeof n.suppressRemoveSort?n.suppressRemoveSort:!1),i.enableFiltering="undefined"!=typeof n.enableFiltering?n.enableFiltering:!0,i.setPropertyOrDefault(n,"menuItems",[]),r&&i.setPropertyOrDefault(n,"sort");var u=[];n.filter?u.push(n.filter):n.filters?u=n.filters:u.push({}),r?(i.setPropertyOrDefault(n,"filter"),i.setPropertyOrDefault(n,"filters",u)):i.filters.length===u.length&&i.filters.forEach(function(e,t){"undefined"!=typeof u[t].placeholder&&(e.placeholder=u[t].placeholder),"undefined"!=typeof u[t].ariaLabel&&(e.ariaLabel=u[t].ariaLabel),"undefined"!=typeof u[t].flags&&(e.flags=u[t].flags),"undefined"!=typeof u[t].type&&(e.type=u[t].type),"undefined"!=typeof u[t].selectOptions&&(e.selectOptions=u[t].selectOptions)})},r.prototype.unsort=function(){this.sort={},this.grid.api.core.raise.sortChanged(this.grid,this.grid.getColumnSorting())},r.prototype.getColClass=function(e){var n=t.COL_CLASS_PREFIX+this.uid;return e?"."+n:n},r.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},r.prototype.isPinnedRight=function(){return"right"===this.renderContainer},r.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},r.prototype.getRenderContainer=function(){var e=this,t=e.renderContainer;return(null===t||""===t||void 0===t)&&(t="body"),e.grid.renderContainers[t]},r.prototype.showColumn=function(){this.colDef.visible=!0},r.prototype.getAggregationText=function(){var e=this;if(e.colDef.aggregationHideLabel)return"";if(e.colDef.aggregationLabel)return e.colDef.aggregationLabel;switch(e.colDef.aggregationType){case t.aggregationTypes.count:return n.getSafeText("aggregation.count");case t.aggregationTypes.sum:return n.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return n.getSafeText("aggregation.avg");case t.aggregationTypes.min:return n.getSafeText("aggregation.min");case t.aggregationTypes.max:return n.getSafeText("aggregation.max");default:return""}},r.prototype.getCellTemplate=function(){var e=this;return e.cellTemplatePromise},r.prototype.getCompiledElementFn=function(){var e=this;return e.compiledElementFnDefer.promise},r}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,t){return{initialize:function(n){return n.onRegisterApi=n.onRegisterApi||angular.noop(),n.data=n.data||[],n.columnDefs=n.columnDefs||[],n.excludeProperties=n.excludeProperties||["$$hashKey"],n.enableRowHashing=n.enableRowHashing!==!1,n.rowIdentity=n.rowIdentity||function(t){return e.hashKey(t)},n.getRowIdentity=n.getRowIdentity||function(e){return e.$$hashKey},n.flatEntityAccess=n.flatEntityAccess===!0,n.showHeader="undefined"!=typeof n.showHeader?n.showHeader:!0,n.headerRowHeight=n.showHeader?"undefined"!=typeof n.headerRowHeight?n.headerRowHeight:30:0,n.rowHeight=n.rowHeight||30,n.minRowsToShow="undefined"!=typeof n.minRowsToShow?n.minRowsToShow:10,n.showGridFooter=n.showGridFooter===!0,n.showColumnFooter=n.showColumnFooter===!0,n.columnFooterHeight="undefined"!=typeof n.columnFooterHeight?n.columnFooterHeight:30,n.gridFooterHeight="undefined"!=typeof n.gridFooterHeight?n.gridFooterHeight:30,n.columnWidth="undefined"!=typeof n.columnWidth?n.columnWidth:50,n.maxVisibleColumnCount="undefined"!=typeof n.maxVisibleColumnCount?n.maxVisibleColumnCount:200,n.virtualizationThreshold="undefined"!=typeof n.virtualizationThreshold?n.virtualizationThreshold:20,n.columnVirtualizationThreshold="undefined"!=typeof n.columnVirtualizationThreshold?n.columnVirtualizationThreshold:10,n.excessRows="undefined"!=typeof n.excessRows?n.excessRows:4,n.scrollThreshold="undefined"!=typeof n.scrollThreshold?n.scrollThreshold:4,n.excessColumns="undefined"!=typeof n.excessColumns?n.excessColumns:4,n.horizontalScrollThreshold="undefined"!=typeof n.horizontalScrollThreshold?n.horizontalScrollThreshold:2,n.aggregationCalcThrottle="undefined"!=typeof n.aggregationCalcThrottle?n.aggregationCalcThrottle:500,n.wheelScrollThrottle="undefined"!=typeof n.wheelScrollThrottle?n.wheelScrollThrottle:70,n.scrollDebounce="undefined"!=typeof n.scrollDebounce?n.scrollDebounce:300,n.enableSorting=n.enableSorting!==!1,n.enableFiltering=n.enableFiltering===!0,n.enableColumnMenus=n.enableColumnMenus!==!1,n.enableVerticalScrollbar="undefined"!=typeof n.enableVerticalScrollbar?n.enableVerticalScrollbar:t.scrollbars.ALWAYS,n.enableHorizontalScrollbar="undefined"!=typeof n.enableHorizontalScrollbar?n.enableHorizontalScrollbar:t.scrollbars.ALWAYS,n.enableMinHeightCheck=n.enableMinHeightCheck!==!1,n.minimumColumnSize="undefined"!=typeof n.minimumColumnSize?n.minimumColumnSize:10,n.rowEquality=n.rowEquality||function(e,t){return e===t},n.headerTemplate=n.headerTemplate||null,n.footerTemplate=n.footerTemplate||"ui-grid/ui-grid-footer",n.gridFooterTemplate=n.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",n.rowTemplate=n.rowTemplate||"ui-grid/ui-grid-row",n.appScopeProvider=n.appScopeProvider||null,n}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,t){function n(e,t,n){var r=this;r.name=e,r.grid=t,r.visibleRowCache=[],r.visibleColumnCache=[],r.renderedRows=[],r.renderedColumns=[],r.prevScrollTop=0,r.prevScrolltopPercentage=0,r.prevRowScrollIndex=0,r.prevScrollLeft=0,r.prevScrollleftPercentage=0,r.prevColumnScrollIndex=0,r.columnStyles="",r.viewportAdjusters=[],r.hasHScrollbar=!1,r.hasVScrollbar=!1,r.canvasHeightShouldUpdate=!0,r.$$canvasHeight=0,n&&angular.isObject(n)&&angular.extend(r,n),t.registerStyleComputation({priority:5,func:function(){return r.updateColumnWidths(),r.columnStyles}})}return n.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},n.prototype.containsColumn=function(e){return-1!==this.visibleColumnCache.indexOf(e)},n.prototype.minRowsToRender=function(){for(var e=this,t=0,n=0,r=e.getViewportHeight(),i=e.visibleRowCache.length-1;r>n&&i>=0;i--)n+=e.visibleRowCache[i].height,t++;return t},n.prototype.minColumnsToRender=function(){for(var e=this,t=this.getViewportWidth(),n=0,r=0,i=0;i<e.visibleColumnCache.length;i++){var o=e.visibleColumnCache[i];if(t>r)r+=o.drawnWidth?o.drawnWidth:0,n++;else{for(var a=0,s=i;s>=i-n;s--)a+=e.visibleColumnCache[s].drawnWidth?e.visibleColumnCache[s].drawnWidth:0;t>a&&n++}}return n},n.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},n.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},n.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);t>-1&&this.viewportAdjusters.splice(t,1)},n.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},n.prototype.getMargin=function(e){var t=this,n=0;return t.viewportAdjusters.forEach(function(t){var r=t.call(this,{height:0,width:0});r.side&&r.side===e&&(n+=-1*r.width)}),n},n.prototype.getViewportHeight=function(){var e=this,t=e.headerHeight?e.headerHeight:e.grid.headerHeight,n=e.grid.gridHeight-t-e.grid.footerHeight,r=e.getViewportAdjustment();return n+=r.height},n.prototype.getViewportWidth=function(){var e=this,t=e.grid.gridWidth,n=e.getViewportAdjustment();return t+=n.width},n.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},n.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var t=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(t){e.$$canvasHeight+=t.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(t,e.$$canvasHeight),e.$$canvasHeight},n.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight},n.prototype.getHorizontalScrollLength=function(){return this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth},n.prototype.getCanvasWidth=function(){var e=this,t=e.canvasWidth;return t},n.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;t<e.length;t++)this.renderedRows[t]=e[t]},n.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},n.prototype.updateColumnOffset=function(){for(var e=0,t=0;t<this.currentFirstColumn;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},n.prototype.scrollVertical=function(e){var n=-1;if(e!==this.prevScrollTop){var r=e-this.prevScrollTop;r>0&&(this.grid.scrollDirection=t.scrollDirection.DOWN),0>r&&(this.grid.scrollDirection=t.scrollDirection.UP);var i=this.getVerticalScrollLength();return n=e/i,n>1&&(n=1),0>n&&(n=0),this.adjustScrollVertical(e,n),n}},n.prototype.scrollHorizontal=function(e){var n=-1;if(e!==this.prevScrollLeft){var r=e-this.prevScrollLeft;r>0&&(this.grid.scrollDirection=t.scrollDirection.RIGHT),0>r&&(this.grid.scrollDirection=t.scrollDirection.LEFT);var i=this.getHorizontalScrollLength();return n=0!==i?e/i:0,this.adjustScrollHorizontal(e,n),n}},n.prototype.adjustScrollVertical=function(e,t,n){(this.prevScrollTop!==e||n)&&(("undefined"==typeof e||void 0===e||null===e)&&(e=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},n.prototype.adjustScrollHorizontal=function(e,t,n){(this.prevScrollLeft!==e||n)&&(("undefined"==typeof e||void 0===e||null===e)&&(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},n.prototype.adjustRows=function(e,t,n){var r=this,i=r.minRowsToRender(),o=r.visibleRowCache,a=o.length-i;"undefined"!=typeof t&&null!==t||!e||(t=e/r.getVerticalScrollLength());var s=Math.ceil(Math.min(a,a*t));s>a&&(s=a);var l=[];if(o.length>r.grid.options.virtualizationThreshold){if("undefined"!=typeof e&&null!==e){if(!r.grid.suppressParentScrollDown&&r.prevScrollTop<e&&s<r.prevRowScrollIndex+r.grid.options.scrollThreshold&&a>s)return;if(!r.grid.suppressParentScrollUp&&r.prevScrollTop>e&&s>r.prevRowScrollIndex-r.grid.options.scrollThreshold&&a>s)return}var u={},c={};u=Math.max(0,s-r.grid.options.excessRows),c=Math.min(o.length,s+i+r.grid.options.excessRows),l=[u,c]}else{var d=r.visibleRowCache.length;l=[0,Math.max(d,i+r.grid.options.excessRows)]}r.updateViewableRowRange(l),r.prevRowScrollIndex=s},n.prototype.adjustColumns=function(e,t){var n=this,r=n.minColumnsToRender(),i=n.visibleColumnCache,o=i.length-r;"undefined"!=typeof t&&null!==t||!e||(t=e/n.getHorizontalScrollLength());var a=Math.ceil(Math.min(o,o*t));a>o&&(a=o);var s=[];if(i.length>n.grid.options.columnVirtualizationThreshold&&n.getCanvasWidth()>n.getViewportWidth()){var l=Math.max(0,a-n.grid.options.excessColumns),u=Math.min(i.length,a+r+n.grid.options.excessColumns);s=[l,u]}else{var c=n.visibleColumnCache.length;s=[0,Math.max(c,r+n.grid.options.excessColumns)]}n.updateViewableColumnRange(s),n.prevColumnScrollIndex=a},n.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},n.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},n.prototype.headerCellWrapperStyle=function(){var e=this;if(0!==e.currentFirstColumn){var t=e.columnOffset;return e.grid.isRTL()?{"margin-right":t+"px"}:{"margin-left":t+"px"}}return null},n.prototype.updateColumnWidths=function(){var t=this,n=[],r=0,i=0,o="",a=t.grid.getViewportWidth()-t.grid.scrollbarWidth,s=[];angular.forEach(t.grid.renderContainers,function(e,t){s=s.concat(e.visibleColumnCache)}),s.forEach(function(t,o){var s=0;t.visible&&(angular.isNumber(t.width)?(s=parseInt(t.width,10),i+=s,t.drawnWidth=s):e.endsWith(t.width,"%")?(s=parseInt(parseInt(t.width.replace(/%/g,""),10)/100*a),s>t.maxWidth&&(s=t.maxWidth),s<t.minWidth&&(s=t.minWidth),i+=s,t.drawnWidth=s):angular.isString(t.width)&&-1!==t.width.indexOf("*")&&(r+=t.width.length,n.push(t)))});var l=a-i;if(n.length>0){var u=l/r;n.forEach(function(e){var t=parseInt(e.width.length*u,10);t>e.maxWidth&&(t=e.maxWidth),t<e.minWidth&&(t=e.minWidth),i+=t,e.drawnWidth=t})}for(var c=function(e){e.drawnWidth<e.maxWidth&&d>0&&(e.drawnWidth++,i++,d--,p=!0)},d=a-i,p=!0;d>0&&p;)p=!1,n.forEach(c);var f=function(e){e.drawnWidth>e.minWidth&&h>0&&(e.drawnWidth--,i--,h--,p=!0)},h=i-a;for(p=!0;h>0&&p;)p=!1,n.forEach(f);var m=0;t.visibleColumnCache.forEach(function(e){e.visible&&(m+=e.drawnWidth)}),s.forEach(function(e){o+=e.getColClassDefinition()}),t.canvasWidth=m,this.columnStyles=o},n.prototype.needsHScrollbarPlaceholder=function(){return this.grid.options.enableHorizontalScrollbar&&!this.hasHScrollbar&&!this.grid.disableScrolling},n.prototype.getViewportStyle=function(){var e=this,n={};return e.hasHScrollbar=!1,e.hasVScrollbar=!1,e.grid.disableScrolling?(n["overflow-x"]="hidden",n["overflow-y"]="hidden",n):("body"===e.name?(e.hasHScrollbar=e.grid.options.enableHorizontalScrollbar!==t.scrollbars.NEVER,e.grid.isRTL()?e.grid.hasLeftContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER):e.grid.hasRightContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER)):e.hasVScrollbar="left"===e.name?e.grid.isRTL()?e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER:!1:e.grid.isRTL()?!1:e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER,n["overflow-x"]=e.hasHScrollbar?"scroll":"hidden",n["overflow-y"]=e.hasVScrollbar?"scroll":"hidden",n)},n}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(e){function t(t,n,r){this.grid=r,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.$$height=r.options.rowHeight}return Object.defineProperty(t.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),t.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},t.prototype.getEntityQualifiedColField=function(t){return e.preEval("entity."+t.field)},t.prototype.setRowInvisible=function(e){e&&e.setThisRowInvisible&&e.setThisRowInvisible("user")},t.prototype.clearRowInvisible=function(e){e&&e.clearThisRowInvisible&&e.clearThisRowInvisible("user")},t.prototype.setThisRowInvisible=function(e,t){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[e]=!0,this.evaluateRowVisibility(t)},t.prototype.clearThisRowInvisible=function(e,t){"undefined"!=typeof this.invisibleReason&&delete this.invisibleReason[e],this.evaluateRowVisibility(t)},t.prototype.evaluateRowVisibility=function(e){var t=!0;"undefined"!=typeof this.invisibleReason&&angular.forEach(this.invisibleReason,function(e,n){e&&(t=!1)}),("undefined"==typeof this.visible||this.visible!==t)&&(this.visible=t,e||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},t}])}(),function(){"use strict";angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(e,t){var n=function r(e,t){if(!(this instanceof r))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=e,this.col=t};return n.prototype.getIntersectionValueRaw=function(){var t=e(this.row.getEntityQualifiedColField(this.col)),n=this.row;return t(n)},n}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function t(t,n,r,i){var o=this;if(!t)throw new Error("grid argument is required");o.grid=t,o.source=i,o.withDelay=!0,o.sourceRowContainer=n,o.sourceColContainer=r,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.verticalScrollLength=-9999999,o.horizontalScrollLength=-999999,o.fireThrottledScrollingEvent=e.throttle(function(e){o.grid.scrollContainers(e,o)},o.grid.options.wheelScrollThrottle,{trailing:!0})}return t.prototype.getNewScrollLeft=function(t,n){var r=this;if(!r.newScrollLeft){var i,o=t.getCanvasWidth()-t.getViewportWidth(),a=e.normalizeScrollLeft(n,r.grid);if("undefined"!=typeof r.x.percentage&&void 0!==r.x.percentage)i=r.x.percentage;else{if("undefined"==typeof r.x.pixels||void 0===r.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");i=r.x.percentage=(a+r.x.pixels)/o}return Math.max(0,i*o)}return r.newScrollLeft},t.prototype.getNewScrollTop=function(e,t){var n=this;if(!n.newScrollTop){var r,i=e.getVerticalScrollLength(),o=t[0].scrollTop;if("undefined"!=typeof n.y.percentage&&void 0!==n.y.percentage)r=n.y.percentage;else{if("undefined"==typeof n.y.pixels||void 0===n.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");r=n.y.percentage=(o+n.y.pixels)/i}return Math.max(0,r*i)}return n.newScrollTop},t.prototype.atTop=function(e){return this.y&&(0===this.y.percentage||this.verticalScrollLength<0)&&0===e},t.prototype.atBottom=function(e){return this.y&&(1===this.y.percentage||0===this.verticalScrollLength)&&e>0},t.prototype.atLeft=function(e){return this.x&&(0===this.x.percentage||this.horizontalScrollLength<0)&&0===e},t.prototype.atRight=function(e){return this.x&&(1===this.x.percentage||0===this.horizontalScrollLength)&&e>0},t.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},t}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,t,n,r,i,o,a,s){var l={createGrid:function(r){r="undefined"!=typeof r?r:{},r.id=e.newId();var i=new o(r);if(i.options.rowTemplate){var a=t.defer();i.getRowTemplateFn=a.promise,e.getTemplate(i.options.rowTemplate).then(function(e){var t=n(e);a.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+i.options.rowTemplate+"'")})}return i.registerColumnBuilder(l.defaultColumnBuilder),i.registerRowBuilder(l.rowTemplateAssigner),i.registerRowsProcessor(function(e){return e.forEach(function(e){e.evaluateRowVisibility(!0)},50),e}),i.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=angular.isDefined(e.colDef.visible)?e.colDef.visible:!0}),e},50),i.registerRowsProcessor(i.searchRows,100),i.options.externalSort&&angular.isFunction(i.options.externalSort)?i.registerRowsProcessor(i.options.externalSort,200):i.registerRowsProcessor(i.sortByColumn,200),i},defaultColumnBuilder:function(n,r,o){var a=[],s=function(t,o,s,l,u){r[o]=n[t]?n[t]:s,a.push(e.getTemplate(r[o]).then(function(e){angular.isFunction(e)&&(e=e());var n="cellTooltip"===u?"col.cellTooltip(row,col)":"col.headerTooltip(col)";u&&r[u]===!1?e=e.replace(i.TOOLTIP,""):u&&r[u]&&(e=e.replace(i.TOOLTIP,'title="{{'+n+' CUSTOM_FILTERS }}"')),r[t]=l?e.replace(i.CUSTOM_FILTERS,function(){return r[l]?"|"+r[l]:""}):e},function(e){throw new Error("Couldn't fetch/use colDef."+t+" '"+n[t]+"'")}))};return s("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),r.cellTemplatePromise=a[0],s("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),s("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),s("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),r.compiledElementFnDefer=t.defer(),t.all(a)},rowTemplateAssigner:function(r){var i=this;if(r.rowTemplate){var o=t.defer();r.getRowTemplateFn=o.promise,e.getTemplate(r.rowTemplate).then(function(e){var t=n(e);o.resolve(t)},function(e){throw new Error("Couldn't fetch/use row template '"+r.rowTemplate+"'")})}else r.rowTemplate=i.options.rowTemplate,r.getRowTemplateFn=i.getRowTemplateFn;return r.getRowTemplateFn}};return l}])}(),function(){function e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var t=angular.module("ui.grid");t.service("rowSearcher",["gridUtil","uiGridConstants",function(t,n){var r=n.filter.CONTAINS,i={};return i.getTerm=function(e){if("undefined"==typeof e.term)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},i.stripTerm=function(t){var n=i.getTerm(t);return"string"==typeof n?e(n.replace(/(^\*|\*$)/g,"")):n},i.guessCondition=function(e){if("undefined"==typeof e.term||!e.term)return r;var t=i.getTerm(e);if(/\*/.test(t)){var n="";e.flags&&e.flags.caseSensitive||(n+="i");var o=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return new RegExp("^"+o+"$",n)}return r},i.setupFilters=function(e){for(var r=[],o=e.length,a=0;o>a;a++){var s=e[a];if(s.noTerm||!t.isNullOrUndefined(s.term)){var l={},u="";s.flags&&s.flags.caseSensitive||(u+="i"),t.isNullOrUndefined(s.term)||(l.term=i.stripTerm(s)),l.condition=s.condition?s.condition:i.guessCondition(s),l.flags=angular.extend({caseSensitive:!1,date:!1},s.flags),l.condition===n.filter.STARTS_WITH&&(l.startswithRE=new RegExp("^"+l.term,u)),l.condition===n.filter.ENDS_WITH&&(l.endswithRE=new RegExp(l.term+"$",u)),l.condition===n.filter.CONTAINS&&(l.containsRE=new RegExp(l.term,u)),l.condition===n.filter.EXACT&&(l.exactRE=new RegExp("^"+l.term+"$",u)),r.push(l)}}return r},i.runColumnFilter=function(e,t,r,i){var o,a=typeof i.condition,s=i.term;if(o=r.filterCellFiltered?e.getCellDisplayValue(t,r):e.getCellValue(t,r),i.condition instanceof RegExp)return i.condition.test(o);if("function"===a)return i.condition(s,o,t,r);if(i.startswithRE)return i.startswithRE.test(o);if(i.endswithRE)return i.endswithRE.test(o);if(i.containsRE)return i.containsRE.test(o);if(i.exactRE)return i.exactRE.test(o);if(i.condition===n.filter.NOT_EQUAL){var l=new RegExp("^"+s+"$");return!l.exec(o)}if("number"==typeof o&&"string"==typeof s){var u=parseFloat(s.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(u)||(s=u)}return i.flags.date===!0&&(o=new Date(o),s=new Date(s.replace(/\\/g,""))),i.condition===n.filter.GREATER_THAN?o>s:i.condition===n.filter.GREATER_THAN_OR_EQUAL?o>=s:i.condition===n.filter.LESS_THAN?s>o:i.condition===n.filter.LESS_THAN_OR_EQUAL?s>=o:!0},i.searchColumn=function(e,n,r,o){if(e.options.useExternalFiltering)return!0;for(var a=o.length,s=0;a>s;s++){var l=o[s];if(!t.isNullOrUndefined(l.term)&&""!==l.term||l.noTerm){var u=i.runColumnFilter(e,n,r,l);if(!u)return!1}}return!0},i.search=function(e,n,r){if(n){if(!e.options.enableFiltering)return n;for(var o=[],a=r.length,s=function(e){var n=!1;return e.forEach(function(e){(!t.isNullOrUndefined(e.term)&&""!==e.term||e.noTerm)&&(n=!0)}),n},l=0;a>l;l++){var u=r[l];"undefined"!=typeof u.filters&&s(u.filters)&&o.push({col:u,filters:i.setupFilters(u.filters)})}if(o.length>0){for(var c=function(e,t,n,r){t.visible&&!i.searchColumn(e,t,n,r)&&(t.visible=!1)},d=function(e,t){for(var r=n.length,i=0;r>i;i++)c(e,n[i],t.col,t.filters)},p=o.length,f=0;p>f;f++)d(e,o[f]);e.api.core.raise.rowsVisibleChanged&&e.api.core.raise.rowsVisibleChanged()}return n}},i}])}(),function(){var e=angular.module("ui.grid");e.service("rowSorter",["$parse","uiGridConstants",function(e,t){var n="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",r=(new RegExp("^[-+]?"+n+"[\\d,.]+"+n+"%?$"),{colSortFnCache:{}});return r.guessSortFn=function(e){switch(e){case"number":return r.sortNumber;case"numberStr":return r.sortNumberStr;case"boolean":return r.sortBool;case"string":return r.sortAlpha;case"date":return r.sortDate;case"object":return r.basicSort;default:throw new Error("No sorting function found for type:"+e)}},r.handleNulls=function(e,t){if(!e&&0!==e&&e!==!1||!t&&0!==t&&t!==!1){if(!e&&0!==e&&e!==!1&&!t&&0!==t&&t!==!1)return 0;if(!e&&0!==e&&e!==!1)return 1;if(!t&&0!==t&&t!==!1)return-1}return null},r.basicSort=function(e,t){var n=r.handleNulls(e,t);return null!==n?n:e===t?0:t>e?-1:1},r.sortNumber=function(e,t){var n=r.handleNulls(e,t);return null!==n?n:e-t},r.sortNumberStr=function(e,t){var n=r.handleNulls(e,t);if(null!==n)return n;var i,o,a=!1,s=!1;return i=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(i)&&(a=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(s=!0),a&&s?0:a?1:s?-1:i-o},r.sortAlpha=function(e,t){var n=r.handleNulls(e,t);if(null!==n)return n;var i=e.toString().toLowerCase(),o=t.toString().toLowerCase();return i===o?0:i.localeCompare(o)},r.sortDate=function(e,t){var n=r.handleNulls(e,t);if(null!==n)return n;e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t));var i=e.getTime(),o=t.getTime();return i===o?0:o>i?-1:1},r.sortBool=function(e,t){var n=r.handleNulls(e,t);return null!==n?n:e&&t?0:e||t?e?1:-1:0},r.getSortFn=function(e,t,n){var i;return r.colSortFnCache[t.colDef.name]?i=r.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(i=t.sortingAlgorithm,r.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):t.sortCellFiltered&&t.cellFilter?(i=r.sortAlpha,r.colSortFnCache[t.colDef.name]=i):(i=r.guessSortFn(t.colDef.type),i?r.colSortFnCache[t.colDef.name]=i:i=r.sortAlpha),i},r.prioritySort=function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:e.sort.priority||void 0===e.sort.priority?-1:t.sort.priority||void 0===t.sort.priority?1:0},r.sort=function(e,n,i){if(n){if(e.options.useExternalSorting)return n;var o=[];if(i.forEach(function(e){!e.sort||e.sort.ignoreSort||!e.sort.direction||e.sort.direction!==t.ASC&&e.sort.direction!==t.DESC||o.push(e)}),o=o.sort(r.prioritySort),0===o.length)return n;var a,s,l=function(e,t){e.entity.$$uiGridIndex=t};n.forEach(l);var u=n.slice(0),c=function(n,i){for(var l,c=0,d=0;0===c&&d<o.length;){a=o[d],s=o[d].sort.direction,l=r.getSortFn(e,a,u);var p,f;a.sortCellFiltered?(p=e.getCellDisplayValue(n,a),f=e.getCellDisplayValue(i,a)):(p=e.getCellValue(n,a),
f=e.getCellValue(i,a)),c=l(p,f,n,i,s),d++}return 0===c?n.entity.$$uiGridIndex-i.entity.$$uiGridIndex:s===t.ASC?c:0-c},d=n.sort(c),p=function(e,t){delete e.entity.$$uiGridIndex};return n.forEach(p),d}},r}])}(),function(){function e(e){var t=e;return"undefined"!=typeof t.length&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function t(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0,s=["Top","Right","Bottom","Left"];4>o;o+=2){var l=s[o];if("margin"===n){var u=parseFloat(i[n+l]);isNaN(u)||(a+=u)}if(r){if("content"===n){var c=parseFloat(i["padding"+l]);isNaN(c)||(a-=c)}if("margin"!==n){var d=parseFloat(i["border"+l+"Width"]);isNaN(d)||(a-=d)}}else{var p=parseFloat(i["padding"+l]);if(isNaN(p)||(a+=p),"padding"!==n){var f=parseFloat(i["border"+l+"Width"]);isNaN(f)||(a+=f)}}}return a}function n(n,r,i){var o,s=!0,l=e(n),u="border-box"===l.boxSizing;if(0>=o||null==o){if(o=l[r],(0>o||null==o)&&(o=n.style[r]),a.test(o))return o;s=u&&!0,o=parseFloat(o)||0}var c=o+t(n,r,i||(u?"border":"content"),s,l);return c}function r(t){t=angular.element(t)[0];var n=t.parentElement;return n||(n=document.getElementsByTagName("body")[0]),parseInt(e(n).fontSize)||parseInt(e(t).fontSize)||16}var i,o=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(i=function(){var e=Array.prototype.slice;return function(t){var n=this,r=e.call(arguments,1);return r.length?function(){return arguments.length?n.apply(t,r.concat(e.call(arguments))):n.apply(t,r)}:function(){return arguments.length?n.apply(t,arguments):n.call(t)}}});var a=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),s=/^(block|none|table(?!-c[ea]).+)/,l={position:"absolute",visibility:"hidden",display:"block"},u=["0","0","0","0"],c="uiGrid-";o.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(o,a,d,p,f,h,m,g,v,b,y){function C(e,t){var n=angular.element(this),r=0,i=0,o=0,a=0;if(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(i=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(i=-1*o,o=0),r=0===o?i:o,"deltaY"in t&&(o=-1*t.deltaY,r=o),"deltaX"in t&&(i=t.deltaX,0===o&&(r=-1*i)),0!==o||0!==i){if(1===t.deltaMode){var s=n.data("mousewheel-line-height");r*=s,o*=s,i*=s}else if(2===t.deltaMode){var l=n.data("mousewheel-page-height");r*=l,o*=l,i*=l}a=Math.max(Math.abs(o),Math.abs(i)),(!O||O>a)&&(O=a,T(t,a)&&(O/=40)),r=Math[r>=1?"floor":"ceil"](r/O),i=Math[i>=1?"floor":"ceil"](i/O),o=Math[o>=1?"floor":"ceil"](o/O);var u={originalEvent:t,deltaX:i,deltaY:o,deltaFactor:O,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()}};D&&clearTimeout(D),D=setTimeout(E,200),e.call(n[0],u)}}function E(){O=null}function T(e,t){return"mousewheel"===e.type&&t%120===0}var w={augmentWidthOrHeight:t,getStyles:e,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return"undefined"==typeof e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var n=[];if(!e||"undefined"==typeof e[0]||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var r=e[0];return angular.forEach(r,function(e,r){-1===t.indexOf(r)&&n.push({name:r})}),n},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(f.get(e))return w.postProcessTemplate(f.get(e));if(angular.isFunction(e.then))return e.then(w.postProcessTemplate);try{if(angular.element(e).length>0)return v.when(e).then(w.postProcessTemplate)}catch(t){}return w.logDebug("fetching url",e),p({method:"GET",url:e}).then(function(t){var n=t.data.trim();return f.put(e,n),n},function(t){throw new Error("Could not get template "+e+": "+t)}).then(w.postProcessTemplate)},postProcessTemplate:function(e){var t=b.startSymbol(),n=b.endSymbol();return("{{"!==t||"}}"!==n)&&(e=e.replace(/\{\{/g,t),e=e.replace(/\}\}/g,n)),v.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(e){},elementHeight:function(e){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),t-r},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},fakeElement:function(e,t,n,r){var i,o,a=angular.element(e).clone()[0];for(o in t)a.style[o]=t[o];return angular.element(document.body).append(a),i=n.call(a,a),angular.element(a).remove(),i},normalizeWheelEvent:function(e){var t,n,r,i=e||window.event,o=([].slice.call(arguments,1),0),a=0,s=0,l=0,u=0;return i.originalEvent&&(i=i.originalEvent),i.wheelDelta&&(o=i.wheelDelta),i.detail&&(o=-1*i.detail),s=o,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(s=0,a=-1*o),i.deltaY&&(s=-1*i.deltaY,o=s),i.deltaX&&(a=i.deltaX,o=-1*a),void 0!==i.wheelDeltaY&&(s=i.wheelDeltaY),void 0!==i.wheelDeltaX&&(a=i.wheelDeltaX),l=Math.abs(o),(!t||t>l)&&(t=l),u=Math.max(Math.abs(s),Math.abs(a)),(!n||n>u)&&(n=u),r=o>0?"floor":"ceil",o=Math[r](o/t),a=Math[r](a/n),s=Math[r](s/n),{delta:o,deltaX:a,deltaY:s}},isTouchEnabled:function(){var e;return("ontouchstart"in a||a.DocumentTouch&&d instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e?!0:!1},endsWith:function(e,t){return e&&t&&"string"==typeof e?-1!==e.indexOf(t,e.length-t.length):!1},arrayContainsObjectWithProperty:function(e,t,n){var r=!1;return angular.forEach(e,function(e){e[t]===n&&(r=!0)}),r},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=g.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!1):t.enabled(!1,e)}catch(n){}},enableAnimations:function(e){var t;try{return t=g.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!0):t.enabled(!0,e),t}catch(n){}},nextUid:function(){for(var e,t=u.length;t;){if(t--,e=u[t].charCodeAt(0),57===e)return u[t]="A",c+u.join("");if(90!==e)return u[t]=String.fromCharCode(e+1),c+u.join("");u[t]="0"}return u.unshift("0"),c+u.join("")},hashKey:function(e){var t,n=typeof e;return"object"===n&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():"undefined"!=typeof e.$$hashKey&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=w.nextUid()):t=e,n+":"+t},resetUids:function(){u=["0","0","0"]},logError:function(e){y.LOG_ERROR_MESSAGES&&o.error(e)},logWarn:function(e){y.LOG_WARN_MESSAGES&&o.warn(e)},logDebug:function(){y.LOG_DEBUG_MESSAGES&&o.debug.apply(o,arguments)}};w.focus={queue:[],byId:function(e,t){this._purgeQueue();var n=h(function(){var n=(t&&t.id?t.id+"-":"")+e,r=a.document.getElementById(n);r?r.focus():w.logWarn("[focus.byId] Element id "+n+" was not found.")});return this.queue.push(n),n},byElement:function(e){if(!angular.isElement(e))return w.logWarn("Trying to focus on an element that isn't an element."),v.reject("not-element");e=angular.element(e),this._purgeQueue();var t=h(function(){e&&e[0].focus()});return this.queue.push(t),t},bySelector:function(e,t,n){var r=this;if(!angular.isElement(e))throw new Error("The parent element is not an element.");e=angular.element(e);var i=function(){var n=e[0].querySelector(t);return r.byElement(n)};if(this._purgeQueue(),n){var o=h(i);return this.queue.push(h(i)),o}return i()},_purgeQueue:function(){this.queue.forEach(function(e){h.cancel(e)}),this.queue=[]}},["width","height"].forEach(function(t){var r=angular.uppercase(t.charAt(0))+t.substr(1);w["element"+r]=function(r,i){var o=r;if(o&&"undefined"!=typeof o.length&&o.length&&(o=r[0]),o){var a=e(o);return 0===o.offsetWidth&&s.test(a.display)?w.swap(o,l,function(){return n(o,t,i)}):n(o,t,i)}return null},w["outerElement"+r]=function(e,t){return e?w["element"+r].call(this,e,t?"margin":"border"):null}}),w.closestElm=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var n;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]?(n=e,!0):!1});for(var r;null!==e;){if(r=e.parentElement,null!==r&&r[n](t))return r;e=r}return null},w.type=function(e){var t=Function.prototype.toString.call(e.constructor);return t.match(/function (.*?)\(/)[1]},w.getBorderSize=function(t,n){"undefined"!=typeof t.length&&t.length&&(t=t[0]);var r=e(t);n=n?"border"+n.charAt(0).toUpperCase()+n.slice(1):"border",n+="Width";var i=parseInt(r[n],10);return isNaN(i)?0:i},w.detectBrowser=function(){var e=a.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var n in t)if(t[n].test(e))return n;return"unknown"},w.rtlScrollType=function R(){if(R.type)return R.type;var e=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],t="reverse";return document.body.appendChild(e),e.scrollLeft>0?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),angular.element(e).remove(),R.type=t,t},w.normalizeScrollLeft=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var n=e.scrollLeft;if(t.isRTL())switch(w.rtlScrollType()){case"default":return e.scrollWidth-n-e.clientWidth;case"negative":return Math.abs(n);case"reverse":return n}return n},w.denormalizeScrollLeft=function(e,t,n){if("undefined"!=typeof e.length&&e.length&&(e=e[0]),n.isRTL())switch(w.rtlScrollType()){case"default":var r=e.scrollWidth-e.clientWidth;return r-t;case"negative":return-1*t;case"reverse":return t}return t},w.preEval=function(e){var t=y.BRACKET_REGEXP.exec(e);if(t)return(t[1]?w.preEval(t[1]):t[1])+t[2]+(t[3]?w.preEval(t[3]):t[3]);e=e.replace(y.APOS_REGEXP,"\\'");var n=e.split(y.DOT_REGEXP),r=[n.shift()];return angular.forEach(n,function(e){r.push(e.replace(y.FUNC_REGEXP,"']$1"))}),r.join("['")},w.debounce=function(e,t,n){function r(){a=this,o=arguments;var r=function(){i=null,n||(s=e.apply(a,o))},l=n&&!i;return i&&h.cancel(i),i=h(r,t,!1),l&&(s=e.apply(a,o)),s}var i,o,a,s;return r.cancel=function(){h.cancel(i),i=null},r},w.throttle=function(e,t,n){function r(t){a=+new Date,e.apply(i,o),m(function(){s=null},0,1,!1)}n=n||{};var i,o,a=0,s=null;return function(){if(i=this,o=arguments,null===s){var e=+new Date-a;e>t?r():n.trailing&&(s=m(r,t-e,1,!1))}}},w.on={},w.off={},w._events={},w.addOff=function(e){w.off[e]=function(t,n){var r=w._events[e].indexOf(n);r>0&&w._events[e].removeAt(r)}};var D,O,I="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return w.on.mousewheel=function(e,t){if(e&&t){var n=angular.element(e);n.data("mousewheel-line-height",r(n)),n.data("mousewheel-page-height",w.elementHeight(n)),n.data("mousewheel-callbacks")||n.data("mousewheel-callbacks",{});var o=n.data("mousewheel-callbacks");o[t]=(Function.prototype.bind||i).call(C,n[0],t);for(var a=I.length;a;)n.on(I[--a],o[t])}},w.off.mousewheel=function(e,t){var n=angular.element(e),r=n.data("mousewheel-callbacks"),i=r[t];if(i)for(var o=I.length;o;)n.off(I[--o],i);delete r[t],0===Object.keys(r).length&&(n.removeData("mousewheel-line-height"),n.removeData("mousewheel-page-height"),n.removeData("mousewheel-callbacks"))},w}]),o.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){var t={aggregate:{label:"položky"},groupPanel:{description:"Přesuňte záhlaví zde pro vytvoření skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji položky:",selectedItems:"Vybrané položky:",totalItems:"Celkem položek:",size:"Velikost strany:",first:"První strana",next:"Další strana",previous:"Předchozí strana",last:"Poslední strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seřadit od A-Z",descending:"Seřadit od Z-A",remove:"Odebrat seřazení"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem řádků: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat všechna data do csv",exporterVisibleAsCsv:"Exportovat viditelná data do csv",exporterSelectedAsCsv:"Exportovat vybraná data do csv",exporterAllAsPdf:"Exportovat všechna data do pdf",exporterVisibleAsPdf:"Exportovat viditelná data do pdf",exporterSelectedAsPdf:"Exportovat vybraná data do pdf",clearAllFilters:"Odstranit všechny filtry"},importer:{noHeaders:"Názvy sloupců se nepodařilo získat, obsahuje soubor záhlaví?",noObjects:"Data se nepodařilo zpracovat, obsahuje soubor řádky mimo záhlaví?",invalidCsv:"Soubor nelze zpracovat, jedná se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor musí obsahovat json. Ukončuji.."},pagination:{sizes:"položek na stránku",totalItems:"položek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupení",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return e.add("cs",t),e.add("cz",t),e.add("cs-cz",t),e.add("cs-CZ",t),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},sort:{ascending:"Sorter stigende",descending:"Sorter faldende",none:"Sorter ingen",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antal rækker: ",sum:"sum: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter markerede data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter markerede data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{headerCell:{aria:{defaultFilterLabel:"Filter für Spalte",removeFilter:"Filter löschen",columnMenuButtonLabel:"Spaltenmenü"},priority:"Priorität:",filterLabel:"Filter für Spalte: "},aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",none:"keine Sortierung",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lösen"},columnMenu:{close:"Schließen"},gridMenu:{aria:{buttonLabel:"Tabellenmenü"},columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als PDF exportieren",clearAllFilters:"Alle Filter zurücksetzen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."},pagination:{aria:{pageToFirst:"Zum Anfang",pageBack:"Seite zurück",pageSelected:"Ausgwählte Seite",pageForward:"Seite vor",pageToLast:"Zum Ende"},sizes:"Einträge pro Seite",totalItems:"Einträge",through:"bis",of:"von"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"},validate:{error:"Error:",minLength:"Value should be at least THRESHOLD characters long.",maxLength:"Value should be at most THRESHOLD characters long.",required:"A value is needed."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{sizes:"registros por página",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Máx",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:"قلم"},groupPanel:{description:"عنوان یک ستون را بگیر و به گروهی از آن ستون رها کن."},search:{placeholder:"جستجو...",showingItems:"نمایش اقلام:",selectedItems:"قلم‌های انتخاب شده:",totalItems:"مجموع اقلام:",size:"اندازه‌ی صفحه:",first:"اولین صفحه",next:"صفحه‌ی‌بعدی",previous:"صفحه‌ی‌ قبلی",last:"آخرین صفحه"},menu:{text:"ستون‌های انتخابی:"},sort:{ascending:"ترتیب صعودی",descending:"ترتیب نزولی",remove:"حذف مرتب کردن"},column:{hide:"پنهان‌کردن ستون"},aggregation:{count:"تعداد: ",sum:"مجموع: ",avg:"میانگین: ",min:"کمترین: ",max:"بیشترین: "},pinning:{pinLeft:"پین کردن سمت چپ",pinRight:"پین کردن سمت راست",unpin:"حذف پین"},gridMenu:{columns:"ستون‌ها:",importerTitle:"وارد کردن فایل",exporterAllAsCsv:"خروجی تمام داده‌ها در فایل csv",exporterVisibleAsCsv:"خروجی داده‌های قابل مشاهده در فایل csv",exporterSelectedAsCsv:"خروجی داده‌های انتخاب‌شده در فایل csv",exporterAllAsPdf:"خروجی تمام داده‌ها در فایل pdf",exporterVisibleAsPdf:"خروجی داده‌های قابل مشاهده در فایل pdf",exporterSelectedAsPdf:"خروجی داده‌های انتخاب‌شده در فایل pdf",clearAllFilters:"پاک کردن تمام فیلتر"},importer:{noHeaders:"نام ستون قابل استخراج نیست. آیا فایل عنوان دارد؟",noObjects:"اشیا قابل استخراج نیستند. آیا به جز عنوان‌ها در فایل داده وجود دارد؟",invalidCsv:"فایل قابل پردازش نیست. آیا فرمت  csv  معتبر است؟",invalidJson:"فایل قابل پردازش نیست. آیا فرمت json   معتبر است؟",jsonNotArray:"فایل json وارد شده باید حاوی آرایه باشد. عملیات ساقط شد."},pagination:{sizes:"اقلام در هر صفحه",totalItems:"اقلام",of:"از"},grouping:{group:"گروه‌بندی",ungroup:"حذف گروه‌بندی",aggregate_count:"Agg: تعداد",aggregate_sum:"Agg: جمع",aggregate_max:"Agg: بیشینه",aggregate_min:"Agg: کمینه",aggregate_avg:"Agg: میانگین",aggregate_remove:"Agg: حذف"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{aggregate:{label:"éléments"},groupPanel:{description:"Faites glisser une en-tête de colonne ici pour créer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des éléments :",selectedItems:"Éléments sélectionnés :",totalItems:"Nombre total d'éléments:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},gridMenu:{columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il une en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau, abandon."},pagination:{sizes:"éléments par page",totalItems:"éléments",of:"sur"},grouping:{group:"Grouper",ungroup:"Dégrouper",aggregate_count:"Agg: Compte",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("hy",{aggregate:{label:"տվյալներ"},groupPanel:{description:"Ըստ սյան խմբավորելու համար քաշեք և գցեք վերնագիրն այստեղ։"},search:{placeholder:"Փնտրում...",showingItems:"Ցուցադրված տվյալներ՝",selectedItems:"Ընտրված:",totalItems:"Ընդամենը՝",size:"Տողերի քանակը էջում՝",first:"Առաջին էջ",next:"Հաջորդ էջ",previous:"Նախորդ էջ",last:"Վերջին էջ"},menu:{text:"Ընտրել սյուները:"},sort:{ascending:"Աճման կարգով",descending:"Նվազման կարգով",remove:"Հանել "},column:{hide:"Թաքցնել սյունը"},aggregation:{count:"ընդամենը տող՝ ",sum:"ընդամենը՝ ",avg:"միջին՝ ",min:"մին՝ ",max:"մաքս՝ "},pinning:{pinLeft:"Կպցնել ձախ կողմում",pinRight:"Կպցնել աջ կողմում",unpin:"Արձակել"},gridMenu:{columns:"Սյուներ:",importerTitle:"Ներմուծել ֆայլ",exporterAllAsCsv:"Արտահանել ամբողջը CSV",exporterVisibleAsCsv:"Արտահանել երևացող տվյալները CSV",exporterSelectedAsCsv:"Արտահանել ընտրված տվյալները CSV",exporterAllAsPdf:"Արտահանել PDF",exporterVisibleAsPdf:"Արտահանել երևացող տվյալները PDF",exporterSelectedAsPdf:"Արտահանել ընտրված տվյալները PDF",clearAllFilters:"Մաքրել բոլոր ֆիլտրերը"},importer:{noHeaders:"Հնարավոր չեղավ որոշել սյան վերնագրերը։ Արդյո՞ք ֆայլը ունի վերնագրեր։",noObjects:"Հնարավոր չեղավ կարդալ տվյալները։ Արդյո՞ք ֆայլում կան տվյալներ։",invalidCsv:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր CSV է։",invalidJson:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր Json է։",jsonNotArray:"Ներմուծված json ֆայլը պետք է պարունակի զանգված, կասեցվում է։"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",
exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"},validate:{error:"Errore:",minLength:"Lunghezza minima pari a THRESHOLD caratteri.",maxLength:"Lunghezza massima pari a THRESHOLD caratteri.",required:"Necessario inserire un valore."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{aggregate:{label:"項目"},groupPanel:{description:"ここに列ヘッダをドラッグアンドドロップして、その列でグループ化します。"},search:{placeholder:"検索...",showingItems:"表示中の項目:",selectedItems:"選択した項目:",totalItems:"項目の総数:",size:"ページサイズ:",first:"最初のページ",next:"次のページ",previous:"前のページ",last:"前のページ"},menu:{text:"列の選択:"},sort:{ascending:"昇順に並べ替え",descending:"降順に並べ替え",remove:"並べ替えの解除"},column:{hide:"列の非表示"},aggregation:{count:"合計行数: ",sum:"合計: ",avg:"平均: ",min:"最小: ",max:"最大: "},pinning:{pinLeft:"左に固定",pinRight:"右に固定",unpin:"固定解除"},gridMenu:{columns:"列:",importerTitle:"ファイルのインポート",exporterAllAsCsv:"すべてのデータをCSV形式でエクスポート",exporterVisibleAsCsv:"表示中のデータをCSV形式でエクスポート",exporterSelectedAsCsv:"選択したデータをCSV形式でエクスポート",exporterAllAsPdf:"すべてのデータをPDF形式でエクスポート",exporterVisibleAsPdf:"表示中のデータをPDF形式でエクスポート",exporterSelectedAsPdf:"選択したデータをPDF形式でエクスポート",clearAllFilters:"すべてのフィルタを清掃してください"},importer:{noHeaders:"列名を取得できません。ファイルにヘッダが含まれていることを確認してください。",noObjects:"オブジェクトを取得できません。ファイルにヘッダ以外のデータが含まれていることを確認してください。",invalidCsv:"ファイルを処理できません。ファイルが有効なCSV形式であることを確認してください。",invalidJson:"ファイルを処理できません。ファイルが有効なJSON形式であることを確認してください。",jsonNotArray:"インポートしたJSONファイルには配列が含まれている必要があります。処理を中止します。"},pagination:{aria:{pageToFirst:"最初のページ",pageBack:"前のページ",pageSelected:"現在のページ",pageForward:"次のページ",pageToLast:"最後のページ"},sizes:"項目/ページ",totalItems:"項目",through:"から",of:"項目/全"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ko",{aggregate:{label:"아이템"},groupPanel:{description:"컬럼으로 그룹핑하기 위해서는 컬럼 헤더를 끌어 떨어뜨려 주세요."},search:{placeholder:"검색...",showingItems:"항목 보여주기:",selectedItems:"선택 항목:",totalItems:"전체 항목:",size:"페이지 크기:",first:"첫번째 페이지",next:"다음 페이지",previous:"이전 페이지",last:"마지막 페이지"},menu:{text:"컬럼을 선택하세요:"},sort:{ascending:"오름차순 정렬",descending:"내림차순 정렬",remove:"소팅 제거"},column:{hide:"컬럼 제거"},aggregation:{count:"전체 갯수: ",sum:"전체: ",avg:"평균: ",min:"최소: ",max:"최대: "},pinning:{pinLeft:"왼쪽 핀",pinRight:"오른쪽 핀",unpin:"핀 제거"},gridMenu:{columns:"컬럼:",importerTitle:"파일 가져오기",exporterAllAsCsv:"csv로 모든 데이터 내보내기",exporterVisibleAsCsv:"csv로 보이는 데이터 내보내기",exporterSelectedAsCsv:"csv로 선택된 데이터 내보내기",exporterAllAsPdf:"pdf로 모든 데이터 내보내기",exporterVisibleAsPdf:"pdf로 보이는 데이터 내보내기",exporterSelectedAsPdf:"pdf로 선택 데이터 내보내기",clearAllFilters:"모든 필터를 청소"},importer:{noHeaders:"컬럼명이 지정되어 있지 않습니다. 파일에 헤더가 명시되어 있는지 확인해 주세요.",noObjects:"데이터가 지정되어 있지 않습니다. 데이터가 파일에 있는지 확인해 주세요.",invalidCsv:"파일을 처리할 수 없습니다. 올바른 csv인지 확인해 주세요.",invalidJson:"파일을 처리할 수 없습니다. 올바른 json인지 확인해 주세요.",jsonNotArray:"json 파일은 배열을 포함해야 합니다."},pagination:{sizes:"페이지당 항목",totalItems:"전체 항목"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",clearAllFilters:"Reinig alle filters"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("no",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter utvalgte data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter utvalgte data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pl",{headerCell:{aria:{defaultFilterLabel:"Filter dla kolumny",removeFilter:"Usuń filter",columnMenuButtonLabel:"Menu kolumny"},priority:"Prioritet:",filterLabel:"Filtr dla kolumny: "},aggregate:{label:"pozycji"},groupPanel:{description:"Przeciągnij nagłówek kolumny tutaj, aby pogrupować według niej."},search:{placeholder:"Szukaj...",showingItems:"Widoczne pozycje:",selectedItems:"Zaznaczone pozycje:",totalItems:"Wszystkich pozycji:",size:"Rozmiar strony:",first:"Pierwsza strona",next:"Następna strona",previous:"Poprzednia strona",last:"Ostatnia strona"},menu:{text:"Wybierz kolumny:"},sort:{ascending:"Sortuj rosnąco",descending:"Sortuj malejąco",none:"Brak sortowania",remove:"Wyłącz sortowanie"},column:{hide:"Ukryj kolumne"},aggregation:{count:"Razem pozycji: ",sum:"Razem: ",avg:"Średnia: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Przypnij do lewej",pinRight:"Przypnij do prawej",unpin:"Odepnij"},columnMenu:{close:"Zamknij"},gridMenu:{aria:{buttonLabel:"Menu Grida"},columns:"Kolumny:",importerTitle:"Importuj plik",exporterAllAsCsv:"Eksportuj wszystkie dane do csv",exporterVisibleAsCsv:"Eksportuj widoczne dane do csv",exporterSelectedAsCsv:"Eksportuj zaznaczone dane do csv",exporterAllAsPdf:"Eksportuj wszystkie dane do pdf",exporterVisibleAsPdf:"Eksportuj widoczne dane do pdf",exporterSelectedAsPdf:"Eksportuj zaznaczone dane do pdf",clearAllFilters:"Wyczyść filtry"},importer:{noHeaders:"Nie udało się wczytać nazw kolumn. Czy plik posiada nagłówek?",noObjects:"Nie udalo się wczytać pozycji. Czy plik zawiera dane??",invalidCsv:"Nie udało się przetworzyć pliku, jest to prawidlowy plik CSV??",invalidJson:"Nie udało się przetworzyć pliku, jest to prawidlowy plik Json?",jsonNotArray:"Importowany plik json musi zawierać tablicę, importowanie przerwane."},pagination:{aria:{pageToFirst:"Pierwsza strona",pageBack:"Poprzednia strona",pageSelected:"Wybrana strona",pageForward:"Następna strona",pageToLast:"Ostatnia strona"},sizes:"pozycji na stronę",totalItems:"pozycji",through:"do",of:"z"},grouping:{group:"Grupuj",ungroup:"Rozgrupuj",aggregate_count:"Zbiorczo: Razem",aggregate_sum:"Zbiorczo: Suma",aggregate_max:"Zbiorczo: Max",aggregate_min:"Zbiorczo: Min",aggregate_avg:"Zbiorczo: Średnia",aggregate_remove:"Zbiorczo: Usuń"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Proxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"através dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O ficheiro tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no ficheiro, além dos cabeçalhos?",invalidCsv:"Ficheiro não pode ser processado. É um CSV válido?",invalidJson:"Ficheiro não pode ser processado. É um Json válido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Próxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"através dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ro",{headerCell:{aria:{defaultFilterLabel:"Filtru pentru coloana",removeFilter:"Sterge filtru",columnMenuButtonLabel:"Column Menu"},priority:"Prioritate:",filterLabel:"Filtru pentru coloana:"},aggregate:{label:"Elemente"},groupPanel:{description:"Trage un cap de coloana aici pentru a grupa elementele dupa coloana respectiva"},search:{placeholder:"Cauta...",showingItems:"Arata elementele:",selectedItems:"Elementele selectate:",totalItems:"Total elemente:",size:"Marime pagina:",first:"Prima pagina",next:"Pagina urmatoare",previous:"Pagina anterioara",last:"Ultima pagina"},menu:{text:"Alege coloane:"},sort:{ascending:"Ordoneaza crescator",descending:"Ordoneaza descrescator",none:"Fara ordonare",remove:"Sterge ordonarea"},column:{hide:"Ascunde coloana"},aggregation:{count:"total linii: ",sum:"total: ",avg:"medie: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin la stanga",pinRight:"Pin la dreapta",unpin:"Sterge pinul"},columnMenu:{close:"Inchide"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Coloane:",importerTitle:"Incarca fisier",exporterAllAsCsv:"Exporta toate datele ca csv",exporterVisibleAsCsv:"Exporta datele vizibile ca csv",exporterSelectedAsCsv:"Exporta datele selectate ca csv",exporterAllAsPdf:"Exporta toate datele ca pdf",exporterVisibleAsPdf:"Exporta datele vizibile ca pdf",exporterSelectedAsPdf:"Exporta datele selectate ca csv pdf",clearAllFilters:"Sterge toate filtrele"},importer:{noHeaders:"Numele coloanelor nu a putut fi incarcat, acest fisier are un header?",noObjects:"Datele nu au putut fi incarcate, exista date in fisier in afara numelor de coloane?",invalidCsv:"Fisierul nu a putut fi procesat, ati incarcat un CSV valid ?",invalidJson:"Fisierul nu a putut fi procesat, ati incarcat un Json valid?",jsonNotArray:"Json-ul incarcat trebuie sa contina un array, inchidere."},pagination:{aria:{pageToFirst:"Prima pagina",pageBack:"O pagina inapoi",pageSelected:"Pagina selectata",pageForward:"O pagina inainte",pageToLast:"Ultima pagina"},sizes:"Elemente per pagina",totalItems:"elemente",through:"prin",of:"of"},grouping:{group:"Grupeaza",ungroup:"Opreste gruparea",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{headerCell:{aria:{defaultFilterLabel:"Фильтр столбца",removeFilter:"Удалить фильтр",columnMenuButtonLabel:"Меню столбца"},priority:"Приоритет:",filterLabel:"Фильтр столбца: "},aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",none:"Без сортировки",remove:"Убрать сортировку"},column:{hide:"Спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},pinning:{pinLeft:"Закрепить слева",pinRight:"Закрепить справа",unpin:"Открепить"},columnMenu:{close:"Закрыть"},gridMenu:{aria:{buttonLabel:"Меню"},columns:"Столбцы:",importerTitle:"Импортировать файл",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF",clearAllFilters:"Очистите все фильтры"},importer:{noHeaders:"Не удалось получить названия столбцов, есть ли в файле заголовок?",noObjects:"Не удалось получить данные, есть ли в файле строки кроме заголовка?",invalidCsv:"Не удалось обработать файл, это правильный CSV-файл?",invalidJson:"Не удалось обработать файл, это правильный JSON?",jsonNotArray:"Импортируемый JSON-файл должен содержать массив, операция отменена."},pagination:{aria:{pageToFirst:"Первая страница",pageBack:"Предыдущая страница",pageSelected:"Выбранная страница",pageForward:"Следующая страница",pageToLast:"Последняя страница"},sizes:"строк на страницу",totalItems:"строк",through:"по",of:"из"},grouping:{group:"Группировать",ungroup:"Разгруппировать",aggregate_count:"Группировать: Count",aggregate_sum:"Для группы: Сумма",aggregate_max:"Для группы: Максимум",aggregate_min:"Для группы: Минимум",aggregate_avg:"Для группы: Среднее",aggregate_remove:"Для группы: Пусто"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",clearAllFilters:"Rengör alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ta",{aggregate:{label:"உருப்படிகள்"},groupPanel:{description:"ஒரு பத்தியை குழுவாக அமைக்க அப்பத்தியின் தலைப்பை இங்கே  இழுத்து வரவும் "},search:{placeholder:"தேடல் ...",showingItems:"உருப்படிகளை காண்பித்தல்:",selectedItems:"தேர்ந்தெடுக்கப்பட்ட  உருப்படிகள்:",totalItems:"மொத்த உருப்படிகள்:",size:"பக்க அளவு: ",first:"முதல் பக்கம்",next:"அடுத்த பக்கம்",previous:"முந்தைய பக்கம் ",last:"இறுதி பக்கம்"},menu:{text:"பத்திகளை தேர்ந்தெடு:"},sort:{ascending:"மேலிருந்து கீழாக",descending:"கீழிருந்து மேலாக",remove:"வரிசையை நீக்கு"},column:{hide:"பத்தியை மறைத்து வை "},aggregation:{count:"மொத்த வரிகள்:",sum:"மொத்தம்: ",avg:"சராசரி: ",min:"குறைந்தபட்ச: ",max:"அதிகபட்ச: "},pinning:{pinLeft:"இடதுபுறமாக தைக்க ",pinRight:"வலதுபுறமாக தைக்க",unpin:"பிரி"},gridMenu:{columns:"பத்திகள்:",importerTitle:"கோப்பு : படித்தல்",exporterAllAsCsv:"எல்லா தரவுகளையும் கோப்பாக்கு: csv",exporterVisibleAsCsv:"இருக்கும் தரவுகளை கோப்பாக்கு: csv",exporterSelectedAsCsv:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: csv",exporterAllAsPdf:"எல்லா தரவுகளையும் கோப்பாக்கு: pdf",exporterVisibleAsPdf:"இருக்கும் தரவுகளை கோப்பாக்கு: pdf",exporterSelectedAsPdf:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"பத்தியின் தலைப்புகளை பெற இயலவில்லை, கோப்பிற்கு தலைப்பு உள்ளதா?",noObjects:"இலக்குகளை உருவாக்க முடியவில்லை, கோப்பில் தலைப்புகளை தவிர தரவு ஏதேனும் உள்ளதா? ",invalidCsv:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - csv",invalidJson:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - json",jsonNotArray:"படித்த கோப்பில் வரிசைகள் உள்ளது, நடைமுறை ரத்து செய் : json"},pagination:{sizes:"உருப்படிகள் / பக்கம்",totalItems:"உருப்படிகள் "},grouping:{group:"குழு",ungroup:"பிரி",aggregate_count:"மதிப்பீட்டு : எண்ணு",aggregate_sum:"மதிப்பீட்டு : கூட்டல்",aggregate_max:"மதிப்பீட்டு : அதிகபட்சம்",aggregate_min:"மதிப்பீட்டு : குறைந்தபட்சம்",aggregate_avg:"மதிப்பீட்டு : சராசரி",aggregate_remove:"மதிப்பீட்டு : நீக்கு"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("tr",{headerCell:{aria:{defaultFilterLabel:"Sütun için filtre",removeFilter:"Filtreyi Kaldır",columnMenuButtonLabel:"Sütun Menüsü"},priority:"Öncelik:",filterLabel:"Sütun için filtre: "},aggregate:{label:"kayıtlar"},groupPanel:{description:"Sütuna göre gruplamak için sütun başlığını buraya sürükleyin ve bırakın."},search:{placeholder:"Arama...",showingItems:"Gösterilen Kayıt:",selectedItems:"Seçili Kayıt:",totalItems:"Toplam Kayıt:",size:"Sayfa Boyutu:",first:"İlk Sayfa",next:"Sonraki Sayfa",previous:"Önceki Sayfa",last:"Son Sayfa"},menu:{text:"Sütunları Seç:"},sort:{ascending:"Artan Sırada Sırala",descending:"Azalan Sırada Sırala",none:"Sıralama Yapma",remove:"Sıralamayı Kaldır"},column:{hide:"Sütunu Gizle"},aggregation:{count:"toplam satır: ",sum:"toplam: ",avg:"ort: ",min:"min: ",max:"maks: "},pinning:{pinLeft:"Sola Sabitle",pinRight:"Sağa Sabitle",unpin:"Sabitlemeyi Kaldır"},columnMenu:{close:"Kapat"},gridMenu:{aria:{buttonLabel:"Tablo Menü"},columns:"Sütunlar:",importerTitle:"Dosya içeri aktar",exporterAllAsCsv:"Bütün veriyi CSV olarak dışarı aktar",exporterVisibleAsCsv:"Görünen veriyi CSV olarak dışarı aktar",exporterSelectedAsCsv:"Seçili veriyi CSV olarak dışarı aktar",exporterAllAsPdf:"Bütün veriyi PDF olarak dışarı aktar",exporterVisibleAsPdf:"Görünen veriyi PDF olarak dışarı aktar",exporterSelectedAsPdf:"Seçili veriyi PDF olarak dışarı aktar",clearAllFilters:"Bütün filtreleri kaldır"},importer:{noHeaders:"Sütun isimleri üretilemiyor, dosyanın bir başlığı var mı?",noObjects:"Nesneler üretilemiyor, dosyada başlıktan başka bir veri var mı?",invalidCsv:"Dosya işlenemedi, geçerli bir CSV dosyası mı?",invalidJson:"Dosya işlenemedi, geçerli bir Json dosyası mı?",jsonNotArray:"Alınan Json dosyasında bir dizi bulunmalıdır, işlem iptal ediliyor."},pagination:{aria:{pageToFirst:"İlk sayfaya",pageBack:"Geri git",pageSelected:"Seçili sayfa",pageForward:"İleri git",pageToLast:"Sona git"},sizes:"Sayfadaki nesne sayısı",totalItems:"kayıtlar",through:"",of:""},grouping:{group:"Grupla",ungroup:"Gruplama",aggregate_count:"Yekun: Sayı",aggregate_sum:"Yekun: Toplam",aggregate_max:"Yekun: Maks",aggregate_min:"Yekun: Min",aggregate_avg:"Yekun: Ort",aggregate_remove:"Yekun: Sil"}}),e}])}])}(),function(){var e=["uiT","uiTranslate"],t=["t","uiTranslate"],n=angular.module("ui.grid.i18n");n.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),n.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,n){var r={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var n=e.toLowerCase();this._langs[n]||(this._langs[n]={}),angular.extend(this._langs[n],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},i={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&r.add(e,t)}):r.add(e,t)},getAllLangs:function(){return r.getAllLangs()},get:function(e){var t=e?e:i.getCurrentLang();return r.get(t)},getSafeText:function(e,n){var o=n?n:i.getCurrentLang(),a=r.get(o);if(!a)return t.MISSING;for(var s=e.split("."),l=a,u=0;u<s.length;++u){if(void 0===l[s[u]]||null===l[s[u]])return t.MISSING;l=l[s[u]]}return l},setCurrentLang:function(e){e&&(r.setCurrent(e),n.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=r.getCurrentLang();return e||(e=t.DEFAULT_LANG,r.setCurrent(e)),e}};return i}]);var r=function(e,t){return{compile:function(){return{pre:function(n,r,i){var o=t.LOCALE_DIRECTIVE_ALIAS,a=n.$eval(i[o]);a?n.$watch(i[o],function(){e.setCurrentLang(a)}):i.$$observers&&i.$observe(o,function(){e.setCurrentLang(i[o]||t.DEFAULT_LANG)})}}}}};n.directive("uiI18n",["i18nService","i18nConstants",r]);var i=function(t,n,r){return{restrict:"EA",compile:function(){return{pre:function(i,o,a){var s,l=e[0],u=e[1],c=a[l]||a[u]||o.html(),d=r.MISSING+c;if(a.$$observers){var p=a[l]?l:u;s=a.$observe(p,function(e){e&&o.html(t(e)(n.getCurrentLang())||d)})}var f=t(c),h=i.$on(r.UPDATE_EVENT,function(e){s?s(a[l]||a[u]):o.html(f(n.get())||d)});i.$on("$destroy",h),o.html(f(n.get())||d)}}}}};angular.forEach(e,function(e){n.directive(e,["$parse","i18nService","i18nConstants",i])});var o=function(e,t,n){return function(r){var i=e(r);return i(t.get())||n.MISSING+r}};angular.forEach(t,function(e){n.filter(e,["$parse","i18nService","i18nConstants",o])})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"列过滤器",removeFilter:"移除过滤器",columnMenuButtonLabel:"列菜单"},priority:"优先级:",filterLabel:"列过滤器: "},aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",none:"无序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},columnMenu:{close:"关闭"},gridMenu:{aria:{buttonLabel:"表格菜单"},columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"},pagination:{aria:{pageToFirst:"第一页",pageBack:"上一页",pageSelected:"当前页",pageForward:"下一页",pageToLast:"最后一页"},sizes:"行每页",totalItems:"行",through:"至",of:"共"},grouping:{group:"分组",ungroup:"取消分组",aggregate_count:"合计: 计数",aggregate_sum:"合计: 求和",aggregate_max:"合计: 最大",aggregate_min:"合计: 最小",aggregate_avg:"合计: 平均",aggregate_remove:"合计: 移除"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",
exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"},pagination:{sizes:"行每頁",totalItems:"行"}}),e}])}])}(),function(){"use strict";var e=angular.module("ui.grid.autoResize",["ui.grid"]);e.directive("uiGridAutoResize",["$timeout","gridUtil",function(e,t){return{require:"uiGrid",scope:!1,link:function(e,n,r,i){function o(){l=t.elementHeight(n),s=t.elementWidth(n)}function a(){clearTimeout(u),u=setTimeout(function(){var r=t.elementHeight(n),u=t.elementWidth(n);r!==l||u!==s?(i.grid.gridHeight=r,i.grid.gridWidth=u,i.grid.api.core.raise.gridDimensionChanged(l,s,r,u),e.$apply(function(){i.grid.refresh().then(function(){o(),a()})})):a()},250)}var s,l;o();var u;a(),e.$on("$destroy",function(){clearTimeout(u)})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.cellNav",["ui.grid"]);e.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),e.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","GridRowColumn","$q",function(e,t,n,r,i){var o=function(e,t,n,r){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=n?n.visibleColumnCache:[],this.rightColumns=r?r.visibleColumnCache:[],this.bodyContainer=e};return o.prototype.getFocusableCols=function(){var e=this.leftColumns.concat(this.columns,this.rightColumns);return e.filter(function(e){return e.colDef.allowCellFocus})},o.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return e.allowCellFocus!==!1})},o.prototype.getNextRowCol=function(e,t,r){switch(e){case n.direction.LEFT:return this.getRowColLeft(t,r);case n.direction.RIGHT:return this.getRowColRight(t,r);case n.direction.UP:return this.getRowColUp(t,r);case n.direction.DOWN:return this.getRowColDown(t,r);case n.direction.PG_UP:return this.getRowColPageUp(t,r);case n.direction.PG_DOWN:return this.getRowColPageDown(t,r)}},o.prototype.initializeSelection=function(){var e=this.getFocusableCols(),t=this.getFocusableRows();if(0===e.length||0===t.length)return null;return new r(t[0],e[0])},o.prototype.getRowColLeft=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);-1===o&&(o=1);var s=0===o?n.length-1:o-1;return s>o?0===a?new r(e,n[s]):new r(i[a-1],n[s]):new r(e,n[s])},o.prototype.getRowColRight=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);-1===o&&(o=0);var s=o===n.length-1?0:o+1;return o>s?a===i.length-1?new r(e,n[s]):new r(i[a+1],n[s]):new r(e,n[s])},o.prototype.getRowColDown=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);return-1===o&&(o=0),a===i.length-1?new r(e,n[o]):new r(i[a+1],n[o])},o.prototype.getRowColPageDown=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return a>=i.length-s?new r(i[i.length-1],n[o]):new r(i[a+s],n[o])},o.prototype.getRowColUp=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);return-1===o&&(o=0),0===a?new r(e,n[o]):new r(i[a-1],n[o])},o.prototype.getRowColPageUp=function(e,t){var n=this.getFocusableCols(),i=this.getFocusableRows(),o=n.indexOf(t),a=i.indexOf(e);-1===o&&(o=0);var s=this.bodyContainer.minRowsToRender();return 0>a-s?new r(i[0],n[o]):new r(i[a-s],n[o])},o}]),e.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","GridRowColumn","ScrollEvent",function(e,t,n,r,i,o,a){var s={initializeGrid:function(e){e.registerColumnBuilder(s.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],s.defaultGridOptions(e.options);var t={events:{cellNav:{navigate:function(e,t){},viewPortKeyDown:function(e,t){},viewPortKeyPress:function(e,t){}}},methods:{cellNav:{scrollToFocus:function(t,n){return s.scrollToFocus(e,t,n)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(t){for(var n=-1,r=0;r<e.cellNav.focusedCells.length;r++)if(e.cellNav.focusedCells[r].col.uid===t.col.uid&&e.cellNav.focusedCells[r].row.uid===t.row.uid){n=r;break}return n}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=e.modifierKeysToMultiSelectCells===!0},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,n=e.hasLeftContainer()?e.renderContainers.left:null;null!==n&&(e.renderContainers.left.cellNav=new i(e.renderContainers.body,n,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new i(e.renderContainers.body,t,e.renderContainers.body,n)),e.renderContainers.body.cellNav=new i(e.renderContainers.body,e.renderContainers.body,n,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?n.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?n.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?n.direction.UP:e.keyCode===t.keymap.PG_UP?n.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER&&!e.ctrlKey&&!e.altKey?n.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?n.direction.PG_DOWN:null},cellNavColumnBuilder:function(e,t,n){var i=[];return e.allowCellFocus=void 0===e.allowCellFocus?!0:e.allowCellFocus,r.all(i)},scrollToFocus:function(e,t,n){var r=null,i=null;return"undefined"!=typeof t&&null!==t&&(r=e.getRow(t)),"undefined"!=typeof n&&null!==n&&(i=e.getColumn(n.name?n.name:n.field)),e.api.core.scrollToIfNecessary(r,i).then(function(){var t={row:r,col:i};null!==r&&null!==i&&e.cellNav.broadcastCellNav(t)})},getLeftWidth:function(e,t){var n=0;if(!t)return n;var r=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){r>t&&(n+=e.drawnWidth)});var i=0===r?0:(r+1)/e.renderContainers.body.visibleColumnCache.length;return n+=t.drawnWidth*i}};return s}]),e.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$timeout","$compile",function(e,t,n,r,i,o,a){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(e,o,a,s){var l=e,u=s.grid;t.initializeGrid(u),s.cellNav={},s.cellNav.makeRowCol=function(e){return e instanceof i||(e=new i(e.row,e.col)),e},s.cellNav.getActiveCell=function(){var e=o[0].getElementsByClassName("ui-grid-cell-focus");return e.length>0?e[0]:void 0},s.cellNav.broadcastCellNav=u.cellNav.broadcastCellNav=function(e,t,r){t=!(void 0===t||!t),e=s.cellNav.makeRowCol(e),s.cellNav.broadcastFocus(e,t,r),l.$broadcast(n.CELL_NAV_EVENT,e,t,r)},s.cellNav.clearFocus=u.cellNav.clearFocus=function(){u.cellNav.focusedCells=[],l.$broadcast(n.CELL_NAV_EVENT)},s.cellNav.broadcastFocus=function(e,t,n){t=!(void 0===t||!t),e=s.cellNav.makeRowCol(e);var r=e.row,o=e.col,a=s.grid.api.cellNav.rowColSelectIndex(e);if(null===u.cellNav.lastRowCol||-1===a){var l=new i(r,o);(null===u.cellNav.lastRowCol||u.cellNav.lastRowCol.row!==l.row||u.cellNav.lastRowCol.col!==l.col)&&(u.api.cellNav.raise.navigate(l,u.cellNav.lastRowCol),u.cellNav.lastRowCol=l),s.grid.options.modifierKeysToMultiSelectCells&&t?u.cellNav.focusedCells.push(e):u.cellNav.focusedCells=[e]}else u.options.modifierKeysToMultiSelectCells&&t&&a>=0&&u.cellNav.focusedCells.splice(a,1)},s.cellNav.handleKeyDown=function(e){var i=t.getDirection(e);if(null===i)return null;var o="body";e.uiGridTargetRenderContainerId&&(o=e.uiGridTargetRenderContainerId);var a=s.grid.api.cellNav.getFocusedCell();if(a){var l=s.grid.renderContainers[o].cellNav.getNextRowCol(i,a.row,a.col),c=s.grid.renderContainers[o].cellNav.getFocusableCols(),d=s.grid.api.cellNav.rowColSelectIndex(l);return i===n.direction.LEFT&&l.col===c[c.length-1]&&l.row===a.row&&e.keyCode===r.keymap.TAB&&e.shiftKey?(u.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0):i!==n.direction.RIGHT||l.col!==c[0]||l.row!==a.row||e.keyCode!==r.keymap.TAB||e.shiftKey?(u.scrollToIfNecessary(l.row,l.col).then(function(){s.cellNav.broadcastCellNav(l)}),e.stopPropagation(),e.preventDefault(),!1):(u.cellNav.focusedCells.splice(d,1),s.cellNav.clearFocus(),!0)}}},post:function(e,t,r,i){function o(){var r='<div id="'+s.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="region" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;</div>',i=a(r)(e);t.prepend(i),e.$on(n.CELL_NAV_EVENT,function(e,t,n,r){function o(e){e!==i.text()&&(i[0].style.clip="rect(0px,0px,0px,0px)",i[0].innerHTML="",i[0].style.visibility="hidden",i[0].style.visibility="visible",""!==e&&(i[0].style.clip="auto",i[0].appendChild(document.createTextNode(e+" ")),i[0].style.visibility="hidden",i[0].style.visibility="visible"))}if(!r||"focus"!==r.type){for(var a=[],l=s.api.cellNav.getCurrentSelection(),u=0;u<l.length;u++)a.push(s.getCellDisplayValue(l[u].row,l[u].col));var c=a.toString();o(c)}})}var s=i.grid;o()}}}}}]),e.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(e,t,n,r,i,o,a){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(t,r,s,l){var u=l[0],c=l[1],d=l[2];if(u.grid.api.cellNav){var p=c.containerId,f=u.grid;if(i.decorateRenderContainers(f),"body"===p){u.grid.options.modifierKeysToMultiSelectCells?r.attr("aria-multiselectable",!0):r.attr("aria-multiselectable",!1);var h=o('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+f.id+"-aria-speakable "+f.id+'-grid-container" aria-owns="'+f.id+'-grid-container"></div>')(t);r.append(h),h.on("focus",function(e){e.uiGridTargetRenderContainerId=p;var t=u.grid.api.cellNav.getFocusedCell();null===t&&(t=u.grid.renderContainers[p].cellNav.getNextRowCol(a.direction.DOWN,null,null),t.row&&t.col&&u.cellNav.broadcastCellNav(t))}),d.setAriaActivedescendant=function(e){r.attr("aria-activedescendant",e)},d.removeAriaActivedescendant=function(e){r.attr("aria-activedescendant")===e&&r.attr("aria-activedescendant","")},u.focus=function(){n.focus.byElement(h[0])};var m=null;h.on("keydown",function(e){e.uiGridTargetRenderContainerId=p;var t=u.grid.api.cellNav.getFocusedCell(),n=u.cellNav.handleKeyDown(e);null===n&&(u.grid.api.cellNav.raise.viewPortKeyDown(e,t),m=t)}),h.on("keypress",function(t){m&&(e(function(){u.grid.api.cellNav.raise.viewPortKeyPress(t,m)},4),m=null)}),t.$on("$destroy",function(){h.off()})}}}}}}}]),e.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(e,t,n,r,i,o,a,s){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(e,t,n,r){},post:function(e,t,n,r){var i=r[0],o=r[1];if(i.grid.api.cellNav){var a=o.containerId;if("body"===a){var s=i.grid;s.api.core.on.scrollBegin(e,function(e){var t=i.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&i.cellNav.clearFocus()}),s.api.core.on.scrollEnd(e,function(e){var t=i.grid.api.cellNav.getFocusedCell();null!==t&&o.colContainer.containsColumn(t.col)&&i.cellNav.broadcastCellNav(t)}),s.api.cellNav.on.navigate(e,function(){i.focus()})}}}}}}}]),e.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(e,t,n,r,i,o,a){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(e,t,n,r){function o(e){e.preventDefault()}function s(){if(!e.focused){var n=t.find("div");n.addClass("ui-grid-cell-focus"),t.attr("aria-selected",!0),c.setAriaActivedescendant(t.attr("id")),e.focused=!0}}function l(){if(e.focused){var n=t.find("div");n.removeClass("ui-grid-cell-focus"),t.attr("aria-selected",!1),c.removeAriaActivedescendant(t.attr("id")),e.focused=!1}}var u=r[0],c=r[1];if(u.grid.api.cellNav&&e.col.colDef.allowCellFocus){var d=u.grid;e.focused=!1,t.attr("tabindex",-1),t.find("div").on("click",function(t){u.cellNav.broadcastCellNav(new a(e.row,e.col),t.ctrlKey||t.metaKey,t),t.stopPropagation(),e.$apply()}),t.on("mousedown",o),u.grid.api.edit&&(u.grid.api.edit.on.beginCellEdit(e,function(){t.off("mousedown",o)}),u.grid.api.edit.on.afterCellEdit(e,function(){t.on("mousedown",o)}),u.grid.api.edit.on.cancelCellEdit(e,function(){t.on("mousedown",o)})),t.on("focus",function(t){u.cellNav.broadcastCellNav(new a(e.row,e.col),!1,t),t.stopPropagation(),e.$apply()}),e.$on(i.CELL_NAV_EVENT,function(t,n,r){var i=d.cellNav.focusedCells.some(function(t,n){return t.row===e.row&&t.col===e.col});i?s():l()}),e.$on("$destroy",function(){t.find("div").off(),t.off()})}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(e,t,n){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.editColumnBuilder),e.edit={};var t={events:{edit:{afterCellEdit:function(e,t,n,r){},beginCellEdit:function(e,t,n){},cancelCellEdit:function(e,t){}}},methods:{edit:{}}};e.api.registerEventsFromObject(t.events)},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition?!0:e.cellEditableCondition,e.enableCellEditOnFocus=void 0===e.enableCellEditOnFocus?!1:e.enableCellEditOnFocus},editColumnBuilder:function(t,r,i){var o=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===i.enableCellEdit?"object"!==t.type:i.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?i.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||i.editableCellTemplate||"ui-grid/cellEditor",o.push(n.getTemplate(t.editableCellTemplate).then(function(e){r.editableCellTemplate=e},function(e){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?i.enableCellEditOnFocus:t.enableCellEditOnFocus,e.all(o)},isStartEditKey:function(e){return e.metaKey||e.keyCode===t.keymap.ESC||e.keyCode===t.keymap.SHIFT||e.keyCode===t.keymap.CTRL||e.keyCode===t.keymap.ALT||e.keyCode===t.keymap.WIN||e.keyCode===t.keymap.CAPSLOCK||e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER?!1:!0}};return r}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(i.grid)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridViewport",["uiGridEditConstants",function(e){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(t,n,r,i){var o=i[0];if(o.grid.api.edit&&o.grid.api.cellNav){var a=i[1].containerId;"body"===a&&(t.$on(e.events.CANCEL_CELL_EDIT,function(){o.focus()}),t.$on(e.events.END_CELL_EDIT,function(){o.focus()}))}}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope","$q",function(e,t,n,r,i,o,a,s,l,u){var c=500;if(t.has("uiGridCellNavService")){t.get("uiGridCellNavService")}return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(t,d,p,f){function h(){d.on("dblclick",C),d.on("touchstart",m),f&&f.grid.api.cellNav&&(S=f.grid.api.cellNav.on.viewPortKeyDown(t,function(e,n){null!==n&&(n.row!==t.row||n.col!==t.col||t.col.colDef.enableCellEditOnFocus||b(e))}),_=f.grid.api.cellNav.on.navigate(t,function(e,r){t.col.colDef.enableCellEditOnFocus&&(r&&e.row===r.row&&e.col===r.col||e.row!==t.row||e.col!==t.col||n(function(){C()}))})),t.beginEditEventsWired=!0}function m(e){"undefined"!=typeof e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),d.on("touchend",g),$=n(function(){},c),$.then(function(){setTimeout(C,0),d.off("touchend",g)})}function g(e){n.cancel($),d.off("touchend",g)}function v(){d.off("dblclick",C),d.off("keydown",b),d.off("touchstart",m),_(),S(),t.beginEditEventsWired=!1}function b(e){s.isStartEditKey(e)&&C(e)}function y(e,n){return!n.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(t):e.colDef.cellEditableCondition)}function C(e){t.grid.api.core.scrollToIfNecessary(t.row,t.col).then(function(){E(e)})}function E(s){if(!k&&y(t.col,t.row)){R=a(t.row.getQualifiedColField(t.col)),I=R(t),O=t.col.editableCellTemplate,O=t.col.colDef.editModelField?O.replace(r.MODEL_COL_FIELD,o.preEval("row.entity."+t.col.colDef.editModelField)):O.replace(r.MODEL_COL_FIELD,t.row.getQualifiedColField(t.col)),O=O.replace(r.COL_FIELD,"grid.getCellValue(row, col)");var c=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";O=O.replace(r.CUSTOM_FILTERS,c);var p="text";switch(t.col.colDef.type){case"boolean":p="checkbox";break;case"number":p="number";break;case"date":p="date"}O=O.replace("INPUT_TYPE",p);var f=t.col.colDef.editDropdownOptionsFunction;if(f)u.when(f(t.row.entity,t.col.colDef)).then(function(e){t.editDropdownOptionsArray=e});else{var h=t.col.colDef.editDropdownRowEntityOptionsArrayPath;t.editDropdownOptionsArray=h?D(t.row.entity,h):t.col.colDef.editDropdownOptionsArray}t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id",t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";var m=function(){k=!0,v();var n=angular.element(O);d.append(n),x=t.$new(),e(n)(x);var r=angular.element(d.children()[0]);r.addClass("ui-grid-cell-contents-hidden")};l.$$phase?m():t.$apply(m);var g=t.col.grid.api.core.on.scrollBegin(t,function(){t.grid.disableScrolling||(T(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,R(t),I),g(),b(),C())}),b=t.$on(i.events.END_CELL_EDIT,function(){T(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,R(t),I),b(),g(),C()}),C=t.$on(i.events.CANCEL_CELL_EDIT,function(){w(),C(),g(),b()});t.$broadcast(i.events.BEGIN_CELL_EDIT,s),n(function(){t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef,s)})}}function T(){if(t.grid.disableScrolling=!1,k){f&&f.grid.api.cellNav&&f.focus();var e=angular.element(d.children()[0]);x.$destroy();for(var n=d.children(),i=1;i<n.length;i++)angular.element(n[i]).remove();e.removeClass("ui-grid-cell-contents-hidden"),k=!1,h(),t.grid.api.core.notifyDataChange(r.dataChange.EDIT)}}function w(){t.grid.disableScrolling=!1,k&&(R.assign(t,I),t.$apply(),t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef),T())}function D(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var n=t.split(".");n.length;){var r=n.shift();if(!(r in e))return;e=e[r]}return e}var O,I,R,$,x,k=!1;if(t.col.colDef.enableCellEdit){var _=function(){},S=function(){},A=function(){t.col.colDef.enableCellEdit&&t.row.enableCellEdit!==!1?t.beginEditEventsWired||h():t.beginEditEventsWired&&v()};A();var N=t.$watch("row",function(e,t){e!==t&&A()});t.$on("$destroy",N)}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(e,t,n,r,i){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(e,t,n){},post:function(e,o,a,s){var l,u,c;s[0]&&(l=s[0]),s[1]&&(u=s[1]),s[2]&&(c=s[2]),e.$on(n.events.BEGIN_CELL_EDIT,function(t,n){if(r(function(){if(o[0].focus(),o[0].select&&e.col.colDef.enableCellEditOnFocus||!l||!l.grid.api.cellNav)o[0].select();else try{o[0].setSelectionRange(o[0].value.length,o[0].value.length)}catch(t){}}),l&&l.grid.api.cellNav)var a=l.grid.api.cellNav.on.viewPortKeyPress(e,function(e,t){i.isStartEditKey(e)&&(c.$setViewValue(String.fromCharCode("number"==typeof e.which?e.which:e.keyCode),e),c.$render()),a()});o.on("blur",function(t){e.stopEdit(t)})}),e.deepEdit=!1,e.stopEdit=function(t){e.inputForm&&!e.inputForm.$valid?(t.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)):e.$emit(n.events.END_CELL_EDIT),e.deepEdit=!1},o.on("click",function(t){"checkbox"!==o[0].type&&(e.deepEdit=!0,r(function(){e.grid.disableScrolling=!0}))}),o.on("keydown",function(r){switch(r.keyCode){case t.keymap.ESC:r.stopPropagation(),e.$emit(n.events.CANCEL_CELL_EDIT)}if(!e.deepEdit||r.keyCode!==t.keymap.LEFT&&r.keyCode!==t.keymap.RIGHT&&r.keyCode!==t.keymap.UP&&r.keyCode!==t.keymap.DOWN)if(l&&l.grid.api.cellNav)r.uiGridTargetRenderContainerId=u.containerId,null!==l.cellNav.handleKeyDown(r)&&e.stopEdit(r);else switch(r.keyCode){case t.keymap.ENTER:case t.keymap.TAB:r.stopPropagation(),r.preventDefault(),e.stopEdit(r)}else r.stopPropagation();return!0})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){function t(e){if("undefined"==typeof e||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var n=parseInt(t[0],10),r=parseInt(t[1],10),i=parseInt(t[2],10);return 1>r||1>n||1>i?null:new Date(n,r-1,i)}return{priority:-100,require:"?ngModel",link:function(n,r,i,o){2===angular.version.minor&&i.type&&"date"===i.type&&o&&(o.$formatters.push(function(t){return o.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),o.$parsers.push(function(e){if(e&&e.length>0){var n=t(e);return o.$setValidity(null,n&&!isNaN(n.getTime())),n}return o.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(e,t){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,t,n){},post:function(n,r,i,o){var a=o[0],s=o[1];n.$on(t.events.BEGIN_CELL_EDIT,function(){r[0].focus(),r[0].style.width=r[0].parentElement.offsetWidth-1+"px",r.on("blur",function(e){n.stopEdit(e)})}),n.stopEdit=function(e){n.$emit(t.events.END_CELL_EDIT)},r.on("keydown",function(r){switch(r.keyCode){case e.keymap.ESC:r.stopPropagation(),n.$emit(t.events.CANCEL_CELL_EDIT)}if(a&&a.grid.api.cellNav)r.uiGridTargetRenderContainerId=s.containerId,null!==a.cellNav.handleKeyDown(r)&&n.stopEdit(r);else switch(r.keyCode){case e.keymap.ENTER:case e.keymap.TAB:r.stopPropagation(),r.preventDefault(),n.stopEdit(r)}return!0})}}}}}]),e.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,t,n,r){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(e,t,n){},post:function(t,r,i,o){var a,s;o[0]&&(a=o[0]),o[1]&&(s=o[1]);var l=(a.grid,function(r){var i=r.srcElement||r.target;i&&i.files&&i.files.length>0?("function"==typeof t.col.colDef.editFileChooserCallback?t.col.colDef.editFileChooserCallback(t.row,t.col,i.files):e.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),i.form.reset(),t.$emit(n.events.END_CELL_EDIT)):t.$emit(n.events.CANCEL_CELL_EDIT)});r[0].addEventListener("change",l,!1),t.$on(n.events.BEGIN_CELL_EDIT,function(){r[0].focus(),r[0].select(),r.on("blur",function(e){t.$emit(n.events.END_CELL_EDIT)})})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e,t){var n={initializeGrid:function(t){t.expandable={},t.expandable.expandedAll=!1,t.options.enableExpandable=t.options.enableExpandable!==!1,t.options.expandableRowHeight=t.options.expandableRowHeight||150,t.options.expandableRowHeaderWidth=t.options.expandableRowHeaderWidth||40,t.options.enableExpandable&&!t.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),t.options.enableExpandable=!1);var r={events:{expandable:{rowExpandedBeforeStateChanged:function(e,t){},rowExpandedStateChanged:function(e,t){}}},methods:{expandable:{toggleRowExpansion:function(e){var r=t.getRow(e);null!==r&&n.toggleRowExpansion(t,r)},expandAllRows:function(){n.expandAllRows(t)},collapseAllRows:function(){n.collapseAllRows(t)},toggleAllRows:function(){n.toggleAllRows(t)},expandRow:function(e){var r=t.getRow(e);null===r||r.isExpanded||n.toggleRowExpansion(t,r)},collapseRow:function(e){var r=t.getRow(e);null!==r&&r.isExpanded&&n.toggleRowExpansion(t,r)},getExpandedRows:function(){return n.getExpandedRows(t).map(function(e){return e.entity})}}}};t.api.registerEventsFromObject(r.events),t.api.registerMethodsFromObject(r.methods)},toggleRowExpansion:function(e,t){e.api.expandable.raise.rowExpandedBeforeStateChanged(t),t.isExpanded=!t.isExpanded,angular.isUndefined(t.expandedRowHeight)&&(t.expandedRowHeight=e.options.expandableRowHeight),t.isExpanded?t.height=t.grid.options.rowHeight+t.expandedRowHeight:(t.height=t.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(e,t){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded||n.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(t){t.isExpanded&&n.toggleRowExpansion(e,t)}),e.expandable.expandedAll=!1,e.queueGridRefresh()},toggleAllRows:function(e){e.expandable.expandedAll?n.collapseAllRows(e):n.expandAllRows(e)},getExpandedRows:function(e){return e.rows.filter(function(e){return e.isExpanded})}};return n}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,r,i,o){if(e.initializeGrid(o.grid),o.grid.options.enableExpandable&&o.grid.options.enableExpandableRowHeader!==!1){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=t.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(a,-90)}},post:function(e,t,n,r){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,n,r){r.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(r.grid.parentRow=e.row)})},post:function(e,t,n,r){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,t,n,r,i,o,a){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t,r,o){i.getTemplate(e.grid.options.expandableRowTemplate).then(function(r){if(e.grid.options.expandableRowScope){var i=e.grid.options.expandableRowScope;for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}var a=n(r)(e);t.append(a),e.row.expandedRendered=!0})},post:function(e,t,n,r){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){return{pre:function(e,t,n,r){e.grid.options.enableExpandable&&(e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){var t="body"===e.colContainer.name&&e.grid.options.enableExpandable!==!1&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered);return t},e.expandableRow.shouldRenderFiller=function(){var t=e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered);return t})},post:function(e,t,n,r){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,n){return{priority:-200,scope:!1,compile:function(e,t){var r=angular.element(e.children().children()[0]),i=n.get("ui-grid/expandableScrollFiller"),o=n.get("ui-grid/expandableRow");return r.append(o),r.append(i),{pre:function(e,t,n,r){},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(e,t,n,r,i,o){var a={delay:100,initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,n){a.csvExport(e,t,n)},pdfExport:function(t,n){a.pdfExport(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?a.addToMenu(e):i(function(){e.api.core.addToGridMenu&&a.addToMenu(e)},this.delay,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=e.exporterSuppressMenu===!0,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfFilename=e.exporterPdfFilename?e.exporterPdfFilename:"download.pdf",e.exporterOlderExcelCompatibility=e.exporterOlderExcelCompatibility===!0,e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuAllData=void 0!==e.exporterMenuAllData?e.exporterMenuAllData:!0,e.exporterMenuVisibleData=void 0!==e.exporterMenuVisibleData?e.exporterMenuVisibleData:!0,e.exporterMenuSelectedData=void 0!==e.exporterMenuSelectedData?e.exporterMenuSelectedData:!0,e.exporterMenuCsv=void 0!==e.exporterMenuCsv?e.exporterMenuCsv:!0,e.exporterMenuPdf=void 0!==e.exporterMenuPdf?e.exporterMenuPdf:!0,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=e.exporterHeaderFilterUseName===!0,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,t,n,r){return r},e.exporterAllDataFn=e.exporterAllDataFn?e.exporterAllDataFn:null,null==e.exporterAllDataFn&&e.exporterAllDataPromise&&(e.exporterAllDataFn=e.exporterAllDataPromise)},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:o.getSafeText("gridMenu.exporterAllAsCsv"),
action:function(e){this.grid.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuAllData},order:200},{title:o.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(e){this.grid.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuVisibleData},order:201},{title:o.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(e){this.grid.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuSelectedData&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:202},{title:o.getSafeText("gridMenu.exporterAllAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuAllData},order:203},{title:o.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuVisibleData},order:204},{title:o.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(e){this.grid.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuSelectedData&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:205}])},csvExport:function(e,t,n){var r=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var i=e.options.showHeader?r.getColumnHeaders(e,n):[],o=r.getData(e,t,n),a=r.formatAsCsv(i,o,e.options.exporterCsvColumnSeparator);r.downloadFile(e.options.exporterCsvFilename,a,e.options.exporterCsvColumnSeparator,e.options.exporterOlderExcelCompatibility)})},loadAllDataIfNeeded:function(n,r,i){if(r===t.ALL&&n.rows.length!==n.options.totalItems&&n.options.exporterAllDataFn)return n.options.exporterAllDataFn().then(function(){n.modifyRows(n.options.data)});var o=e.defer();return o.resolve(),o.promise},getColumnHeaders:function(e,n){var r,i=[];if(n===t.ALL)r=e.columns;else{var o=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],a=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],s=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];r=o.concat(a,s)}return r.forEach(function(t,n){t.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(t.name)&&i.push({name:t.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilter(e.options.exporterHeaderFilterUseName?t.name:t.displayName):t.displayName,width:t.drawnWidth?t.drawnWidth:t.width,align:"number"===t.colDef.type?"right":"left"})}),i},getData:function(e,r,i,o){var a,s,l=[];switch(r){case t.ALL:a=e.rows;break;case t.VISIBLE:a=e.getVisibleRows();break;case t.SELECTED:e.api.selection?a=e.api.selection.getSelectedGridRows():n.logError("selection feature must be enabled to allow selected rows to be exported")}if(i===t.ALL)s=e.columns;else{var u=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],c=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],d=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];s=u.concat(c,d)}return a.forEach(function(n,r){if(n.exporterEnableExporting!==!1){var a=[];s.forEach(function(r,s){if((r.visible||i===t.ALL)&&r.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(r.name)){var l=o?e.getCellDisplayValue(n,r):e.getCellValue(n,r),u={value:e.options.exporterFieldCallback(e,n,r,l)};r.colDef.exporterPdfAlign&&(u.alignment=r.colDef.exporterPdfAlign),a.push(u)}}),l.push(a)}}),l},formatAsCsv:function(e,t,n){var r=this,i=e.map(function(e){return{value:e.displayName}}),o=i.length>0?r.formatRowAsCsv(this,n)(i)+"\n":"";return o+=t.map(this.formatRowAsCsv(this,n)).join("\n")},formatRowAsCsv:function(e,t){return function(n){return n.map(e.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},isIE:function(){var e=navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/),t=!1;return-1!==e&&(t=!0),t},downloadFile:function(e,t,n,r){var i,o=document,a=o.createElement("a"),s="application/octet-stream;charset=utf-8",l=this.isIE();if(navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([r?"\ufeff":"",t],{type:s}),e);if(l){var u=o.createElement("iframe");return document.body.appendChild(u),u.contentWindow.document.open("text/html","replace"),u.contentWindow.document.write("sep="+n+"\r\n"+t),u.contentWindow.document.close(),u.contentWindow.focus(),u.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(u),!0}if("download"in a){var c=new Blob([r?"\ufeff":"",t],{type:s});i=URL.createObjectURL(c),a.setAttribute("download",e)}else i="data:"+s+","+encodeURIComponent(t),a.setAttribute("target","_blank");a.href=i,a.setAttribute("style","display:none;"),o.body.appendChild(a),setTimeout(function(){if(a.click)a.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),a.dispatchEvent(e)}o.body.removeChild(a)},this.delay)},pdfExport:function(e,t,n){var r=this;this.loadAllDataIfNeeded(e,t,n).then(function(){var i=r.getColumnHeaders(e,n),o=r.getData(e,t,n),a=r.prepareAsPdf(e,i,o);r.isIE()||-1!==navigator.appVersion.indexOf("Edge")?r.downloadPDF(e.options.exporterPdfFilename,a):pdfMake.createPdf(a).open()})},downloadPDF:function(e,t){{var n,r=document;r.createElement("a")}n=this.isIE();var i,o=pdfMake.createPdf(t);o.getBuffer(function(t){if(i=new Blob([t]),navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(n){var o=r.createElement("iframe");return document.body.appendChild(o),o.contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(i),o.contentWindow.document.close(),o.contentWindow.focus(),o.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(o),!0}})},prepareAsPdf:function(e,t,n){var r=this.calculatePdfHeaderWidths(e,t),i=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=n.map(this.formatRowAsPdf(this)),a=[i].concat(o),s={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:r,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(s.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(s.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(s.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(s=e.options.exporterPdfCustomFormatter(s)),s},calculatePdfHeaderWidths:function(e,t){var n=0;t.forEach(function(e){"number"==typeof e.width&&(n+=e.width)});var r=0;t.forEach(function(e){if("*"===e.width&&(r+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=n*t/100,r+=e.width}});var i=n+r;return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/i})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?e.value.toString():"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t}};return a}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,r,i){t.initializeGrid(i.grid),i.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(e,t,n,r,i,o,a,s,l){var u={initializeGrid:function(e,t){l.initializeGrid(e,t),e.grouping={},e.grouping.groupHeaderCache={},u.defaultGridOptions(e.options),e.registerRowsProcessor(u.groupRows,400),e.registerColumnBuilder(u.groupingColumnBuilder),e.registerColumnsProcessor(u.groupingColumnProcessor,400);var n={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(t){var n=u.getGrouping(e);return n.grouping.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations.forEach(function(e){e.colName=e.col.name,delete e.col}),n.aggregations=n.aggregations.filter(function(e){return!e.aggregation.source||"grouping"!==e.aggregation.source}),t&&(n.rowExpandedStates=u.getRowExpandedStates(e.grouping.groupingHeaderCache)),n},setGrouping:function(t){u.setGrouping(e,t)},groupColumn:function(t){var n=e.getColumn(t);u.groupColumn(e,n)},ungroupColumn:function(t){var n=e.getColumn(t);u.ungroupColumn(e,n)},clearGrouping:function(){u.clearGrouping(e)},aggregateColumn:function(t,n,r){var i=e.getColumn(t);u.aggregateColumn(e,i,n,r)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods),e.api.core.on.sortChanged(t,u.tidyPriorities)},defaultGridOptions:function(e){e.enableGrouping=e.enableGrouping!==!1,e.groupingShowCounts=e.groupingShowCounts!==!1,e.groupingNullLabel="undefined"==typeof e.groupingNullLabel?"Null":e.groupingNullLabel,e.enableGroupHeaderSelection=e.enableGroupHeaderSelection===!0},groupingColumnBuilder:function(e,r,i){if(e.enableGrouping!==!1){"undefined"==typeof r.grouping&&"undefined"!=typeof e.grouping?(r.grouping=angular.copy(e.grouping),"undefined"!=typeof r.grouping.groupPriority&&r.grouping.groupPriority>-1&&(r.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,r.treeAggregationFinalizerFn=u.groupedFinalizerFn)):"undefined"==typeof r.grouping&&(r.grouping={}),"undefined"!=typeof r.grouping&&"undefined"!=typeof r.grouping.groupPriority&&r.grouping.groupPriority>=0&&(r.suppressRemoveSort=!0);var o={name:"ui.grid.grouping.group",title:a.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return"undefined"==typeof this.context.col.grouping||"undefined"==typeof this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){u.groupColumn(this.context.col.grid,this.context.col)}},s={name:"ui.grid.grouping.ungroup",title:a.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return"undefined"!=typeof this.context.col.grouping&&"undefined"!=typeof this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){u.ungroupColumn(this.context.col.grid,this.context.col)}},c={name:"ui.grid.grouping.aggregateRemove",title:a.get().grouping.aggregate_remove,shown:function(){return"undefined"!=typeof this.context.col.treeAggregationFn},action:function(){u.aggregateColumn(this.context.col.grid,this.context.col,null)}},d=function(e,t){t=t||a.get().grouping["aggregate_"+e]||e;var i={name:"ui.grid.grouping.aggregate"+e,title:t,shown:function(){return"undefined"==typeof this.context.col.treeAggregation||"undefined"==typeof this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==e},action:function(){u.aggregateColumn(this.context.col.grid,this.context.col,e)}};n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.aggregate"+e)||r.menuItems.push(i)};r.colDef.groupingShowGroupingMenu!==!1&&(n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.group")||r.menuItems.push(o),n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.ungroup")||r.menuItems.push(s)),r.colDef.groupingShowAggregationMenu!==!1&&(angular.forEach(l.nativeAggregations(),function(e,t){d(t)}),angular.forEach(i.treeCustomAggregations,function(e,t){d(t,e.menuTitle)}),n.arrayContainsObjectWithProperty(r.menuItems,"name","ui.grid.grouping.aggregateRemove")||r.menuItems.push(c))}},groupingColumnProcessor:function(e,t){return e=u.moveGroupColumns(this,e,t)},groupedFinalizerFn:function(e){var t=this;"undefined"!=typeof e.groupVal?(e.rendered=e.groupVal,t.grid.options.groupingShowCounts&&"date"!==t.colDef.type&&(e.rendered+=" ("+e.value+")")):e.rendered=null},moveGroupColumns:function(e,t,n){return e.options.moveGroupColumns===!1?t:(t.forEach(function(e,t){e.groupingPosition=t}),t.sort(function(e,t){var n,r;return n=e.isRowHeader?e.headerPriority:"undefined"==typeof e.grouping||"undefined"==typeof e.grouping.groupPriority||e.grouping.groupPriority<0?null:e.grouping.groupPriority,r=t.isRowHeader?t.headerPriority:"undefined"==typeof t.grouping||"undefined"==typeof t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,null!==n&&null===r?-1:null!==r&&null===n?1:null!==n&&null!==r?n-r:e.groupingPosition-t.groupingPosition}),t.forEach(function(e,t){delete e.groupingPosition}),t)},groupColumn:function(e,n){"undefined"==typeof n.grouping&&(n.grouping={});var r=u.getGrouping(e);n.grouping.groupPriority=r.grouping.length,n.sort?("undefined"==typeof n.sort.direction||null===n.sort.direction)&&(n.sort.direction=s.ASC):n.sort={direction:s.ASC},n.treeAggregation={type:t.aggregation.COUNT,source:"grouping"},n.treeAggregationFn=l.nativeAggregations()[t.aggregation.COUNT].aggregationFn,n.treeAggregationFinalizerFn=u.groupedFinalizerFn,e.api.grouping.raise.groupingChanged(n),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh()},ungroupColumn:function(e,t){"undefined"!=typeof t.grouping&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,u.tidyPriorities(e),e.api.grouping.raise.groupingChanged(t),e.queueGridRefresh())},aggregateColumn:function(e,t,n){"undefined"!=typeof t.grouping&&"undefined"!=typeof t.grouping.groupPriority&&t.grouping.groupPriority>=0&&u.ungroupColumn(e,t);var r={};"undefined"!=typeof e.options.treeCustomAggregations[n]?r=e.options.treeCustomAggregations[n]:"undefined"!=typeof l.nativeAggregations()[n]&&(r=l.nativeAggregations()[n]),t.treeAggregation={type:n,label:a.get().aggregation[r.label]||r.label},t.treeAggregationFn=r.aggregationFn,t.treeAggregationFinalizerFn=r.finalizerFn,e.api.grouping.raise.aggregationChanged(t),e.queueGridRefresh()},setGrouping:function(e,t){"undefined"!=typeof t&&(u.clearGrouping(e),t.grouping&&t.grouping.length&&t.grouping.length>0&&t.grouping.forEach(function(t){var n=e.getColumn(t.colName);n&&u.groupColumn(e,n)}),t.aggregations&&t.aggregations.length&&t.aggregations.forEach(function(t){var n=e.getColumn(t.colName);n&&u.aggregateColumn(e,n,t.aggregation.type)}),t.rowExpandedStates&&u.applyRowExpandedStates(e.grouping.groupingHeaderCache,t.rowExpandedStates))},clearGrouping:function(e){var t=u.getGrouping(e);t.grouping.length>0&&t.grouping.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),u.ungroupColumn(e,t.col)}),t.aggregations.length>0&&t.aggregations.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),u.aggregateColumn(e,t.col,null)})},tidyPriorities:function(e){"undefined"!=typeof e&&"undefined"==typeof e.grid||"undefined"==typeof this.grid||(e=this.grid);var t=[],n=[];e.columns.forEach(function(e,r){"undefined"!=typeof e.grouping&&"undefined"!=typeof e.grouping.groupPriority&&e.grouping.groupPriority>=0?t.push(e):"undefined"!=typeof e.sort&&"undefined"!=typeof e.sort.priority&&e.sort.priority>=0&&n.push(e)}),t.sort(function(e,t){return e.grouping.groupPriority-t.grouping.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.suppressRemoveSort=!0,"undefined"==typeof e.sort&&(e.sort={}),e.sort.priority=t});var r=t.length;n.sort(function(e,t){return e.sort.priority-t.sort.priority}),n.forEach(function(e,t){e.sort.priority=r,e.suppressRemoveSort=e.colDef.suppressRemoveSort,r++})},groupRows:function(e){if(0===e.length)return e;var t=this;t.grouping.oldGroupingHeaderCache=t.grouping.groupingHeaderCache||{},t.grouping.groupingHeaderCache={};for(var n=u.initialiseProcessingState(t),i=function(i,s){var l=t.getCellValue(a,i.col);i.initialised&&0===r.getSortFn(t,i.col,e)(l,i.currentValue)||(u.insertGroupHeader(t,e,o,n,s),o++)},o=0;o<e.length;o++){var a=e[o];a.visible&&n.forEach(i)}return delete t.grouping.oldGroupingHeaderCache,e},initialiseProcessingState:function(e){var t=[],n=u.getGrouping(e);return n.grouping.forEach(function(e,n){t.push({fieldName:e.field,col:e.col,initialised:!1,currentValue:null,currentRow:null})}),t},getGrouping:function(e){var t=[],n=[];return e.columns.forEach(function(e,r){e.grouping&&"undefined"!=typeof e.grouping.groupPriority&&e.grouping.groupPriority>=0&&t.push({field:e.field,col:e,groupPriority:e.grouping.groupPriority,grouping:e.grouping}),e.treeAggregation&&e.treeAggregation.type&&n.push({field:e.field,col:e,aggregation:e.treeAggregation})}),t.sort(function(e,t){return e.groupPriority-t.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.groupPriority=t,delete e.grouping}),{grouping:t,aggregations:n}},insertGroupHeader:function(e,t,n,r,a){var s=(r[a].fieldName,r[a].col),l=e.getCellValue(t[n],s),c=l;("undefined"==typeof l||null===l)&&(c=e.options.groupingNullLabel);for(var d=function(e){return angular.isObject(e)?JSON.stringify(e):e},p=e.grouping.oldGroupingHeaderCache,f=0;a>f;f++)p&&p[d(r[f].currentValue)]&&(p=p[d(r[f].currentValue)].children);var h;for(p&&p[d(l)]?(h=p[d(l)].row,h.entity={}):(h=new i({},null,e),o.rowTemplateAssigner.call(e,h)),h.entity["$$"+r[a].col.uid]={groupVal:c},h.treeLevel=a,h.groupHeader=!0,h.internalRow=!0,h.enableCellEdit=!1,h.enableSelection=e.options.enableGroupHeaderSelection,r[a].initialised=!0,r[a].currentValue=l,r[a].currentRow=h,u.finaliseProcessingState(r,a+1),t.splice(n,0,h),p=e.grouping.groupingHeaderCache,f=0;a>f;f++)p=p[d(r[f].currentValue)].children;p[d(l)]={row:h,children:{}}},finaliseProcessingState:function(e,t){for(var n=t;n<e.length;n++)e[n].initialised=!1,e[n].currentRow=null,e[n].currentValue=null},getRowExpandedStates:function(e){if("undefined"==typeof e)return{};var t={};return angular.forEach(e,function(e,n){t[n]={state:e.row.treeNode.state},t[n].children=e.children?u.getRowExpandedStates(e.children):{}}),t},applyRowExpandedStates:function(e,t){"undefined"!=typeof t&&angular.forEach(t,function(t,n){e[n]&&(e[n].row.treeNode.state=t.state,t.children&&e[n].children&&u.applyRowExpandedStates(e[n].children,t.children))})}};return u}]),e.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){i.grid.options.enableGrouping!==!1&&t.initializeGrid(i.grid,e)},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,t,n,r,i,o,a,s){var l={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var n={events:{importer:{}},methods:{importer:{importFile:function(e){l.importThisFile(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?l.addToMenu(t):o(function(){t.api.core.addToGridMenu&&l.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?s.hasOwnProperty("File")&&s.hasOwnProperty("FileReader")&&s.hasOwnProperty("FileList")&&s.hasOwnProperty("Blob")?e.enableImporter=!0:(r.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||l.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,e.enableImporter!==!0||e.importerDataAddCallback||(r.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=e.importerShowMenu!==!1,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(t){this.grid.api.importer.importAFile(e)},order:151}])},importThisFile:function(e,t){if(!t)return void r.logError("No file object provided to importThisFile, should be impossible, aborting");var n=new FileReader;switch(t.type){case"application/json":n.onload=l.importJsonClosure(e);break;default:n.onload=l.importCsvClosure(e)}n.readAsText(t)},importJsonClosure:function(e){return function(t){var n,r=[],i=l.parseJson(e,t);null!==i&&(i.forEach(function(t,i){n=l.newObject(e),angular.extend(n,t),n=e.options.importerObjectCallback(e,n),r.push(n)}),l.addObjects(e,r))}},parseJson:function(e,t){var n;try{n=JSON.parse(t.target.result)}catch(r){return void l.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result)}return Array.isArray(n)?n:(l.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(e){return function(t){var n=l.parseCsv(t);if(!n||n.length<1)return void l.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result);var r=l.createCsvObjects(e,n);return r&&0!==r.length?void l.addObjects(e,r):void l.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result)}},/**
         * @ngdoc function
         * @name parseCsv
         * @methodOf ui.grid.importer.service:uiGridImporterService
         * @description Parses a csv file into an array of arrays, with the first
         * array being the headers, and the remaining arrays being the data.
         * The logic for this comes from https://github.com/thetalecrafter/excel.js/blob/master/src/csv.js,
         * which is noted as being under the MIT license.  The code is modified to pass the jscs yoda condition
         * checker
         * @param {FileObject} importFile the file that we want to import, as a
         * file object
         */
parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(e,t){var n=e.options.importerProcessHeaders(e,t.shift());if(!n||0===n.length)return l.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",t),[];var r,i=[];return t.forEach(function(t,o){r=l.newObject(e),null!==t&&t.forEach(function(e,t){null!==n[t]&&(r[n[t]]=e)}),r=e.options.importerObjectCallback(e,r),i.push(r)}),i},processHeaders:function(e,t){var n=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var r=l.flattenColumnDefs(e,e.options.columnDefs);return t.forEach(function(e,t){n.push(r[e]?r[e]:r[e.toLowerCase()]?r[e.toLowerCase()]:null)}),n}return t.forEach(function(e,t){n.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),n},flattenColumnDefs:function(e,t){var n={};return t.forEach(function(t,r){t.name&&(n[t.name]=t.field||t.name,n[t.name.toLowerCase()]=t.field||t.name),t.field&&(n[t.field]=t.field||t.name,n[t.field.toLowerCase()]=t.field||t.name),t.displayName&&(n[t.displayName]=t.field||t.name,n[t.displayName.toLowerCase()]=t.field||t.name),t.displayName&&e.options.importerHeaderFilter&&(n[e.options.importerHeaderFilter(t.displayName)]=t.field||t.name,n[e.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),n},addObjects:function(e,n,r){if(e.api.rowEdit){var i=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(n),i()},[t.dataChange.ROW]);e.importer.$scope.$on("$destroy",i)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,n))},newObject:function(e){return"undefined"!=typeof e.options&&"undefined"!=typeof e.options.importerNewObject?new e.options.importerNewObject:{}},alertError:function(e,t,n,i){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,n,i):(s.alert(a.getSafeText(t)),r.logError(n+i))}};return l}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,r,i){t.initializeGrid(e,i.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,r,i,o){var a=function(e){var n=e.srcElement||e.target;if(n&&n.files&&1===n.files.length){var r=n.files[0];t.importThisFile(l,r),n.form.reset()}},s=r[0].querySelectorAll(".ui-grid-importer-file-chooser"),l=o.grid;1!==s.length?n.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):s[0].addEventListener("change",a,!1)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(e,t,n,r,i,o){var a={initializeGrid:function(e,t){if(a.defaultGridOptions(e.options),e.options.enableInfiniteScroll){e.infiniteScroll={dataLoading:!1},a.setScrollDirections(e,e.options.infiniteScrollUp,e.options.infiniteScrollDown),e.api.core.on.scrollEnd(t,a.handleScroll);var n={events:{infiniteScroll:{needLoadMoreData:function(e,t){},needLoadMoreDataTop:function(e,t){}}},methods:{infiniteScroll:{dataLoaded:function(t,n){a.setScrollDirections(e,t,n);var r=a.adjustScroll(e).then(function(){e.infiniteScroll.dataLoading=!1});return r},resetScroll:function(t,n){return a.setScrollDirections(e,t,n),a.adjustInfiniteScrollPosition(e,0)},saveScrollPercentage:function(){e.infiniteScroll.prevScrollTop=e.renderContainers.body.prevScrollTop,e.infiniteScroll.previousVisibleRows=e.getVisibleRowCount()},dataRemovedTop:function(t,n){a.dataRemovedTop(e,t,n)},dataRemovedBottom:function(t,n){a.dataRemovedBottom(e,t,n)},setScrollDirections:function(t,n){a.setScrollDirections(e,t,n)}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)}},defaultGridOptions:function(e){e.enableInfiniteScroll=e.enableInfiniteScroll!==!1,e.infiniteScrollRowsFromEnd=e.infiniteScrollRowsFromEnd||20,e.infiniteScrollUp=e.infiniteScrollUp===!0,e.infiniteScrollDown=e.infiniteScrollDown!==!1},setScrollDirections:function(e,t,n){e.infiniteScroll.scrollUp=t===!0,e.suppressParentScrollUp=t===!0,e.infiniteScroll.scrollDown=n!==!1,e.suppressParentScrollDown=n!==!1},handleScroll:function(e){if(!(e.grid.infiniteScroll&&e.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===e.source)&&e.y)if(0===e.y.percentage)e.grid.scrollDirection=r.scrollDirection.UP,a.loadData(e.grid);else if(1===e.y.percentage)e.grid.scrollDirection=r.scrollDirection.DOWN,a.loadData(e.grid);else{var t,n=e.grid.options.infiniteScrollRowsFromEnd/e.grid.renderContainers.body.visibleRowCache.length;e.grid.scrollDirection===r.scrollDirection.UP?(t=e.y.percentage,n>=t&&a.loadData(e.grid)):e.grid.scrollDirection===r.scrollDirection.DOWN&&(t=1-e.y.percentage,n>=t&&a.loadData(e.grid))}},loadData:function(e){e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length,e.infiniteScroll.direction=e.scrollDirection,delete e.infiniteScroll.prevScrollTop,e.scrollDirection===r.scrollDirection.UP&&e.infiniteScroll.scrollUp?(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreDataTop()):e.scrollDirection===r.scrollDirection.DOWN&&e.infiniteScroll.scrollDown&&(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(e){var t=o.defer();return n(function(){var i,o,s,l,u;i=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,o=e.options.rowHeight,void 0===e.infiniteScroll.direction&&a.adjustInfiniteScrollPosition(e,0),s=e.getVisibleRowCount();var c=o*s;e.infiniteScroll.scrollDown&&i>c&&e.api.infiniteScroll.raise.needLoadMoreData(),e.infiniteScroll.direction===r.scrollDirection.UP&&(l=e.infiniteScroll.prevScrollTop||0,u=l+(s-e.infiniteScroll.previousVisibleRows)*o,a.adjustInfiniteScrollPosition(e,u),n(function(){t.resolve()})),e.infiniteScroll.direction===r.scrollDirection.DOWN&&(u=e.infiniteScroll.prevScrollTop||e.infiniteScroll.previousVisibleRows*o-i,a.adjustInfiniteScrollPosition(e,u),n(function(){t.resolve()}))},0),t.promise},adjustInfiniteScrollPosition:function(e,t){var n=new i(e,null,null,"ui.grid.adjustInfiniteScrollPosition"),r=e.getVisibleRowCount(),o=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,a=e.options.rowHeight,s=r*a-o;n.y=0===t&&e.infiniteScroll.scrollUp?{percentage:1/s}:{percentage:t/s},e.scrollContainers("",n)},dataRemovedTop:function(e,t,n){var r,i,o,s;return a.setScrollDirections(e,t,n),r=e.renderContainers.body.visibleRowCache.length,i=e.infiniteScroll.prevScrollTop,s=e.options.rowHeight,o=i-(e.infiniteScroll.previousVisibleRows-r)*s,a.adjustInfiniteScrollPosition(e,o)},dataRemovedBottom:function(e,t,n){var r;return a.setScrollDirections(e,t,n),r=e.infiniteScroll.prevScrollTop,a.adjustInfiniteScrollPosition(e,r)}};return a}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(t,n,r){return{pre:function(t,n,r,i){e.initializeGrid(i.grid,t)},post:function(e,t,n){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function(e,t,n,r,i,o){var a={initializeGrid:function(e){var t=this;this.registerPublicApi(e),this.defaultGridOptions(e.options),e.moveColumns={orderCache:[]},e.registerColumnBuilder(t.movableColumnBuilder),e.registerDataChangeCallback(t.verifyColumnOrder,[i.dataChange.COLUMN])},registerPublicApi:function(e){var t=this,n={events:{colMovable:{columnPositionChanged:function(e,t,n){}}},methods:{colMovable:{moveColumn:function(n,r){var i=e.columns;if(!angular.isNumber(n)||!angular.isNumber(r))return void o.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition");for(var a=0,s=0;s<i.length;s++)(angular.isDefined(i[s].colDef.visible)&&i[s].colDef.visible===!1||i[s].isRowHeader===!0)&&a++;if(n>=i.length-a||r>=i.length-a)return void o.logError("MoveColumn: Invalid values for originalPosition, finalPosition");var l=function(e){for(var t=e,n=0;t>=n;n++)angular.isDefined(i[n])&&(angular.isDefined(i[n].colDef.visible)&&i[n].colDef.visible===!1||i[n].isRowHeader===!0)&&t++;return t};t.redrawColumnAtPosition(e,l(n),l(r))}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableColumnMoving=e.enableColumnMoving!==!1},movableColumnBuilder:function(t,n,r){var i=[];return t.enableColumnMoving=void 0===t.enableColumnMoving?r.enableColumnMoving:t.enableColumnMoving,e.all(i)},updateColumnCache:function(e){e.moveColumns.orderCache=e.getOnlyDataColumns()},verifyColumnOrder:function(e){var t,n=e.rowHeaderColumns.length;angular.forEach(e.moveColumns.orderCache,function(r,i){if(t=e.columns.indexOf(r),-1!==t&&t-n!==i){var o=e.columns.splice(t,1)[0];e.columns.splice(i+n,0,o)}})},redrawColumnAtPosition:function(e,n,r){var o=e.columns;if(n!==r){var s=Math.min(n,r);for(s;s<Math.max(n,r)&&!o[s].visible;s++);if(s!==Math.max(n,r)){var l=o[n];if(l.colDef.enableColumnMoving){if(n>r)for(var u=n;u>r;u--)o[u]=o[u-1];else if(r>n)for(var c=n;r>c;c++)o[c]=o[c+1];o[r]=l,a.updateColumnCache(e),e.queueGridRefresh(),t(function(){e.api.core.notifyDataChange(i.dataChange.COLUMN),e.api.colMovable.raise.columnPositionChanged(l.colDef,n,r)})}}}}};return a}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,n,r,i){e.initializeGrid(i.grid)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,n,r,i,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,t,i,o){if(e.col.colDef.enableColumnMoving){var s,l,u,c,d,p,f=angular.element(t[0].querySelectorAll(".ui-grid-cell-contents")),h=!1,m=!1,g=function(t){s=e.grid.element[0].getBoundingClientRect().left,e.grid.hasLeftContainer()&&(s+=e.grid.renderContainers.left.header[0].getBoundingClientRect().width),l=t.pageX,u=0,c=s+e.grid.getViewportWidth(),"mousedown"===t.type?(r.on("mousemove",v),r.on("mouseup",b)):"touchstart"===t.type&&(r.on("touchmove",v),r.on("touchend",b))},v=function(e){var t=e.pageX-l;0!==t&&(document.onselectstart=function(){return!1},m=!0,h?h&&(T(t),l=e.pageX):E())},b=function(t){if(document.onselectstart=null,d&&(d.remove(),h=!1),C(),y(),m){for(var r=e.grid.columns,i=0,o=0;o<r.length&&r[o].colDef.name!==e.col.colDef.name;o++)i++;var a;if(0>u){var s,l=0;if(e.grid.isRTL()){for(s=i+1;s<r.length;s++)if((angular.isUndefined(r[s].colDef.visible)||r[s].colDef.visible===!0)&&(l+=r[s].drawnWidth||r[s].width||r[s].colDef.width,l>Math.abs(u))){n.redrawColumnAtPosition(e.grid,i,s-1);break}}else for(s=i-1;s>=0;s--)if((angular.isUndefined(r[s].colDef.visible)||r[s].colDef.visible===!0)&&(l+=r[s].drawnWidth||r[s].width||r[s].colDef.width,l>Math.abs(u))){n.redrawColumnAtPosition(e.grid,i,s+1);break}l<Math.abs(u)&&(a=0,e.grid.isRTL()&&(a=r.length-1),n.redrawColumnAtPosition(e.grid,i,a))}else if(u>0){var c,p=0;if(e.grid.isRTL()){for(c=i-1;c>0;c--)if((angular.isUndefined(r[c].colDef.visible)||r[c].colDef.visible===!0)&&(p+=r[c].drawnWidth||r[c].width||r[c].colDef.width,p>u)){n.redrawColumnAtPosition(e.grid,i,c);break}}else for(c=i+1;c<r.length;c++)if((angular.isUndefined(r[c].colDef.visible)||r[c].colDef.visible===!0)&&(p+=r[c].drawnWidth||r[c].width||r[c].colDef.width,p>u)){n.redrawColumnAtPosition(e.grid,i,c-1);break}u>p&&(a=r.length-1,e.grid.isRTL()&&(a=0),n.redrawColumnAtPosition(e.grid,i,a))}}},y=function(){f.on("touchstart",g),f.on("mousedown",g)},C=function(){f.off("touchstart",g),f.off("mousedown",g),r.off("mousemove",v),r.off("touchmove",v),r.off("mouseup",b),r.off("touchend",b)};y();var E=function(){h=!0,d=t.clone(),t.parent().append(d),d.addClass("movingColumn");var n={};n.left=t[0].offsetLeft+"px";var r=e.grid.element[0].getBoundingClientRect().right,i=t[0].getBoundingClientRect().right;i>r&&(p=e.col.drawnWidth+(r-i),n.width=p+"px"),d.css(n)},T=function(t){for(var n=e.grid.columns,r=0,i=0;i<n.length;i++)(angular.isUndefined(n[i].colDef.visible)||n[i].colDef.visible===!0)&&(r+=n[i].drawnWidth||n[i].width||n[i].colDef.width);var l,f=d[0].getBoundingClientRect().left-1,h=d[0].getBoundingClientRect().right;if(l=f-s+t,l=c>l?l:c,(f>=s||t>0)&&(c>=h||0>t))d.css({visibility:"visible",left:d[0].offsetLeft+(c>l?t:c-f)+"px"});else if(r>Math.ceil(o.grid.gridWidth)){t*=8;var m=new a(e.col.grid,null,null,"uiGridHeaderCell.moveElement");m.x={pixels:t},m.grid.scrollContainers("",m)}for(var g=0,v=0;v<n.length;v++)if(angular.isUndefined(n[v].colDef.visible)||n[v].colDef.visible===!0){if(n[v].colDef.name===e.col.colDef.name)break;g+=n[v].drawnWidth||n[v].width||n[v].colDef.width}void 0===e.newScrollLeft?u+=t:u=e.newScrollLeft+l-g,p<e.col.drawnWidth&&(p+=Math.abs(t),d.css({width:p+"px"}))}}}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);var n={events:{pagination:{paginationChanged:function(e,t){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getTotalPages:function(){return e.options.enablePagination?0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,n.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(t){if(e.options.enablePagination){if(!angular.isNumber(t)||1>t)throw"Invalid page number: "+t;e.options.paginationCurrentPage=Math.min(t,n.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods);var r=function(t){if(e.options.useExternalPagination||!e.options.enablePagination)return t;var n=parseInt(e.options.paginationPageSize,10),r=parseInt(e.options.paginationCurrentPage,10),i=t.filter(function(e){return e.visible});e.options.totalItems=i.length;var o=(r-1)*n;return o>i.length&&(r=e.options.paginationCurrentPage=1,o=(r-1)*n),i.slice(o,o+n)};e.registerRowsProcessor(r,900)},defaultGridOptions:function(t){t.enablePagination=t.enablePagination!==!1,t.enablePaginationControls=t.enablePaginationControls!==!1,t.useExternalPagination=t.useExternalPagination===!0,e.isNullOrUndefined(t.totalItems)&&(t.totalItems=0),e.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSize=t.paginationPageSizes.length>0?t.paginationPageSizes[0]:0),e.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1),e.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,n){e.api.pagination.raise.paginationChanged(t,n),e.options.useExternalPagination||e.queueGridRefresh()}};return t}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(n,r,i,o){t.initializeGrid(o.grid),e.getTemplate(o.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);r.append(t),o.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(e,t,n,r){return{priority:-200,scope:!0,require:"^uiGrid",link:function(i,o,a,s){var l=".ui-grid-pager-control-input";i.aria=r.getSafeText("pagination.aria"),i.paginationApi=s.grid.api.pagination,i.sizesLabel=r.getSafeText("pagination.sizes"),i.totalItemsLabel=r.getSafeText("pagination.totalItems"),i.paginationOf=r.getSafeText("pagination.of"),i.paginationThrough=r.getSafeText("pagination.through");var u=s.grid.options;s.grid.renderContainers.body.registerViewportAdjuster(function(e){return e.height=e.height-n.elementHeight(o,"padding"),e});var c=s.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[t.dataChange.ROW]);i.$on("$destroy",c);var d=function(){i.showingLow=(u.paginationCurrentPage-1)*u.paginationPageSize+1,i.showingHigh=Math.min(u.paginationCurrentPage*u.paginationPageSize,u.totalItems)},p=i.$watch("grid.options.totalItems + grid.options.paginationPageSize",d),f=i.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,n){if(t!==n&&void 0!==n){if(!angular.isNumber(u.paginationCurrentPage)||u.paginationCurrentPage<1)return void(u.paginationCurrentPage=1);if(u.totalItems>0&&u.paginationCurrentPage>i.paginationApi.getTotalPages())return void(u.paginationCurrentPage=i.paginationApi.getTotalPages());d(),e.onPaginationChanged(i.grid,u.paginationCurrentPage,u.paginationPageSize)}});i.$on("$destroy",function(){p(),f()}),i.cantPageForward=function(){return u.totalItems>0?u.paginationCurrentPage>=i.paginationApi.getTotalPages():u.data.length<1},i.cantPageToLast=function(){return u.totalItems>0?i.cantPageForward():!0},i.cantPageBackward=function(){return u.paginationCurrentPage<=1};var h=function(e){e&&n.focus.bySelector(o,l)};i.pageFirstPageClick=function(){i.paginationApi.seek(1),h(i.cantPageBackward())},i.pagePreviousPageClick=function(){i.paginationApi.previousPage(),h(i.cantPageBackward())},i.pageNextPageClick=function(){i.paginationApi.nextPage(),h(i.cantPageForward())},i.pageLastPageClick=function(){i.paginationApi.seek(i.paginationApi.getTotalPages()),h(i.cantPageToLast())}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(e,t,n,r){var i={initializeGrid:function(e){i.defaultGridOptions(e.options),e.registerColumnBuilder(i.pinningColumnBuilder);var t={events:{pinning:{columnPinned:function(e,t){}}},methods:{pinning:{pinColumn:function(t,n){i.pinColumn(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enablePinning=e.enablePinning!==!1},pinningColumnBuilder:function(t,o,a){if(t.enablePinning=void 0===t.enablePinning?a.enablePinning:t.enablePinning,t.pinnedLeft?(o.renderContainer="left",o.grid.createLeftContainer()):t.pinnedRight&&(o.renderContainer="right",o.grid.createRightContainer()),t.enablePinning){var s={name:"ui.grid.pinning.pinLeft",title:n.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){i.pinColumn(this.context.col.grid,this.context.col,r.container.LEFT)}},l={name:"ui.grid.pinning.pinRight",title:n.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){i.pinColumn(this.context.col.grid,this.context.col,r.container.RIGHT)}},u={name:"ui.grid.pinning.unpin",title:n.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return"undefined"!=typeof this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){i.pinColumn(this.context.col.grid,this.context.col,r.container.NONE)}};e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinLeft")||o.menuItems.push(s),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinRight")||o.menuItems.push(l),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.unpin")||o.menuItems.push(u)}},pinColumn:function(e,t,n){n===r.container.NONE?(t.renderContainer=null,t.colDef.pinnedLeft=t.colDef.pinnedRight=!1):(t.renderContainer=n,n===r.container.LEFT?e.createLeftContainer():n===r.container.RIGHT&&e.createRightContainer()),e.refresh().then(function(){e.api.pinning.raise.columnPinned(t.colDef,n)})}};return i}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(i.grid)},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(e,t,n){var r={defaultGridOptions:function(e){e.enableColumnResizing=e.enableColumnResizing!==!1,e.enableColumnResize===!1&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,n,r){var i=[];return e.enableColumnResizing=void 0===e.enableColumnResizing?r.enableColumnResizing:e.enableColumnResizing,e.enableColumnResize===!1&&(e.enableColumnResizing=!1),t.all(i)},registerPublicApi:function(e){var t={events:{colResizable:{columnSizeChanged:function(e,t){}}}};e.api.registerEventsFromObject(t.events)},fireColumnSizeChanged:function(t,r,i){n(function(){t.api.colResizable?t.api.colResizable.raise.columnSizeChanged(r,i):e.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(e,t,n){var r=e.getRenderContainer();if("left"===t){var i=r.visibleColumnCache.indexOf(e);return r.visibleColumnCache[i-1*n]}return e}};return r}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.defaultGridOptions(i.grid.options),i.grid.registerColumnBuilder(t.colResizerColumnBuilder),t.registerPublicApi(i.grid)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(e,t,n,r,i,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,r,s,l){var u=l.grid;if(u.options.enableColumnResizing){var c=t.get("ui-grid/columnResizer"),d=1;u.isRTL()&&(e.position="left",d=-1);var p=function(){for(var t=r[0].getElementsByClassName("ui-grid-column-resizer"),o=0;o<t.length;o++)angular.element(t[o]).remove();var a=i.findTargetCol(e.col,"left",d),s=e.col.getRenderContainer();if(a&&0!==s.visibleColumnCache.indexOf(e.col)&&a.colDef.enableColumnResizing!==!1){var l=angular.element(c).clone();l.attr("position","left"),r.prepend(l),n(l)(e)}if(e.col.colDef.enableColumnResizing!==!1){var u=angular.element(c).clone();u.attr("position","right"),r.append(u),n(u)(e)}};p();var f=function(){a(p)},h=u.registerDataChangeCallback(f,[o.dataChange.COLUMN]);e.$on("$destroy",h)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,t,n,r){var i=angular.element('<div class="ui-grid-resize-overlay"></div>'),o={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(o,a,s,l){function u(e){l.grid.refreshCanvas(!0).then(function(){l.grid.queueGridRefresh()})}function c(e,t){var n=t;return e.minWidth&&n<e.minWidth?n=e.minWidth:e.maxWidth&&n>e.maxWidth&&(n=e.maxWidth),n}function d(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),h=(e.targetTouches?e.targetTouches[0]:e).clientX-m,0>h?h=0:h>l.grid.gridWidth&&(h=l.grid.gridWidth);var a=r.findTargetCol(o.col,o.position,g);if(a.colDef.enableColumnResizing!==!1){l.grid.element.hasClass("column-resizing")||l.grid.element.addClass("column-resizing");var s=h-f,u=parseInt(a.drawnWidth+s*g,10);h+=(c(a,u)-u)*g,i.css({left:h+"px"}),l.fireEvent(n.events.ITEM_DRAGGING)}}function p(e,t){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),l.grid.element.removeClass("column-resizing"),i.remove(),h=(e.changedTouches?e.changedTouches[0]:e).clientX-m;var n=h-f;if(0===n)return y(),void b();var a=r.findTargetCol(o.col,o.position,g);if(a.colDef.enableColumnResizing!==!1){var s=parseInt(a.drawnWidth+n*g,10);a.width=c(a,s),a.hasCustomWidth=!0,u(n),r.fireColumnSizeChanged(l.grid,a.colDef,n),y(),b()}}var f=0,h=0,m=0,g=1;l.grid.isRTL()&&(o.position="left",g=-1),"left"===o.position?a.addClass("left"):"right"===o.position&&a.addClass("right");var v=function(t,n){t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),m=l.grid.element[0].getBoundingClientRect().left,f=(t.targetTouches?t.targetTouches[0]:t).clientX-m,l.grid.element.append(i),i.css({left:f}),"touchstart"===t.type?(e.on("touchend",p),e.on("touchmove",d),a.off("mousedown",v)):(e.on("mouseup",p),e.on("mousemove",d),a.off("touchstart",v))},b=function(){a.on("mousedown",v),a.on("touchstart",v)},y=function(){e.off("mouseup",p),e.off("touchend",p),e.off("mousemove",d),e.off("touchmove",d),a.off("mousedown",v),a.off("touchstart",v)};b();var C=function(e,i){e.stopPropagation();var s=r.findTargetCol(o.col,o.position,g);if(s.colDef.enableColumnResizing!==!1){var d=0,p=0,f=t.closestElm(a,".ui-grid-render-container"),h=f.querySelectorAll("."+n.COL_CLASS_PREFIX+s.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(h,function(e){var n;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(n=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),t.fakeElement(e,{},function(e){var r=angular.element(e);r.attr("style","float: left");var i=t.elementWidth(r);if(n){var o=t.elementWidth(n);i+=o}i>d&&(d=i,p=d-i)})}),s.width=c(s,d),s.hasCustomWidth=!0,u(p),r.fireColumnSizeChanged(l.grid,s.colDef,p)}};a.on("dblclick",C),a.on("$destroy",function(){a.off("dblclick",C),y()})}};return o}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,n,r,i){var o={initializeGrid:function(e,t){t.rowEdit={};var n={events:{rowEdit:{saveRow:function(e){}}},methods:{rowEdit:{setSavePromise:function(e,n){o.setSavePromise(t,e,n)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(t)},setRowsDirty:function(e){o.setRowsDirty(t,e)},setRowsClean:function(e){o.setRowsClean(t,e)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.api.core.on.renderingComplete(e,function(n){t.api.edit.on.afterCellEdit(e,o.endEditCell),t.api.edit.on.beginCellEdit(e,o.beginEditCell),t.api.edit.on.cancelCellEdit(e,o.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,o.navigate)})},defaultGridOptions:function(e){},saveRow:function(e,t){var n=this;return function(){if(t.isSaving=!0,t.rowEditSavePromise)return t.rowEditSavePromise;var r=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(n.processSuccessPromise(e,t),n.processErrorPromise(e,t)):i.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),r}},setSavePromise:function(e,t,n){var r=e.getRow(t);r.rowEditSavePromise=n},processSuccessPromise:function(e,t){var n=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,n.removeRow(e.rowEdit.errorRows,t),n.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),o.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(e,t){"undefined"!=typeof e&&null!==e&&e.forEach(function(n,r){n.uid===t.uid&&e.splice(r,1)})},isRowPresent:function(e,t){var n=!1;return e.forEach(function(e,r){e.uid===t.uid&&(n=!0)}),n},flushDirtyRows:function(e){var n=[];return e.api.rowEdit.getDirtyRows().forEach(function(t){o.saveRow(e,t)(),n.push(t.rowEditSavePromise)}),t.all(n)},endEditCell:function(e,t,n,r){var a=this.grid,s=a.getRow(e);return s?void((n!==r||s.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),s.isDirty||(s.isDirty=!0,a.rowEdit.dirtyRows.push(s)),delete s.isError,o.considerSetTimer(a,s))):void i.logError("Unable to find rowEntity in grid data, dirty flag cannot be set")},beginEditCell:function(e,t){var n=this.grid,r=n.getRow(e);return r?void o.cancelTimer(n,r):void i.logError("Unable to find rowEntity in grid data, timer cannot be cancelled")},cancelEditCell:function(e,t){var n=this.grid,r=n.getRow(e);return r?void o.considerSetTimer(n,r):void i.logError("Unable to find rowEntity in grid data, timer cannot be set")},navigate:function(e,t){var n=this.grid;e.row.rowEditSaveTimer&&o.cancelTimer(n,e.row),t&&t.row&&t.row!==e.row&&o.considerSetTimer(n,t.row)},considerSetTimer:function(t,n){if(o.cancelTimer(t,n),n.isDirty&&!n.isSaving&&-1!==t.options.rowEditWaitInterval){var r=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;n.rowEditSaveTimer=e(o.saveRow(t,n),r,1)}},cancelTimer:function(t,n){n.rowEditSaveTimer&&!n.isSaving&&(e.cancel(n.rowEditSaveTimer),delete n.rowEditSaveTimer)},setRowsDirty:function(e,t){var n;t.forEach(function(t,r){n=e.getRow(t),n?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),n.isDirty||(n.isDirty=!0,e.rowEdit.dirtyRows.push(n)),delete n.isError,o.considerSetTimer(e,n)):i.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})},setRowsClean:function(e,t){var n;t.forEach(function(t,r){n=e.getRow(t),n?(delete n.isDirty,o.removeRow(e.rowEdit.dirtyRows,n),o.cancelTimer(e,n),delete n.isError,o.removeRow(e.rowEdit.errorRows,n)):i.logError("requested row not found in rowEdit.setRowsClean, row was: "+t)})}};return o}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(e,i.grid)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,r){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),r=n.attr("ng-class"),i="";return i=r?r.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",n.attr("ng-class",i),{pre:function(e,t,n,r){},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(e,t,n,r,i,o){var a={initializeGrid:function(e){e.saveState={},this.defaultGridOptions(e.options);var t={events:{saveState:{}},methods:{saveState:{save:function(){return a.save(e)},restore:function(t,n){a.restore(e,t,n)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.saveWidths=e.saveWidths!==!1,e.saveOrder=e.saveOrder!==!1,e.saveScroll=e.saveScroll===!0,e.saveFocus=e.saveScroll!==!0&&e.saveFocus!==!1,
e.saveVisible=e.saveVisible!==!1,e.saveSort=e.saveSort!==!1,e.saveFilter=e.saveFilter!==!1,e.saveSelection=e.saveSelection!==!1,e.saveGrouping=e.saveGrouping!==!1,e.saveGroupingExpandedStates=e.saveGroupingExpandedStates===!0,e.savePinning=e.savePinning!==!1,e.saveTreeView=e.saveTreeView!==!1},save:function(e){var t={};return t.columns=a.saveColumns(e),t.scrollFocus=a.saveScrollFocus(e),t.selection=a.saveSelection(e),t.grouping=a.saveGrouping(e),t.treeView=a.saveTreeView(e),t.pagination=a.savePagination(e),t},restore:function(e,t,n){n.columns&&a.restoreColumns(e,n.columns),n.scrollFocus&&a.restoreScrollFocus(e,t,n.scrollFocus),n.selection&&a.restoreSelection(e,n.selection),n.grouping&&a.restoreGrouping(e,n.grouping),n.treeView&&a.restoreTreeView(e,n.treeView),n.pagination&&a.restorePagination(e,n.pagination),e.refresh()},saveColumns:function(e){var t=[];return e.getOnlyDataColumns().forEach(function(n){var r={};r.name=n.name,e.options.saveVisible&&(r.visible=n.visible),e.options.saveWidths&&(r.width=n.width),e.options.saveSort&&(r.sort=angular.copy(n.sort)),e.options.saveFilter&&(r.filters=[],n.filters.forEach(function(e){var t={};angular.forEach(e,function(e,n){"condition"!==n&&"$$hashKey"!==n&&"placeholder"!==n&&(t[n]=e)}),r.filters.push(t)})),e.api.pinning&&e.options.savePinning&&(r.pinned=n.renderContainer?n.renderContainer:""),t.push(r)}),t},saveScrollFocus:function(e){if(!e.api.cellNav)return{};var t={};if(e.options.saveFocus){t.focus=!0;var n=e.api.cellNav.getFocusedCell();null!==n&&(null!==n.col&&(t.colName=n.col.colDef.name),null!==n.row&&(t.rowVal=a.getRowVal(e,n.row)))}return(e.options.saveScroll||e.options.saveFocus&&!t.colName&&!t.rowVal)&&(t.focus=!1,e.renderContainers.body.prevRowScrollIndex&&(t.rowVal=a.getRowVal(e,e.renderContainers.body.visibleRowCache[e.renderContainers.body.prevRowScrollIndex])),e.renderContainers.body.prevColScrollIndex&&(t.colName=e.renderContainers.body.visibleColumnCache[e.renderContainers.body.prevColScrollIndex].name)),t},saveSelection:function(e){if(!e.api.selection||!e.options.saveSelection)return[];var t=e.api.selection.getSelectedGridRows().map(function(t){return a.getRowVal(e,t)});return t},saveGrouping:function(e){return e.api.grouping&&e.options.saveGrouping?e.api.grouping.getGrouping(e.options.saveGroupingExpandedStates):{}},savePagination:function(e){return e.api.pagination&&e.options.paginationPageSize?{paginationCurrentPage:e.options.paginationCurrentPage,paginationPageSize:e.options.paginationPageSize}:{}},saveTreeView:function(e){return e.api.treeView&&e.options.saveTreeView?e.api.treeView.getTreeView():{}},getRowVal:function(e,t){if(!t)return null;var n={};return e.options.saveRowIdentity?(n.identity=!0,n.row=e.options.saveRowIdentity(t.entity)):(n.identity=!1,n.row=e.renderContainers.body.visibleRowCache.indexOf(t)),n},restoreColumns:function(e,t){var n=!1;t.forEach(function(t,r){var i=e.getColumn(t.name);if(i&&!e.isRowHeaderColumn(i)){!e.options.saveVisible||i.visible===t.visible&&i.colDef.visible===t.visible||(i.visible=t.visible,i.colDef.visible=t.visible,e.api.core.raise.columnVisibilityChanged(i)),e.options.saveWidths&&i.width!==t.width&&(i.width=t.width,i.hasCustomWidth=!0),!e.options.saveSort||angular.equals(i.sort,t.sort)||void 0===i.sort&&angular.isEmpty(t.sort)||(i.sort=angular.copy(t.sort),n=!0),e.options.saveFilter&&!angular.equals(i.filters,t.filters)&&(t.filters.forEach(function(e,t){angular.extend(i.filters[t],e),("undefined"==typeof e.term||null===e.term)&&delete i.filters[t].term}),e.api.core.raise.filterChanged()),e.api.pinning&&e.options.savePinning&&i.renderContainer!==t.pinned&&e.api.pinning.pinColumn(i,t.pinned);var o=e.getOnlyDataColumns().indexOf(i);if(-1!==o&&e.options.saveOrder&&o!==r){var a=e.columns.splice(o+e.rowHeaderColumns.length,1)[0];e.columns.splice(r+e.rowHeaderColumns.length,0,a)}}}),n&&e.api.core.raise.sortChanged(e,e.getColumnSorting())},restoreScrollFocus:function(e,t,n){if(e.api.cellNav){var r,i;if(n.colName){var o=e.options.columnDefs.filter(function(e){return e.name===n.colName});o.length>0&&(r=o[0])}n.rowVal&&n.rowVal.row&&(i=n.rowVal.identity?a.findRowByIdentity(e,n.rowVal):e.renderContainers.body.visibleRowCache[n.rowVal.row]);var s=i&&i.entity?i.entity:null;(r||s)&&(n.focus?e.api.cellNav.scrollToFocus(s,r):e.scrollTo(s,r))}},restoreSelection:function(e,t){e.api.selection&&(e.api.selection.clearSelectedRows(),t.forEach(function(t){if(t.identity){var n=a.findRowByIdentity(e,t);n&&e.api.selection.selectRow(n.entity)}else e.api.selection.selectRowByVisibleIndex(t.row)}))},restoreGrouping:function(e,t){e.api.grouping&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&e.api.grouping.setGrouping(t)},restoreTreeView:function(e,t){e.api.treeView&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&e.api.treeView.setTreeView(t)},restorePagination:function(e,t){e.api.pagination&&e.options.paginationPageSize&&(e.options.paginationCurrentPage=t.paginationCurrentPage,e.options.paginationPageSize=t.paginationPageSize)},findRowByIdentity:function(e,t){if(!e.options.saveRowIdentity)return null;var n=e.rows.filter(function(n){return e.options.saveRowIdentity(n.entity)===t.row?!0:!1});return n.length>0?n[0]:null}};return a}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,n,r,i){t.initializeGrid(i.grid)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){this.isSelected=e,e?this.grid.selection.selectedCount++:this.grid.selection.selectedCount--},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(e,t,n,r){var i={initializeGrid:function(e){e.selection={},e.selection.lastSelectedRow=null,e.selection.selectAll=!1,e.selection.selectedCount=0,i.defaultGridOptions(e.options);var t={events:{selection:{rowSelectionChanged:function(e,t,n){},rowSelectionChangedBatch:function(e,t,n){}}},methods:{selection:{toggleRowSelection:function(t,n){var r=e.getRow(t);null!==r&&i.toggleRowSelection(e,r,n,e.options.multiSelect,e.options.noUnselect)},selectRow:function(t,n){var r=e.getRow(t);null===r||r.isSelected||i.toggleRowSelection(e,r,n,e.options.multiSelect,e.options.noUnselect)},selectRowByVisibleIndex:function(t,n){var r=e.renderContainers.body.visibleRowCache[t];null===r||"undefined"==typeof r||r.isSelected||i.toggleRowSelection(e,r,n,e.options.multiSelect,e.options.noUnselect)},unSelectRow:function(t,n){var r=e.getRow(t);null!==r&&r.isSelected&&i.toggleRowSelection(e,r,n,e.options.multiSelect,e.options.noUnselect)},selectAllRows:function(t){if(e.options.multiSelect!==!1){var n=[];e.rows.forEach(function(r){r.isSelected||r.enableSelection===!1||(r.setSelected(!0),i.decideRaiseSelectionEvent(e,r,n,t))}),i.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!0}},selectAllVisibleRows:function(t){if(e.options.multiSelect!==!1){var n=[];e.rows.forEach(function(r){r.visible?r.isSelected||r.enableSelection===!1||(r.setSelected(!0),i.decideRaiseSelectionEvent(e,r,n,t)):r.isSelected&&(r.setSelected(!1),i.decideRaiseSelectionEvent(e,r,n,t))}),i.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!0}},clearSelectedRows:function(t){i.clearSelectedRows(e,t)},getSelectedRows:function(){return i.getSelectedRows(e).map(function(e){return e.entity})},getSelectedGridRows:function(){return i.getSelectedRows(e)},getSelectedCount:function(){return e.selection.selectedCount},setMultiSelect:function(t){e.options.multiSelect=t},setModifierKeysToMultiSelect:function(t){e.options.modifierKeysToMultiSelect=t},getSelectAllState:function(){return e.selection.selectAll}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enableRowSelection=e.enableRowSelection!==!1,e.multiSelect=e.multiSelect!==!1,e.noUnselect=e.noUnselect===!0,e.modifierKeysToMultiSelect=e.modifierKeysToMultiSelect===!0,e.enableRowHeaderSelection=e.enableRowHeaderSelection!==!1,"undefined"==typeof e.enableFullRowSelection&&(e.enableFullRowSelection=!e.enableRowHeaderSelection),e.enableSelectAll=e.enableSelectAll!==!1,e.enableSelectionBatchEvent=e.enableSelectionBatchEvent!==!1,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=e.enableFooterTotalSelected!==!1,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(e,t,n,r,o){var a=t.isSelected;if(t.enableSelection!==!1||a){var s;r||a?!r&&a&&(s=i.getSelectedRows(e),s.length>1&&(a=!1,i.clearSelectedRows(e,n))):i.clearSelectedRows(e,n),a&&o||(t.setSelected(!a),t.isSelected===!0&&(e.selection.lastSelectedRow=t),s=i.getSelectedRows(e),e.selection.selectAll=e.rows.length===s.length,e.api.selection.raise.rowSelectionChanged(t,n))}},shiftSelect:function(e,t,n,r){if(r){var o=i.getSelectedRows(e),a=o.length>0?e.renderContainers.body.visibleRowCache.indexOf(e.selection.lastSelectedRow):0,s=e.renderContainers.body.visibleRowCache.indexOf(t);if(a>s){var l=a;a=s,s=l}for(var u=[],c=a;s>=c;c++){var d=e.renderContainers.body.visibleRowCache[c];d&&(d.isSelected||d.enableSelection===!1||(d.setSelected(!0),e.selection.lastSelectedRow=d,i.decideRaiseSelectionEvent(e,d,u,n)))}i.decideRaiseSelectionBatchEvent(e,u,n)}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(e,t){var n=[];i.getSelectedRows(e).forEach(function(r){r.isSelected&&(r.setSelected(!1),i.decideRaiseSelectionEvent(e,r,n,t))}),i.decideRaiseSelectionBatchEvent(e,n,t),e.selection.selectAll=!1,e.selection.selectedCount=0},decideRaiseSelectionEvent:function(e,t,n,r){e.options.enableSelectionBatchEvent?n.push(t):e.api.selection.raise.rowSelectionChanged(t,r)},decideRaiseSelectionBatchEvent:function(e,t,n){t.length>0&&e.api.selection.raise.rowSelectionChangedBatch(t,n)}};return i}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(e,t,n,r){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(n,i,o,a){if(t.initializeGrid(a.grid),a.grid.options.enableRowHeaderSelection){var s={name:e.selectionRowHeaderColName,displayName:"",width:a.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};a.grid.addRowHeaderColumn(s,0)}var l=!1,u=function(e){return e.forEach(function(e){e.enableSelection=a.grid.options.isRowSelectable(e)}),e},c=function(){a.grid.options.isRowSelectable!==angular.noop&&l!==!0&&(a.grid.registerRowsProcessor(u,500),l=!0)};c();var d=a.grid.registerDataChangeCallback(c,[r.dataChange.OPTIONS]);n.$on("$destroy",d)},post:function(e,t,n,r){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(e,t,n){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,r,i,o){function a(e,n){n.stopPropagation(),n.shiftKey?t.shiftSelect(l,e,n,l.options.multiSelect):n.ctrlKey||n.metaKey?t.toggleRowSelection(l,e,n,l.options.multiSelect,l.options.noUnselect):t.toggleRowSelection(l,e,n,l.options.multiSelect&&!l.options.modifierKeysToMultiSelect,l.options.noUnselect)}function s(e){(e.ctrlKey||e.shiftKey)&&(e.target.onselectstart=function(){return!1},window.setTimeout(function(){e.target.onselectstart=null},0))}var l=o.grid;e.selectButtonClick=a,"ie"===n.detectBrowser()&&r.on("mousedown",s)}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e,n,r,i){var o=e.col.grid;e.headerButtonClick=function(e,n){o.selection.selectAll?(t.clearSelectedRows(o,n),o.options.noUnselect&&o.api.selection.selectRowByVisibleIndex(0,n),o.selection.selectAll=!1):o.options.multiSelect&&(o.api.selection.selectAllVisibleRows(n),o.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(e,t,n,r,i,o){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),r=n.attr("ng-class"),i="";return i=r?r.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",n.attr("ng-class",i),{pre:function(e,t,n,r){},post:function(e,t,n,r){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(e,t,n,r,i,o,a){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(e,n,r,i){function s(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&(n.addClass("ui-grid-disable-selection"),n.on("touchstart",p),n.on("touchend",f),n.on("click",d),e.registered=!0)}function l(){e.registered&&(n.removeClass("ui-grid-disable-selection"),n.off("touchstart",p),n.off("touchend",f),n.off("click",d),e.registered=!1)}var u=0,c=300;i.grid.api.cellNav&&i.grid.api.cellNav.on.viewPortKeyDown(e,function(t,n){null!==n&&n.row===e.row&&n.col===e.col&&32===t.keyCode&&"selectionRowHeaderCol"===e.col.colDef.name&&(o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply())});var d=function(t){n.off("touchend",f),t.shiftKey?o.shiftSelect(e.grid,e.row,t,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply(),a(function(){n.on("touchend",f)},c)},p=function(e){u=(new Date).getTime(),n.off("click",d)},f=function(e){var t=(new Date).getTime(),r=t-u;c>r&&d(e),a(function(){n.on("click",d)},c)};s();var h=e.grid.registerDataChangeCallback(function(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&!e.registered?s():e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection||!e.registered||l()},[t.dataChange.OPTIONS]);n.on("$destroy",h)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,t,n){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(t,r){return{pre:function(t,r,i,o){o.grid.options.showGridFooter&&n.getTemplate("ui-grid/gridFooterSelectedItems").then(function(n){var i=angular.element(n),o=e(i)(t);angular.element(r[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeBase",["ui.grid"]);e.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(e,t,n,r,i,o,a,s){var l={initializeGrid:function(e,t){e.treeBase={},e.treeBase.numberLevels=0,e.treeBase.expandAll=!1,e.treeBase.tree=[],l.defaultGridOptions(e.options),e.registerRowsProcessor(l.treeRows,410),e.registerColumnBuilder(l.treeBaseColumnBuilder),l.createRowHeader(e);var n={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){l.expandAllRows(e)},collapseAllRows:function(){l.collapseAllRows(e)},toggleRowTreeState:function(t){l.toggleRowTreeState(e,t)},expandRow:function(t){l.expandRow(e,t)},expandRowChildren:function(t){l.expandRowChildren(e,t)},collapseRow:function(t){l.collapseRow(e,t)},collapseRowChildren:function(t){l.collapseRowChildren(e,t)},getTreeExpandedState:function(){return{expandedState:l.getTreeState(e)}},setTreeState:function(t){l.setTreeState(e,t)},getRowChildren:function(e){return e.treeNode.children.map(function(e){return e.row})}}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.treeRowHeaderBaseWidth=e.treeRowHeaderBaseWidth||30,e.treeIndent=e.treeIndent||10,e.showTreeRowHeader=e.showTreeRowHeader!==!1,e.showTreeExpandNoChildren=e.showTreeExpandNoChildren!==!1,e.treeRowHeaderAlwaysVisible=e.treeRowHeaderAlwaysVisible!==!1,e.treeCustomAggregations=e.treeCustomAggregations||{},e.enableExpandAll=e.enableExpandAll!==!1},treeBaseColumnBuilder:function(e,t,n){"undefined"!=typeof e.customTreeAggregationFn&&(t.treeAggregationFn=e.customTreeAggregationFn),"undefined"!=typeof e.treeAggregationType&&(t.treeAggregation={type:e.treeAggregationType},"undefined"!=typeof n.treeCustomAggregations[e.treeAggregationType]?(t.treeAggregationFn=n.treeCustomAggregations[e.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=n.treeCustomAggregations[e.treeAggregationType].finalizerFn,t.treeAggregation.label=n.treeCustomAggregations[e.treeAggregationType].label):"undefined"!=typeof l.nativeAggregations()[e.treeAggregationType]&&(t.treeAggregationFn=l.nativeAggregations()[e.treeAggregationType].aggregationFn,t.treeAggregation.label=l.nativeAggregations()[e.treeAggregationType].label)),"undefined"!=typeof e.treeAggregationLabel&&("undefined"==typeof t.treeAggregation&&(t.treeAggregation={}),t.treeAggregation.label=e.treeAggregationLabel),t.treeAggregationUpdateEntity=e.treeAggregationUpdateEntity!==!1,"undefined"==typeof t.customTreeAggregationFinalizerFn&&(t.customTreeAggregationFinalizerFn=e.customTreeAggregationFinalizerFn)},createRowHeader:function(e){var n={name:t.rowHeaderColName,displayName:"",width:e.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};n.visible=e.options.treeRowHeaderAlwaysVisible,e.addRowHeaderColumn(n,-100)},expandAllRows:function(e){e.treeBase.tree.forEach(function(n){l.setAllNodes(e,n,t.EXPANDED)}),e.treeBase.expandAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.treeBase.tree.forEach(function(n){l.setAllNodes(e,n,t.COLLAPSED)}),e.treeBase.expandAll=!1,e.queueGridRefresh()},setAllNodes:function(e,n,r){"undefined"!=typeof n.state&&n.state!==r&&(n.state=r,r===t.EXPANDED?e.api.treeBase.raise.rowExpanded(n.row):e.api.treeBase.raise.rowCollapsed(n.row)),n.children&&n.children.forEach(function(t){l.setAllNodes(e,t,r)})},toggleRowTreeState:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||(n.treeNode.state===t.EXPANDED?l.collapseRow(e,n):l.expandRow(e,n),e.queueGridRefresh())},expandRow:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.EXPANDED&&(n.treeNode.state=t.EXPANDED,e.api.treeBase.raise.rowExpanded(n),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},expandRowChildren:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(e,n.treeNode,t.EXPANDED),e.treeBase.expandAll=l.allExpanded(e.treeBase.tree),e.queueGridRefresh())},collapseRow:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||n.treeNode.state!==t.COLLAPSED&&(n.treeNode.state=t.COLLAPSED,e.treeBase.expandAll=!1,e.api.treeBase.raise.rowCollapsed(n),e.queueGridRefresh())},collapseRowChildren:function(e,n){"undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0||(l.setAllNodes(e,n.treeNode,t.COLLAPSED),e.treeBase.expandAll=!1,e.queueGridRefresh())},allExpanded:function(e){var t=!0;return e.forEach(function(e){l.allExpandedInternal(e)||(t=!1)}),t},allExpandedInternal:function(e){if(e.children&&e.children.length>0){if(e.state===t.COLLAPSED)return!1;var n=!0;return e.children.forEach(function(e){l.allExpandedInternal(e)||(n=!1)}),n}return!0},treeRows:function(e){if(0===e.length)return e;{var n=this;t.EXPANDED}return n.treeBase.tree=l.createTree(n,e),l.updateRowHeaderWidth(n),l.sortTree(n),l.fixFilter(n),l.renderTree(n.treeBase.tree)},updateRowHeaderWidth:function(e){var n=e.getColumn(t.rowHeaderColName),r=e.options.treeRowHeaderBaseWidth+e.options.treeIndent*Math.max(e.treeBase.numberLevels-1,0);n&&r!==n.width&&(n.width=r,e.queueRefresh());var i=!0;e.options.showTreeRowHeader===!1&&(i=!1),e.options.treeRowHeaderAlwaysVisible===!1&&e.treeBase.numberLevels<=0&&(i=!1),n.visible!==i&&(n.visible=i,n.colDef.visible=i,e.queueGridRefresh())},renderTree:function(e){var n=[];return e.forEach(function(e){e.row.visible&&n.push(e.row),e.state===t.EXPANDED&&e.children&&e.children.length>0&&(n=n.concat(l.renderTree(e.children)))}),n},createTree:function(e,n){var r,i=-1,o=[];e.treeBase.tree=[],e.treeBase.numberLevels=0;var a=l.getAggregations(e),s=function(n){if("undefined"!=typeof n.entity.$$treeLevel&&n.treeLevel!==n.entity.$$treeLevel&&(n.treeLevel=n.entity.$$treeLevel),n.treeLevel<=i){for(;n.treeLevel<=i;){var s=o.pop();l.finaliseAggregations(s),i--}r=o.length>0?l.setCurrentState(o):t.EXPANDED}("undefined"==typeof n.treeLevel||null===n.treeLevel||n.treeLevel<0)&&n.visible&&l.aggregate(e,n,o),l.addOrUseNode(e,n,o,a),"undefined"!=typeof n.treeLevel&&null!==n.treeLevel&&n.treeLevel>=0&&(o.push(n),i++,r=l.setCurrentState(o)),e.treeBase.numberLevels<n.treeLevel+1&&(e.treeBase.numberLevels=n.treeLevel+1)};for(n.forEach(s);o.length>0;){var u=o.pop();l.finaliseAggregations(u)}return e.treeBase.tree},addOrUseNode:function(e,n,r,i){var o=[];i.forEach(function(e){o.push(l.buildAggregationObject(e.col))});var a={state:t.COLLAPSED,row:n,parentRow:null,aggregations:o,children:[]};n.treeNode&&(a.state=n.treeNode.state),r.length>0&&(a.parentRow=r[r.length-1]),n.treeNode=a,0===r.length?e.treeBase.tree.push(a):r[r.length-1].treeNode.children.push(a)},setCurrentState:function(e){var n=t.EXPANDED;return e.forEach(function(e){e.treeNode.state===t.COLLAPSED&&(n=t.COLLAPSED)}),n},sortTree:function(e){e.columns.forEach(function(e){e.sort&&e.sort.ignoreSort&&delete e.sort.ignoreSort}),e.treeBase.tree=l.sortInternal(e,e.treeBase.tree)},sortInternal:function(e,n){var r=n.map(function(e){return e.row});r=s.sort(e,r,e.columns);var i=r.map(function(e){return e.treeNode});return i.forEach(function(n){n.state===t.EXPANDED&&n.children&&n.children.length>0&&(n.children=l.sortInternal(e,n.children))}),i},fixFilter:function(e){var t;e.treeBase.tree.forEach(function(e){e.children&&e.children.length>0&&(t=e.row.visible,l.fixFilterInternal(e.children,t))})},fixFilterInternal:function(e,t){return e.forEach(function(e){e.row.visible&&!t&&(l.setParentsVisible(e),t=!0),e.children&&e.children.length>0&&l.fixFilterInternal(e.children,t&&e.row.visible)&&(t=!0)}),t},setParentsVisible:function(e){for(;e.parentRow;)e.parentRow.visible=!0,e=e.parentRow.treeNode},buildAggregationObject:function(e){var t={col:e};return e.treeAggregation&&e.treeAggregation.type&&(t.type=e.treeAggregation.type),e.treeAggregation&&e.treeAggregation.label&&(t.label=e.treeAggregation.label),t},getAggregations:function(e){var t=[];return e.columns.forEach(function(n){"undefined"!=typeof n.treeAggregationFn&&(t.push(l.buildAggregationObject(n)),e.options.showColumnFooter&&"undefined"==typeof n.colDef.aggregationType&&n.treeAggregation&&(n.treeFooterAggregation=l.buildAggregationObject(n),n.aggregationType=l.treeFooterAggregationType))}),t},aggregate:function(e,t,n){0===n.length&&t.treeNode&&t.treeNode.aggregations&&t.treeNode.aggregations.forEach(function(n){if("undefined"!=typeof n.col.treeFooterAggregation){var r=e.getCellValue(t,n.col),i=Number(r);n.col.treeAggregationFn(n.col.treeFooterAggregation,r,i,t)}}),n.forEach(function(n,r){n.treeNode.aggregations&&n.treeNode.aggregations.forEach(function(n){var i=e.getCellValue(t,n.col),o=Number(i);n.col.treeAggregationFn(n,i,o,t),0===r&&"undefined"!=typeof n.col.treeFooterAggregation&&n.col.treeAggregationFn(n.col.treeFooterAggregation,i,o,t)})})},nativeAggregations:function(){var e={count:{label:o.get().aggregation.count,menuTitle:o.get().grouping.aggregate_count,aggregationFn:function(e,t,n){"undefined"==typeof e.value?e.value=1:e.value++}},sum:{label:o.get().aggregation.sum,menuTitle:o.get().grouping.aggregate_sum,aggregationFn:function(e,t,n){isNaN(n)||("undefined"==typeof e.value?e.value=n:e.value+=n)}},min:{label:o.get().aggregation.min,menuTitle:o.get().grouping.aggregate_min,aggregationFn:function(e,t,n){"undefined"==typeof e.value?e.value=t:"undefined"!=typeof t&&null!==t&&(t<e.value||null===e.value)&&(e.value=t)}},max:{label:o.get().aggregation.max,menuTitle:o.get().grouping.aggregate_max,aggregationFn:function(e,t,n){"undefined"==typeof e.value?e.value=t:"undefined"!=typeof t&&null!==t&&(t>e.value||null===e.value)&&(e.value=t)}},avg:{label:o.get().aggregation.avg,menuTitle:o.get().grouping.aggregate_avg,aggregationFn:function(e,t,n){"undefined"==typeof e.count?e.count=1:e.count++,isNaN(n)||("undefined"==typeof e.value||"undefined"==typeof e.sum?(e.value=n,e.sum=n):(e.sum+=n,e.value=e.sum/e.count))}}};return e},finaliseAggregation:function(e,t){t.col.treeAggregationUpdateEntity&&"undefined"!=typeof e&&"undefined"!=typeof e.entity["$$"+t.col.uid]&&angular.extend(t,e.entity["$$"+t.col.uid]),"function"==typeof t.col.treeAggregationFinalizerFn&&t.col.treeAggregationFinalizerFn(t),"function"==typeof t.col.customTreeAggregationFinalizerFn&&t.col.customTreeAggregationFinalizerFn(t),"undefined"==typeof t.rendered&&(t.rendered=t.label?t.label+t.value:t.value)},finaliseAggregations:function(e){null!=e&&"undefined"!=typeof e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(t){if(l.finaliseAggregation(e,t),t.col.treeAggregationUpdateEntity){var n={};angular.forEach(t,function(e,r){t.hasOwnProperty(r)&&"col"!==r&&(n[r]=e)}),e.entity["$$"+t.col.uid]=n}})},treeFooterAggregationType:function(e,t){return l.finaliseAggregation(void 0,t.treeFooterAggregation),"undefined"==typeof t.treeFooterAggregation.value||null===t.treeFooterAggregation.rendered?"":t.treeFooterAggregation.rendered}};return l}]),e.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,n,r,i){var o=i.grid;e.treeButtonClick=function(e,n){t.toggleRowTreeState(o,e,n)}}}}]),e.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(e,n,r,i){var o=e.col.grid;e.headerButtonClick=function(e,n){o.treeBase.expandAll?t.collapseAllRows(o,n):t.expandAllRows(o,n)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(e,t,n,r){return{priority:-200,scope:!1,compile:function(e,t){var n=angular.element(e.children().children()[0]),r=n.attr("ng-class"),i="";return i=r?r.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",n.attr("ng-class",i),{pre:function(e,t,n,r){},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(e,t,n,r,i,o,a,s,l){var u={initializeGrid:function(e,t){r.initializeGrid(e,t),e.treeView={},e.registerRowsProcessor(u.adjustSorting,60);var n={events:{treeView:{}},methods:{treeView:{}}};e.api.registerEventsFromObject(n.events),e.api.registerMethodsFromObject(n.methods)},defaultGridOptions:function(e){e.enableTreeView=e.enableTreeView!==!1},adjustSorting:function(e){var t=this;return t.columns.forEach(function(e){e.sort&&(e.sort.ignoreSort=!0)}),e}};return u}]),e.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(e,t,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){i.grid.options.enableTreeView!==!1&&t.initializeGrid(i.grid,e)},post:function(e,t,n,r){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.validate",["ui.grid"]);e.service("uiGridValidateService",["$sce","$q","$http","i18nService","uiGridConstants",function(e,t,n,r,i){var o={validatorFactories:{},setExternalFactoryFunction:function(e){o.externalFactoryFunction=e},clearExternalFactory:function(){delete o.externalFactoryFunction},getValidatorFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).validatorFactory(t)},getMessageFromExternalFactory:function(e,t){return o.externalFactoryFunction(e,t).messageFunction(t)},setValidator:function(e,t,n){o.validatorFactories[e]={validatorFactory:t,messageFunction:n}},getValidator:function(e,t){if(o.externalFactoryFunction){var n=o.getValidatorFromExternalFactory(e,t);if(n)return n}if(!o.validatorFactories[e])throw"Invalid validator name: "+e;return o.validatorFactories[e].validatorFactory(t)},getMessage:function(e,t){if(o.externalFactoryFunction){var n=o.getMessageFromExternalFactory(e,t);if(n)return n}return o.validatorFactories[e].messageFunction(t)},isInvalid:function(e,t){return e["$$invalid"+t.name]},setInvalid:function(e,t){e["$$invalid"+t.name]=!0},setValid:function(e,t){delete e["$$invalid"+t.name]},setError:function(e,t,n){e["$$errors"+t.name]||(e["$$errors"+t.name]={}),e["$$errors"+t.name][n]=!0},clearError:function(e,t,n){e["$$errors"+t.name]&&n in e["$$errors"+t.name]&&delete e["$$errors"+t.name][n]},getErrorMessages:function(e,t){var n=[];return e["$$errors"+t.name]&&0!==Object.keys(e["$$errors"+t.name]).length?(Object.keys(e["$$errors"+t.name]).sort().forEach(function(e){n.push(o.getMessage(e,t.validators[e]))}),n):n},getFormattedErrors:function(t,n){var i="",a=o.getErrorMessages(t,n);return a.length?(a.forEach(function(e){i+=e+"<br/>"}),e.trustAsHtml("<p><b>"+r.getSafeText("validate.error")+"</b></p>"+i)):void 0},getTitleFormattedErrors:function(t,n){var i="\n",a="",s=o.getErrorMessages(t,n);return s.length?(s.forEach(function(e){a+=e+i}),e.trustAsHtml(r.getSafeText("validate.error")+i+a)):void 0},runValidators:function(e,n,r,i,a){if(r!==i){if("undefined"==typeof n.name||!n.name)throw new Error("colDef.name is required to perform validation");o.setValid(e,n);var s=function(e,t,n){return function(s){s||(o.setInvalid(e,t),o.setError(e,t,n),a&&a.api.validate.raise.validationFailed(e,t,r,i))}};for(var l in n.validators){o.clearError(e,n,l);var u=o.getValidator(l,n.validators[l]);t.when(u(i,r,e,n)).then(s(e,n,l))}}},createDefaultValidators:function(){o.setValidator("minLength",function(e){return function(t,n,r,i){return void 0===n||null===n||""===n?!0:n.length>=e}},function(e){return r.getSafeText("validate.minLength").replace("THRESHOLD",e)}),o.setValidator("maxLength",function(e){return function(t,n,r,i){return void 0===n||null===n||""===n?!0:n.length<=e}},function(e){return r.getSafeText("validate.maxLength").replace("THRESHOLD",e)}),o.setValidator("required",function(e){return function(t,n,r,i){return e?!(void 0===n||null===n||""===n):!0}},function(e){return r.getSafeText("validate.required")})},initializeGrid:function(e,t){
t.validate={isInvalid:o.isInvalid,getFormattedErrors:o.getFormattedErrors,getTitleFormattedErrors:o.getTitleFormattedErrors,runValidators:o.runValidators};var n={events:{validate:{validationFailed:function(e,t,n,r){}}},methods:{validate:{isInvalid:function(e,n){return t.validate.isInvalid(e,n)},getErrorMessages:function(e,n){return t.validate.getErrorMessages(e,n)},getFormattedErrors:function(e,n){return t.validate.getFormattedErrors(e,n)},getTitleFormattedErrors:function(e,n){return t.validate.getTitleFormattedErrors(e,n)}}}};t.api.registerEventsFromObject(n.events),t.api.registerMethodsFromObject(n.methods),t.edit&&t.api.edit.on.afterCellEdit(e,function(e,n,r,i){t.validate.runValidators(e,n,r,i,t)}),o.createDefaultValidators()}};return o}]),e.directive("uiGridValidate",["gridUtil","uiGridValidateService",function(e,t){return{priority:0,replace:!0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,n,r,i){t.initializeGrid(e,i.grid)},post:function(e,t,n,r){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div></div>'),e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><!-- tfooter --><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header"><!-- theader --><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="\'grid-menu\'" class="ui-grid-icon-container" ng-click="toggleMenu()" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row","<div ng-repeat=\"(colRenderIndex, col) in colContainer.renderedColumns track by col.uid\" ui-grid-one-bind-id-grid=\"rowRenderIndex + '-' + col.uid + '-cell'\" class=\"ui-grid-cell\" ng-class=\"{ 'ui-grid-row-header-cell': col.isRowHeader }\" role=\"{{col.isRowHeader ? 'rowheader' : 'gridcell'}}\" ui-grid-cell></div>"),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div role="columnheader" ng-class="{ \'sortable\': sortable }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + \' \' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><style ui-grid-style>{{dynamicStyles}}</style><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="\'menuitem-\'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\': active(), \'ui-grid-sr-only\': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp;</i> {{ name }}</button>'),e.put("ui-grid/uiGridRenderContainer","<div role=\"grid\" ui-grid-one-bind-id-grid=\"'grid-container'\" class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\"><!-- All of these dom elements are replaced in place --><div ui-grid-header></div><div ui-grid-viewport></div><div ng-if=\"colContainer.needsHScrollbarPlaceholder()\" class=\"ui-grid-scrollbar-placeholder\" ng-style=\"{height:colContainer.grid.scrollbarHeight + 'px'}\"></div><ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></ui-grid-footer></div>"),e.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()"><!-- tbody --><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\', height: row.expandedRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-if="!row.groupHeader==true" ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{'margin-top': ( row.expandedRowHeight/2 - 5) + 'px', 'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px'}\"></i></div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div role="contentinfo" class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div role="menubar" class="ui-grid-pager-control"><button type="button" role="menuitem" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle\' : \'first-triangle\'"><div ng-class="grid.isRTL() ? \'last-bar-rtl\' : \'first-bar\'"></div></div></button> <button type="button" role="menuitem" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle prev-triangle\' : \'first-triangle prev-triangle\'"></div></button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/</abbr> {{ paginationApi.getTotalPages() }}</span> <button type="button" role="menuitem" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div ng-class="grid.isRTL() ? \'first-triangle next-triangle\' : \'last-triangle next-triangle\'"></div></button> <button type="button" role="menuitem" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div ng-class="grid.isRTL() ? \'first-triangle\' : \'last-triangle\'"><div ng-class="grid.isRTL() ? \'first-bar-rtl\' : \'last-bar\'"></div></div></button></div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1"><select ui-grid-one-bind-aria-labelledby-grid="\'items-per-page-label\'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span ui-grid-one-bind-id-grid="\'items-per-page-label\'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}</span></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{showingLow}} <abbr ui-grid-one-bind-title="paginationThrough">-</abbr> {{showingHigh}} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons ng-if="grid.options.enableExpandAll"></ui-grid-tree-base-expand-all-buttons></div></div>'),e.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),e.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"></i> &nbsp;</div>"),e.put("ui-grid/cellTitleValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" title="{{grid.validate.getTitleFormattedErrors(row.entity,col.colDef)}}">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/cellTooltipValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" tooltip-html-unsafe="{{grid.validate.getFormattedErrors(row.entity,col.colDef)}}" tooltip-enable="grid.validate.isInvalid(row.entity,col.colDef)" tooltip-append-to-body="true" tooltip-placement="top" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>')}]),function n(e,t,r){function i(a,s){if(!t[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,n,e,t,r)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";angular.module("ngFormioGrid",["formio","ngSanitize","ui.grid","ui.grid.pagination","ui.grid.resizeColumns","ui.grid.autoResize","ui.grid.selection"]).directive("formioGridCell",["$compile","formioTableView",function(e,t){return{restrict:"E",scope:{data:"=",component:"="},link:function(e,n){e.$watch("data",function(r){var i=t(r,e.component);Array.isArray(i)&&(i=i.join(", ")),n.html(i)})}}}]).directive("formioGrid",function(){return{restrict:"E",replace:!0,scope:{src:"=",query:"=?",aggregate:"=?",columns:"=?",buttons:"=?",gridOptions:"=?"},template:'<div><div ui-grid="gridOptionsDef" ui-grid-pagination ui-grid-auto-resize ui-grid-resize-columns ui-grid-move-columns ui-grid-selection class="grid"></div></div>',controller:["$scope","$element","$timeout","Formio","formioComponents","FormioUtils","uiGridConstants","$http",function(e,t,n,r,i,o,a,s){var l=null,u={pageNumber:1,pageSize:25,sort:null};e.query&&e.query.sort&&(u.sort=e.query.sort);var c={},d=function(){c=e.columns,Array.isArray(e.columns)&&(c={},e.columns.forEach(function(e){"string"==typeof e?c[e]={}:c[e.key]=e}))};d();var p=function(e,t){switch(e.direction){case a.ASC:u.sort=t;break;case a.DESC:u.sort="-"+t;break;case void 0:u.sort=null}},f=function(e){var n=angular.element(".ui-grid-contents-wrapper .ui-grid-loader",t);if(e&&0==n.length){var r='<i style="font-size:2em;position:absolute;z-index:200;left: 50%;top:50%;margin-left:-1em;margin-top:-1em;" class="ui-grid-loader glyphicon glyphicon-refresh glyphicon-spin"></i>';angular.element(".ui-grid-contents-wrapper",t).prepend(r)}else n.length&&n.remove()};e.gridOptionsDef=angular.merge({namespace:"row",dataRoot:"data.",responseData:"",responseTotal:"",endpoint:"",paginationPageSizes:[25,50,75],paginationPageSize:u.pageSize,enableHorizontalScrollbar:a.scrollbars.NEVER,enableVerticalScrollbar:a.scrollbars.NEVER,useExternalPagination:!0,useExternalSorting:!0,enableRowSelection:!1,enableRowHeaderSelection:!1,enableFiltering:!0,useExternalFiltering:!0,multiSelect:!1,columnDefs:[],data:[],initialLoad:!0,onRegisterApi:function(t){e.gridApi=t,t.pagination.on.paginationChanged(e,function(e,t){u.pageNumber=e,u.pageSize=t,h()}),t.core.on.renderingComplete(e,function(){f(!0)});var n=0;t.core.on.filterChanged(e,function(){var t=this.grid;n&&clearTimeout(n),n=setTimeout(function(){t.columns.forEach(function(t){var n="";t.filters&&t.filters.length>0&&(n=t.filters[0].term);var r=t.colDef.filterField||t.colDef.field;r&&(n?e.query[r+"__regex"]="/"+n+"/i":delete e.query[r+"__regex"])}),h()},500)});var r=!0;t.core.on.rowsRendered(e,function(){0!==t.grid.renderContainers.body.visibleRowCache.length&&(e.$emit("onGridLoadDone"),r=!1)}),t.selection.on.rowSelectionChanged(e,function(t){e.$emit(e.gridOptionsDef.namespace+"Select",t.entity,t.isSelected)}),t.selection.on.rowSelectionChangedBatch(e,function(t){var n=t.length?t[0].isSelected:!1;e.$emit(e.gridOptionsDef.namespace+"SelectAll",t,n)}),t.core.on.sortChanged(e,function(e,n){0===n.length?u.sort=null:p(n[0].sort,n[0].colDef.field),t.pagination.seek(1),h()})}},e.gridOptions),u.pageSize=e.gridOptionsDef.paginationPageSize,e.buttons=e.buttons||[],e.buttonClick=function(t,n){e.$emit(t,n.entity,n)},angular.isUndefined(e.query)&&(e.query={});var h=function(t){if(e.gridOptions&&e.gridOptions.columnDefs&&(e.gridOptionsDef.columnDefs=e.gridOptions.columnDefs),u.pageSize&&(e.query.limit=u.pageSize),u.pageNumber&&(e.query.skip=(u.pageNumber-1)*u.pageSize),e.query.sort=u.sort,e.gridOptionsDef.endpoint){var n=e.gridOptionsDef.endpoint,i={headers:{"x-jwt-token":r.getToken()}};if(e.aggregate){var o=t?t:angular.copy(e.aggregate),a={};if(angular.forEach(e.query,function(e,t){if(0===t.indexOf("data.")){var n=e.match(/\/([^\/]+)\//);n=n&&n.length>1?n[1]:"",n&&(a[t.replace("__regex","")]={$regex:n,$options:"i"})}}),Object.keys(a).length>0&&o.push({$match:a}),e.query.sort){var c={$sort:{}};if("-"===e.query.sort.charAt(0)){var d=e.query.sort.slice(1);c.$sort[d]=-1,o.push(c)}else c.$sort[e.query.sort]=1,o.push(c)}e.query.limit&&o.push({$limit:e.query.limit}),e.query.skip&&o.push({$skip:e.query.skip}),i.headers["x-query"]=JSON.stringify(o)}else i.params=t?t:e.query;s.get(n,i).then(function(t){e.gridOptionsDef.data=e.gridOptionsDef.responseData?t.data[e.gridOptionsDef.responseData]:t.data,e.gridOptionsDef.responseTotal&&(e.gridOptionsDef.totalItems=t.data[e.gridOptionsDef.responseTotal]),m(t.data.length),f(!1),e.$emit("onData",t.data),e.$emit("onData:"+e.gridOptionsDef.namespace,t.data)},function(e){console.log("Error: "+e.message)})}else{if(!l)return;e.gridOptionsDef.data=[],l.loadSubmissions({params:e.query}).then(function(t){e.gridOptionsDef.totalItems=t.serverCount,e.gridOptionsDef.data=t,m(t.length),f(!1),e.$emit("onData",t),e.$emit("onData:"+e.gridOptionsDef.namespace,t)})}},m=function(r){return n(function(){var n=e.gridOptions&&e.gridOptions.height?e.gridOptions.height:30*e.gridApi.grid.getVisibleRowCount()+100;angular.element(".grid",t).height(n)},10),r},g=function(t){d();var n={},r=1;e.gridOptionsDef.columnDefs=e.gridOptions&&e.gridOptions.columnDefs?angular.copy(e.gridOptions.columnDefs):[],e.buttons.forEach(function(t){var r=t["class"]||"btn btn-sm btn-default";n[t.label]=!0,e.gridOptionsDef.columnDefs.unshift({name:t.label,field:t.key,width:t.width,enableFiltering:!1,cellTemplate:'<a class="'+r+'" ng-click="grid.appScope.buttonClick(\''+t.event+'\', row)"><span class="'+t.icon+'" aria-hidden="true"></span>'+t.label+"</a>"})});var i=0,a=function(o,a,s){a=a||{},0!==i||a.hasOwnProperty("link")||(a.link=!0);var l="";if(a.hasOwnProperty("label"))l=a.label;else if(o)for(l=o.label||o.key;n.hasOwnProperty(l);)l=o.label+r++;n[l]=!0;var u=a.template||'<formio-grid-cell class="ui-grid-cell-contents" data="COL_FIELD" component="col.colDef.component"></formio-grid-cell>';if(a.link){var c=a.linkClass,d=a.linkEvent||e.gridOptionsDef.namespace+"View";u='<a class="'+c+'" style="cursor:pointer;" ng-click="grid.appScope.buttonClick(\''+d+"', row)\">"+u+"</a>"}var p=a.field;a.field||(p=o?e.gridOptionsDef.dataRoot+o.key:s);var f={component:o,name:l,field:p,cellTemplate:u,form:t,sort:a.sort,filterField:a.filterField,enableFiltering:!!a.enableFiltering};["width","sortable","visible","minWidth","maxWidth","resizable","cellClass","headerCellClass","headerCellTemplate"].forEach(function(e){a.hasOwnProperty(e)&&(f[e]=a[e])}),e.gridOptionsDef.columnDefs.push(f),i++};if(c&&Object.keys(c).length>0){var s=t?o.flattenComponents(t.components):{};angular.forEach(c,function(e,t){if(e.sort&&e.sort.direction){var n=s.hasOwnProperty(t)?"data."+t:t;p(e.sort,n)}a(s[t],e,t)})}else t&&o.eachComponent(t.components,function(e){e.input&&e.tableView&&e.key&&a(e)});e.gridOptionsDef.initialLoad&&h(),e.gridOptionsDef.initialLoad=!0},v=function(){return e.src?(l=new r(e.src),void l.loadForm().then(g)):void g()},b=function(t){"string"==typeof t?angular.forEach(e.gridOptionsDef.data,function(n){n._id.toString()===t&&e.gridApi.selection.selectRow(n)}):e.gridApi.selection.selectRow(t)},y=function(e){f(!0),h(e)},C=function(t,n){t&&(e.src=t),n&&(e.query=n),f(!0),v()};e.$on("selectGridRow:"+e.gridOptionsDef.namespace,function(e,t){b(t)}),e.$on("selectGridRow",function(e,t){b(t)}),e.$on("reloadGrid:"+e.gridOptionsDef.namespace,function(e,t,n){C(t,n)}),e.$on("reloadGrid",function(e,t,n){C(t,n)}),e.$on("refreshGrid:"+e.gridOptionsDef.namespace,function(e,t){y(t)}),e.$on("refreshGrid",function(e,t){y(t)}),v()}]}})},{}]},{},[1]),function r(e,t,n){function i(a,s){if(!t[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,r,e,t,n)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,n){"use strict";angular.module("ngFormioHelper",["formio","ngFormioGrid","ui.router"]).filter("capitalize",[function(){return _.capitalize}]).filter("truncate",[function(){return function(e,t){return _.isNumber(t)&&(t={length:t}),_.truncate(e,t)}}]).directive("fileread",[function(){return{scope:{fileread:"="},link:function(e,t){t.bind("change",function(t){var n=new FileReader;n.onloadend=function(t){e.$apply(function(){e.fileread=jQuery(t.target.result)})},n.readAsText(t.target.files[0])})}}}]).provider("FormioResource",["$stateProvider",function(e){var t={};return{register:function(n,r,i){i=i||{},t[n]=i.title||n;var o=i&&i.parent?i.parent:null,a=i&&i.parents?i.parents:[];a&&a.length||!o||(a=[o]);var s=n+"Id";i.base=i.base||"";var l=i.base+n,u=function(e){var t={};return t[s]=e._id,t},c=function(e){return e};i.alter=angular.extend({index:c,create:c,"abstract":c,view:c,edit:c,"delete":c},i.alter);var d=i&&i.templates?i.templates:{},p=i&&i.controllers?i.controllers:{},f=i.query?i.query:"";e.state(l+"Index",i.alter.index({url:"/"+n+f,params:i.params&&i.params.index,templateUrl:d.index?d.index:"formio-helper/resource/index.html",controller:["$scope","$state","$stateParams","$controller",function(e,t,i,o){e.baseName=l;var c={};a.length&&a.forEach(function(e){i.hasOwnProperty(e+"Id")&&(c["data."+e+"._id"]=i[e+"Id"])}),e.currentResource={name:n,queryId:s,formUrl:r,columns:[],gridQuery:c,gridOptions:{}},e.$on("rowView",function(e,n){t.go(l+".view",u(n))}),e.$on("submissionView",function(e,n){t.go(l+".view",u(n))}),e.$on("submissionEdit",function(e,n){t.go(l+".edit",u(n))}),e.$on("submissionDelete",function(e,n){t.go(l+".delete",u(n))}),p.index&&o(p.index,{$scope:e})}]})).state(l+"Create",i.alter.create({url:"/create/"+n+f,params:i.params&&i.params.create,templateUrl:d.create?d.create:"formio-helper/resource/create.html",controller:["$scope","$state","$controller",function(e,t,o){e.baseName=l,e.currentResource={name:n,queryId:s,formUrl:r},e.submission=i.defaultValue?i.defaultValue:{data:{}},e.pageTitle="New "+_.capitalize(n);var c=!1;if(p.create){var d=o(p.create,{$scope:e});c=d.handle||!1}a.length&&(e.hideComponents||(e.hideComponents=[]),e.hideComponents=e.hideComponents.concat(a),a.forEach(function(t){e[t].loadSubmissionPromise.then(function(n){e.submission.data[t]=n})})),c||e.$on("formSubmission",function(n,r){e.currentResource.resource=r,t.go(l+".view",u(r))})}]})).state(l,i.alter["abstract"]({"abstract":!0,url:"/"+n+"/:"+s,templateUrl:d["abstract"]?d["abstract"]:"formio-helper/resource/resource.html",controller:["$scope","$stateParams","Formio","$controller","$http",function(e,t,o,u,c){
var d=r,f=i.endpoint;f?f+="/"+t[s]:d+="/submission/"+t[s],e.baseName=l,e.currentResource=e[n]={name:n,queryId:s,formUrl:r,submissionUrl:d,formio:new o(d),resource:{},form:{},href:"/#/"+n+"/"+t[s]+"/",parent:1===a.length?e[a[0]]:{href:"/#/",name:"home"}},e.currentResource.loadFormPromise=e.currentResource.formio.loadForm().then(function(t){return e.currentResource.form=e[n].form=t,t}),e.currentResource.loadSubmissionPromise=i.endpoint?c.get(f,{headers:{"x-jwt-token":o.getToken()}}).then(function(t){return e.currentResource.resource=t.data,t.data}):e.currentResource.formio.loadSubmission().then(function(t){return e.currentResource.resource=e[n].submission=t,t}),p["abstract"]&&u(p["abstract"],{$scope:e})}]})).state(l+".view",i.alter.view({url:"/",params:i.params&&i.params.view,templateUrl:d.view?d.view:"formio-helper/resource/view.html",controller:["$scope","$controller",function(e,t){p.view&&t(p.view,{$scope:e})}]})).state(l+".edit",i.alter.edit({url:"/edit",params:i.params&&i.params.edit,templateUrl:d.edit?d.edit:"formio-helper/resource/edit.html",controller:["$scope","$state","$controller",function(e,t,n){var r=!1;if(a.length&&(e.hideComponents||(e.hideComponents=[]),e.hideComponents=e.hideComponents.concat(a)),p.edit){var i=n(p.edit,{$scope:e});r=i.handle||!1}r||e.$on("formSubmission",function(n,r){e.currentResource.resource=r,t.go(l+".view",u(r))})}]})).state(l+".delete",i.alter["delete"]({url:"/delete",params:i.params&&i.params["delete"],templateUrl:d["delete"]?d["delete"]:"formio-helper/resource/delete.html",controller:["$scope","$state","$controller",function(e,t,r){var i=!1;if(e.resourceName=n,p["delete"]){var o=r(p["delete"],{$scope:e});i=o.handle||!1}i||(e.$on("delete",function(){1===a.length&&"home"!==a[0]?t.go(a[0]+".view"):t.go("home",null,{reload:!0})}),e.$on("cancel",function(){t.go(l+"Index")}))}]}))},$get:function(){return t}}}]).directive("formioForms",function(){return{restrict:"E",replace:!0,scope:{src:"=",base:"=",tag:"=?"},templateUrl:"formio-helper/form/list.html",controller:["$scope","Formio",function(e,t){e.forms=[];var n={type:"form",limit:9999999},r=function(){e.src&&(e.tag&&(n.tags=e.tag),new t(e.src).loadForms({params:n}).then(function(t){e.forms=t}))};e.$watch("src",r)}]}}).provider("FormioForms",["$stateProvider",function(e){var t={};return{register:function(t,n,r){r=r||{};var i=r.templates?r.templates:{},o=r.controllers?r.controllers:{},a="string"==typeof r.field?[r.field]:r.field;a=_.map(a,function(e){return"string"==typeof e?{name:e,stateParam:e+"Id"}:e});var s=r.base?r.base:"";s||(s=t?t+".":""),e.state(s+"formIndex",{url:"/forms",params:r.params&&r.params.index,templateUrl:i.index?i.index:"formio-helper/form/index.html",controller:["$scope","Formio","$controller",function(e,t,i){e.formBase=s,e.formsSrc=n+"/form",e.formsTag=e.formsTag||r.tag,o.index&&i(o.index,{$scope:e})}]}).state(s+"form",{url:"/form/:formId","abstract":!0,templateUrl:i.form?i.form:"formio-helper/form/form.html",controller:["$scope","$stateParams","Formio","$controller",function(e,r,i,a){var l=n+"/form/"+r.formId;e.formBase=s,e.currentForm={name:t,url:l,form:{}},e.currentForm.formio=new i(l),e.currentForm.promise=e.currentForm.formio.loadForm().then(function(t){return e.currentForm.form=t,t}),o.form&&a(o.form,{$scope:e})}]}).state(s+"form.view",{url:"/",params:r.params&&r.params.view,templateUrl:i.view?i.view:"formio-helper/form/view.html",controller:["$scope","$state","FormioUtils","$controller",function(e,t,n,r){e.submission={data:{}};var i=!1;if(a&&a.length&&(e.hideComponents=_.map(a,function(e){return e.name}),e.currentForm.promise.then(function(){a.forEach(function(t){var n=t.name.split("."),r=n[n.length-1];e[r].loadSubmissionPromise.then(function(n){_.set(e.submission.data,t.name,n)})})})),o.view){var l=r(o.view,{$scope:e});i=l.handle||!1}i||e.$on("formSubmission",function(){t.go(s+"form.submissions")})}]}).state(s+"form.submissions",{url:"/submissions",params:r.params&&r.params.submissions,templateUrl:i.submissions?i.submissions:"formio-helper/submission/index.html",controller:["$scope","$state","$stateParams","FormioUtils","$controller",function(e,t,n,r,i){e.submissionQuery={},e.submissionColumns=[],a&&a.length&&a.forEach(function(t){e.submissionQuery["data."+t.name+"._id"]=n[t.stateParam]}),e.$on("rowView",function(e,n){t.go(s+"form.submission.view",{formId:n.form,submissionId:n._id})}),o.submissions&&i(o.submissions,{$scope:e}),e.currentForm.promise.then(function(t){localStorage.setItem(t.name,""),e.submissionColumns.length||0!==!Object.keys(e.submissionColumns).length||(r.eachComponent(t.components,function(t){t.key&&t.input&&t.tableView&&(a&&a.length&&!_.find(a,{name:t.key})||e.submissionColumns.push(t.key))}),e.$broadcast("reloadGrid"))})}]}).state(s+"form.submission",{"abstract":!0,url:"/submission/:submissionId",params:r.params&&r.params.submission,templateUrl:i.submission?i.submission:"formio-helper/submission/submission.html",controller:["$scope","$stateParams","Formio","$controller",function(e,t,n,r){e.currentSubmission={url:e.currentForm.url+"/submission/"+t.submissionId,submission:{data:{}}},e.currentSubmission.formio=new n(e.currentSubmission.url),e.currentSubmission.promise=e.currentSubmission.formio.loadSubmission().then(function(t){return e.currentSubmission.submission=t,t}),o.submission&&r(o.submission,{$scope:e})}]}).state(s+"form.submission.view",{url:"/",params:r.params&&r.params.submissionView,templateUrl:i.submissionView?i.submissionView:"formio-helper/submission/view.html",controller:["$scope","$controller",function(e,t){o.submissionView&&t(o.submissionView,{$scope:e})}]}).state(s+"form.submission.edit",{url:"/edit",params:r.params&&r.params.submissionEdit,templateUrl:i.submissionEdit?i.submissionEdit:"formio-helper/submission/edit.html",controller:["$scope","$state","$controller",function(e,t,n){var r=!1;if(o.submissionEdit){var i=n(o.submissionEdit,{$scope:e});r=i.handle||!1}r||e.$on("formSubmission",function(n,r){e.currentSubmission.submission=r,t.go(s+"form.submission.view")})}]}).state(s+"form.submission.delete",{url:"/delete",params:r.params&&r.params.submissionDelete,templateUrl:i.submissionDelete?i.submissionDelete:"formio-helper/submission/delete.html",controller:["$scope","$state","$controller",function(e,t,n){var r=!1;if(o.submissionDelete){var i=n(o.submissionDelete,{$scope:e});r=i.handle||!1}r||(e.$on("delete",function(){t.go(s+"form.submissions")}),e.$on("cancel",function(){t.go(s+"form.submission.view")}))}]})},$get:function(){return t}}}]).directive("offlineButton",function(){return{restrict:"E",replace:!0,scope:!1,templateUrl:"formio-helper/offline/button.html"}}).directive("offlinePopup",function(){return{restrict:"A",scope:!1,link:function(e,t){"undefined"!=typeof jQuery&&jQuery(t).popover()}}}).provider("FormioOffline",["$stateProvider",function(e){return{register:function(t){t=t||{},e.state("offline",{url:t.errorUrl||"/offline/error",templateUrl:"formio-helper/offline/index.html",params:{currentSubmission:{}},controller:["$scope","$stateParams","$rootScope","$state",function(e,n,r,i){"undefined"!=typeof FormioOfflineProject&&(e.currentSubmission=n.currentSubmission,e.submitSubmission=function(){r.offline.dequeueSubmissions(),i.go(t.homeState||"home")},e.cancelSubmission=function(){r.offline.skipNextQueuedSubmission(),r.offline.dequeueSubmissions()})}]})},$get:["Formio","FormioAlerts","$rootScope","AppConfig","$window",function(e,t,n,r,i){return{init:function(){if("undefined"==typeof FormioOfflineProject)return void(n.hasOfflineMode=!1);n.hasOfflineMode=!0,n.appVersion=r.appVersion,n.offline=new FormioOfflineProject(r.appUrl,"project.json"),e.registerPlugin(n.offline,"offline"),n.offline.onError=function(e){t.addAlert({type:"danger",message:"Failed to save offline cache. This could result in missing data."})},e.events.on("offline.formError",function(e,n){t.addAlert({message:e,type:"danger"}),$state.go("offline",{currentSubmission:n})});var o=i.applicationCache,a=_.debounce(function(){o.update()},6e4);o&&(o.addEventListener("updateready",function(){o.status==o.UPDATEREADY&&confirm("A new version of the application is available. Would you like to load it?")&&(o.swapCache(),i.location.reload())},!1),n.$on("$stateChangeStart",function(){o.status!==o.UNCACHED&&o.status!==o.OBSOLETE&&a()}))}}}]}}]).provider("FormioAuth",["$stateProvider","FormioProvider",function(e,t){var n=!1,r="auth.login",i=!1,o="home",a=[],s=!1,l={},u={};return{setForceAuth:function(e){a="boolean"==typeof e?e?["auth"]:[]:e},setStates:function(e,t){r=e,o=t},setAnonRole:function(e){i=e},setAppUrl:function(e){t.setAppUrl(e)},register:function(t,n,r,i,a){var l=i&&!a;s||(s=!0,e.state("auth",{"abstract":!0,url:"/auth",templateUrl:l?"formio-helper/auth/auth.html":"views/user/auth.html"})),r||(r=t);var u=t.toLowerCase()+".html";e.state("auth."+t,{url:"/"+r,parent:"auth",templateUrl:l?"formio-helper/auth/"+u:"views/user/"+u,controller:["$scope","$state","$rootScope",function(e,t,r){e.currentForm=i,e.$on("formSubmission",function(e,i){i&&(r.setUser(i,n),t.go(o))})}]})},$get:["Formio","FormioAlerts","$rootScope","$state","$stateParams","$http","$q",function(e,t,o,s,c,d,p){return{init:function(){n=!0,o.accessPromise=e.makeStaticRequest(e.getAppUrl()+"/access").then(function(e){return angular.forEach(e.forms,function(e){l[e.name]={},e.submissionAccess.forEach(function(t){l[e.name][t.type]=t.roles})}),u=e.roles,e},function(e){return u={},null}),o.user=null,o.isReady=!1,o.userPromise=e.currentUser().then(function(e){return o.setUser(e,localStorage.getItem("formioRole")),e}),o.hasRole=function(e){return e=e.toLowerCase(),o.user?u[e]?-1!==o.user.roles.indexOf(u[e]._id):!1:"anonymous"===e},o.ifRole=function(e){return o.whenReady.then(function(){return o.isAdmin||o.hasRole(e)})},o.assignRoles=function(){if(!u)return o.isAdmin=!1,!1;for(var e in u)if(u[e].admin&&(o["is"+u[e].title.replace(/\s/g,"")]=o.isAdmin=o.hasRole(e),o.isAdmin))break;for(var e in u)u[e].admin||(o["is"+u[e].title.replace(/\s/g,"")]=o.hasRole(e))},o.whenReady=o.accessPromise.then(o.userPromise).then(function(){return o.isReady=!0,o.assignRoles(),!0}),o.isRole=function(e){return o.role===e.toLowerCase()},o.setUser=function(t,n){t?(o.user=t,localStorage.setItem("formioAppUser",angular.toJson(t))):(o.user=null,localStorage.removeItem("formioAppUser"),e.clearCache(),e.setUser(null)),n?(o.role=n.toLowerCase(),localStorage.setItem("formioAppRole",n)):(o.role=null,localStorage.removeItem("formioAppRole")),o.authenticated=!!e.getToken(),o.assignRoles(),o.$emit("user",{user:o.user,role:o.role})},o.hasAccess=function(e,t){if(!n)return!0;if(Array.isArray(t)||(t=[t]),!l[e])return!1;var r=!1;return t.forEach(function(t){o.user?o.user.roles.forEach(function(n){-1!==l[e][t].indexOf(n)&&(r=!0)}):-1!==l[e][t].indexOf(i)&&(r=!0)}),r},o.ifAccess=function(e,t){return o.whenReady.then(function(){return o.hasAccess(e,t)})};var d=function(){o.setUser(null,null),localStorage.removeItem("formioToken"),s.go(r,c,{reload:!0,inherit:!1,notify:!0}),t.addAlert({type:"danger",message:"Your session has expired. Please log in again."})};o.$on("formio.sessionExpired",d),e.events.on("formio.badToken",d),e.events.on("formio.sessionExpired",d),o.logout=function(){o.setUser(null,null),localStorage.removeItem("formioToken"),e.logout().then(function(){s.go(r,c,{reload:!0,inherit:!1,notify:!0})})["catch"](d)},o.$on("$stateChangeStart",function(t,n){if(o.authenticated=!!e.getToken(),!o.authenticated&&a.length){var i=!1;for(var l in a)if(0===n.name.indexOf(a[l])){i=!0;break}if(i)return;t.preventDefault(),s.go(r,{},{reload:!0})}}),o.$on("$stateChangeSuccess",function(){o.alerts=t.getAlerts()})}}}]}}]).factory("FormioAlerts",["$rootScope",function(e){var t=[];return{addAlert:function(n){e.alerts.push(n),n.element?angular.element("#form-group-"+n.element).addClass("has-error"):t.push(n)},getAlerts:function(){var e=angular.copy(t);return t.length=0,t=[],e},onError:function n(e){if(e.message)this.addAlert({type:"danger",message:e.message,element:e.path});else{var t=e.hasOwnProperty("errors")?e.errors:e.data.errors;angular.forEach(t,n.bind(this))}}}}]).run(["$templateCache","$rootScope","$state",function(e,t,n){t.isActive=function(e){return-1!==n.current.name.indexOf(e)},e.put("formio-helper/auth/auth.html",'<div class="col-md-8 col-md-offset-2">\n    <div class="panel panel-default">\n        <div class="panel-heading" style="padding-bottom: 0; border-bottom: none;">\n            <ul class="nav nav-tabs" style="border-bottom: none;">\n                <li role="presentation" ng-class="{active:isActive(\'auth.login\')}"><a ui-sref="auth.login()">Login</a></li>\n                <li role="presentation" ng-class="{active:isActive(\'auth.register\')}"><a ui-sref="auth.register()">Register</a></li>\n            </ul>\n        </div>\n        <div class="panel-body">\n            <div class="row">\n                <div class="col-lg-12">\n                    <div ui-view></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),e.put("formio-helper/auth/login.html",'<formio src="currentForm" formio-options="{skipQueue: true}"></formio>'),e.put("formio-helper/auth/register.html",'<formio src="currentForm" formio-options="{skipQueue: true}"></formio>\n'),e.put("formio-helper/resource/resource.html",'<h2>{{ currentResource.name | capitalize }}</h2>\n<ul class="nav nav-tabs" ng-if="isReady">\n  <li role="presentation" ng-class="{active:isActive(currentResource.name + \'.view\')}" ng-if="hasAccess(currentResource.name, [\'read_all\', \'read_own\'])"><a ui-sref="{{ baseName }}.view()">View</a></li>\n  <li role="presentation" ng-class="{active:isActive(currentResource.name + \'.edit\')}" ng-if="hasAccess(currentResource.name, [\'update_all\', \'update_own\'])"><a ui-sref="{{ baseName }}.edit()">Edit</a></li>\n  <li role="presentation" ng-class="{active:isActive(currentResource.name + \'.delete\')}" ng-if="hasAccess(currentResource.name, [\'delete_all\', \'delete_own\'])"><a ui-sref="{{ baseName }}.delete()">Delete</a></li>\n</ul>\n<div ui-view></div>\n'),e.put("formio-helper/resource/create.html",'<h3 ng-if="pageTitle">{{ pageTitle }}</h3>\n<hr ng-if="pageTitle"></hr>\n<formio src="currentResource.formUrl" submission="submission" hide-components="hideComponents"></formio>\n'),e.put("formio-helper/resource/delete.html",'<formio-delete src="currentResource.submissionUrl" resource-name="resourceName"></formio-delete>\n'),e.put("formio-helper/resource/edit.html",'<formio src="currentResource.submissionUrl" hide-components="hideComponents"></formio>\n'),e.put("formio-helper/resource/index.html",'<formio-grid src="currentResource.formUrl" columns="currentResource.columns" query="currentResource.gridQuery" grid-options="currentResource.gridOptions"></formio-grid><br/>\n<a ui-sref="{{ baseName }}Create()" class="btn btn-primary" ng-if="isReady && hasAccess(currentResource.name, [\'create_own\', \'create_all\'])"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> New {{ currentResource.name | capitalize }}</a>\n'),e.put("formio-helper/resource/view.html",'<formio src="currentResource.submissionUrl" read-only="true"></formio>\n'),e.put("formio-helper/form/list.html",'<ul class="list-group">\n    <li class="list-group-item" ng-repeat="form in forms | orderBy: \'title\'"><a ui-sref="{{ base }}form.view({formId: form._id})">{{ form.title }}</a></li>\n</ul>\n'),e.put("formio-helper/form/index.html",'<formio-forms src="formsSrc" tag="formsTag" base="formBase"></formio-forms>\n'),e.put("formio-helper/form/form.html",'<ul class="nav nav-tabs">\n    <li role="presentation" ng-class="{active:isActive(formBase + \'form.view\')}"><a ui-sref="{{ formBase }}form.view()">Form</a></li>\n    <li role="presentation" ng-class="{active:isActive(formBase + \'form.submissions\')}"><a ui-sref="{{ formBase }}form.submissions()">Submissions</a></li>\n</ul>\n<div ui-view style="margin-top:20px;"></div>\n'),e.put("formio-helper/form/view.html",'<formio form="currentForm.form" form-action="currentForm.url + \'/submission\'" submission="submission" hide-components="hideComponents"></formio>\n'),e.put("formio-helper/submission/index.html",'<formio-grid src="currentForm.url" query="submissionQuery" columns="submissionColumns"></formio-grid>\n\n'),e.put("formio-helper/submission/submission.html",'<ul class="nav nav-pills">\n  <li role="presentation" ng-class="{active:isActive(formBase + \'form.submission.view\')}"><a ui-sref="{{ formBase }}form.submission.view()">View</a></li>\n  <li role="presentation" ng-class="{active:isActive(formBase + \'form.submission.edit\')}"><a ui-sref="{{ formBase }}form.submission.edit()">Edit</a></li>\n  <li role="presentation" ng-class="{active:isActive(formBase + \'form.submission.delete\')}"><a ui-sref="{{ formBase }}form.submission.delete()">Delete</a></li>\n</ul>\n<div ui-view style="margin-top:20px;"></div>\n'),e.put("formio-helper/submission/view.html",'<formio form="currentForm.form" submission="currentSubmission.submission" read-only="true"></formio>\n'),e.put("formio-helper/submission/edit.html",'<formio form="currentForm.form" submission="currentSubmission.submission" form-action="currentSubmission.url"></formio>\n'),e.put("formio-helper/submission/delete.html",'<formio-delete src="currentSubmission.url"></formio-delete>\n'),e.put("formio-helper/offline/index.html",'<div>\n    <h2>The following submission had an error. Please correct it and resubmit.</h2>\n    <formio src="currentSubmission.url" submission="currentSubmission.data" hide-components="[\'submit\']"></formio>\n    <a class="btn btn-lg btn-info" ng-click="submitSubmission()">Retry</a>\n    <a class="btn btn-lg btn-warning" ng-click="cancelSubmission()">Cancel Submission</a>\n</div>'),e.put("formio-helper/offline/button.html",'<div class="offline-button">\n    <div ng-if="hasOfflineMode">\n        <span class="navbar-text" ng-click="offline.forceOffline(!offline.isForcedOffline())" style="cursor:pointer;">\n            <i class="glyphicon glyphicon-signal text-success" ng-class="{ \'text-danger\': (offline.isForcedOffline() || !offline.enabled), \'text-warning\' : offline.offline }"></i>\n        </span>\n        <span ng-if="offline.submissionQueueLength()" ng-click="offline.dequeueSubmissions()" class="navbar-text" style="cursor:pointer;">\n            <span class="badge">{{ offline.submissionQueueLength() }} Queued</span> <i class="glyphicon glyphicon-refresh" ng-class="{ \'glyphicon-spin\': offline.dequeuing }"></i>\n        </span>\n    </div>\n    <div ng-if="!hasOfflineMode">\n        <span class="navbar-text">\n            <a tabindex="0" offline-popup role="button" data-toggle="popover" data-placement="bottom" data-trigger="focus" title="Offline Mode Disabled" data-content="You must upgrade your project to Team Pro to enable offline mode support. Please contact support@form.io for more information."><i class="glyphicon glyphicon-signal text-danger"></i></a>\n        </span>\n    </div>\n</div>')}])},{}]},{},[1]);